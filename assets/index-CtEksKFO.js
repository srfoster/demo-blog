const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/apex-CI7oPk0G.js","assets/sql-CJATM1Qp.js","assets/arduino-BdFUaR0W.js","assets/cpp-PR_WB-PF.js","assets/c-kgVuzdLE.js","assets/aspnet-CrOVQF4R.js","assets/csharp-Cd5Udg29.js","assets/bash-CdnQ2vFh.js","assets/bash-CefCgV5_.js","assets/basic-qXcg5o1g.js","assets/basic-DBS9NaGG.js","assets/bison-66xE4dAi.js","assets/c-Cth3iDFc.js","assets/chaiscript-D2OWFCp_.js","assets/clike-Cuedwn1N.js","assets/clike-B5tY_8Hg.js","assets/cpp-BCjjq4nr.js","assets/crystal-DvF8GubG.js","assets/ruby-DYsn9XfW.js","assets/csharp-DoxdYmvF.js","assets/cshtml-CqINOCTr.js","assets/css-SSXhJCSP.js","assets/css-CF9HHZb0.js","assets/django-BeD48nOq.js","assets/markup-templating-BxAVv-bL.js","assets/ejs-CXFtL1aw.js","assets/erb-DYNmI-Lh.js","assets/etlua-51RvRyyW.js","assets/lua-DER4jxlW.js","assets/ftl-BzrHRLHi.js","assets/glsl-BtSXr9ge.js","assets/haml-CxBQr8Aa.js","assets/handlebars-COxX9khz.js","assets/haskell-BH_FuWRz.js","assets/haskell-Ds42Eazu.js","assets/hlsl-Dm8DNtfE.js","assets/idris-C_loEgcc.js","assets/java-B-ga2dXN.js","assets/java-BxMbkJZ_.js","assets/javadoc-Bxcabbs6.js","assets/javadoclike-myFApC35.js","assets/javadoclike-D889GNyK.js","assets/javascript-DFeEVRMX.js","assets/javascript-D8vYUPHd.js","assets/jsdoc-CErfq6gH.js","assets/typescript-CVO-8GEc.js","assets/json-BsZXHG-5.js","assets/json-BESjz4hO.js","assets/json5-BfPU-Jc-.js","assets/jsonp-DslxPkgX.js","assets/jsx-sYNdSVkc.js","assets/jsx-CWP8P1mH.js","assets/latte-BwOtT6y4.js","assets/php-DWsP2mkx.js","assets/lilypond-CTGB-Wxm.js","assets/scheme-Cscf027c.js","assets/liquid-BWvwQojZ.js","assets/lua-CXzceKXm.js","assets/markup-templating-wZBqyh73.js","assets/markup-C45bFSPM.js","assets/markup-BONeskWm.js","assets/objectivec-DGEyafaZ.js","assets/opencl-DJn4sCok.js","assets/php-extras-BI3j3uq0.js","assets/php-BctXq3gY.js","assets/phpdoc-CV5Oazv8.js","assets/plsql-BtfPgNND.js","assets/purescript-BBY--fZN.js","assets/racket-BoP-yuKa.js","assets/ruby-CGbKMVBu.js","assets/scala-BYNwowcL.js","assets/scheme-BJqvpVCI.js","assets/shell-session-DAfXTxTs.js","assets/smarty-D_zFMl30.js","assets/soy-BcJefRRp.js","assets/sparql-D8ba9vfJ.js","assets/turtle-Ro1R6Je7.js","assets/sql-BXXKKY8q.js","assets/t4-cs-DzgPQVzR.js","assets/t4-templating-B5EzSFYT.js","assets/t4-templating-Cgvq_ggC.js","assets/t4-vb-Bav4xOSt.js","assets/vbnet-BhrUc4aD.js","assets/tap-CXiINnyE.js","assets/yaml-pHjxJgpq.js","assets/tsx-CVGIZcPO.js","assets/tt2-BgR1fUOL.js","assets/turtle-BvrQMDNI.js","assets/twig-CA9hIHGi.js","assets/typescript-4IfgU1f1.js","assets/vbnet-CkALXSmc.js","assets/yaml-CqHvJDSo.js","assets/core-Ds73-Vrz.js"])))=>i.map(i=>d[i]);
function NS(n,u){for(var o=0;o<u.length;o++){const a=u[o];if(typeof a!="string"&&!Array.isArray(a)){for(const h in a)if(h!=="default"&&!(h in n)){const m=Object.getOwnPropertyDescriptor(a,h);m&&Object.defineProperty(n,h,m.get?m:{enumerable:!0,get:()=>a[h]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))a(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const T of m.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&a(T)}).observe(document,{childList:!0,subtree:!0});function o(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function a(h){if(h.ep)return;h.ep=!0;const m=o(h);fetch(h.href,m)}})();var RE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $$={exports:{}},Vp={},_$={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function MS(){if(LE)return rt;LE=1;var n=Symbol.for("react.element"),u=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),w=Symbol.iterator;function k(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,O={};function K(R,Q,Re){this.props=R,this.context=Q,this.refs=O,this.updater=Re||H}K.prototype.isReactComponent={},K.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},K.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ee(){}ee.prototype=K.prototype;function oe(R,Q,Re){this.props=R,this.context=Q,this.refs=O,this.updater=Re||H}var ne=oe.prototype=new ee;ne.constructor=oe,x(ne,K.prototype),ne.isPureReactComponent=!0;var ae=Array.isArray,ge=Object.prototype.hasOwnProperty,ue={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function pe(R,Q,Re){var Se,Ue={},Oe=null,Ie=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Ie=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)ge.call(Q,Se)&&!re.hasOwnProperty(Se)&&(Ue[Se]=Q[Se]);var qe=arguments.length-2;if(qe===1)Ue.children=Re;else if(1<qe){for(var Qe=Array(qe),$t=0;$t<qe;$t++)Qe[$t]=arguments[$t+2];Ue.children=Qe}if(R&&R.defaultProps)for(Se in qe=R.defaultProps,qe)Ue[Se]===void 0&&(Ue[Se]=qe[Se]);return{$$typeof:n,type:R,key:Oe,ref:Ie,props:Ue,_owner:ue.current}}function Fe(R,Q){return{$$typeof:n,type:R.type,key:Q,ref:R.ref,props:R.props,_owner:R._owner}}function L(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ve(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Re){return Q[Re]})}var ke=/\/+/g;function Ne(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?ve(""+R.key):Q.toString(36)}function Le(R,Q,Re,Se,Ue){var Oe=typeof R;(Oe==="undefined"||Oe==="boolean")&&(R=null);var Ie=!1;if(R===null)Ie=!0;else switch(Oe){case"string":case"number":Ie=!0;break;case"object":switch(R.$$typeof){case n:case u:Ie=!0}}if(Ie)return Ie=R,Ue=Ue(Ie),R=Se===""?"."+Ne(Ie,0):Se,ae(Ue)?(Re="",R!=null&&(Re=R.replace(ke,"$&/")+"/"),Le(Ue,Q,Re,"",function($t){return $t})):Ue!=null&&(L(Ue)&&(Ue=Fe(Ue,Re+(!Ue.key||Ie&&Ie.key===Ue.key?"":(""+Ue.key).replace(ke,"$&/")+"/")+R)),Q.push(Ue)),1;if(Ie=0,Se=Se===""?".":Se+":",ae(R))for(var qe=0;qe<R.length;qe++){Oe=R[qe];var Qe=Se+Ne(Oe,qe);Ie+=Le(Oe,Q,Re,Qe,Ue)}else if(Qe=k(R),typeof Qe=="function")for(R=Qe.call(R),qe=0;!(Oe=R.next()).done;)Oe=Oe.value,Qe=Se+Ne(Oe,qe++),Ie+=Le(Oe,Q,Re,Qe,Ue);else if(Oe==="object")throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Ve(R,Q,Re){if(R==null)return R;var Se=[],Ue=0;return Le(R,Se,"","",function(Oe){return Q.call(Re,Oe,Ue++)}),Se}function j(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(Re){(R._status===0||R._status===-1)&&(R._status=1,R._result=Re)},function(Re){(R._status===0||R._status===-1)&&(R._status=2,R._result=Re)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var B={current:null},I={transition:null},J={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:I,ReactCurrentOwner:ue};function Y(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:Ve,forEach:function(R,Q,Re){Ve(R,function(){Q.apply(this,arguments)},Re)},count:function(R){var Q=0;return Ve(R,function(){Q++}),Q},toArray:function(R){return Ve(R,function(Q){return Q})||[]},only:function(R){if(!L(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},rt.Component=K,rt.Fragment=o,rt.Profiler=h,rt.PureComponent=oe,rt.StrictMode=a,rt.Suspense=v,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,rt.act=Y,rt.cloneElement=function(R,Q,Re){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Se=x({},R.props),Ue=R.key,Oe=R.ref,Ie=R._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,Ie=ue.current),Q.key!==void 0&&(Ue=""+Q.key),R.type&&R.type.defaultProps)var qe=R.type.defaultProps;for(Qe in Q)ge.call(Q,Qe)&&!re.hasOwnProperty(Qe)&&(Se[Qe]=Q[Qe]===void 0&&qe!==void 0?qe[Qe]:Q[Qe])}var Qe=arguments.length-2;if(Qe===1)Se.children=Re;else if(1<Qe){qe=Array(Qe);for(var $t=0;$t<Qe;$t++)qe[$t]=arguments[$t+2];Se.children=qe}return{$$typeof:n,type:R.type,key:Ue,ref:Oe,props:Se,_owner:Ie}},rt.createContext=function(R){return R={$$typeof:T,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:m,_context:R},R.Consumer=R},rt.createElement=pe,rt.createFactory=function(R){var Q=pe.bind(null,R);return Q.type=R,Q},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:E,render:R}},rt.isValidElement=L,rt.lazy=function(R){return{$$typeof:N,_payload:{_status:-1,_result:R},_init:j}},rt.memo=function(R,Q){return{$$typeof:C,type:R,compare:Q===void 0?null:Q}},rt.startTransition=function(R){var Q=I.transition;I.transition={};try{R()}finally{I.transition=Q}},rt.unstable_act=Y,rt.useCallback=function(R,Q){return B.current.useCallback(R,Q)},rt.useContext=function(R){return B.current.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R){return B.current.useDeferredValue(R)},rt.useEffect=function(R,Q){return B.current.useEffect(R,Q)},rt.useId=function(){return B.current.useId()},rt.useImperativeHandle=function(R,Q,Re){return B.current.useImperativeHandle(R,Q,Re)},rt.useInsertionEffect=function(R,Q){return B.current.useInsertionEffect(R,Q)},rt.useLayoutEffect=function(R,Q){return B.current.useLayoutEffect(R,Q)},rt.useMemo=function(R,Q){return B.current.useMemo(R,Q)},rt.useReducer=function(R,Q,Re){return B.current.useReducer(R,Q,Re)},rt.useRef=function(R){return B.current.useRef(R)},rt.useState=function(R){return B.current.useState(R)},rt.useSyncExternalStore=function(R,Q,Re){return B.current.useSyncExternalStore(R,Q,Re)},rt.useTransition=function(){return B.current.useTransition()},rt.version="18.3.1",rt}var AE;function m_(){return AE||(AE=1,_$.exports=MS()),_$.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function xS(){if(DE)return Vp;DE=1;var n=m_(),u=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,h=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function T(E,v,C){var N,w={},k=null,H=null;C!==void 0&&(k=""+C),v.key!==void 0&&(k=""+v.key),v.ref!==void 0&&(H=v.ref);for(N in v)a.call(v,N)&&!m.hasOwnProperty(N)&&(w[N]=v[N]);if(E&&E.defaultProps)for(N in v=E.defaultProps,v)w[N]===void 0&&(w[N]=v[N]);return{$$typeof:u,type:E,key:k,ref:H,props:w,_owner:h.current}}return Vp.Fragment=o,Vp.jsx=T,Vp.jsxs=T,Vp}var NE;function PS(){return NE||(NE=1,$$.exports=xS()),$$.exports}var U=PS(),_e=m_();const je=g_(_e),ME=NS({__proto__:null,default:je},[_e]);var mg={},T$={exports:{}},zr={},E$={exports:{}},b$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function BS(){return xE||(xE=1,function(n){function u(I,J){var Y=I.length;I.push(J);e:for(;0<Y;){var R=Y-1>>>1,Q=I[R];if(0<h(Q,J))I[R]=J,I[Y]=Q,Y=R;else break e}}function o(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var J=I[0],Y=I.pop();if(Y!==J){I[0]=Y;e:for(var R=0,Q=I.length,Re=Q>>>1;R<Re;){var Se=2*(R+1)-1,Ue=I[Se],Oe=Se+1,Ie=I[Oe];if(0>h(Ue,Y))Oe<Q&&0>h(Ie,Ue)?(I[R]=Ie,I[Oe]=Y,R=Oe):(I[R]=Ue,I[Se]=Y,R=Se);else if(Oe<Q&&0>h(Ie,Y))I[R]=Ie,I[Oe]=Y,R=Oe;else break e}}return J}function h(I,J){var Y=I.sortIndex-J.sortIndex;return Y!==0?Y:I.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var T=Date,E=T.now();n.unstable_now=function(){return T.now()-E}}var v=[],C=[],N=1,w=null,k=3,H=!1,x=!1,O=!1,K=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(I){for(var J=o(C);J!==null;){if(J.callback===null)a(C);else if(J.startTime<=I)a(C),J.sortIndex=J.expirationTime,u(v,J);else break;J=o(C)}}function ae(I){if(O=!1,ne(I),!x)if(o(v)!==null)x=!0,j(ge);else{var J=o(C);J!==null&&B(ae,J.startTime-I)}}function ge(I,J){x=!1,O&&(O=!1,ee(pe),pe=-1),H=!0;var Y=k;try{for(ne(J),w=o(v);w!==null&&(!(w.expirationTime>J)||I&&!ve());){var R=w.callback;if(typeof R=="function"){w.callback=null,k=w.priorityLevel;var Q=R(w.expirationTime<=J);J=n.unstable_now(),typeof Q=="function"?w.callback=Q:w===o(v)&&a(v),ne(J)}else a(v);w=o(v)}if(w!==null)var Re=!0;else{var Se=o(C);Se!==null&&B(ae,Se.startTime-J),Re=!1}return Re}finally{w=null,k=Y,H=!1}}var ue=!1,re=null,pe=-1,Fe=5,L=-1;function ve(){return!(n.unstable_now()-L<Fe)}function ke(){if(re!==null){var I=n.unstable_now();L=I;var J=!0;try{J=re(!0,I)}finally{J?Ne():(ue=!1,re=null)}}else ue=!1}var Ne;if(typeof oe=="function")Ne=function(){oe(ke)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ve=Le.port2;Le.port1.onmessage=ke,Ne=function(){Ve.postMessage(null)}}else Ne=function(){K(ke,0)};function j(I){re=I,ue||(ue=!0,Ne())}function B(I,J){pe=K(function(){I(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(I){I.callback=null},n.unstable_continueExecution=function(){x||H||(x=!0,j(ge))},n.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<I?Math.floor(1e3/I):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return o(v)},n.unstable_next=function(I){switch(k){case 1:case 2:case 3:var J=3;break;default:J=k}var Y=k;k=J;try{return I()}finally{k=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(I,J){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var Y=k;k=I;try{return J()}finally{k=Y}},n.unstable_scheduleCallback=function(I,J,Y){var R=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,I){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,I={id:N++,callback:J,priorityLevel:I,startTime:Y,expirationTime:Q,sortIndex:-1},Y>R?(I.sortIndex=Y,u(C,I),o(v)===null&&I===o(C)&&(O?(ee(pe),pe=-1):O=!0,B(ae,Y-R))):(I.sortIndex=Q,u(v,I),x||H||(x=!0,j(ge))),I},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(I){var J=k;return function(){var Y=k;k=J;try{return I.apply(this,arguments)}finally{k=Y}}}}(b$)),b$}var PE;function FS(){return PE||(PE=1,E$.exports=BS()),E$.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BE;function US(){if(BE)return zr;BE=1;var n=m_(),u=FS();function o(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,h={};function m(i,s){T(i,s),T(i+"Capture",s)}function T(i,s){for(h[i]=s,i=0;i<s.length;i++)a.add(s[i])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N={},w={};function k(i){return v.call(w,i)?!0:v.call(N,i)?!1:C.test(i)?w[i]=!0:(N[i]=!0,!1)}function H(i,s,c,p){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,s,c,p){if(s===null||typeof s>"u"||H(i,s,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(i,s,c,p,f,$,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=f,this.mustUseProperty=c,this.propertyName=i,this.type=s,this.sanitizeURL=$,this.removeEmptyString=b}var K={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){K[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];K[s]=new O(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){K[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){K[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){K[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){K[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){K[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){K[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){K[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function oe(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ee,oe);K[s]=new O(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ee,oe);K[s]=new O(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ee,oe);K[s]=new O(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){K[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),K.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){K[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function ne(i,s,c,p){var f=K.hasOwnProperty(s)?K[s]:null;(f!==null?f.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,c,f,p)&&(c=null),p||f===null?k(s)&&(c===null?i.removeAttribute(s):i.setAttribute(s,""+c)):f.mustUseProperty?i[f.propertyName]=c===null?f.type===3?!1:"":c:(s=f.attributeName,p=f.attributeNamespace,c===null?i.removeAttribute(s):(f=f.type,c=f===3||f===4&&c===!0?"":""+c,p?i.setAttributeNS(p,s,c):i.setAttribute(s,c))))}var ae=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),ue=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Fe=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),I=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=I&&i[I]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,R;function Q(i){if(R===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+i}var Re=!1;function Se(i,s){if(!i||Re)return"";Re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ie){var p=ie}Reflect.construct(i,[],s)}else{try{s.call()}catch(ie){p=ie}i.call(s.prototype)}else{try{throw Error()}catch(ie){p=ie}i()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var f=ie.stack.split(`
`),$=p.stack.split(`
`),b=f.length-1,M=$.length-1;1<=b&&0<=M&&f[b]!==$[M];)M--;for(;1<=b&&0<=M;b--,M--)if(f[b]!==$[M]){if(b!==1||M!==1)do if(b--,M--,0>M||f[b]!==$[M]){var V=`
`+f[b].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=b&&0<=M);break}}}finally{Re=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Q(i):""}function Ue(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case re:return"Fragment";case ue:return"Portal";case Fe:return"Profiler";case pe:return"StrictMode";case Ne:return"Suspense";case Le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ve:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case ke:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ve:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case j:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function Ie(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $t(i){var s=Qe(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var f=c.get,$=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){p=""+b,$.call(this,b)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ct(i){i._valueTracker||(i._valueTracker=$t(i))}function yt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return i&&(p=Qe(i)?i.checked?"true":"false":i.value),i=p,i!==c?(s.setValue(i),!0):!1}function rr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Zi(i,s){var c=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function wn(i,s){var c=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;c=qe(s.value!=null?s.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qt(i,s){s=s.checked,s!=null&&ne(i,"checked",s,!1)}function Xr(i,s){Qt(i,s);var c=qe(s.value),p=s.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?eo(i,s.type,c):s.hasOwnProperty("defaultValue")&&eo(i,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pr(i,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,c||s===i.value||(i.value=s),i.defaultValue=s}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function eo(i,s,c){(s!=="number"||rr(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ge=Array.isArray;function st(i,s,c,p){if(i=i.options,s){s={};for(var f=0;f<c.length;f++)s["$"+c[f]]=!0;for(c=0;c<i.length;c++)f=s.hasOwnProperty("$"+i[c].value),i[c].selected!==f&&(i[c].selected=f),f&&p&&(i[c].defaultSelected=!0)}else{for(c=""+qe(c),s=null,f=0;f<i.length;f++){if(i[f].value===c){i[f].selected=!0,p&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function it(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(o(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Kr(i,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(o(92));if(Ge(c)){if(1<c.length)throw Error(o(93));c=c[0]}s=c}s==null&&(s=""),c=s}i._wrapperState={initialValue:qe(c)}}function kn(i,s){var c=qe(s.value),p=qe(s.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),s.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function $n(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Rr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Rr(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Pn,ko=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,p,f){MSApp.execUnsafeLocalFunction(function(){return i(s,c,p,f)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function le(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(i){_.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Be[s]=Be[i]})});function S(i,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||Be.hasOwnProperty(i)&&Be[i]?(""+s).trim():s+"px"}function W(i,s){i=i.style;for(var c in s)if(s.hasOwnProperty(c)){var p=c.indexOf("--")===0,f=S(c,s[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,f):i[c]=f}}var z=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(i,s){if(s){if(z[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(o(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(o(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(o(61))}if(s.style!=null&&typeof s.style!="object")throw Error(o(62))}}function _t(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bn=null;function Yr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var to=null,Lr=null,Jr=null;function gs(i){if(i=Tr(i)){if(typeof to!="function")throw Error(o(280));var s=i.stateNode;s&&(s=Wu(s),to(i.stateNode,i.type,s))}}function Oo(i){Lr?Jr?Jr.push(i):Jr=[i]:Lr=i}function ms(){if(Lr){var i=Lr,s=Jr;if(Jr=Lr=null,gs(i),s)for(i=0;i<s.length;i++)gs(s[i])}}function _l(i,s){return i(s)}function Fn(){}var ir=!1;function Tl(i,s,c){if(ir)return i(s,c);ir=!0;try{return _l(i,s,c)}finally{ir=!1,(Lr!==null||Jr!==null)&&(Fn(),ms())}}function no(i,s){var c=i.stateNode;if(c===null)return null;var p=Wu(c);if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(o(231,s,typeof c));return c}var El=!1;if(E)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){El=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{El=!1}function pt(i,s,c,p,f,$,b,M,V){var ie=Array.prototype.slice.call(arguments,3);try{s.apply(c,ie)}catch(Te){this.onError(Te)}}var ht=!1,fn=null,Ht=!1,fr=null,or={onError:function(i){ht=!0,fn=i}};function Wa(i,s,c,p,f,$,b,M,V){ht=!1,fn=null,pt.apply(or,arguments)}function bl(i,s,c,p,f,$,b,M,V){if(Wa.apply(this,arguments),ht){if(ht){var ie=fn;ht=!1,fn=null}else throw Error(o(198));Ht||(Ht=!0,fr=ie)}}function Ro(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function mu(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Gd(i){if(Ro(i)!==i)throw Error(o(188))}function $u(i){var s=i.alternate;if(!s){if(s=Ro(i),s===null)throw Error(o(188));return s!==i?null:i}for(var c=i,p=s;;){var f=c.return;if(f===null)break;var $=f.alternate;if($===null){if(p=f.return,p!==null){c=p;continue}break}if(f.child===$.child){for($=f.child;$;){if($===c)return Gd(f),i;if($===p)return Gd(f),s;$=$.sibling}throw Error(o(188))}if(c.return!==p.return)c=f,p=$;else{for(var b=!1,M=f.child;M;){if(M===c){b=!0,c=f,p=$;break}if(M===p){b=!0,p=f,c=$;break}M=M.sibling}if(!b){for(M=$.child;M;){if(M===c){b=!0,c=$,p=f;break}if(M===p){b=!0,p=$,c=f;break}M=M.sibling}if(!b)throw Error(o(189))}}if(c.alternate!==p)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?i:s}function _u(i){return i=$u(i),i!==null?Wd(i):null}function Wd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Wd(i);if(s!==null)return s;i=i.sibling}return null}var Tu=u.unstable_scheduleCallback,zd=u.unstable_cancelCallback,za=u.unstable_shouldYield,jd=u.unstable_requestPaint,jt=u.unstable_now,ja=u.unstable_getCurrentPriorityLevel,yl=u.unstable_ImmediatePriority,Eu=u.unstable_UserBlockingPriority,Lo=u.unstable_NormalPriority,_f=u.unstable_LowPriority,$s=u.unstable_IdlePriority,Ao=null,gr=null;function Tf(i){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Ao,i,void 0,(i.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:_n,Ef=Math.log,Do=Math.LN2;function _n(i){return i>>>=0,i===0?32:31-(Ef(i)/Do|0)|0}var No=64,vl=4194304;function jn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Dr(i,s){var c=i.pendingLanes;if(c===0)return 0;var p=0,f=i.suspendedLanes,$=i.pingedLanes,b=c&268435455;if(b!==0){var M=b&~f;M!==0?p=jn(M):($&=b,$!==0&&(p=jn($)))}else b=c&~f,b!==0?p=jn(b):$!==0&&(p=jn($));if(p===0)return 0;if(s!==0&&s!==p&&!(s&f)&&(f=p&-p,$=s&-s,f>=$||f===16&&($&4194240)!==0))return s;if(p&4&&(p|=c&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)c=31-Ar(s),f=1<<c,p|=i[c],s&=~f;return p}function bf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xd(i,s){for(var c=i.suspendedLanes,p=i.pingedLanes,f=i.expirationTimes,$=i.pendingLanes;0<$;){var b=31-Ar($),M=1<<b,V=f[b];V===-1?(!(M&c)||M&p)&&(f[b]=bf(M,s)):V<=s&&(i.expiredLanes|=M),$&=~M}}function Sl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Xa(){var i=No;return No<<=1,!(No&4194240)&&(No=64),i}function Ka(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function _s(i,s,c){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Ar(s),i[s]=c}function bu(i,s){var c=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var f=31-Ar(c),$=1<<f;s[f]=0,p[f]=-1,i[f]=-1,c&=~$}}function Ya(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var p=31-Ar(c),f=1<<p;f&s|i[p]&s&&(i[p]|=s),c&=~f}}var ct=0;function Kd(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Yd,Il,Jd,Ts,qd,yu=!1,Es=[],Ei=null,bi=null,io=null,Mo=new Map,yi=new Map,qr=[],yf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ja(i,s){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Mo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(s.pointerId)}}function bs(i,s,c,p,f,$){return i===null||i.nativeEvent!==$?(i={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:$,targetContainers:[f]},s!==null&&(s=Tr(s),s!==null&&Il(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function vf(i,s,c,p,f){switch(s){case"focusin":return Ei=bs(Ei,i,s,c,p,f),!0;case"dragenter":return bi=bs(bi,i,s,c,p,f),!0;case"mouseover":return io=bs(io,i,s,c,p,f),!0;case"pointerover":var $=f.pointerId;return Mo.set($,bs(Mo.get($)||null,i,s,c,p,f)),!0;case"gotpointercapture":return $=f.pointerId,yi.set($,bs(yi.get($)||null,i,s,c,p,f)),!0}return!1}function Qd(i){var s=_r(i.target);if(s!==null){var c=Ro(s);if(c!==null){if(s=c.tag,s===13){if(s=mu(c),s!==null){i.blockedOn=s,qd(i.priority,function(){Jd(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vi(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=Cu(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);Bn=p,c.target.dispatchEvent(p),Bn=null}else return s=Tr(c),s!==null&&Il(s),i.blockedOn=c,!1;s.shift()}return!0}function Zd(i,s,c){vi(i)&&c.delete(s)}function vu(){yu=!1,Ei!==null&&vi(Ei)&&(Ei=null),bi!==null&&vi(bi)&&(bi=null),io!==null&&vi(io)&&(io=null),Mo.forEach(Zd),yi.forEach(Zd)}function On(i,s){i.blockedOn===s&&(i.blockedOn=null,yu||(yu=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,vu)))}function Cl(i){function s(f){return On(f,i)}if(0<Es.length){On(Es[0],i);for(var c=1;c<Es.length;c++){var p=Es[c];p.blockedOn===i&&(p.blockedOn=null)}}for(Ei!==null&&On(Ei,i),bi!==null&&On(bi,i),io!==null&&On(io,i),Mo.forEach(s),yi.forEach(s),c=0;c<qr.length;c++)p=qr[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<qr.length&&(c=qr[0],c.blockedOn===null);)Qd(c),c.blockedOn===null&&qr.shift()}var ys=ae.ReactCurrentBatchConfig,Su=!0;function Sf(i,s,c,p){var f=ct,$=ys.transition;ys.transition=null;try{ct=1,qa(i,s,c,p)}finally{ct=f,ys.transition=$}}function If(i,s,c,p){var f=ct,$=ys.transition;ys.transition=null;try{ct=4,qa(i,s,c,p)}finally{ct=f,ys.transition=$}}function qa(i,s,c,p){if(Su){var f=Cu(i,s,c,p);if(f===null)_c(i,s,p,Iu,c),Ja(i,p);else if(vf(f,i,s,c,p))p.stopPropagation();else if(Ja(i,p),s&4&&-1<yf.indexOf(i)){for(;f!==null;){var $=Tr(f);if($!==null&&Yd($),$=Cu(i,s,c,p),$===null&&_c(i,s,p,Iu,c),$===f)break;f=$}f!==null&&p.stopPropagation()}else _c(i,s,p,null,c)}}var Iu=null;function Cu(i,s,c,p){if(Iu=null,i=Yr(p),i=_r(i),i!==null)if(s=Ro(i),s===null)i=null;else if(c=s.tag,c===13){if(i=mu(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Iu=i,null}function Si(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ja()){case yl:return 1;case Eu:return 4;case Lo:case _f:return 16;case $s:return 536870912;default:return 16}default:return 16}}var mr=null,wu=null,ku=null;function eh(){if(ku)return ku;var i,s=wu,c=s.length,p,f="value"in mr?mr.value:mr.textContent,$=f.length;for(i=0;i<c&&s[i]===f[i];i++);var b=c-i;for(p=1;p<=b&&s[c-p]===f[$-p];p++);return ku=f.slice(i,1<p?1-p:void 0)}function Ou(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ru(){return!0}function th(){return!1}function sr(i){function s(c,p,f,$,b){this._reactName=c,this._targetInst=f,this.type=p,this.nativeEvent=$,this.target=b,this.currentTarget=null;for(var M in i)i.hasOwnProperty(M)&&(c=i[M],this[M]=c?c($):$[M]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Ru:th,this.isPropagationStopped=th,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),s}var vs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qa=sr(vs),wl=Y({},vs,{view:0,detail:0}),nh=sr(wl),Za,xo,Po,Lu=Y({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Po&&(Po&&i.type==="mousemove"?(Za=i.screenX-Po.screenX,xo=i.screenY-Po.screenY):xo=Za=0,Po=i),Za)},movementY:function(i){return"movementY"in i?i.movementY:xo}}),Ss=sr(Lu),rh=Y({},Lu,{dataTransfer:0}),ih=sr(rh),oh=Y({},wl,{relatedTarget:0}),kl=sr(oh),ec=Y({},vs,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=sr(ec),Cf=Y({},vs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=sr(Cf),uh=Y({},vs,{data:0}),tc=sr(uh),ah={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=dh[i])?!!s[i]:!1}function nc(){return hh}var Au=Y({},wl,{key:function(i){if(i.key){var s=ah[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ou(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ch[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(i){return i.type==="keypress"?Ou(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ou(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ph=sr(Au),rc=Y({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=sr(rc),Ii=Y({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),fh=sr(Ii),gh=Y({},vs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=sr(gh),mh=Y({},Lu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$h=sr(mh),wf=[9,13,27,32],Ol=E&&"CompositionEvent"in window,Is=null;E&&"documentMode"in document&&(Is=document.documentMode);var kf=E&&"TextEvent"in window&&!Is,_h=E&&(!Ol||Is&&8<Is&&11>=Is),Th=" ",Eh=!1;function bh(i,s){switch(i){case"keyup":return wf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Bo=!1;function yh(i,s){switch(i){case"compositionend":return Cs(s);case"keypress":return s.which!==32?null:(Eh=!0,Th);case"textInput":return i=s.data,i===Th&&Eh?null:i;default:return null}}function Rl(i,s){if(Bo)return i==="compositionend"||!Ol&&bh(i,s)?(i=eh(),ku=wu=mr=null,Bo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _h&&s.locale!=="ko"?null:s.data;default:return null}}var ic={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!ic[i.type]:s==="textarea"}function Sh(i,s,c,p){Oo(p),s=Ml(s,"onChange"),0<s.length&&(c=new Qa("onChange","change",null,c,p),i.push({event:c,listeners:s}))}var ws=null,ks=null;function oo(i){Vu(i,0)}function Ll(i){var s=Kn(i);if(yt(s))return i}function Ih(i,s){if(i==="change")return s}var Ch=!1;if(E){var oc;if(E){var sc="oninput"in document;if(!sc){var wh=document.createElement("div");wh.setAttribute("oninput","return;"),sc=typeof wh.oninput=="function"}oc=sc}else oc=!1;Ch=oc&&(!document.documentMode||9<document.documentMode)}function lc(){ws&&(ws.detachEvent("onpropertychange",kh),ks=ws=null)}function kh(i){if(i.propertyName==="value"&&Ll(ks)){var s=[];Sh(s,ks,i,Yr(i)),Tl(oo,s)}}function Oh(i,s,c){i==="focusin"?(lc(),ws=s,ks=c,ws.attachEvent("onpropertychange",kh)):i==="focusout"&&lc()}function Of(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ll(ks)}function Os(i,s){if(i==="click")return Ll(s)}function Mu(i,s){if(i==="input"||i==="change")return Ll(s)}function uc(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var lr=typeof Object.is=="function"?Object.is:uc;function Qr(i,s){if(lr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var f=c[p];if(!v.call(s,f)||!lr(i[f],s[f]))return!1}return!0}function ac(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xu(i,s){var c=ac(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=s&&p>=s)return{node:c,offset:s-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ac(c)}}function cc(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?cc(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Xt(){for(var i=window,s=rr();s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=rr(i.document)}return s}function dc(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Al(i){var s=Xt(),c=i.focusedElem,p=i.selectionRange;if(s!==c&&c&&c.ownerDocument&&cc(c.ownerDocument.documentElement,c)){if(p!==null&&dc(c)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(i,c.value.length);else if(i=(s=c.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var f=c.textContent.length,$=Math.min(p.start,f);p=p.end===void 0?$:Math.min(p.end,f),!i.extend&&$>p&&(f=p,p=$,$=f),f=xu(c,$);var b=xu(c,p);f&&b&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),i.removeAllRanges(),$>p?(i.addRange(s),i.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),i.addRange(s)))}}for(s=[],i=c;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)i=s[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Rs=E&&"documentMode"in document&&11>=document.documentMode,Ls=null,Pu=null,Fo=null,Uo=!1;function hc(i,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Uo||Ls==null||Ls!==rr(p)||(p=Ls,"selectionStart"in p&&dc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Fo&&Qr(Fo,p)||(Fo=p,p=Ml(Pu,"onSelect"),0<p.length&&(s=new Qa("onSelect","select",null,s,c),i.push({event:s,listeners:p}),s.target=Ls)))}function Ci(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var wi={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},Bu={},pc={};E&&(pc=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Fu(i){if(Bu[i])return Bu[i];if(!wi[i])return i;var s=wi[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in pc)return Bu[i]=s[c];return i}var Rh=Fu("animationend"),Lh=Fu("animationiteration"),fc=Fu("animationstart"),Ah=Fu("transitionend"),gc=new Map,Dl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(i,s){gc.set(i,s),m(s,[i])}for(var mc=0;mc<Dl.length;mc++){var $c=Dl[mc],Rf=$c.toLowerCase(),Uu=$c[0].toUpperCase()+$c.slice(1);so(Rf,"on"+Uu)}so(Rh,"onAnimationEnd"),so(Lh,"onAnimationIteration"),so(fc,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(Ah,"onTransitionEnd"),T("onMouseEnter",["mouseout","mouseover"]),T("onMouseLeave",["mouseout","mouseover"]),T("onPointerEnter",["pointerout","pointerover"]),T("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dh=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function Hu(i,s,c){var p=i.type||"unknown-event";i.currentTarget=c,bl(p,s,void 0,i),i.currentTarget=null}function Vu(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],f=p.event;p=p.listeners;e:{var $=void 0;if(s)for(var b=p.length-1;0<=b;b--){var M=p[b],V=M.instance,ie=M.currentTarget;if(M=M.listener,V!==$&&f.isPropagationStopped())break e;Hu(f,M,ie),$=V}else for(b=0;b<p.length;b++){if(M=p[b],V=M.instance,ie=M.currentTarget,M=M.listener,V!==$&&f.isPropagationStopped())break e;Hu(f,M,ie),$=V}}}if(Ht)throw i=fr,Ht=!1,fr=null,i}function Rt(i,s){var c=s[Gu];c===void 0&&(c=s[Gu]=new Set);var p=i+"__bubble";c.has(p)||(Nh(s,i,2,!1),c.add(p))}function Ds(i,s,c){var p=0;s&&(p|=4),Nh(c,i,p,s)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function lo(i){if(!i[Nl]){i[Nl]=!0,a.forEach(function(c){c!=="selectionchange"&&(Dh.has(c)||Ds(c,!1,i),Ds(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nl]||(s[Nl]=!0,Ds("selectionchange",!1,s))}}function Nh(i,s,c,p){switch(Si(s)){case 1:var f=Sf;break;case 4:f=If;break;default:f=qa}c=f.bind(null,s,c,i),f=void 0,!El||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),p?f!==void 0?i.addEventListener(s,c,{capture:!0,passive:f}):i.addEventListener(s,c,!0):f!==void 0?i.addEventListener(s,c,{passive:f}):i.addEventListener(s,c,!1)}function _c(i,s,c,p,f){var $=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var M=p.stateNode.containerInfo;if(M===f||M.nodeType===8&&M.parentNode===f)break;if(b===4)for(b=p.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;b=b.return}for(;M!==null;){if(b=_r(M),b===null)return;if(V=b.tag,V===5||V===6){p=$=b;continue e}M=M.parentNode}}p=p.return}Tl(function(){var ie=$,Te=Yr(c),ye=[];e:{var $e=gc.get(i);if($e!==void 0){var De=Qa,He=i;switch(i){case"keypress":if(Ou(c)===0)break e;case"keydown":case"keyup":De=ph;break;case"focusin":He="focus",De=kl;break;case"focusout":He="blur",De=kl;break;case"beforeblur":case"afterblur":De=kl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=fh;break;case Rh:case Lh:case fc:De=sh;break;case Ah:De=Nu;break;case"scroll":De=nh;break;case"wheel":De=$h;break;case"copy":case"cut":case"paste":De=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Du}var ze=(s&4)!==0,Wt=!ze&&i==="scroll",q=ze?$e!==null?$e+"Capture":null:$e;ze=[];for(var F=ie,Z;F!==null;){Z=F;var Ce=Z.stateNode;if(Z.tag===5&&Ce!==null&&(Z=Ce,q!==null&&(Ce=no(F,q),Ce!=null&&ze.push(Nr(F,Ce,Z)))),Wt)break;F=F.return}0<ze.length&&($e=new De($e,He,null,c,Te),ye.push({event:$e,listeners:ze}))}}if(!(s&7)){e:{if($e=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",$e&&c!==Bn&&(He=c.relatedTarget||c.fromElement)&&(_r(He)||He[Mr]))break e;if((De||$e)&&($e=Te.window===Te?Te:($e=Te.ownerDocument)?$e.defaultView||$e.parentWindow:window,De?(He=c.relatedTarget||c.toElement,De=ie,He=He?_r(He):null,He!==null&&(Wt=Ro(He),He!==Wt||He.tag!==5&&He.tag!==6)&&(He=null)):(De=null,He=ie),De!==He)){if(ze=Ss,Ce="onMouseLeave",q="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ze=Du,Ce="onPointerLeave",q="onPointerEnter",F="pointer"),Wt=De==null?$e:Kn(De),Z=He==null?$e:Kn(He),$e=new ze(Ce,F+"leave",De,c,Te),$e.target=Wt,$e.relatedTarget=Z,Ce=null,_r(Te)===ie&&(ze=new ze(q,F+"enter",He,c,Te),ze.target=Z,ze.relatedTarget=Wt,Ce=ze),Wt=Ce,De&&He)t:{for(ze=De,q=He,F=0,Z=ze;Z;Z=Xn(Z))F++;for(Z=0,Ce=q;Ce;Ce=Xn(Ce))Z++;for(;0<F-Z;)ze=Xn(ze),F--;for(;0<Z-F;)q=Xn(q),Z--;for(;F--;){if(ze===q||q!==null&&ze===q.alternate)break t;ze=Xn(ze),q=Xn(q)}ze=null}else ze=null;De!==null&&Mh(ye,$e,De,ze,!1),He!==null&&Wt!==null&&Mh(ye,Wt,He,ze,!0)}}e:{if($e=ie?Kn(ie):window,De=$e.nodeName&&$e.nodeName.toLowerCase(),De==="select"||De==="input"&&$e.type==="file")var Xe=Ih;else if(vh($e))if(Ch)Xe=Mu;else{Xe=Of;var Ye=Oh}else(De=$e.nodeName)&&De.toLowerCase()==="input"&&($e.type==="checkbox"||$e.type==="radio")&&(Xe=Os);if(Xe&&(Xe=Xe(i,ie))){Sh(ye,Xe,c,Te);break e}Ye&&Ye(i,$e,ie),i==="focusout"&&(Ye=$e._wrapperState)&&Ye.controlled&&$e.type==="number"&&eo($e,"number",$e.value)}switch(Ye=ie?Kn(ie):window,i){case"focusin":(vh(Ye)||Ye.contentEditable==="true")&&(Ls=Ye,Pu=ie,Fo=null);break;case"focusout":Fo=Pu=Ls=null;break;case"mousedown":Uo=!0;break;case"contextmenu":case"mouseup":case"dragend":Uo=!1,hc(ye,c,Te);break;case"selectionchange":if(Rs)break;case"keydown":case"keyup":hc(ye,c,Te)}var Je;if(Ol)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Bo?bh(i,c)&&(Ze="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Ze="onCompositionStart");Ze&&(_h&&c.locale!=="ko"&&(Bo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Bo&&(Je=eh()):(mr=Te,wu="value"in mr?mr.value:mr.textContent,Bo=!0)),Ye=Ml(ie,Ze),0<Ye.length&&(Ze=new tc(Ze,i,null,c,Te),ye.push({event:Ze,listeners:Ye}),Je?Ze.data=Je:(Je=Cs(c),Je!==null&&(Ze.data=Je)))),(Je=kf?yh(i,c):Rl(i,c))&&(ie=Ml(ie,"onBeforeInput"),0<ie.length&&(Te=new tc("onBeforeInput","beforeinput",null,c,Te),ye.push({event:Te,listeners:ie}),Te.data=Je))}Vu(ye,s)})}function Nr(i,s,c){return{instance:i,listener:s,currentTarget:c}}function Ml(i,s){for(var c=s+"Capture",p=[];i!==null;){var f=i,$=f.stateNode;f.tag===5&&$!==null&&(f=$,$=no(i,c),$!=null&&p.unshift(Nr(i,$,f)),$=no(i,s),$!=null&&p.push(Nr(i,$,f))),i=i.return}return p}function Xn(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Mh(i,s,c,p,f){for(var $=s._reactName,b=[];c!==null&&c!==p;){var M=c,V=M.alternate,ie=M.stateNode;if(V!==null&&V===p)break;M.tag===5&&ie!==null&&(M=ie,f?(V=no(c,$),V!=null&&b.unshift(Nr(c,V,M))):f||(V=no(c,$),V!=null&&b.push(Nr(c,V,M)))),c=c.return}b.length!==0&&i.push({event:s,listeners:b})}var Lf=/\r\n?/g,xh=/\u0000|\uFFFD/g;function Ph(i){return(typeof i=="string"?i:""+i).replace(Lf,`
`).replace(xh,"")}function ki(i,s,c){if(s=Ph(s),Ph(i)!==s&&c)throw Error(o(425))}function xl(){}var Tc=null,Ec=null;function bc(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,Af=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,Df=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(i){return vc.resolve(null).then(i).catch(Nf)}:yc;function Nf(i){setTimeout(function(){throw i})}function Pl(i,s){var c=s,p=0;do{var f=c.nextSibling;if(i.removeChild(c),f&&f.nodeType===8)if(c=f.data,c==="/$"){if(p===0){i.removeChild(f),Cl(s);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=f}while(c);Cl(s)}function uo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Bh(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),$r="__reactFiber$"+Ho,Ns="__reactProps$"+Ho,Mr="__reactContainer$"+Ho,Gu="__reactEvents$"+Ho,Fh="__reactListeners$"+Ho,Bl="__reactHandles$"+Ho;function _r(i){var s=i[$r];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Mr]||c[$r]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=Bh(i);i!==null;){if(c=i[$r])return c;i=Bh(i)}return s}i=c,c=i.parentNode}return null}function Tr(i){return i=i[$r]||i[Mr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Kn(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(o(33))}function Wu(i){return i[Ns]||null}var Sc=[],Ms=-1;function Oi(i){return{current:i}}function vt(i){0>Ms||(i.current=Sc[Ms],Sc[Ms]=null,Ms--)}function wt(i,s){Ms++,Sc[Ms]=i.current,i.current=s}var ao={},Rn=Oi(ao),Un=Oi(!1),Ri=ao;function Vo(i,s){var c=i.type.contextTypes;if(!c)return ao;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var f={},$;for($ in c)f[$]=s[$];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function Ln(i){return i=i.childContextTypes,i!=null}function zu(){vt(Un),vt(Rn)}function Uh(i,s,c){if(Rn.current!==ao)throw Error(o(168));wt(Rn,s),wt(Un,c)}function Hh(i,s,c){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var f in p)if(!(f in s))throw Error(o(108,Ie(i)||"Unknown",f));return Y({},c,p)}function ju(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ao,Ri=Rn.current,wt(Rn,i),wt(Un,Un.current),!0}function We(i,s,c){var p=i.stateNode;if(!p)throw Error(o(169));c?(i=Hh(i,s,Ri),p.__reactInternalMemoizedMergedChildContext=i,vt(Un),vt(Rn),wt(Rn,i)):vt(Un),wt(Un,c)}var Zt=null,en=!1,St=!1;function Zr(i){Zt===null?Zt=[i]:Zt.push(i)}function Fl(i){en=!0,Zr(i)}function Ae(){if(!St&&Zt!==null){St=!0;var i=0,s=ct;try{var c=Zt;for(ct=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}Zt=null,en=!1}catch(f){throw Zt!==null&&(Zt=Zt.slice(i+1)),Tu(yl,Ae),f}finally{ct=s,St=!1}}return null}var kt=[],Go=0,Xu=null,ei=0,Yn=[],Jn=0,co=null,Li=1,ti="";function Ai(i,s){kt[Go++]=ei,kt[Go++]=Xu,Xu=i,ei=s}function Ic(i,s,c){Yn[Jn++]=Li,Yn[Jn++]=ti,Yn[Jn++]=co,co=i;var p=Li;i=ti;var f=32-Ar(p)-1;p&=~(1<<f),c+=1;var $=32-Ar(s)+f;if(30<$){var b=f-f%5;$=(p&(1<<b)-1).toString(32),p>>=b,f-=b,Li=1<<32-Ar(s)+f|c<<f|p,ti=$+i}else Li=1<<$|c<<f|p,ti=i}function Ku(i){i.return!==null&&(Ai(i,1),Ic(i,1,0))}function Cc(i){for(;i===Xu;)Xu=kt[--Go],kt[Go]=null,ei=kt[--Go],kt[Go]=null;for(;i===co;)co=Yn[--Jn],Yn[Jn]=null,ti=Yn[--Jn],Yn[Jn]=null,Li=Yn[--Jn],Yn[Jn]=null}var qn=null,ur=null,Ot=!1,xr=null;function Vh(i,s){var c=Mn(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=i,s=i.deletions,s===null?(i.deletions=[c],i.flags|=16):s.push(c)}function Gh(i,s){switch(i.tag){case 5:var c=i.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,qn=i,ur=uo(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,qn=i,ur=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=co!==null?{id:Li,overflow:ti}:null,i.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=Mn(18,null,null,0),c.stateNode=s,c.return=i,i.child=c,qn=i,ur=null,!0):!1;default:return!1}}function wc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function kc(i){if(Ot){var s=ur;if(s){var c=s;if(!Gh(i,s)){if(wc(i))throw Error(o(418));s=uo(c.nextSibling);var p=qn;s&&Gh(i,s)?Vh(p,c):(i.flags=i.flags&-4097|2,Ot=!1,qn=i)}}else{if(wc(i))throw Error(o(418));i.flags=i.flags&-4097|2,Ot=!1,qn=i}}}function Oc(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;qn=i}function Yu(i){if(i!==qn)return!1;if(!Ot)return Oc(i),Ot=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!bc(i.type,i.memoizedProps)),s&&(s=ur)){if(wc(i))throw Ul(),Error(o(418));for(;s;)Vh(i,s),s=uo(s.nextSibling)}if(Oc(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(s===0){ur=uo(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}i=i.nextSibling}ur=null}}else ur=qn?uo(i.stateNode.nextSibling):null;return!0}function Ul(){for(var i=ur;i;)i=uo(i.nextSibling)}function Di(){ur=qn=null,Ot=!1}function Rc(i){xr===null?xr=[i]:xr.push(i)}var Wh=ae.ReactCurrentBatchConfig;function xs(i,s,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(o(309));var p=c.stateNode}if(!p)throw Error(o(147,i));var f=p,$=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===$?s.ref:(s=function(b){var M=f.refs;b===null?delete M[$]:M[$]=b},s._stringRef=$,s)}if(typeof i!="string")throw Error(o(284));if(!c._owner)throw Error(o(290,i))}return i}function Hl(i,s){throw i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Lc(i){var s=i._init;return s(i._payload)}function Ju(i){function s(q,F){if(i){var Z=q.deletions;Z===null?(q.deletions=[F],q.flags|=16):Z.push(F)}}function c(q,F){if(!i)return null;for(;F!==null;)s(q,F),F=F.sibling;return null}function p(q,F){for(q=new Map;F!==null;)F.key!==null?q.set(F.key,F):q.set(F.index,F),F=F.sibling;return q}function f(q,F){return q=Cr(q,F),q.index=0,q.sibling=null,q}function $(q,F,Z){return q.index=Z,i?(Z=q.alternate,Z!==null?(Z=Z.index,Z<F?(q.flags|=2,F):Z):(q.flags|=2,F)):(q.flags|=1048576,F)}function b(q){return i&&q.alternate===null&&(q.flags|=2),q}function M(q,F,Z,Ce){return F===null||F.tag!==6?(F=ld(Z,q.mode,Ce),F.return=q,F):(F=f(F,Z),F.return=q,F)}function V(q,F,Z,Ce){var Xe=Z.type;return Xe===re?Te(q,F,Z.props.children,Ce,Z.key):F!==null&&(F.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===j&&Lc(Xe)===F.type)?(Ce=f(F,Z.props),Ce.ref=xs(q,F,Z),Ce.return=q,Ce):(Ce=Vi(Z.type,Z.key,Z.props,null,q.mode,Ce),Ce.ref=xs(q,F,Z),Ce.return=q,Ce)}function ie(q,F,Z,Ce){return F===null||F.tag!==4||F.stateNode.containerInfo!==Z.containerInfo||F.stateNode.implementation!==Z.implementation?(F=wa(Z,q.mode,Ce),F.return=q,F):(F=f(F,Z.children||[]),F.return=q,F)}function Te(q,F,Z,Ce,Xe){return F===null||F.tag!==7?(F=Eo(Z,q.mode,Ce,Xe),F.return=q,F):(F=f(F,Z),F.return=q,F)}function ye(q,F,Z){if(typeof F=="string"&&F!==""||typeof F=="number")return F=ld(""+F,q.mode,Z),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case ge:return Z=Vi(F.type,F.key,F.props,null,q.mode,Z),Z.ref=xs(q,null,F),Z.return=q,Z;case ue:return F=wa(F,q.mode,Z),F.return=q,F;case j:var Ce=F._init;return ye(q,Ce(F._payload),Z)}if(Ge(F)||J(F))return F=Eo(F,q.mode,Z,null),F.return=q,F;Hl(q,F)}return null}function $e(q,F,Z,Ce){var Xe=F!==null?F.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Xe!==null?null:M(q,F,""+Z,Ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ge:return Z.key===Xe?V(q,F,Z,Ce):null;case ue:return Z.key===Xe?ie(q,F,Z,Ce):null;case j:return Xe=Z._init,$e(q,F,Xe(Z._payload),Ce)}if(Ge(Z)||J(Z))return Xe!==null?null:Te(q,F,Z,Ce,null);Hl(q,Z)}return null}function De(q,F,Z,Ce,Xe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return q=q.get(Z)||null,M(F,q,""+Ce,Xe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case ge:return q=q.get(Ce.key===null?Z:Ce.key)||null,V(F,q,Ce,Xe);case ue:return q=q.get(Ce.key===null?Z:Ce.key)||null,ie(F,q,Ce,Xe);case j:var Ye=Ce._init;return De(q,F,Z,Ye(Ce._payload),Xe)}if(Ge(Ce)||J(Ce))return q=q.get(Z)||null,Te(F,q,Ce,Xe,null);Hl(F,Ce)}return null}function He(q,F,Z,Ce){for(var Xe=null,Ye=null,Je=F,Ze=F=0,un=null;Je!==null&&Ze<Z.length;Ze++){Je.index>Ze?(un=Je,Je=null):un=Je.sibling;var ot=$e(q,Je,Z[Ze],Ce);if(ot===null){Je===null&&(Je=un);break}i&&Je&&ot.alternate===null&&s(q,Je),F=$(ot,F,Ze),Ye===null?Xe=ot:Ye.sibling=ot,Ye=ot,Je=un}if(Ze===Z.length)return c(q,Je),Ot&&Ai(q,Ze),Xe;if(Je===null){for(;Ze<Z.length;Ze++)Je=ye(q,Z[Ze],Ce),Je!==null&&(F=$(Je,F,Ze),Ye===null?Xe=Je:Ye.sibling=Je,Ye=Je);return Ot&&Ai(q,Ze),Xe}for(Je=p(q,Je);Ze<Z.length;Ze++)un=De(Je,q,Ze,Z[Ze],Ce),un!==null&&(i&&un.alternate!==null&&Je.delete(un.key===null?Ze:un.key),F=$(un,F,Ze),Ye===null?Xe=un:Ye.sibling=un,Ye=un);return i&&Je.forEach(function(Jt){return s(q,Jt)}),Ot&&Ai(q,Ze),Xe}function ze(q,F,Z,Ce){var Xe=J(Z);if(typeof Xe!="function")throw Error(o(150));if(Z=Xe.call(Z),Z==null)throw Error(o(151));for(var Ye=Xe=null,Je=F,Ze=F=0,un=null,ot=Z.next();Je!==null&&!ot.done;Ze++,ot=Z.next()){Je.index>Ze?(un=Je,Je=null):un=Je.sibling;var Jt=$e(q,Je,ot.value,Ce);if(Jt===null){Je===null&&(Je=un);break}i&&Je&&Jt.alternate===null&&s(q,Je),F=$(Jt,F,Ze),Ye===null?Xe=Jt:Ye.sibling=Jt,Ye=Jt,Je=un}if(ot.done)return c(q,Je),Ot&&Ai(q,Ze),Xe;if(Je===null){for(;!ot.done;Ze++,ot=Z.next())ot=ye(q,ot.value,Ce),ot!==null&&(F=$(ot,F,Ze),Ye===null?Xe=ot:Ye.sibling=ot,Ye=ot);return Ot&&Ai(q,Ze),Xe}for(Je=p(q,Je);!ot.done;Ze++,ot=Z.next())ot=De(Je,q,Ze,ot.value,Ce),ot!==null&&(i&&ot.alternate!==null&&Je.delete(ot.key===null?Ze:ot.key),F=$(ot,F,Ze),Ye===null?Xe=ot:Ye.sibling=ot,Ye=ot);return i&&Je.forEach(function(Cp){return s(q,Cp)}),Ot&&Ai(q,Ze),Xe}function Wt(q,F,Z,Ce){if(typeof Z=="object"&&Z!==null&&Z.type===re&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ge:e:{for(var Xe=Z.key,Ye=F;Ye!==null;){if(Ye.key===Xe){if(Xe=Z.type,Xe===re){if(Ye.tag===7){c(q,Ye.sibling),F=f(Ye,Z.props.children),F.return=q,q=F;break e}}else if(Ye.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===j&&Lc(Xe)===Ye.type){c(q,Ye.sibling),F=f(Ye,Z.props),F.ref=xs(q,Ye,Z),F.return=q,q=F;break e}c(q,Ye);break}else s(q,Ye);Ye=Ye.sibling}Z.type===re?(F=Eo(Z.props.children,q.mode,Ce,Z.key),F.return=q,q=F):(Ce=Vi(Z.type,Z.key,Z.props,null,q.mode,Ce),Ce.ref=xs(q,F,Z),Ce.return=q,q=Ce)}return b(q);case ue:e:{for(Ye=Z.key;F!==null;){if(F.key===Ye)if(F.tag===4&&F.stateNode.containerInfo===Z.containerInfo&&F.stateNode.implementation===Z.implementation){c(q,F.sibling),F=f(F,Z.children||[]),F.return=q,q=F;break e}else{c(q,F);break}else s(q,F);F=F.sibling}F=wa(Z,q.mode,Ce),F.return=q,q=F}return b(q);case j:return Ye=Z._init,Wt(q,F,Ye(Z._payload),Ce)}if(Ge(Z))return He(q,F,Z,Ce);if(J(Z))return ze(q,F,Z,Ce);Hl(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,F!==null&&F.tag===6?(c(q,F.sibling),F=f(F,Z),F.return=q,q=F):(c(q,F),F=ld(Z,q.mode,Ce),F.return=q,q=F),b(q)):c(q,F)}return Wt}var Wo=Ju(!0),zh=Ju(!1),qu=Oi(null),Qu=null,ni=null,Zu=null;function Ac(){Zu=ni=Qu=null}function Vl(i){var s=qu.current;vt(qu),i._currentValue=s}function ar(i,s,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===c)break;i=i.return}}function Ps(i,s){Qu=i,Zu=ni=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(An=!0),i.firstContext=null)}function gn(i){var s=i._currentValue;if(Zu!==i)if(i={context:i,memoizedValue:s,next:null},ni===null){if(Qu===null)throw Error(o(308));ni=i,Qu.dependencies={lanes:0,firstContext:i}}else ni=ni.next=i;return s}var ho=null;function Dc(i){ho===null?ho=[i]:ho.push(i)}function Gl(i,s,c,p){var f=s.interleaved;return f===null?(c.next=c,Dc(s)):(c.next=f.next,f.next=c),s.interleaved=c,ri(i,p)}function ri(i,s){i.lanes|=s;var c=i.alternate;for(c!==null&&(c.lanes|=s),c=i,i=i.return;i!==null;)i.childLanes|=s,c=i.alternate,c!==null&&(c.childLanes|=s),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Ni=!1;function ea(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nc(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ii(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Mi(i,s,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,lt&2){var f=p.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),p.pending=s,ri(i,c)}return f=p.interleaved,f===null?(s.next=s,Dc(p)):(s.next=f.next,f.next=s),p.interleaved=s,ri(i,c)}function Wl(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,Ya(i,c)}}function Mc(i,s){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var f=null,$=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};$===null?f=$=b:$=$.next=b,c=c.next}while(c!==null);$===null?f=$=s:$=$.next=s}else f=$=s;c={baseState:p.baseState,firstBaseUpdate:f,lastBaseUpdate:$,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}function zl(i,s,c,p){var f=i.updateQueue;Ni=!1;var $=f.firstBaseUpdate,b=f.lastBaseUpdate,M=f.shared.pending;if(M!==null){f.shared.pending=null;var V=M,ie=V.next;V.next=null,b===null?$=ie:b.next=ie,b=V;var Te=i.alternate;Te!==null&&(Te=Te.updateQueue,M=Te.lastBaseUpdate,M!==b&&(M===null?Te.firstBaseUpdate=ie:M.next=ie,Te.lastBaseUpdate=V))}if($!==null){var ye=f.baseState;b=0,Te=ie=V=null,M=$;do{var $e=M.lane,De=M.eventTime;if((p&$e)===$e){Te!==null&&(Te=Te.next={eventTime:De,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var He=i,ze=M;switch($e=s,De=c,ze.tag){case 1:if(He=ze.payload,typeof He=="function"){ye=He.call(De,ye,$e);break e}ye=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=ze.payload,$e=typeof He=="function"?He.call(De,ye,$e):He,$e==null)break e;ye=Y({},ye,$e);break e;case 2:Ni=!0}}M.callback!==null&&M.lane!==0&&(i.flags|=64,$e=f.effects,$e===null?f.effects=[M]:$e.push(M))}else De={eventTime:De,lane:$e,tag:M.tag,payload:M.payload,callback:M.callback,next:null},Te===null?(ie=Te=De,V=ye):Te=Te.next=De,b|=$e;if(M=M.next,M===null){if(M=f.shared.pending,M===null)break;$e=M,M=$e.next,$e.next=null,f.lastBaseUpdate=$e,f.shared.pending=null}}while(!0);if(Te===null&&(V=ye),f.baseState=V,f.firstBaseUpdate=ie,f.lastBaseUpdate=Te,s=f.shared.interleaved,s!==null){f=s;do b|=f.lane,f=f.next;while(f!==s)}else $===null&&(f.shared.lanes=0);qs|=b,i.lanes=b,i.memoizedState=ye}}function xc(i,s,c){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],f=p.callback;if(f!==null){if(p.callback=null,p=c,typeof f!="function")throw Error(o(191,f));f.call(p)}}}var jl={},oi=Oi(jl),Xl=Oi(jl),Kl=Oi(jl);function zo(i){if(i===jl)throw Error(o(174));return i}function Pc(i,s){switch(wt(Kl,s),wt(Xl,i),wt(oi,jl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:zt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=zt(s,i)}vt(oi),wt(oi,s)}function po(){vt(oi),vt(Xl),vt(Kl)}function jh(i){zo(Kl.current);var s=zo(oi.current),c=zt(s,i.type);s!==c&&(wt(Xl,i),wt(oi,c))}function Bc(i){Xl.current===i&&(vt(oi),vt(Xl))}var xt=Oi(0);function Yl(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ta=[];function na(){for(var i=0;i<ta.length;i++)ta[i]._workInProgressVersionPrimary=null;ta.length=0}var Jl=ae.ReactCurrentDispatcher,ra=ae.ReactCurrentBatchConfig,fo=0,Lt=null,Kt=null,an=null,ia=!1,Bs=!1,Fs=0,Xh=0;function Tn(){throw Error(o(321))}function oa(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!lr(i[c],s[c]))return!1;return!0}function sa(i,s,c,p,f,$){if(fo=$,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jl.current=i===null||i.memoizedState===null?Pf:Vs,i=c(p,f),Bs){$=0;do{if(Bs=!1,Fs=0,25<=$)throw Error(o(301));$+=1,an=Kt=null,s.updateQueue=null,Jl.current=Bf,i=c(p,f)}while(Bs)}if(Jl.current=jo,s=Kt!==null&&Kt.next!==null,fo=0,an=Kt=Lt=null,ia=!1,s)throw Error(o(300));return i}function la(){var i=Fs!==0;return Fs=0,i}function Pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Lt.memoizedState=an=i:an=an.next=i,an}function cr(){if(Kt===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var s=an===null?Lt.memoizedState:an.next;if(s!==null)an=s,Kt=i;else{if(i===null)throw Error(o(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},an===null?Lt.memoizedState=an=i:an=an.next=i}return an}function Us(i,s){return typeof s=="function"?s(i):s}function Fc(i){var s=cr(),c=s.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=i;var p=Kt,f=p.baseQueue,$=c.pending;if($!==null){if(f!==null){var b=f.next;f.next=$.next,$.next=b}p.baseQueue=f=$,c.pending=null}if(f!==null){$=f.next,p=p.baseState;var M=b=null,V=null,ie=$;do{var Te=ie.lane;if((fo&Te)===Te)V!==null&&(V=V.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:i(p,ie.action);else{var ye={lane:Te,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};V===null?(M=V=ye,b=p):V=V.next=ye,Lt.lanes|=Te,qs|=Te}ie=ie.next}while(ie!==null&&ie!==$);V===null?b=p:V.next=M,lr(p,s.memoizedState)||(An=!0),s.memoizedState=p,s.baseState=b,s.baseQueue=V,c.lastRenderedState=p}if(i=c.interleaved,i!==null){f=i;do $=f.lane,Lt.lanes|=$,qs|=$,f=f.next;while(f!==i)}else f===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function Uc(i){var s=cr(),c=s.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=i;var p=c.dispatch,f=c.pending,$=s.memoizedState;if(f!==null){c.pending=null;var b=f=f.next;do $=i($,b.action),b=b.next;while(b!==f);lr($,s.memoizedState)||(An=!0),s.memoizedState=$,s.baseQueue===null&&(s.baseState=$),c.lastRenderedState=$}return[$,p]}function Kh(){}function Hc(i,s){var c=Lt,p=cr(),f=s(),$=!lr(p.memoizedState,f);if($&&(p.memoizedState=f,An=!0),p=p.queue,si(qh.bind(null,c,p,i),[i]),p.getSnapshot!==s||$||an!==null&&an.memoizedState.tag&1){if(c.flags|=2048,Br(9,Jh.bind(null,c,p,f,s),void 0,null),yn===null)throw Error(o(349));fo&30||Yh(c,s,f)}return f}function Yh(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function Jh(i,s,c,p){s.value=c,s.getSnapshot=p,Qh(s)&&Zh(i)}function qh(i,s,c){return c(function(){Qh(s)&&Zh(i)})}function Qh(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!lr(i,c)}catch{return!0}}function Zh(i){var s=ri(i,1);s!==null&&Ur(s,i,1,-1)}function fe(i){var s=Pr();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Us,lastRenderedState:i},s.queue=i,i=i.dispatch=sp.bind(null,Lt,i),[s.memoizedState,i]}function Br(i,s,c,p){return i={tag:i,create:s,destroy:c,deps:p,next:null},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.lastEffect=i.next=i):(c=s.lastEffect,c===null?s.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,s.lastEffect=i)),i}function Mf(){return cr().memoizedState}function Hs(i,s,c,p){var f=Pr();Lt.flags|=i,f.memoizedState=Br(1|s,c,void 0,p===void 0?null:p)}function Er(i,s,c,p){var f=cr();p=p===void 0?null:p;var $=void 0;if(Kt!==null){var b=Kt.memoizedState;if($=b.destroy,p!==null&&oa(p,b.deps)){f.memoizedState=Br(s,c,$,p);return}}Lt.flags|=i,f.memoizedState=Br(1|s,c,$,p)}function me(i,s){return Hs(8390656,8,i,s)}function si(i,s){return Er(2048,8,i,s)}function Qn(i,s){return Er(4,2,i,s)}function te(i,s){return Er(4,4,i,s)}function ep(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function tp(i,s,c){return c=c!=null?c.concat([i]):null,Er(4,4,ep.bind(null,s,i),c)}function Vc(){}function np(i,s){var c=cr();s=s===void 0?null:s;var p=c.memoizedState;return p!==null&&s!==null&&oa(s,p[1])?p[0]:(c.memoizedState=[i,s],i)}function rp(i,s){var c=cr();s=s===void 0?null:s;var p=c.memoizedState;return p!==null&&s!==null&&oa(s,p[1])?p[0]:(i=i(),c.memoizedState=[i,s],i)}function xf(i,s,c){return fo&21?(lr(c,s)||(c=Xa(),Lt.lanes|=c,qs|=c,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,An=!0),i.memoizedState=c)}function ip(i,s){var c=ct;ct=c!==0&&4>c?c:4,i(!0);var p=ra.transition;ra.transition={};try{i(!1),s()}finally{ct=c,ra.transition=p}}function op(){return cr().memoizedState}function ua(i,s,c){var p=_o(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Gc(i))xi(s,c);else if(c=Gl(i,s,c,p),c!==null){var f=Gn();Ur(c,i,p,f),lp(c,s,p)}}function sp(i,s,c){var p=_o(i),f={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Gc(i))xi(s,f);else{var $=i.alternate;if(i.lanes===0&&($===null||$.lanes===0)&&($=s.lastRenderedReducer,$!==null))try{var b=s.lastRenderedState,M=$(b,c);if(f.hasEagerState=!0,f.eagerState=M,lr(M,b)){var V=s.interleaved;V===null?(f.next=f,Dc(s)):(f.next=V.next,V.next=f),s.interleaved=f;return}}catch{}finally{}c=Gl(i,s,f,p),c!==null&&(f=Gn(),Ur(c,i,p,f),lp(c,s,p))}}function Gc(i){var s=i.alternate;return i===Lt||s!==null&&s===Lt}function xi(i,s){Bs=ia=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function lp(i,s,c){if(c&4194240){var p=s.lanes;p&=i.pendingLanes,c|=p,s.lanes=c,Ya(i,c)}}var jo={readContext:gn,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Pf={readContext:gn,useCallback:function(i,s){return Pr().memoizedState=[i,s===void 0?null:s],i},useContext:gn,useEffect:me,useImperativeHandle:function(i,s,c){return c=c!=null?c.concat([i]):null,Hs(4194308,4,ep.bind(null,s,i),c)},useLayoutEffect:function(i,s){return Hs(4194308,4,i,s)},useInsertionEffect:function(i,s){return Hs(4,2,i,s)},useMemo:function(i,s){var c=Pr();return s=s===void 0?null:s,i=i(),c.memoizedState=[i,s],i},useReducer:function(i,s,c){var p=Pr();return s=c!==void 0?c(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=ua.bind(null,Lt,i),[p.memoizedState,i]},useRef:function(i){var s=Pr();return i={current:i},s.memoizedState=i},useState:fe,useDebugValue:Vc,useDeferredValue:function(i){return Pr().memoizedState=i},useTransition:function(){var i=fe(!1),s=i[0];return i=ip.bind(null,i[1]),Pr().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,c){var p=Lt,f=Pr();if(Ot){if(c===void 0)throw Error(o(407));c=c()}else{if(c=s(),yn===null)throw Error(o(349));fo&30||Yh(p,s,c)}f.memoizedState=c;var $={value:c,getSnapshot:s};return f.queue=$,me(qh.bind(null,p,$,i),[i]),p.flags|=2048,Br(9,Jh.bind(null,p,$,c,s),void 0,null),c},useId:function(){var i=Pr(),s=yn.identifierPrefix;if(Ot){var c=ti,p=Li;c=(p&~(1<<32-Ar(p)-1)).toString(32)+c,s=":"+s+"R"+c,c=Fs++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=Xh++,s=":"+s+"r"+c.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Vs={readContext:gn,useCallback:np,useContext:gn,useEffect:si,useImperativeHandle:tp,useInsertionEffect:Qn,useLayoutEffect:te,useMemo:rp,useReducer:Fc,useRef:Mf,useState:function(){return Fc(Us)},useDebugValue:Vc,useDeferredValue:function(i){var s=cr();return xf(s,Kt.memoizedState,i)},useTransition:function(){var i=Fc(Us)[0],s=cr().memoizedState;return[i,s]},useMutableSource:Kh,useSyncExternalStore:Hc,useId:op,unstable_isNewReconciler:!1},Bf={readContext:gn,useCallback:np,useContext:gn,useEffect:si,useImperativeHandle:tp,useInsertionEffect:Qn,useLayoutEffect:te,useMemo:rp,useReducer:Uc,useRef:Mf,useState:function(){return Uc(Us)},useDebugValue:Vc,useDeferredValue:function(i){var s=cr();return Kt===null?s.memoizedState=i:xf(s,Kt.memoizedState,i)},useTransition:function(){var i=Uc(Us)[0],s=cr().memoizedState;return[i,s]},useMutableSource:Kh,useSyncExternalStore:Hc,useId:op,unstable_isNewReconciler:!1};function Zn(i,s){if(i&&i.defaultProps){s=Y({},s),i=i.defaultProps;for(var c in i)s[c]===void 0&&(s[c]=i[c]);return s}return s}function Wc(i,s,c,p){s=i.memoizedState,c=c(p,s),c=c==null?s:Y({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var cn={isMounted:function(i){return(i=i._reactInternals)?Ro(i)===i:!1},enqueueSetState:function(i,s,c){i=i._reactInternals;var p=Gn(),f=_o(i),$=ii(p,f);$.payload=s,c!=null&&($.callback=c),s=Mi(i,$,f),s!==null&&(Ur(s,i,f,p),Wl(s,i,f))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var p=Gn(),f=_o(i),$=ii(p,f);$.tag=1,$.payload=s,c!=null&&($.callback=c),s=Mi(i,$,f),s!==null&&(Ur(s,i,f,p),Wl(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=Gn(),p=_o(i),f=ii(c,p);f.tag=2,s!=null&&(f.callback=s),s=Mi(i,f,p),s!==null&&(Ur(s,i,p,c),Wl(s,i,p))}};function Gs(i,s,c,p,f,$,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,$,b):s.prototype&&s.prototype.isPureReactComponent?!Qr(c,p)||!Qr(f,$):!0}function Fr(i,s,c){var p=!1,f=ao,$=s.contextType;return typeof $=="object"&&$!==null?$=gn($):(f=Ln(s)?Ri:Rn.current,p=s.contextTypes,$=(p=p!=null)?Vo(i,f):ao),s=new s(c,$),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=cn,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=$),s}function zc(i,s,c,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==i&&cn.enqueueReplaceState(s,s.state,null)}function aa(i,s,c,p){var f=i.stateNode;f.props=c,f.state=i.memoizedState,f.refs={},ea(i);var $=s.contextType;typeof $=="object"&&$!==null?f.context=gn($):($=Ln(s)?Ri:Rn.current,f.context=Vo(i,$)),f.state=i.memoizedState,$=s.getDerivedStateFromProps,typeof $=="function"&&(Wc(i,s,$,c),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&cn.enqueueReplaceState(f,f.state,null),zl(i,c,f,p),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function ql(i,s){try{var c="",p=s;do c+=Ue(p),p=p.return;while(p);var f=c}catch($){f=`
Error generating stack: `+$.message+`
`+$.stack}return{value:i,source:s,stack:f,digest:null}}function jc(i,s,c){return{value:i,source:null,stack:c??null,digest:s??null}}function Ql(i,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var Ws=typeof WeakMap=="function"?WeakMap:Map;function ca(i,s,c){c=ii(-1,c),c.tag=3,c.payload={element:null};var p=s.value;return c.callback=function(){Qs||(Qs=!0,Nn=p),Ql(i,s)},c}function Xo(i,s,c){c=ii(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var f=s.value;c.payload=function(){return p(f)},c.callback=function(){Ql(i,s)}}var $=i.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(c.callback=function(){Ql(i,s),typeof p!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),c}function Xc(i,s,c){var p=i.pingCache;if(p===null){p=i.pingCache=new Ws;var f=new Set;p.set(s,f)}else f=p.get(s),f===void 0&&(f=new Set,p.set(s,f));f.has(c)||(f.add(c),i=od.bind(null,i,s,c),s.then(i,i))}function up(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function ap(i,s,c,p,f){return i.mode&1?(i.flags|=65536,i.lanes=f,i):(i===s?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=ii(-1,1),s.tag=2,Mi(c,s,1))),c.lanes|=1),i)}var Ff=ae.ReactCurrentOwner,An=!1;function En(i,s,c,p){s.child=i===null?zh(s,null,c,p):Wo(s,i.child,c,p)}function Kc(i,s,c,p,f){c=c.render;var $=s.ref;return Ps(s,f),p=sa(i,s,c,p,$,f),c=la(),i!==null&&!An?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,ui(i,s,f)):(Ot&&c&&Ku(s),s.flags|=1,En(i,s,p,f),s.child)}function cp(i,s,c,p,f){if(i===null){var $=c.type;return typeof $=="function"&&!ts($)&&$.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=$,dp(i,s,$,p,f)):(i=Vi(c.type,null,p,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if($=i.child,!(i.lanes&f)){var b=$.memoizedProps;if(c=c.compare,c=c!==null?c:Qr,c(b,p)&&i.ref===s.ref)return ui(i,s,f)}return s.flags|=1,i=Cr($,p),i.ref=s.ref,i.return=s,s.child=i}function dp(i,s,c,p,f){if(i!==null){var $=i.memoizedProps;if(Qr($,p)&&i.ref===s.ref)if(An=!1,s.pendingProps=p=$,(i.lanes&f)!==0)i.flags&131072&&(An=!0);else return s.lanes=i.lanes,ui(i,s,f)}return Yc(i,s,c,p,f)}function hp(i,s,c){var p=s.pendingProps,f=p.children,$=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Yo,Vn),Vn|=c;else{if(!(c&1073741824))return i=$!==null?$.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,wt(Yo,Vn),Vn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=$!==null?$.baseLanes:c,wt(Yo,Vn),Vn|=p}else $!==null?(p=$.baseLanes|c,s.memoizedState=null):p=c,wt(Yo,Vn),Vn|=p;return En(i,s,f,c),s.child}function Uf(i,s){var c=s.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Yc(i,s,c,p,f){var $=Ln(c)?Ri:Rn.current;return $=Vo(s,$),Ps(s,f),c=sa(i,s,c,p,$,f),p=la(),i!==null&&!An?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,ui(i,s,f)):(Ot&&p&&Ku(s),s.flags|=1,En(i,s,c,f),s.child)}function pp(i,s,c,p,f){if(Ln(c)){var $=!0;ju(s)}else $=!1;if(Ps(s,f),s.stateNode===null)Zl(i,s),Fr(s,c,p),aa(s,c,p,f),p=!0;else if(i===null){var b=s.stateNode,M=s.memoizedProps;b.props=M;var V=b.context,ie=c.contextType;typeof ie=="object"&&ie!==null?ie=gn(ie):(ie=Ln(c)?Ri:Rn.current,ie=Vo(s,ie));var Te=c.getDerivedStateFromProps,ye=typeof Te=="function"||typeof b.getSnapshotBeforeUpdate=="function";ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==p||V!==ie)&&zc(s,b,p,ie),Ni=!1;var $e=s.memoizedState;b.state=$e,zl(s,p,b,f),V=s.memoizedState,M!==p||$e!==V||Un.current||Ni?(typeof Te=="function"&&(Wc(s,c,Te,p),V=s.memoizedState),(M=Ni||Gs(s,c,M,p,$e,V,ie))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=V),b.props=p,b.state=V,b.context=ie,p=M):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{b=s.stateNode,Nc(i,s),M=s.memoizedProps,ie=s.type===s.elementType?M:Zn(s.type,M),b.props=ie,ye=s.pendingProps,$e=b.context,V=c.contextType,typeof V=="object"&&V!==null?V=gn(V):(V=Ln(c)?Ri:Rn.current,V=Vo(s,V));var De=c.getDerivedStateFromProps;(Te=typeof De=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==ye||$e!==V)&&zc(s,b,p,V),Ni=!1,$e=s.memoizedState,b.state=$e,zl(s,p,b,f);var He=s.memoizedState;M!==ye||$e!==He||Un.current||Ni?(typeof De=="function"&&(Wc(s,c,De,p),He=s.memoizedState),(ie=Ni||Gs(s,c,ie,p,$e,He,V)||!1)?(Te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,He,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,He,V)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&$e===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&$e===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=He),b.props=p,b.state=He,b.context=V,p=ie):(typeof b.componentDidUpdate!="function"||M===i.memoizedProps&&$e===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===i.memoizedProps&&$e===i.memoizedState||(s.flags|=1024),p=!1)}return da(i,s,c,p,$,f)}function da(i,s,c,p,f,$){Uf(i,s);var b=(s.flags&128)!==0;if(!p&&!b)return f&&We(s,c,!1),ui(i,s,$);p=s.stateNode,Ff.current=s;var M=b&&typeof c.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&b?(s.child=Wo(s,i.child,null,$),s.child=Wo(s,null,M,$)):En(i,s,M,$),s.memoizedState=p.state,f&&We(s,c,!0),s.child}function ha(i){var s=i.stateNode;s.pendingContext?Uh(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Uh(i,s.context,!1),Pc(i,s.containerInfo)}function fp(i,s,c,p,f){return Di(),Rc(f),s.flags|=256,En(i,s,c,p),s.child}var pa={dehydrated:null,treeContext:null,retryLane:0};function Jc(i){return{baseLanes:i,cachePool:null,transitions:null}}function Hf(i,s,c){var p=s.pendingProps,f=xt.current,$=!1,b=(s.flags&128)!==0,M;if((M=b)||(M=i!==null&&i.memoizedState===null?!1:(f&2)!==0),M?($=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),wt(xt,f&1),i===null)return kc(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(b=p.children,i=p.fallback,$?(p=s.mode,$=s.child,b={mode:"hidden",children:b},!(p&1)&&$!==null?($.childLanes=0,$.pendingProps=b):$=hi(b,p,0,null),i=Eo(i,p,c,null),$.return=s,i.return=s,$.sibling=i,s.child=$,s.child.memoizedState=Jc(c),s.memoizedState=pa,i):qc(s,b));if(f=i.memoizedState,f!==null&&(M=f.dehydrated,M!==null))return go(i,s,b,p,M,f,c);if($){$=p.fallback,b=s.mode,f=i.child,M=f.sibling;var V={mode:"hidden",children:p.children};return!(b&1)&&s.child!==f?(p=s.child,p.childLanes=0,p.pendingProps=V,s.deletions=null):(p=Cr(f,V),p.subtreeFlags=f.subtreeFlags&14680064),M!==null?$=Cr(M,$):($=Eo($,b,c,null),$.flags|=2),$.return=s,p.return=s,p.sibling=$,s.child=p,p=$,$=s.child,b=i.child.memoizedState,b=b===null?Jc(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},$.memoizedState=b,$.childLanes=i.childLanes&~c,s.memoizedState=pa,p}return $=i.child,i=$.sibling,p=Cr($,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=c),p.return=s,p.sibling=null,i!==null&&(c=s.deletions,c===null?(s.deletions=[i],s.flags|=16):c.push(i)),s.child=p,s.memoizedState=null,p}function qc(i,s){return s=hi({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function fa(i,s,c,p){return p!==null&&Rc(p),Wo(s,i.child,null,c),i=qc(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function go(i,s,c,p,f,$,b){if(c)return s.flags&256?(s.flags&=-257,p=jc(Error(o(422))),fa(i,s,b,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):($=p.fallback,f=s.mode,p=hi({mode:"visible",children:p.children},f,0,null),$=Eo($,f,b,null),$.flags|=2,p.return=s,$.return=s,p.sibling=$,s.child=p,s.mode&1&&Wo(s,i.child,null,b),s.child.memoizedState=Jc(b),s.memoizedState=pa,$);if(!(s.mode&1))return fa(i,s,b,null);if(f.data==="$!"){if(p=f.nextSibling&&f.nextSibling.dataset,p)var M=p.dgst;return p=M,$=Error(o(419)),p=jc($,p,void 0),fa(i,s,b,p)}if(M=(b&i.childLanes)!==0,An||M){if(p=yn,p!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(p.suspendedLanes|b)?0:f,f!==0&&f!==$.retryLane&&($.retryLane=f,ri(i,f),Ur(p,i,f,-1))}return nl(),p=jc(Error(o(421))),fa(i,s,b,p)}return f.data==="$?"?(s.flags|=128,s.child=i.child,s=jf.bind(null,i),f._reactRetry=s,null):(i=$.treeContext,ur=uo(f.nextSibling),qn=s,Ot=!0,xr=null,i!==null&&(Yn[Jn++]=Li,Yn[Jn++]=ti,Yn[Jn++]=co,Li=i.id,ti=i.overflow,co=s),s=qc(s,p.children),s.flags|=4096,s)}function gp(i,s,c){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),ar(i.return,s,c)}function li(i,s,c,p,f){var $=i.memoizedState;$===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:f}:($.isBackwards=s,$.rendering=null,$.renderingStartTime=0,$.last=p,$.tail=c,$.tailMode=f)}function At(i,s,c){var p=s.pendingProps,f=p.revealOrder,$=p.tail;if(En(i,s,p.children,c),p=xt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gp(i,c,s);else if(i.tag===19)gp(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(wt(xt,p),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(c=s.child,f=null;c!==null;)i=c.alternate,i!==null&&Yl(i)===null&&(f=c),c=c.sibling;c=f,c===null?(f=s.child,s.child=null):(f=c.sibling,c.sibling=null),li(s,!1,f,c,$);break;case"backwards":for(c=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Yl(i)===null){s.child=f;break}i=f.sibling,f.sibling=c,c=f,f=i}li(s,!0,c,null,$);break;case"together":li(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zl(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ui(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),qs|=s.lanes,!(c&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,c=Cr(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=Cr(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function mp(i,s,c){switch(s.tag){case 3:ha(s),Di();break;case 5:jh(s);break;case 1:Ln(s.type)&&ju(s);break;case 4:Pc(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,f=s.memoizedProps.value;wt(qu,p._currentValue),p._currentValue=f;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(wt(xt,xt.current&1),s.flags|=128,null):c&s.child.childLanes?Hf(i,s,c):(wt(xt,xt.current&1),i=ui(i,s,c),i!==null?i.sibling:null);wt(xt,xt.current&1);break;case 19:if(p=(c&s.childLanes)!==0,i.flags&128){if(p)return At(i,s,c);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),wt(xt,xt.current),p)break;return null;case 22:case 23:return s.lanes=0,hp(i,s,c)}return ui(i,s,c)}var be,zs,ai,dr;be=function(i,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},zs=function(){},ai=function(i,s,c,p){var f=i.memoizedProps;if(f!==p){i=s.stateNode,zo(oi.current);var $=null;switch(c){case"input":f=Zi(i,f),p=Zi(i,p),$=[];break;case"select":f=Y({},f,{value:void 0}),p=Y({},p,{value:void 0}),$=[];break;case"textarea":f=it(i,f),p=it(i,p),$=[];break;default:typeof f.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=xl)}we(c,p);var b;c=null;for(ie in f)if(!p.hasOwnProperty(ie)&&f.hasOwnProperty(ie)&&f[ie]!=null)if(ie==="style"){var M=f[ie];for(b in M)M.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(h.hasOwnProperty(ie)?$||($=[]):($=$||[]).push(ie,null));for(ie in p){var V=p[ie];if(M=f!=null?f[ie]:void 0,p.hasOwnProperty(ie)&&V!==M&&(V!=null||M!=null))if(ie==="style")if(M){for(b in M)!M.hasOwnProperty(b)||V&&V.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in V)V.hasOwnProperty(b)&&M[b]!==V[b]&&(c||(c={}),c[b]=V[b])}else c||($||($=[]),$.push(ie,c)),c=V;else ie==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,M=M?M.__html:void 0,V!=null&&M!==V&&($=$||[]).push(ie,V)):ie==="children"?typeof V!="string"&&typeof V!="number"||($=$||[]).push(ie,""+V):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(h.hasOwnProperty(ie)?(V!=null&&ie==="onScroll"&&Rt("scroll",i),$||M===V||($=[])):($=$||[]).push(ie,V))}c&&($=$||[]).push("style",c);var ie=$;(s.updateQueue=ie)&&(s.flags|=4)}},dr=function(i,s,c,p){c!==p&&(s.flags|=4)};function br(i,s){if(!Ot)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Dt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(s)for(var f=i.child;f!==null;)c|=f.lanes|f.childLanes,p|=f.subtreeFlags&14680064,p|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)c|=f.lanes|f.childLanes,p|=f.subtreeFlags,p|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=p,i.childLanes=c,s}function $p(i,s,c){var p=s.pendingProps;switch(Cc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Ln(s.type)&&zu(),Dt(s),null;case 3:return p=s.stateNode,po(),vt(Un),vt(Rn),na(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Yu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,xr!==null&&(rd(xr),xr=null))),zs(i,s),Dt(s),null;case 5:Bc(s);var f=zo(Kl.current);if(c=s.type,i!==null&&s.stateNode!=null)ai(i,s,c,p,f),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(o(166));return Dt(s),null}if(i=zo(oi.current),Yu(s)){p=s.stateNode,c=s.type;var $=s.memoizedProps;switch(p[$r]=s,p[Ns]=$,i=(s.mode&1)!==0,c){case"dialog":Rt("cancel",p),Rt("close",p);break;case"iframe":case"object":case"embed":Rt("load",p);break;case"video":case"audio":for(f=0;f<As.length;f++)Rt(As[f],p);break;case"source":Rt("error",p);break;case"img":case"image":case"link":Rt("error",p),Rt("load",p);break;case"details":Rt("toggle",p);break;case"input":wn(p,$),Rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!$.multiple},Rt("invalid",p);break;case"textarea":Kr(p,$),Rt("invalid",p)}we(c,$),f=null;for(var b in $)if($.hasOwnProperty(b)){var M=$[b];b==="children"?typeof M=="string"?p.textContent!==M&&($.suppressHydrationWarning!==!0&&ki(p.textContent,M,i),f=["children",M]):typeof M=="number"&&p.textContent!==""+M&&($.suppressHydrationWarning!==!0&&ki(p.textContent,M,i),f=["children",""+M]):h.hasOwnProperty(b)&&M!=null&&b==="onScroll"&&Rt("scroll",p)}switch(c){case"input":Ct(p),pr(p,$,!0);break;case"textarea":Ct(p),$n(p);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(p.onclick=xl)}p=f,s.updateQueue=p,p!==null&&(s.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Rr(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=b.createElement(c,{is:p.is}):(i=b.createElement(c),c==="select"&&(b=i,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):i=b.createElementNS(i,c),i[$r]=s,i[Ns]=p,be(i,s,!1,!1),s.stateNode=i;e:{switch(b=_t(c,p),c){case"dialog":Rt("cancel",i),Rt("close",i),f=p;break;case"iframe":case"object":case"embed":Rt("load",i),f=p;break;case"video":case"audio":for(f=0;f<As.length;f++)Rt(As[f],i);f=p;break;case"source":Rt("error",i),f=p;break;case"img":case"image":case"link":Rt("error",i),Rt("load",i),f=p;break;case"details":Rt("toggle",i),f=p;break;case"input":wn(i,p),f=Zi(i,p),Rt("invalid",i);break;case"option":f=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},f=Y({},p,{value:void 0}),Rt("invalid",i);break;case"textarea":Kr(i,p),f=it(i,p),Rt("invalid",i);break;default:f=p}we(c,f),M=f;for($ in M)if(M.hasOwnProperty($)){var V=M[$];$==="style"?W(i,V):$==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&ko(i,V)):$==="children"?typeof V=="string"?(c!=="textarea"||V!=="")&&le(i,V):typeof V=="number"&&le(i,""+V):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(h.hasOwnProperty($)?V!=null&&$==="onScroll"&&Rt("scroll",i):V!=null&&ne(i,$,V,b))}switch(c){case"input":Ct(i),pr(i,p,!1);break;case"textarea":Ct(i),$n(i);break;case"option":p.value!=null&&i.setAttribute("value",""+qe(p.value));break;case"select":i.multiple=!!p.multiple,$=p.value,$!=null?st(i,!!p.multiple,$,!1):p.defaultValue!=null&&st(i,!!p.multiple,p.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=xl)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(i&&s.stateNode!=null)dr(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(o(166));if(c=zo(Kl.current),zo(oi.current),Yu(s)){if(p=s.stateNode,c=s.memoizedProps,p[$r]=s,($=p.nodeValue!==c)&&(i=qn,i!==null))switch(i.tag){case 3:ki(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ki(p.nodeValue,c,(i.mode&1)!==0)}$&&(s.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[$r]=s,s.stateNode=p}return Dt(s),null;case 13:if(vt(xt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ot&&ur!==null&&s.mode&1&&!(s.flags&128))Ul(),Di(),s.flags|=98560,$=!1;else if($=Yu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!$)throw Error(o(318));if($=s.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(o(317));$[$r]=s}else Di(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Dt(s),$=!1}else xr!==null&&(rd(xr),xr=null),$=!0;if(!$)return s.flags&65536?s:null}return s.flags&128?(s.lanes=c,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||xt.current&1?nn===0&&(nn=3):nl())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return po(),zs(i,s),i===null&&lo(s.stateNode.containerInfo),Dt(s),null;case 10:return Vl(s.type._context),Dt(s),null;case 17:return Ln(s.type)&&zu(),Dt(s),null;case 19:if(vt(xt),$=s.memoizedState,$===null)return Dt(s),null;if(p=(s.flags&128)!==0,b=$.rendering,b===null)if(p)br($,!1);else{if(nn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(b=Yl(i),b!==null){for(s.flags|=128,br($,!1),p=b.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=c,c=s.child;c!==null;)$=c,i=p,$.flags&=14680066,b=$.alternate,b===null?($.childLanes=0,$.lanes=i,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=b.childLanes,$.lanes=b.lanes,$.child=b.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=b.memoizedProps,$.memoizedState=b.memoizedState,$.updateQueue=b.updateQueue,$.type=b.type,i=b.dependencies,$.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return wt(xt,xt.current&1|2),s.child}i=i.sibling}$.tail!==null&&jt()>Jo&&(s.flags|=128,p=!0,br($,!1),s.lanes=4194304)}else{if(!p)if(i=Yl(b),i!==null){if(s.flags|=128,p=!0,c=i.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),br($,!0),$.tail===null&&$.tailMode==="hidden"&&!b.alternate&&!Ot)return Dt(s),null}else 2*jt()-$.renderingStartTime>Jo&&c!==1073741824&&(s.flags|=128,p=!0,br($,!1),s.lanes=4194304);$.isBackwards?(b.sibling=s.child,s.child=b):(c=$.last,c!==null?c.sibling=b:s.child=b,$.last=b)}return $.tail!==null?(s=$.tail,$.rendering=s,$.tail=s.sibling,$.renderingStartTime=jt(),s.sibling=null,c=xt.current,wt(xt,p?c&1|2:c&1),s):(Dt(s),null);case 22:case 23:return id(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Vn&1073741824&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(o(156,s.tag))}function Qc(i,s){switch(Cc(s),s.tag){case 1:return Ln(s.type)&&zu(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return po(),vt(Un),vt(Rn),na(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Bc(s),null;case 13:if(vt(xt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Di()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return vt(xt),null;case 4:return po(),null;case 10:return Vl(s.type._context),null;case 22:case 23:return id(),null;case 24:return null;default:return null}}var ln=!1,X=!1,ft=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function js(i,s){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Pt(i,s,p)}else c.current=null}function Pi(i,s,c){try{c()}catch(p){Pt(i,s,p)}}var _p=!1;function Vf(i,s){if(Tc=Su,i=Xt(),dc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var f=p.anchorOffset,$=p.focusNode;p=p.focusOffset;try{c.nodeType,$.nodeType}catch{c=null;break e}var b=0,M=-1,V=-1,ie=0,Te=0,ye=i,$e=null;t:for(;;){for(var De;ye!==c||f!==0&&ye.nodeType!==3||(M=b+f),ye!==$||p!==0&&ye.nodeType!==3||(V=b+p),ye.nodeType===3&&(b+=ye.nodeValue.length),(De=ye.firstChild)!==null;)$e=ye,ye=De;for(;;){if(ye===i)break t;if($e===c&&++ie===f&&(M=b),$e===$&&++Te===p&&(V=b),(De=ye.nextSibling)!==null)break;ye=$e,$e=ye.parentNode}ye=De}c=M===-1||V===-1?null:{start:M,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ec={focusedElem:i,selectionRange:c},Su=!1,Ee=s;Ee!==null;)if(s=Ee,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ee=i;else for(;Ee!==null;){s=Ee;try{var He=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var ze=He.memoizedProps,Wt=He.memoizedState,q=s.stateNode,F=q.getSnapshotBeforeUpdate(s.elementType===s.type?ze:Zn(s.type,ze),Wt);q.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var Z=s.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){Pt(s,s.return,Ce)}if(i=s.sibling,i!==null){i.return=s.return,Ee=i;break}Ee=s.return}return He=_p,_p=!1,He}function ga(i,s,c){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var f=p=p.next;do{if((f.tag&i)===i){var $=f.destroy;f.destroy=void 0,$!==void 0&&Pi(s,c,$)}f=f.next}while(f!==p)}}function Bi(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==s)}}function Vt(i){var s=i.ref;if(s!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof s=="function"?s(i):s.current=i}}function ma(i){var s=i.alternate;s!==null&&(i.alternate=null,ma(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[$r],delete s[Ns],delete s[Gu],delete s[Fh],delete s[Bl])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Zc(i){return i.tag===5||i.tag===3||i.tag===4}function $a(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Zc(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xs(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(i,s):c.insertBefore(i,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(i,c)):(s=c,s.appendChild(i)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=xl));else if(p!==4&&(i=i.child,i!==null))for(Xs(i,s,c),i=i.sibling;i!==null;)Xs(i,s,c),i=i.sibling}function Ks(i,s,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Ks(i,s,c),i=i.sibling;i!==null;)Ks(i,s,c),i=i.sibling}var bn=null,ci=!1;function yr(i,s,c){for(c=c.child;c!==null;)ed(i,s,c),c=c.sibling}function ed(i,s,c){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Ao,c)}catch{}switch(c.tag){case 5:X||js(c,s);case 6:var p=bn,f=ci;bn=null,yr(i,s,c),bn=p,ci=f,bn!==null&&(ci?(i=bn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):bn.removeChild(c.stateNode));break;case 18:bn!==null&&(ci?(i=bn,c=c.stateNode,i.nodeType===8?Pl(i.parentNode,c):i.nodeType===1&&Pl(i,c),Cl(i)):Pl(bn,c.stateNode));break;case 4:p=bn,f=ci,bn=c.stateNode.containerInfo,ci=!0,yr(i,s,c),bn=p,ci=f;break;case 0:case 11:case 14:case 15:if(!X&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){f=p=p.next;do{var $=f,b=$.destroy;$=$.tag,b!==void 0&&($&2||$&4)&&Pi(c,s,b),f=f.next}while(f!==p)}yr(i,s,c);break;case 1:if(!X&&(js(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(M){Pt(c,s,M)}yr(i,s,c);break;case 21:yr(i,s,c);break;case 22:c.mode&1?(X=(p=X)||c.memoizedState!==null,yr(i,s,c),X=p):yr(i,s,c);break;default:yr(i,s,c)}}function Tp(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new ft),s.forEach(function(p){var f=Sp.bind(null,i,p);c.has(p)||(c.add(p),p.then(f,f))})}}function Ke(i,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var f=c[p];try{var $=i,b=s,M=b;e:for(;M!==null;){switch(M.tag){case 5:bn=M.stateNode,ci=!1;break e;case 3:bn=M.stateNode.containerInfo,ci=!0;break e;case 4:bn=M.stateNode.containerInfo,ci=!0;break e}M=M.return}if(bn===null)throw Error(o(160));ed($,b,f),bn=null,ci=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(ie){Pt(f,s,ie)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ep(s,i),s=s.sibling}function Ep(i,s){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ke(s,i),Dn(i),p&4){try{ga(3,i,i.return),Bi(3,i)}catch(ze){Pt(i,i.return,ze)}try{ga(5,i,i.return)}catch(ze){Pt(i,i.return,ze)}}break;case 1:Ke(s,i),Dn(i),p&512&&c!==null&&js(c,c.return);break;case 5:if(Ke(s,i),Dn(i),p&512&&c!==null&&js(c,c.return),i.flags&32){var f=i.stateNode;try{le(f,"")}catch(ze){Pt(i,i.return,ze)}}if(p&4&&(f=i.stateNode,f!=null)){var $=i.memoizedProps,b=c!==null?c.memoizedProps:$,M=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{M==="input"&&$.type==="radio"&&$.name!=null&&Qt(f,$),_t(M,b);var ie=_t(M,$);for(b=0;b<V.length;b+=2){var Te=V[b],ye=V[b+1];Te==="style"?W(f,ye):Te==="dangerouslySetInnerHTML"?ko(f,ye):Te==="children"?le(f,ye):ne(f,Te,ye,ie)}switch(M){case"input":Xr(f,$);break;case"textarea":kn(f,$);break;case"select":var $e=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!$.multiple;var De=$.value;De!=null?st(f,!!$.multiple,De,!1):$e!==!!$.multiple&&($.defaultValue!=null?st(f,!!$.multiple,$.defaultValue,!0):st(f,!!$.multiple,$.multiple?[]:"",!1))}f[Ns]=$}catch(ze){Pt(i,i.return,ze)}}break;case 6:if(Ke(s,i),Dn(i),p&4){if(i.stateNode===null)throw Error(o(162));f=i.stateNode,$=i.memoizedProps;try{f.nodeValue=$}catch(ze){Pt(i,i.return,ze)}}break;case 3:if(Ke(s,i),Dn(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(ze){Pt(i,i.return,ze)}break;case 4:Ke(s,i),Dn(i);break;case 13:Ke(s,i),Dn(i),f=i.child,f.flags&8192&&($=f.memoizedState!==null,f.stateNode.isHidden=$,!$||f.alternate!==null&&f.alternate.memoizedState!==null||(Ta=jt())),p&4&&Tp(i);break;case 22:if(Te=c!==null&&c.memoizedState!==null,i.mode&1?(X=(ie=X)||Te,Ke(s,i),X=ie):Ke(s,i),Dn(i),p&8192){if(ie=i.memoizedState!==null,(i.stateNode.isHidden=ie)&&!Te&&i.mode&1)for(Ee=i,Te=i.child;Te!==null;){for(ye=Ee=Te;Ee!==null;){switch($e=Ee,De=$e.child,$e.tag){case 0:case 11:case 14:case 15:ga(4,$e,$e.return);break;case 1:js($e,$e.return);var He=$e.stateNode;if(typeof He.componentWillUnmount=="function"){p=$e,c=$e.return;try{s=p,He.props=s.memoizedProps,He.state=s.memoizedState,He.componentWillUnmount()}catch(ze){Pt(p,c,ze)}}break;case 5:js($e,$e.return);break;case 22:if($e.memoizedState!==null){Ko(ye);continue}}De!==null?(De.return=$e,Ee=De):Ko(ye)}Te=Te.sibling}e:for(Te=null,ye=i;;){if(ye.tag===5){if(Te===null){Te=ye;try{f=ye.stateNode,ie?($=f.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(M=ye.stateNode,V=ye.memoizedProps.style,b=V!=null&&V.hasOwnProperty("display")?V.display:null,M.style.display=S("display",b))}catch(ze){Pt(i,i.return,ze)}}}else if(ye.tag===6){if(Te===null)try{ye.stateNode.nodeValue=ie?"":ye.memoizedProps}catch(ze){Pt(i,i.return,ze)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===i)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===i)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===i)break e;Te===ye&&(Te=null),ye=ye.return}Te===ye&&(Te=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ke(s,i),Dn(i),p&4&&Tp(i);break;case 21:break;default:Ke(s,i),Dn(i)}}function Dn(i){var s=i.flags;if(s&2){try{e:{for(var c=i.return;c!==null;){if(Zc(c)){var p=c;break e}c=c.return}throw Error(o(160))}switch(p.tag){case 5:var f=p.stateNode;p.flags&32&&(le(f,""),p.flags&=-33);var $=$a(i);Ks(i,$,f);break;case 3:case 4:var b=p.stateNode.containerInfo,M=$a(i);Xs(i,M,b);break;default:throw Error(o(161))}}catch(V){Pt(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function mo(i,s,c){Ee=i,Ys(i)}function Ys(i,s,c){for(var p=(i.mode&1)!==0;Ee!==null;){var f=Ee,$=f.child;if(f.tag===22&&p){var b=f.memoizedState!==null||ln;if(!b){var M=f.alternate,V=M!==null&&M.memoizedState!==null||X;M=ln;var ie=X;if(ln=b,(X=V)&&!ie)for(Ee=f;Ee!==null;)b=Ee,V=b.child,b.tag===22&&b.memoizedState!==null?Hn(f):V!==null?(V.return=b,Ee=V):Hn(f);for(;$!==null;)Ee=$,Ys($),$=$.sibling;Ee=f,ln=M,X=ie}$o(i)}else f.subtreeFlags&8772&&$!==null?($.return=f,Ee=$):$o(i)}}function $o(i){for(;Ee!==null;){var s=Ee;if(s.flags&8772){var c=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:X||Bi(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!X)if(c===null)p.componentDidMount();else{var f=s.elementType===s.type?c.memoizedProps:Zn(s.type,c.memoizedProps);p.componentDidUpdate(f,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var $=s.updateQueue;$!==null&&xc(s,$,p);break;case 3:var b=s.updateQueue;if(b!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}xc(s,b,c)}break;case 5:var M=s.stateNode;if(c===null&&s.flags&4){c=M;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&c.focus();break;case"img":V.src&&(c.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ie=s.alternate;if(ie!==null){var Te=ie.memoizedState;if(Te!==null){var ye=Te.dehydrated;ye!==null&&Cl(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}X||s.flags&512&&Vt(s)}catch($e){Pt(s,s.return,$e)}}if(s===i){Ee=null;break}if(c=s.sibling,c!==null){c.return=s.return,Ee=c;break}Ee=s.return}}function Ko(i){for(;Ee!==null;){var s=Ee;if(s===i){Ee=null;break}var c=s.sibling;if(c!==null){c.return=s.return,Ee=c;break}Ee=s.return}}function Hn(i){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Bi(4,s)}catch(V){Pt(s,c,V)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var f=s.return;try{p.componentDidMount()}catch(V){Pt(s,f,V)}}var $=s.return;try{Vt(s)}catch(V){Pt(s,$,V)}break;case 5:var b=s.return;try{Vt(s)}catch(V){Pt(s,b,V)}}}catch(V){Pt(s,s.return,V)}if(s===i){Ee=null;break}var M=s.sibling;if(M!==null){M.return=s.return,Ee=M;break}Ee=s.return}}var Gf=Math.ceil,_a=ae.ReactCurrentDispatcher,td=ae.ReactCurrentOwner,vr=ae.ReactCurrentBatchConfig,lt=0,yn=null,tn=null,vn=0,Vn=0,Yo=Oi(0),nn=0,Js=null,qs=0,nd=0,Sr=0,Yt=null,Sn=null,Ta=0,Jo=1/0,Ir=null,Qs=!1,Nn=null,qo=null,Zs=!1,Fi=null,eu=0,Ui=0,Ea=null,ba=-1,el=0;function Gn(){return lt&6?jt():ba!==-1?ba:ba=jt()}function _o(i){return i.mode&1?lt&2&&vn!==0?vn&-vn:Wh.transition!==null?(el===0&&(el=Xa()),el):(i=ct,i!==0||(i=window.event,i=i===void 0?16:Si(i.type)),i):1}function Ur(i,s,c,p){if(50<Ui)throw Ui=0,Ea=null,Error(o(185));_s(i,c,p),(!(lt&2)||i!==yn)&&(i===yn&&(!(lt&2)&&(nd|=c),nn===4&&Hi(i,vn)),er(i,p),c===1&&lt===0&&!(s.mode&1)&&(Jo=jt()+500,en&&Ae()))}function er(i,s){var c=i.callbackNode;Xd(i,s);var p=Dr(i,i===yn?vn:0);if(p===0)c!==null&&zd(c),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(c!=null&&zd(c),s===1)i.tag===0?Fl(tu.bind(null,i)):Zr(tu.bind(null,i)),Df(function(){!(lt&6)&&Ae()}),c=null;else{switch(Kd(p)){case 1:c=yl;break;case 4:c=Eu;break;case 16:c=Lo;break;case 536870912:c=$s;break;default:c=Lo}c=sd(c,Qo.bind(null,i))}i.callbackPriority=s,i.callbackNode=c}}function Qo(i,s){if(ba=-1,el=0,lt&6)throw Error(o(327));var c=i.callbackNode;if(Hr()&&i.callbackNode!==c)return null;var p=Dr(i,i===yn?vn:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Ia(i,p);else{s=p;var f=lt;lt|=2;var $=bp();(yn!==i||vn!==s)&&(Ir=null,Jo=jt()+500,rn(i,s));do try{zf();break}catch(M){tl(i,M)}while(!0);Ac(),_a.current=$,lt=f,tn!==null?s=0:(yn=null,vn=0,s=nn)}if(s!==0){if(s===2&&(f=Sl(i),f!==0&&(p=f,s=ya(i,f))),s===1)throw c=Js,rn(i,0),Hi(i,p),er(i,jt()),c;if(s===6)Hi(i,p);else{if(f=i.current.alternate,!(p&30)&&!va(f)&&(s=Ia(i,p),s===2&&($=Sl(i),$!==0&&(p=$,s=ya(i,$))),s===1))throw c=Js,rn(i,0),Hi(i,p),er(i,jt()),c;switch(i.finishedWork=f,i.finishedLanes=p,s){case 0:case 1:throw Error(o(345));case 2:di(i,Sn,Ir);break;case 3:if(Hi(i,p),(p&130023424)===p&&(s=Ta+500-jt(),10<s)){if(Dr(i,0)!==0)break;if(f=i.suspendedLanes,(f&p)!==p){Gn(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=yc(di.bind(null,i,Sn,Ir),s);break}di(i,Sn,Ir);break;case 4:if(Hi(i,p),(p&4194240)===p)break;for(s=i.eventTimes,f=-1;0<p;){var b=31-Ar(p);$=1<<b,b=s[b],b>f&&(f=b),p&=~$}if(p=f,p=jt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Gf(p/1960))-p,10<p){i.timeoutHandle=yc(di.bind(null,i,Sn,Ir),p);break}di(i,Sn,Ir);break;case 5:di(i,Sn,Ir);break;default:throw Error(o(329))}}}return er(i,jt()),i.callbackNode===c?Qo.bind(null,i):null}function ya(i,s){var c=Yt;return i.current.memoizedState.isDehydrated&&(rn(i,s).flags|=256),i=Ia(i,s),i!==2&&(s=Sn,Sn=c,s!==null&&rd(s)),i}function rd(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function va(i){for(var s=i;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var f=c[p],$=f.getSnapshot;f=f.value;try{if(!lr($(),f))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hi(i,s){for(s&=~Sr,s&=~nd,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var c=31-Ar(s),p=1<<c;i[c]=-1,s&=~p}}function tu(i){if(lt&6)throw Error(o(327));Hr();var s=Dr(i,0);if(!(s&1))return er(i,jt()),null;var c=Ia(i,s);if(i.tag!==0&&c===2){var p=Sl(i);p!==0&&(s=p,c=ya(i,p))}if(c===1)throw c=Js,rn(i,0),Hi(i,s),er(i,jt()),c;if(c===6)throw Error(o(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,di(i,Sn,Ir),er(i,jt()),null}function Sa(i,s){var c=lt;lt|=1;try{return i(s)}finally{lt=c,lt===0&&(Jo=jt()+500,en&&Ae())}}function To(i){Fi!==null&&Fi.tag===0&&!(lt&6)&&Hr();var s=lt;lt|=1;var c=vr.transition,p=ct;try{if(vr.transition=null,ct=1,i)return i()}finally{ct=p,vr.transition=c,lt=s,!(lt&6)&&Ae()}}function id(){Vn=Yo.current,vt(Yo)}function rn(i,s){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Af(c)),tn!==null)for(c=tn.return;c!==null;){var p=c;switch(Cc(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&zu();break;case 3:po(),vt(Un),vt(Rn),na();break;case 5:Bc(p);break;case 4:po();break;case 13:vt(xt);break;case 19:vt(xt);break;case 10:Vl(p.type._context);break;case 22:case 23:id()}c=c.return}if(yn=i,tn=i=Cr(i.current,null),vn=Vn=s,nn=0,Js=null,Sr=nd=qs=0,Sn=Yt=null,ho!==null){for(s=0;s<ho.length;s++)if(c=ho[s],p=c.interleaved,p!==null){c.interleaved=null;var f=p.next,$=c.pending;if($!==null){var b=$.next;$.next=f,p.next=b}c.pending=p}ho=null}return i}function tl(i,s){do{var c=tn;try{if(Ac(),Jl.current=jo,ia){for(var p=Lt.memoizedState;p!==null;){var f=p.queue;f!==null&&(f.pending=null),p=p.next}ia=!1}if(fo=0,an=Kt=Lt=null,Bs=!1,Fs=0,td.current=null,c===null||c.return===null){nn=1,Js=s,tn=null;break}e:{var $=i,b=c.return,M=c,V=s;if(s=vn,M.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=V,Te=M,ye=Te.tag;if(!(Te.mode&1)&&(ye===0||ye===11||ye===15)){var $e=Te.alternate;$e?(Te.updateQueue=$e.updateQueue,Te.memoizedState=$e.memoizedState,Te.lanes=$e.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var De=up(b);if(De!==null){De.flags&=-257,ap(De,b,M,$,s),De.mode&1&&Xc($,ie,s),s=De,V=ie;var He=s.updateQueue;if(He===null){var ze=new Set;ze.add(V),s.updateQueue=ze}else He.add(V);break e}else{if(!(s&1)){Xc($,ie,s),nl();break e}V=Error(o(426))}}else if(Ot&&M.mode&1){var Wt=up(b);if(Wt!==null){!(Wt.flags&65536)&&(Wt.flags|=256),ap(Wt,b,M,$,s),Rc(ql(V,M));break e}}$=V=ql(V,M),nn!==4&&(nn=2),Yt===null?Yt=[$]:Yt.push($),$=b;do{switch($.tag){case 3:$.flags|=65536,s&=-s,$.lanes|=s;var q=ca($,V,s);Mc($,q);break e;case 1:M=V;var F=$.type,Z=$.stateNode;if(!($.flags&128)&&(typeof F.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(qo===null||!qo.has(Z)))){$.flags|=65536,s&=-s,$.lanes|=s;var Ce=Xo($,M,s);Mc($,Ce);break e}}$=$.return}while($!==null)}yp(c)}catch(Xe){s=Xe,tn===c&&c!==null&&(tn=c=c.return);continue}break}while(!0)}function bp(){var i=_a.current;return _a.current=jo,i===null?jo:i}function nl(){(nn===0||nn===3||nn===2)&&(nn=4),yn===null||!(qs&268435455)&&!(nd&268435455)||Hi(yn,vn)}function Ia(i,s){var c=lt;lt|=2;var p=bp();(yn!==i||vn!==s)&&(Ir=null,rn(i,s));do try{Wf();break}catch(f){tl(i,f)}while(!0);if(Ac(),lt=c,_a.current=p,tn!==null)throw Error(o(261));return yn=null,vn=0,nn}function Wf(){for(;tn!==null;)Zo(tn)}function zf(){for(;tn!==null&&!za();)Zo(tn)}function Zo(i){var s=Ca(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,s===null?yp(i):tn=s,td.current=null}function yp(i){var s=i;do{var c=s.alternate;if(i=s.return,s.flags&32768){if(c=Qc(c,s),c!==null){c.flags&=32767,tn=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{nn=6,tn=null;return}}else if(c=$p(c,s,Vn),c!==null){tn=c;return}if(s=s.sibling,s!==null){tn=s;return}tn=s=i}while(s!==null);nn===0&&(nn=5)}function di(i,s,c){var p=ct,f=vr.transition;try{vr.transition=null,ct=1,dn(i,s,c,p)}finally{vr.transition=f,ct=p}return null}function dn(i,s,c,p){do Hr();while(Fi!==null);if(lt&6)throw Error(o(327));c=i.finishedWork;var f=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(o(177));i.callbackNode=null,i.callbackPriority=0;var $=c.lanes|c.childLanes;if(bu(i,$),i===yn&&(tn=yn=null,vn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Zs||(Zs=!0,sd(Lo,function(){return Hr(),null})),$=(c.flags&15990)!==0,c.subtreeFlags&15990||$){$=vr.transition,vr.transition=null;var b=ct;ct=1;var M=lt;lt|=4,td.current=null,Vf(i,c),Ep(c,i),Al(Ec),Su=!!Tc,Ec=Tc=null,i.current=c,mo(c),jd(),lt=M,ct=b,vr.transition=$}else i.current=c;if(Zs&&(Zs=!1,Fi=i,eu=f),$=i.pendingLanes,$===0&&(qo=null),Tf(c.stateNode),er(i,jt()),s!==null)for(p=i.onRecoverableError,c=0;c<s.length;c++)f=s[c],p(f.value,{componentStack:f.stack,digest:f.digest});if(Qs)throw Qs=!1,i=Nn,Nn=null,i;return eu&1&&i.tag!==0&&Hr(),$=i.pendingLanes,$&1?i===Ea?Ui++:(Ui=0,Ea=i):Ui=0,Ae(),null}function Hr(){if(Fi!==null){var i=Kd(eu),s=vr.transition,c=ct;try{if(vr.transition=null,ct=16>i?16:i,Fi===null)var p=!1;else{if(i=Fi,Fi=null,eu=0,lt&6)throw Error(o(331));var f=lt;for(lt|=4,Ee=i.current;Ee!==null;){var $=Ee,b=$.child;if(Ee.flags&16){var M=$.deletions;if(M!==null){for(var V=0;V<M.length;V++){var ie=M[V];for(Ee=ie;Ee!==null;){var Te=Ee;switch(Te.tag){case 0:case 11:case 15:ga(8,Te,$)}var ye=Te.child;if(ye!==null)ye.return=Te,Ee=ye;else for(;Ee!==null;){Te=Ee;var $e=Te.sibling,De=Te.return;if(ma(Te),Te===ie){Ee=null;break}if($e!==null){$e.return=De,Ee=$e;break}Ee=De}}}var He=$.alternate;if(He!==null){var ze=He.child;if(ze!==null){He.child=null;do{var Wt=ze.sibling;ze.sibling=null,ze=Wt}while(ze!==null)}}Ee=$}}if($.subtreeFlags&2064&&b!==null)b.return=$,Ee=b;else e:for(;Ee!==null;){if($=Ee,$.flags&2048)switch($.tag){case 0:case 11:case 15:ga(9,$,$.return)}var q=$.sibling;if(q!==null){q.return=$.return,Ee=q;break e}Ee=$.return}}var F=i.current;for(Ee=F;Ee!==null;){b=Ee;var Z=b.child;if(b.subtreeFlags&2064&&Z!==null)Z.return=b,Ee=Z;else e:for(b=F;Ee!==null;){if(M=Ee,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:Bi(9,M)}}catch(Xe){Pt(M,M.return,Xe)}if(M===b){Ee=null;break e}var Ce=M.sibling;if(Ce!==null){Ce.return=M.return,Ee=Ce;break e}Ee=M.return}}if(lt=f,Ae(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Ao,i)}catch{}p=!0}return p}finally{ct=c,vr.transition=s}}return!1}function es(i,s,c){s=ql(c,s),s=ca(i,s,1),i=Mi(i,s,1),s=Gn(),i!==null&&(_s(i,1,s),er(i,s))}function Pt(i,s,c){if(i.tag===3)es(i,i,c);else for(;s!==null;){if(s.tag===3){es(s,i,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(qo===null||!qo.has(p))){i=ql(c,i),i=Xo(s,i,1),s=Mi(s,i,1),i=Gn(),s!==null&&(_s(s,1,i),er(s,i));break}}s=s.return}}function od(i,s,c){var p=i.pingCache;p!==null&&p.delete(s),s=Gn(),i.pingedLanes|=i.suspendedLanes&c,yn===i&&(vn&c)===c&&(nn===4||nn===3&&(vn&130023424)===vn&&500>jt()-Ta?rn(i,0):Sr|=c),er(i,s)}function vp(i,s){s===0&&(i.mode&1?(s=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):s=1);var c=Gn();i=ri(i,s),i!==null&&(_s(i,s,c),er(i,c))}function jf(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),vp(i,c)}function Sp(i,s){var c=0;switch(i.tag){case 13:var p=i.stateNode,f=i.memoizedState;f!==null&&(c=f.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(o(314))}p!==null&&p.delete(s),vp(i,c)}var Ca;Ca=function(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps||Un.current)An=!0;else{if(!(i.lanes&c)&&!(s.flags&128))return An=!1,mp(i,s,c);An=!!(i.flags&131072)}else An=!1,Ot&&s.flags&1048576&&Ic(s,ei,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Zl(i,s),i=s.pendingProps;var f=Vo(s,Rn.current);Ps(s,c),f=sa(null,s,p,i,f,c);var $=la();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ln(p)?($=!0,ju(s)):$=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ea(s),f.updater=cn,s.stateNode=f,f._reactInternals=s,aa(s,p,i,c),s=da(null,s,p,!0,$,c)):(s.tag=0,Ot&&$&&Ku(s),En(null,s,f,c),s=s.child),s;case 16:p=s.elementType;e:{switch(Zl(i,s),i=s.pendingProps,f=p._init,p=f(p._payload),s.type=p,f=s.tag=ut(p),i=Zn(p,i),f){case 0:s=Yc(null,s,p,i,c);break e;case 1:s=pp(null,s,p,i,c);break e;case 11:s=Kc(null,s,p,i,c);break e;case 14:s=cp(null,s,p,Zn(p.type,i),c);break e}throw Error(o(306,p,""))}return s;case 0:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),Yc(i,s,p,f,c);case 1:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),pp(i,s,p,f,c);case 3:e:{if(ha(s),i===null)throw Error(o(387));p=s.pendingProps,$=s.memoizedState,f=$.element,Nc(i,s),zl(s,p,null,c);var b=s.memoizedState;if(p=b.element,$.isDehydrated)if($={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=$,s.memoizedState=$,s.flags&256){f=ql(Error(o(423)),s),s=fp(i,s,p,c,f);break e}else if(p!==f){f=ql(Error(o(424)),s),s=fp(i,s,p,c,f);break e}else for(ur=uo(s.stateNode.containerInfo.firstChild),qn=s,Ot=!0,xr=null,c=zh(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Di(),p===f){s=ui(i,s,c);break e}En(i,s,p,c)}s=s.child}return s;case 5:return jh(s),i===null&&kc(s),p=s.type,f=s.pendingProps,$=i!==null?i.memoizedProps:null,b=f.children,bc(p,f)?b=null:$!==null&&bc(p,$)&&(s.flags|=32),Uf(i,s),En(i,s,b,c),s.child;case 6:return i===null&&kc(s),null;case 13:return Hf(i,s,c);case 4:return Pc(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Wo(s,null,p,c):En(i,s,p,c),s.child;case 11:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),Kc(i,s,p,f,c);case 7:return En(i,s,s.pendingProps,c),s.child;case 8:return En(i,s,s.pendingProps.children,c),s.child;case 12:return En(i,s,s.pendingProps.children,c),s.child;case 10:e:{if(p=s.type._context,f=s.pendingProps,$=s.memoizedProps,b=f.value,wt(qu,p._currentValue),p._currentValue=b,$!==null)if(lr($.value,b)){if($.children===f.children&&!Un.current){s=ui(i,s,c);break e}}else for($=s.child,$!==null&&($.return=s);$!==null;){var M=$.dependencies;if(M!==null){b=$.child;for(var V=M.firstContext;V!==null;){if(V.context===p){if($.tag===1){V=ii(-1,c&-c),V.tag=2;var ie=$.updateQueue;if(ie!==null){ie=ie.shared;var Te=ie.pending;Te===null?V.next=V:(V.next=Te.next,Te.next=V),ie.pending=V}}$.lanes|=c,V=$.alternate,V!==null&&(V.lanes|=c),ar($.return,c,s),M.lanes|=c;break}V=V.next}}else if($.tag===10)b=$.type===s.type?null:$.child;else if($.tag===18){if(b=$.return,b===null)throw Error(o(341));b.lanes|=c,M=b.alternate,M!==null&&(M.lanes|=c),ar(b,c,s),b=$.sibling}else b=$.child;if(b!==null)b.return=$;else for(b=$;b!==null;){if(b===s){b=null;break}if($=b.sibling,$!==null){$.return=b.return,b=$;break}b=b.return}$=b}En(i,s,f.children,c),s=s.child}return s;case 9:return f=s.type,p=s.pendingProps.children,Ps(s,c),f=gn(f),p=p(f),s.flags|=1,En(i,s,p,c),s.child;case 14:return p=s.type,f=Zn(p,s.pendingProps),f=Zn(p.type,f),cp(i,s,p,f,c);case 15:return dp(i,s,s.type,s.pendingProps,c);case 17:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),Zl(i,s),s.tag=1,Ln(p)?(i=!0,ju(s)):i=!1,Ps(s,c),Fr(s,p,f),aa(s,p,f,c),da(null,s,p,!0,i,c);case 19:return At(i,s,c);case 22:return hp(i,s,c)}throw Error(o(156,s.tag))};function sd(i,s){return Tu(i,s)}function rl(i,s,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,c,p){return new rl(i,s,c,p)}function ts(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ut(i){if(typeof i=="function")return ts(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ke)return 11;if(i===Ve)return 14}return 2}function Cr(i,s){var c=i.alternate;return c===null?(c=Mn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Vi(i,s,c,p,f,$){var b=2;if(p=i,typeof i=="function")ts(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case re:return Eo(c.children,f,$,s);case pe:b=8,f|=8;break;case Fe:return i=Mn(12,c,s,f|2),i.elementType=Fe,i.lanes=$,i;case Ne:return i=Mn(13,c,s,f),i.elementType=Ne,i.lanes=$,i;case Le:return i=Mn(19,c,s,f),i.elementType=Le,i.lanes=$,i;case B:return hi(c,f,$,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:b=10;break e;case ve:b=9;break e;case ke:b=11;break e;case Ve:b=14;break e;case j:b=16,p=null;break e}throw Error(o(130,i==null?i:typeof i,""))}return s=Mn(b,c,s,f),s.elementType=i,s.type=p,s.lanes=$,s}function Eo(i,s,c,p){return i=Mn(7,i,p,s),i.lanes=c,i}function hi(i,s,c,p){return i=Mn(22,i,p,s),i.elementType=B,i.lanes=c,i.stateNode={isHidden:!1},i}function ld(i,s,c){return i=Mn(6,i,null,s),i.lanes=c,i}function wa(i,s,c){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Wn(i,s,c,p,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=p,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function il(i,s,c,p,f,$,b,M,V){return i=new Wn(i,s,c,M,V),s===1?(s=1,$===!0&&(s|=8)):s=0,$=Mn(3,null,null,s),i.current=$,$.stateNode=i,$.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},ea($),i}function nu(i,s,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ue,key:p==null?null:""+p,children:i,containerInfo:s,implementation:c}}function ka(i){if(!i)return ao;i=i._reactInternals;e:{if(Ro(i)!==i||i.tag!==1)throw Error(o(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(o(171))}if(i.tag===1){var c=i.type;if(Ln(c))return Hh(i,c,s)}return s}function ru(i,s,c,p,f,$,b,M,V){return i=il(c,p,!0,i,f,$,b,M,V),i.context=ka(null),c=i.current,p=Gn(),f=_o(c),$=ii(p,f),$.callback=s??null,Mi(c,$,f),i.current.lanes=f,_s(i,f,p),er(i,p),i}function bo(i,s,c,p){var f=s.current,$=Gn(),b=_o(f);return c=ka(c),s.context===null?s.context=c:s.pendingContext=c,s=ii($,b),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Mi(f,s,b),i!==null&&(Ur(i,f,b,$),Wl(i,f,b)),b}function Oa(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Ip(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function yo(i,s){Ip(i,s),(i=i.alternate)&&Ip(i,s)}var ud=typeof reportError=="function"?reportError:function(i){console.error(i)};function Ra(i){this._internalRoot=i}tr.prototype.render=Ra.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));bo(i,s,null,null)},tr.prototype.unmount=Ra.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;To(function(){bo(null,i,null,null)}),s[Mr]=null}};function tr(i){this._internalRoot=i}tr.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ts();i={blockedOn:null,target:i,priority:s};for(var c=0;c<qr.length&&s!==0&&s<qr[c].priority;c++);qr.splice(c,0,i),c===0&&Qd(i)}};function ol(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function iu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ad(){}function Xf(i,s,c,p,f){if(f){if(typeof p=="function"){var $=p;p=function(){var ie=Oa(b);$.call(ie)}}var b=ru(s,p,i,0,null,!1,!1,"",ad);return i._reactRootContainer=b,i[Mr]=b.current,lo(i.nodeType===8?i.parentNode:i),To(),b}for(;f=i.lastChild;)i.removeChild(f);if(typeof p=="function"){var M=p;p=function(){var ie=Oa(V);M.call(ie)}}var V=il(i,0,!1,null,null,!1,!1,"",ad);return i._reactRootContainer=V,i[Mr]=V.current,lo(i.nodeType===8?i.parentNode:i),To(function(){bo(s,V,c,p)}),V}function La(i,s,c,p,f){var $=c._reactRootContainer;if($){var b=$;if(typeof f=="function"){var M=f;f=function(){var V=Oa(b);M.call(V)}}bo(s,b,i,f)}else b=Xf(c,s,i,f,p);return Oa(b)}Yd=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var c=jn(s.pendingLanes);c!==0&&(Ya(s,c|1),er(s,jt()),!(lt&6)&&(Jo=jt()+500,Ae()))}break;case 13:To(function(){var p=ri(i,1);if(p!==null){var f=Gn();Ur(p,i,1,f)}}),yo(i,1)}},Il=function(i){if(i.tag===13){var s=ri(i,134217728);if(s!==null){var c=Gn();Ur(s,i,134217728,c)}yo(i,134217728)}},Jd=function(i){if(i.tag===13){var s=_o(i),c=ri(i,s);if(c!==null){var p=Gn();Ur(c,i,s,p)}yo(i,s)}},Ts=function(){return ct},qd=function(i,s){var c=ct;try{return ct=i,s()}finally{ct=c}},to=function(i,s,c){switch(s){case"input":if(Xr(i,c),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==i&&p.form===i.form){var f=Wu(p);if(!f)throw Error(o(90));yt(p),Xr(p,f)}}}break;case"textarea":kn(i,c);break;case"select":s=c.value,s!=null&&st(i,!!c.multiple,s,!1)}},_l=Sa,Fn=To;var cd={usingClientEntryPoint:!1,Events:[Tr,Kn,Wu,Oo,ms,Sa]},Gt={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wr={bundleType:Gt.bundleType,version:Gt.version,rendererPackageName:Gt.rendererPackageName,rendererConfig:Gt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ae.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=_u(i),i===null?null:i.stateNode},findFiberByHostInstance:Gt.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Ao=ou.inject(wr),gr=ou}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cd,zr.createPortal=function(i,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(s))throw Error(o(200));return nu(i,s,null,c)},zr.createRoot=function(i,s){if(!ol(i))throw Error(o(299));var c=!1,p="",f=ud;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=il(i,1,!1,null,null,c,!1,p,f),i[Mr]=s.current,lo(i.nodeType===8?i.parentNode:i),new Ra(s)},zr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=_u(s),i=i===null?null:i.stateNode,i},zr.flushSync=function(i){return To(i)},zr.hydrate=function(i,s,c){if(!iu(s))throw Error(o(200));return La(null,i,s,!0,c)},zr.hydrateRoot=function(i,s,c){if(!ol(i))throw Error(o(405));var p=c!=null&&c.hydratedSources||null,f=!1,$="",b=ud;if(c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&($=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),s=ru(s,null,i,1,c??null,f,!1,$,b),i[Mr]=s.current,lo(i),p)for(i=0;i<p.length;i++)c=p[i],f=c._getVersion,f=f(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,f]:s.mutableSourceEagerHydrationData.push(c,f);return new tr(s)},zr.render=function(i,s,c){if(!iu(s))throw Error(o(200));return La(null,i,s,!1,c)},zr.unmountComponentAtNode=function(i){if(!iu(i))throw Error(o(40));return i._reactRootContainer?(To(function(){La(null,null,i,!1,function(){i._reactRootContainer=null,i[Mr]=null})}),!0):!1},zr.unstable_batchedUpdates=Sa,zr.unstable_renderSubtreeIntoContainer=function(i,s,c,p){if(!iu(c))throw Error(o(200));if(i==null||i._reactInternals===void 0)throw Error(o(38));return La(i,s,c,!1,p)},zr.version="18.3.1-next-f1338f8080-20240426",zr}var FE;function HS(){if(FE)return T$.exports;FE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(u){console.error(u)}}return n(),T$.exports=US(),T$.exports}var UE;function VS(){if(UE)return mg;UE=1;var n=HS();return mg.createRoot=n.createRoot,mg.hydrateRoot=n.hydrateRoot,mg}var GS=VS();const tf={black:"#000",white:"#fff"},vd={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Sd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Id={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Cd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},wd={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gp={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},WS={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ua(n,...u){const o=new URL(`https://mui.com/production-error/?code=${n}`);return u.forEach(a=>o.searchParams.append("args[]",a)),`Minified MUI error #${n}; visit ${o} for the full message.`}const $_="$$material";function nf(){return nf=Object.assign?Object.assign.bind():function(n){for(var u=1;u<arguments.length;u++){var o=arguments[u];for(var a in o)({}).hasOwnProperty.call(o,a)&&(n[a]=o[a])}return n},nf.apply(null,arguments)}function zS(n){if(n.sheet)return n.sheet;for(var u=0;u<document.styleSheets.length;u++)if(document.styleSheets[u].ownerNode===n)return document.styleSheets[u]}function jS(n){var u=document.createElement("style");return u.setAttribute("data-emotion",n.key),n.nonce!==void 0&&u.setAttribute("nonce",n.nonce),u.appendChild(document.createTextNode("")),u.setAttribute("data-s",""),u}var XS=function(){function n(o){var a=this;this._insertTag=function(h){var m;a.tags.length===0?a.insertionPoint?m=a.insertionPoint.nextSibling:a.prepend?m=a.container.firstChild:m=a.before:m=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(h,m),a.tags.push(h)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var u=n.prototype;return u.hydrate=function(a){a.forEach(this._insertTag)},u.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(jS(this));var h=this.tags[this.tags.length-1];if(this.isSpeedy){var m=zS(h);try{m.insertRule(a,m.cssRules.length)}catch{}}else h.appendChild(document.createTextNode(a));this.ctr++},u.flush=function(){this.tags.forEach(function(a){var h;return(h=a.parentNode)==null?void 0:h.removeChild(a)}),this.tags=[],this.ctr=0},n}(),hr="-ms-",Ug="-moz-",Et="-webkit-",ay="comm",__="rule",T_="decl",KS="@import",cy="@keyframes",YS="@layer",JS=Math.abs,qg=String.fromCharCode,qS=Object.assign;function QS(n,u){return nr(n,0)^45?(((u<<2^nr(n,0))<<2^nr(n,1))<<2^nr(n,2))<<2^nr(n,3):0}function dy(n){return n.trim()}function ZS(n,u){return(n=u.exec(n))?n[0]:n}function bt(n,u,o){return n.replace(u,o)}function G$(n,u){return n.indexOf(u)}function nr(n,u){return n.charCodeAt(u)|0}function rf(n,u,o){return n.slice(u,o)}function as(n){return n.length}function E_(n){return n.length}function $g(n,u){return u.push(n),n}function eI(n,u){return n.map(u).join("")}var Qg=1,Nd=1,hy=0,jr=0,In=0,Ud="";function Zg(n,u,o,a,h,m,T){return{value:n,root:u,parent:o,type:a,props:h,children:m,line:Qg,column:Nd,length:T,return:""}}function Wp(n,u){return qS(Zg("",null,null,"",null,null,0),n,{length:-n.length},u)}function tI(){return In}function nI(){return In=jr>0?nr(Ud,--jr):0,Nd--,In===10&&(Nd=1,Qg--),In}function _i(){return In=jr<hy?nr(Ud,jr++):0,Nd++,In===10&&(Nd=1,Qg++),In}function ps(){return nr(Ud,jr)}function Sg(){return jr}function cf(n,u){return rf(Ud,n,u)}function of(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function py(n){return Qg=Nd=1,hy=as(Ud=n),jr=0,[]}function fy(n){return Ud="",n}function Ig(n){return dy(cf(jr-1,W$(n===91?n+2:n===40?n+1:n)))}function rI(n){for(;(In=ps())&&In<33;)_i();return of(n)>2||of(In)>3?"":" "}function iI(n,u){for(;--u&&_i()&&!(In<48||In>102||In>57&&In<65||In>70&&In<97););return cf(n,Sg()+(u<6&&ps()==32&&_i()==32))}function W$(n){for(;_i();)switch(In){case n:return jr;case 34:case 39:n!==34&&n!==39&&W$(In);break;case 40:n===41&&W$(n);break;case 92:_i();break}return jr}function oI(n,u){for(;_i()&&n+In!==57;)if(n+In===84&&ps()===47)break;return"/*"+cf(u,jr-1)+"*"+qg(n===47?n:_i())}function sI(n){for(;!of(ps());)_i();return cf(n,jr)}function lI(n){return fy(Cg("",null,null,null,[""],n=py(n),0,[0],n))}function Cg(n,u,o,a,h,m,T,E,v){for(var C=0,N=0,w=T,k=0,H=0,x=0,O=1,K=1,ee=1,oe=0,ne="",ae=h,ge=m,ue=a,re=ne;K;)switch(x=oe,oe=_i()){case 40:if(x!=108&&nr(re,w-1)==58){G$(re+=bt(Ig(oe),"&","&\f"),"&\f")!=-1&&(ee=-1);break}case 34:case 39:case 91:re+=Ig(oe);break;case 9:case 10:case 13:case 32:re+=rI(x);break;case 92:re+=iI(Sg()-1,7);continue;case 47:switch(ps()){case 42:case 47:$g(uI(oI(_i(),Sg()),u,o),v);break;default:re+="/"}break;case 123*O:E[C++]=as(re)*ee;case 125*O:case 59:case 0:switch(oe){case 0:case 125:K=0;case 59+N:ee==-1&&(re=bt(re,/\f/g,"")),H>0&&as(re)-w&&$g(H>32?VE(re+";",a,o,w-1):VE(bt(re," ","")+";",a,o,w-2),v);break;case 59:re+=";";default:if($g(ue=HE(re,u,o,C,N,h,E,ne,ae=[],ge=[],w),m),oe===123)if(N===0)Cg(re,u,ue,ue,ae,m,w,E,ge);else switch(k===99&&nr(re,3)===110?100:k){case 100:case 108:case 109:case 115:Cg(n,ue,ue,a&&$g(HE(n,ue,ue,0,0,h,E,ne,h,ae=[],w),ge),h,ge,w,E,a?ae:ge);break;default:Cg(re,ue,ue,ue,[""],ge,0,E,ge)}}C=N=H=0,O=ee=1,ne=re="",w=T;break;case 58:w=1+as(re),H=x;default:if(O<1){if(oe==123)--O;else if(oe==125&&O++==0&&nI()==125)continue}switch(re+=qg(oe),oe*O){case 38:ee=N>0?1:(re+="\f",-1);break;case 44:E[C++]=(as(re)-1)*ee,ee=1;break;case 64:ps()===45&&(re+=Ig(_i())),k=ps(),N=w=as(ne=re+=sI(Sg())),oe++;break;case 45:x===45&&as(re)==2&&(O=0)}}return m}function HE(n,u,o,a,h,m,T,E,v,C,N){for(var w=h-1,k=h===0?m:[""],H=E_(k),x=0,O=0,K=0;x<a;++x)for(var ee=0,oe=rf(n,w+1,w=JS(O=T[x])),ne=n;ee<H;++ee)(ne=dy(O>0?k[ee]+" "+oe:bt(oe,/&\f/g,k[ee])))&&(v[K++]=ne);return Zg(n,u,o,h===0?__:E,v,C,N)}function uI(n,u,o){return Zg(n,u,o,ay,qg(tI()),rf(n,2,-2),0)}function VE(n,u,o,a){return Zg(n,u,o,T_,rf(n,0,a),rf(n,a+1,-1),a)}function Ad(n,u){for(var o="",a=E_(n),h=0;h<a;h++)o+=u(n[h],h,n,u)||"";return o}function aI(n,u,o,a){switch(n.type){case YS:if(n.children.length)break;case KS:case T_:return n.return=n.return||n.value;case ay:return"";case cy:return n.return=n.value+"{"+Ad(n.children,a)+"}";case __:n.value=n.props.join(",")}return as(o=Ad(n.children,a))?n.return=n.value+"{"+o+"}":""}function cI(n){var u=E_(n);return function(o,a,h,m){for(var T="",E=0;E<u;E++)T+=n[E](o,a,h,m)||"";return T}}function dI(n){return function(u){u.root||(u=u.return)&&n(u)}}function gy(n){var u=Object.create(null);return function(o){return u[o]===void 0&&(u[o]=n(o)),u[o]}}var hI=function(u,o,a){for(var h=0,m=0;h=m,m=ps(),h===38&&m===12&&(o[a]=1),!of(m);)_i();return cf(u,jr)},pI=function(u,o){var a=-1,h=44;do switch(of(h)){case 0:h===38&&ps()===12&&(o[a]=1),u[a]+=hI(jr-1,o,a);break;case 2:u[a]+=Ig(h);break;case 4:if(h===44){u[++a]=ps()===58?"&\f":"",o[a]=u[a].length;break}default:u[a]+=qg(h)}while(h=_i());return u},fI=function(u,o){return fy(pI(py(u),o))},GE=new WeakMap,gI=function(u){if(!(u.type!=="rule"||!u.parent||u.length<1)){for(var o=u.value,a=u.parent,h=u.column===a.column&&u.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(u.props.length===1&&o.charCodeAt(0)!==58&&!GE.get(a))&&!h){GE.set(u,!0);for(var m=[],T=fI(o,m),E=a.props,v=0,C=0;v<T.length;v++)for(var N=0;N<E.length;N++,C++)u.props[C]=m[v]?T[v].replace(/&\f/g,E[N]):E[N]+" "+T[v]}}},mI=function(u){if(u.type==="decl"){var o=u.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(u.return="",u.value="")}};function my(n,u){switch(QS(n,u)){case 5103:return Et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+n+Ug+n+hr+n+n;case 6828:case 4268:return Et+n+hr+n+n;case 6165:return Et+n+hr+"flex-"+n+n;case 5187:return Et+n+bt(n,/(\w+).+(:[^]+)/,Et+"box-$1$2"+hr+"flex-$1$2")+n;case 5443:return Et+n+hr+"flex-item-"+bt(n,/flex-|-self/,"")+n;case 4675:return Et+n+hr+"flex-line-pack"+bt(n,/align-content|flex-|-self/,"")+n;case 5548:return Et+n+hr+bt(n,"shrink","negative")+n;case 5292:return Et+n+hr+bt(n,"basis","preferred-size")+n;case 6060:return Et+"box-"+bt(n,"-grow","")+Et+n+hr+bt(n,"grow","positive")+n;case 4554:return Et+bt(n,/([^-])(transform)/g,"$1"+Et+"$2")+n;case 6187:return bt(bt(bt(n,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),n,"")+n;case 5495:case 3959:return bt(n,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return bt(bt(n,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+n+n;case 4095:case 3583:case 4068:case 2532:return bt(n,/(.+)-inline(.+)/,Et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(n)-1-u>6)switch(nr(n,u+1)){case 109:if(nr(n,u+4)!==45)break;case 102:return bt(n,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+Ug+(nr(n,u+3)==108?"$3":"$2-$3"))+n;case 115:return~G$(n,"stretch")?my(bt(n,"stretch","fill-available"),u)+n:n}break;case 4949:if(nr(n,u+1)!==115)break;case 6444:switch(nr(n,as(n)-3-(~G$(n,"!important")&&10))){case 107:return bt(n,":",":"+Et)+n;case 101:return bt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(nr(n,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+hr+"$2box$3")+n}break;case 5936:switch(nr(n,u+11)){case 114:return Et+n+hr+bt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Et+n+hr+bt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Et+n+hr+bt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Et+n+hr+n+n}return n}var $I=function(u,o,a,h){if(u.length>-1&&!u.return)switch(u.type){case T_:u.return=my(u.value,u.length);break;case cy:return Ad([Wp(u,{value:bt(u.value,"@","@"+Et)})],h);case __:if(u.length)return eI(u.props,function(m){switch(ZS(m,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ad([Wp(u,{props:[bt(m,/:(read-\w+)/,":"+Ug+"$1")]})],h);case"::placeholder":return Ad([Wp(u,{props:[bt(m,/:(plac\w+)/,":"+Et+"input-$1")]}),Wp(u,{props:[bt(m,/:(plac\w+)/,":"+Ug+"$1")]}),Wp(u,{props:[bt(m,/:(plac\w+)/,hr+"input-$1")]})],h)}return""})}},_I=[$I],TI=function(u){var o=u.key;if(o==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(O){var K=O.getAttribute("data-emotion");K.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var h=u.stylisPlugins||_I,m={},T,E=[];T=u.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(O){for(var K=O.getAttribute("data-emotion").split(" "),ee=1;ee<K.length;ee++)m[K[ee]]=!0;E.push(O)});var v,C=[gI,mI];{var N,w=[aI,dI(function(O){N.insert(O)})],k=cI(C.concat(h,w)),H=function(K){return Ad(lI(K),k)};v=function(K,ee,oe,ne){N=oe,H(K?K+"{"+ee.styles+"}":ee.styles),ne&&(x.inserted[ee.name]=!0)}}var x={key:o,sheet:new XS({key:o,container:T,nonce:u.nonce,speedy:u.speedy,prepend:u.prepend,insertionPoint:u.insertionPoint}),nonce:u.nonce,inserted:m,registered:{},insert:v};return x.sheet.hydrate(E),x},EI=!0;function bI(n,u,o){var a="";return o.split(" ").forEach(function(h){n[h]!==void 0?u.push(n[h]+";"):h&&(a+=h+" ")}),a}var $y=function(u,o,a){var h=u.key+"-"+o.name;(a===!1||EI===!1)&&u.registered[h]===void 0&&(u.registered[h]=o.styles)},yI=function(u,o,a){$y(u,o,a);var h=u.key+"-"+o.name;if(u.inserted[o.name]===void 0){var m=o;do u.insert(o===m?"."+h:"",m,u.sheet,!0),m=m.next;while(m!==void 0)}};function vI(n){for(var u=0,o,a=0,h=n.length;h>=4;++a,h-=4)o=n.charCodeAt(a)&255|(n.charCodeAt(++a)&255)<<8|(n.charCodeAt(++a)&255)<<16|(n.charCodeAt(++a)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,u=(o&65535)*1540483477+((o>>>16)*59797<<16)^(u&65535)*1540483477+((u>>>16)*59797<<16);switch(h){case 3:u^=(n.charCodeAt(a+2)&255)<<16;case 2:u^=(n.charCodeAt(a+1)&255)<<8;case 1:u^=n.charCodeAt(a)&255,u=(u&65535)*1540483477+((u>>>16)*59797<<16)}return u^=u>>>13,u=(u&65535)*1540483477+((u>>>16)*59797<<16),((u^u>>>15)>>>0).toString(36)}var SI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},II=/[A-Z]|^ms/g,CI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_y=function(u){return u.charCodeAt(1)===45},WE=function(u){return u!=null&&typeof u!="boolean"},y$=gy(function(n){return _y(n)?n:n.replace(II,"-$&").toLowerCase()}),zE=function(u,o){switch(u){case"animation":case"animationName":if(typeof o=="string")return o.replace(CI,function(a,h,m){return cs={name:h,styles:m,next:cs},h})}return SI[u]!==1&&!_y(u)&&typeof o=="number"&&o!==0?o+"px":o};function sf(n,u,o){if(o==null)return"";var a=o;if(a.__emotion_styles!==void 0)return a;switch(typeof o){case"boolean":return"";case"object":{var h=o;if(h.anim===1)return cs={name:h.name,styles:h.styles,next:cs},h.name;var m=o;if(m.styles!==void 0){var T=m.next;if(T!==void 0)for(;T!==void 0;)cs={name:T.name,styles:T.styles,next:cs},T=T.next;var E=m.styles+";";return E}return wI(n,u,o)}case"function":{if(n!==void 0){var v=cs,C=o(n);return cs=v,sf(n,u,C)}break}}var N=o;if(u==null)return N;var w=u[N];return w!==void 0?w:N}function wI(n,u,o){var a="";if(Array.isArray(o))for(var h=0;h<o.length;h++)a+=sf(n,u,o[h])+";";else for(var m in o){var T=o[m];if(typeof T!="object"){var E=T;u!=null&&u[E]!==void 0?a+=m+"{"+u[E]+"}":WE(E)&&(a+=y$(m)+":"+zE(m,E)+";")}else if(Array.isArray(T)&&typeof T[0]=="string"&&(u==null||u[T[0]]===void 0))for(var v=0;v<T.length;v++)WE(T[v])&&(a+=y$(m)+":"+zE(m,T[v])+";");else{var C=sf(n,u,T);switch(m){case"animation":case"animationName":{a+=y$(m)+":"+C+";";break}default:a+=m+"{"+C+"}"}}}return a}var jE=/label:\s*([^\s;{]+)\s*(;|$)/g,cs;function Ty(n,u,o){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var a=!0,h="";cs=void 0;var m=n[0];if(m==null||m.raw===void 0)a=!1,h+=sf(o,u,m);else{var T=m;h+=T[0]}for(var E=1;E<n.length;E++)if(h+=sf(o,u,n[E]),a){var v=m;h+=v[E]}jE.lastIndex=0;for(var C="",N;(N=jE.exec(h))!==null;)C+="-"+N[1];var w=vI(h)+C;return{name:w,styles:h,next:cs}}var kI=function(u){return u()},OI=ME.useInsertionEffect?ME.useInsertionEffect:!1,RI=OI||kI,Ey=_e.createContext(typeof HTMLElement<"u"?TI({key:"css"}):null);Ey.Provider;var LI=function(u){return _e.forwardRef(function(o,a){var h=_e.useContext(Ey);return u(o,h,a)})},by=_e.createContext({}),AI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DI=gy(function(n){return AI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),NI=DI,MI=function(u){return u!=="theme"},XE=function(u){return typeof u=="string"&&u.charCodeAt(0)>96?NI:MI},KE=function(u,o,a){var h;if(o){var m=o.shouldForwardProp;h=u.__emotion_forwardProp&&m?function(T){return u.__emotion_forwardProp(T)&&m(T)}:m}return typeof h!="function"&&a&&(h=u.__emotion_forwardProp),h},xI=function(u){var o=u.cache,a=u.serialized,h=u.isStringTag;return $y(o,a,h),RI(function(){return yI(o,a,h)}),null},PI=function n(u,o){var a=u.__emotion_real===u,h=a&&u.__emotion_base||u,m,T;o!==void 0&&(m=o.label,T=o.target);var E=KE(u,o,a),v=E||XE(h),C=!v("as");return function(){var N=arguments,w=a&&u.__emotion_styles!==void 0?u.__emotion_styles.slice(0):[];if(m!==void 0&&w.push("label:"+m+";"),N[0]==null||N[0].raw===void 0)w.push.apply(w,N);else{var k=N[0];w.push(k[0]);for(var H=N.length,x=1;x<H;x++)w.push(N[x],k[x])}var O=LI(function(K,ee,oe){var ne=C&&K.as||h,ae="",ge=[],ue=K;if(K.theme==null){ue={};for(var re in K)ue[re]=K[re];ue.theme=_e.useContext(by)}typeof K.className=="string"?ae=bI(ee.registered,ge,K.className):K.className!=null&&(ae=K.className+" ");var pe=Ty(w.concat(ge),ee.registered,ue);ae+=ee.key+"-"+pe.name,T!==void 0&&(ae+=" "+T);var Fe=C&&E===void 0?XE(ne):v,L={};for(var ve in K)C&&ve==="as"||Fe(ve)&&(L[ve]=K[ve]);return L.className=ae,oe&&(L.ref=oe),_e.createElement(_e.Fragment,null,_e.createElement(xI,{cache:ee,serialized:pe,isStringTag:typeof ne=="string"}),_e.createElement(ne,L))});return O.displayName=m!==void 0?m:"Styled("+(typeof h=="string"?h:h.displayName||h.name||"Component")+")",O.defaultProps=u.defaultProps,O.__emotion_real=O,O.__emotion_base=h,O.__emotion_styles=w,O.__emotion_forwardProp=E,Object.defineProperty(O,"toString",{value:function(){return"."+T}}),O.withComponent=function(K,ee){var oe=n(K,nf({},o,ee,{shouldForwardProp:KE(O,ee,!0)}));return oe.apply(void 0,w)},O}},BI=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],z$=PI.bind(null);BI.forEach(function(n){z$[n]=z$(n)});var v$={exports:{}},S$,YE;function FI(){if(YE)return S$;YE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return S$=n,S$}var I$,JE;function UI(){if(JE)return I$;JE=1;var n=FI();function u(){}function o(){}return o.resetWarningCache=u,I$=function(){function a(T,E,v,C,N,w){if(w!==n){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}a.isRequired=a;function h(){return a}var m={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:h,element:a,elementType:a,instanceOf:h,node:a,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:o,resetWarningCache:u};return m.PropTypes=m,m},I$}var qE;function HI(){return qE||(qE=1,v$.exports=UI()()),v$.exports}var VI=HI();const Xi=g_(VI);/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function yy(n,u){return z$(n,u)}function GI(n,u){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=u(n.__emotion_styles))}const QE=[];function ZE(n){return QE[0]=n,Ty(QE)}var C$={exports:{}},Mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eb;function WI(){if(eb)return Mt;eb=1;var n=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),H=Symbol.for("react.client.reference");function x(O){if(typeof O=="object"&&O!==null){var K=O.$$typeof;switch(K){case n:switch(O=O.type,O){case o:case h:case a:case v:case C:return O;default:switch(O=O&&O.$$typeof,O){case T:case E:case w:case N:return O;case m:return O;default:return K}}case u:return K}}}return Mt.ContextConsumer=m,Mt.ContextProvider=T,Mt.Element=n,Mt.ForwardRef=E,Mt.Fragment=o,Mt.Lazy=w,Mt.Memo=N,Mt.Portal=u,Mt.Profiler=h,Mt.StrictMode=a,Mt.Suspense=v,Mt.SuspenseList=C,Mt.isContextConsumer=function(O){return x(O)===m},Mt.isContextProvider=function(O){return x(O)===T},Mt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===n},Mt.isForwardRef=function(O){return x(O)===E},Mt.isFragment=function(O){return x(O)===o},Mt.isLazy=function(O){return x(O)===w},Mt.isMemo=function(O){return x(O)===N},Mt.isPortal=function(O){return x(O)===u},Mt.isProfiler=function(O){return x(O)===h},Mt.isStrictMode=function(O){return x(O)===a},Mt.isSuspense=function(O){return x(O)===v},Mt.isSuspenseList=function(O){return x(O)===C},Mt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===o||O===h||O===a||O===v||O===C||O===k||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===N||O.$$typeof===T||O.$$typeof===m||O.$$typeof===E||O.$$typeof===H||O.getModuleId!==void 0)},Mt.typeOf=x,Mt}var tb;function zI(){return tb||(tb=1,C$.exports=WI()),C$.exports}var vy=zI();function hs(n){if(typeof n!="object"||n===null)return!1;const u=Object.getPrototypeOf(n);return(u===null||u===Object.prototype||Object.getPrototypeOf(u)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Sy(n){if(_e.isValidElement(n)||vy.isValidElementType(n)||!hs(n))return n;const u={};return Object.keys(n).forEach(o=>{u[o]=Sy(n[o])}),u}function Ti(n,u,o={clone:!0}){const a=o.clone?{...n}:n;return hs(n)&&hs(u)&&Object.keys(u).forEach(h=>{_e.isValidElement(u[h])||vy.isValidElementType(u[h])?a[h]=u[h]:hs(u[h])&&Object.prototype.hasOwnProperty.call(n,h)&&hs(n[h])?a[h]=Ti(n[h],u[h],o):o.clone?a[h]=hs(u[h])?Sy(u[h]):u[h]:a[h]=u[h]}),a}const jI=n=>{const u=Object.keys(n).map(o=>({key:o,val:n[o]}))||[];return u.sort((o,a)=>o.val-a.val),u.reduce((o,a)=>({...o,[a.key]:a.val}),{})};function XI(n){const{values:u={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:a=5,...h}=n,m=jI(u),T=Object.keys(m);function E(k){return`@media (min-width:${typeof u[k]=="number"?u[k]:k}${o})`}function v(k){return`@media (max-width:${(typeof u[k]=="number"?u[k]:k)-a/100}${o})`}function C(k,H){const x=T.indexOf(H);return`@media (min-width:${typeof u[k]=="number"?u[k]:k}${o}) and (max-width:${(x!==-1&&typeof u[T[x]]=="number"?u[T[x]]:H)-a/100}${o})`}function N(k){return T.indexOf(k)+1<T.length?C(k,T[T.indexOf(k)+1]):E(k)}function w(k){const H=T.indexOf(k);return H===0?E(T[1]):H===T.length-1?v(T[H]):C(k,T[T.indexOf(k)+1]).replace("@media","@media not all and")}return{keys:T,values:m,up:E,down:v,between:C,only:N,not:w,unit:o,...h}}function KI(n,u){if(!n.containerQueries)return u;const o=Object.keys(u).filter(a=>a.startsWith("@container")).sort((a,h)=>{var T,E;const m=/min-width:\s*([0-9.]+)/;return+(((T=a.match(m))==null?void 0:T[1])||0)-+(((E=h.match(m))==null?void 0:E[1])||0)});return o.length?o.reduce((a,h)=>{const m=u[h];return delete a[h],a[h]=m,a},{...u}):u}function YI(n,u){return u==="@"||u.startsWith("@")&&(n.some(o=>u.startsWith(`@${o}`))||!!u.match(/^@\d/))}function JI(n,u){const o=u.match(/^@([^/]+)?\/?(.+)?$/);if(!o)return null;const[,a,h]=o,m=Number.isNaN(+a)?a||0:+a;return n.containerQueries(h).up(m)}function qI(n){const u=(m,T)=>m.replace("@media",T?`@container ${T}`:"@container");function o(m,T){m.up=(...E)=>u(n.breakpoints.up(...E),T),m.down=(...E)=>u(n.breakpoints.down(...E),T),m.between=(...E)=>u(n.breakpoints.between(...E),T),m.only=(...E)=>u(n.breakpoints.only(...E),T),m.not=(...E)=>{const v=u(n.breakpoints.not(...E),T);return v.includes("not all and")?v.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):v}}const a={},h=m=>(o(a,m),a);return o(h),{...n,containerQueries:h}}const QI={borderRadius:4};function qp(n,u){return u?Ti(n,u,{clone:!1}):n}const em={xs:0,sm:600,md:900,lg:1200,xl:1536},nb={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${em[n]}px)`},ZI={containerQueries:n=>({up:u=>{let o=typeof u=="number"?u:em[u]||u;return typeof o=="number"&&(o=`${o}px`),n?`@container ${n} (min-width:${o})`:`@container (min-width:${o})`}})};function ml(n,u,o){const a=n.theme||{};if(Array.isArray(u)){const m=a.breakpoints||nb;return u.reduce((T,E,v)=>(T[m.up(m.keys[v])]=o(u[v]),T),{})}if(typeof u=="object"){const m=a.breakpoints||nb;return Object.keys(u).reduce((T,E)=>{if(YI(m.keys,E)){const v=JI(a.containerQueries?a:ZI,E);v&&(T[v]=o(u[E],E))}else if(Object.keys(m.values||em).includes(E)){const v=m.up(E);T[v]=o(u[E],E)}else{const v=E;T[v]=u[v]}return T},{})}return o(u)}function eC(n={}){var o;return((o=n.keys)==null?void 0:o.reduce((a,h)=>{const m=n.up(h);return a[m]={},a},{}))||{}}function tC(n,u){return n.reduce((o,a)=>{const h=o[a];return(!h||Object.keys(h).length===0)&&delete o[a],o},u)}function lf(n){if(typeof n!="string")throw new Error(Ua(7));return n.charAt(0).toUpperCase()+n.slice(1)}function tm(n,u,o=!0){if(!u||typeof u!="string")return null;if(n&&n.vars&&o){const a=`vars.${u}`.split(".").reduce((h,m)=>h&&h[m]?h[m]:null,n);if(a!=null)return a}return u.split(".").reduce((a,h)=>a&&a[h]!=null?a[h]:null,n)}function Hg(n,u,o,a=o){let h;return typeof n=="function"?h=n(o):Array.isArray(n)?h=n[o]||a:h=tm(n,o)||a,u&&(h=u(h,a,n)),h}function mn(n){const{prop:u,cssProperty:o=n.prop,themeKey:a,transform:h}=n,m=T=>{if(T[u]==null)return null;const E=T[u],v=T.theme,C=tm(v,a)||{};return ml(T,E,w=>{let k=Hg(C,h,w);return w===k&&typeof w=="string"&&(k=Hg(C,h,`${u}${w==="default"?"":lf(w)}`,w)),o===!1?k:{[o]:k}})};return m.propTypes={},m.filterProps=[u],m}function nC(n){const u={};return o=>(u[o]===void 0&&(u[o]=n(o)),u[o])}const rC={m:"margin",p:"padding"},iC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},oC=nC(n=>{if(n.length>2)if(rb[n])n=rb[n];else return[n];const[u,o]=n.split(""),a=rC[u],h=iC[o]||"";return Array.isArray(h)?h.map(m=>a+m):[a+h]}),b_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],y_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...b_,...y_];function df(n,u,o,a){const h=tm(n,u,!0)??o;return typeof h=="number"||typeof h=="string"?m=>typeof m=="string"?m:typeof h=="string"?`calc(${m} * ${h})`:h*m:Array.isArray(h)?m=>{if(typeof m=="string")return m;const T=Math.abs(m),E=h[T];return m>=0?E:typeof E=="number"?-E:`-${E}`}:typeof h=="function"?h:()=>{}}function v_(n){return df(n,"spacing",8)}function hf(n,u){return typeof u=="string"||u==null?u:n(u)}function sC(n,u){return o=>n.reduce((a,h)=>(a[h]=hf(u,o),a),{})}function lC(n,u,o,a){if(!u.includes(o))return null;const h=oC(o),m=sC(h,a),T=n[o];return ml(n,T,m)}function Iy(n,u){const o=v_(n.theme);return Object.keys(n).map(a=>lC(n,u,a,o)).reduce(qp,{})}function hn(n){return Iy(n,b_)}hn.propTypes={};hn.filterProps=b_;function pn(n){return Iy(n,y_)}pn.propTypes={};pn.filterProps=y_;function Cy(n=8,u=v_({spacing:n})){if(n.mui)return n;const o=(...a)=>(a.length===0?[1]:a).map(m=>{const T=u(m);return typeof T=="number"?`${T}px`:T}).join(" ");return o.mui=!0,o}function nm(...n){const u=n.reduce((a,h)=>(h.filterProps.forEach(m=>{a[m]=h}),a),{}),o=a=>Object.keys(a).reduce((h,m)=>u[m]?qp(h,u[m](a)):h,{});return o.propTypes={},o.filterProps=n.reduce((a,h)=>a.concat(h.filterProps),[]),o}function Yi(n){return typeof n!="number"?n:`${n}px solid`}function Qi(n,u){return mn({prop:n,themeKey:"borders",transform:u})}const uC=Qi("border",Yi),aC=Qi("borderTop",Yi),cC=Qi("borderRight",Yi),dC=Qi("borderBottom",Yi),hC=Qi("borderLeft",Yi),pC=Qi("borderColor"),fC=Qi("borderTopColor"),gC=Qi("borderRightColor"),mC=Qi("borderBottomColor"),$C=Qi("borderLeftColor"),_C=Qi("outline",Yi),TC=Qi("outlineColor"),rm=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const u=df(n.theme,"shape.borderRadius",4),o=a=>({borderRadius:hf(u,a)});return ml(n,n.borderRadius,o)}return null};rm.propTypes={};rm.filterProps=["borderRadius"];nm(uC,aC,cC,dC,hC,pC,fC,gC,mC,$C,rm,_C,TC);const im=n=>{if(n.gap!==void 0&&n.gap!==null){const u=df(n.theme,"spacing",8),o=a=>({gap:hf(u,a)});return ml(n,n.gap,o)}return null};im.propTypes={};im.filterProps=["gap"];const om=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const u=df(n.theme,"spacing",8),o=a=>({columnGap:hf(u,a)});return ml(n,n.columnGap,o)}return null};om.propTypes={};om.filterProps=["columnGap"];const sm=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const u=df(n.theme,"spacing",8),o=a=>({rowGap:hf(u,a)});return ml(n,n.rowGap,o)}return null};sm.propTypes={};sm.filterProps=["rowGap"];const EC=mn({prop:"gridColumn"}),bC=mn({prop:"gridRow"}),yC=mn({prop:"gridAutoFlow"}),vC=mn({prop:"gridAutoColumns"}),SC=mn({prop:"gridAutoRows"}),IC=mn({prop:"gridTemplateColumns"}),CC=mn({prop:"gridTemplateRows"}),wC=mn({prop:"gridTemplateAreas"}),kC=mn({prop:"gridArea"});nm(im,om,sm,EC,bC,yC,vC,SC,IC,CC,wC,kC);function Dd(n,u){return u==="grey"?u:n}const OC=mn({prop:"color",themeKey:"palette",transform:Dd}),RC=mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Dd}),LC=mn({prop:"backgroundColor",themeKey:"palette",transform:Dd});nm(OC,RC,LC);function $i(n){return n<=1&&n!==0?`${n*100}%`:n}const AC=mn({prop:"width",transform:$i}),S_=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const u=o=>{var h,m,T,E,v;const a=((T=(m=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:m.values)==null?void 0:T[o])||em[o];return a?((v=(E=n.theme)==null?void 0:E.breakpoints)==null?void 0:v.unit)!=="px"?{maxWidth:`${a}${n.theme.breakpoints.unit}`}:{maxWidth:a}:{maxWidth:$i(o)}};return ml(n,n.maxWidth,u)}return null};S_.filterProps=["maxWidth"];const DC=mn({prop:"minWidth",transform:$i}),NC=mn({prop:"height",transform:$i}),MC=mn({prop:"maxHeight",transform:$i}),xC=mn({prop:"minHeight",transform:$i});mn({prop:"size",cssProperty:"width",transform:$i});mn({prop:"size",cssProperty:"height",transform:$i});const PC=mn({prop:"boxSizing"});nm(AC,S_,DC,NC,MC,xC,PC);const pf={border:{themeKey:"borders",transform:Yi},borderTop:{themeKey:"borders",transform:Yi},borderRight:{themeKey:"borders",transform:Yi},borderBottom:{themeKey:"borders",transform:Yi},borderLeft:{themeKey:"borders",transform:Yi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:rm},color:{themeKey:"palette",transform:Dd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Dd},backgroundColor:{themeKey:"palette",transform:Dd},p:{style:pn},pt:{style:pn},pr:{style:pn},pb:{style:pn},pl:{style:pn},px:{style:pn},py:{style:pn},padding:{style:pn},paddingTop:{style:pn},paddingRight:{style:pn},paddingBottom:{style:pn},paddingLeft:{style:pn},paddingX:{style:pn},paddingY:{style:pn},paddingInline:{style:pn},paddingInlineStart:{style:pn},paddingInlineEnd:{style:pn},paddingBlock:{style:pn},paddingBlockStart:{style:pn},paddingBlockEnd:{style:pn},m:{style:hn},mt:{style:hn},mr:{style:hn},mb:{style:hn},ml:{style:hn},mx:{style:hn},my:{style:hn},margin:{style:hn},marginTop:{style:hn},marginRight:{style:hn},marginBottom:{style:hn},marginLeft:{style:hn},marginX:{style:hn},marginY:{style:hn},marginInline:{style:hn},marginInlineStart:{style:hn},marginInlineEnd:{style:hn},marginBlock:{style:hn},marginBlockStart:{style:hn},marginBlockEnd:{style:hn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:im},rowGap:{style:sm},columnGap:{style:om},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$i},maxWidth:{style:S_},minWidth:{transform:$i},height:{transform:$i},maxHeight:{transform:$i},minHeight:{transform:$i},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function BC(...n){const u=n.reduce((a,h)=>a.concat(Object.keys(h)),[]),o=new Set(u);return n.every(a=>o.size===Object.keys(a).length)}function FC(n,u){return typeof n=="function"?n(u):n}function UC(){function n(o,a,h,m){const T={[o]:a,theme:h},E=m[o];if(!E)return{[o]:a};const{cssProperty:v=o,themeKey:C,transform:N,style:w}=E;if(a==null)return null;if(C==="typography"&&a==="inherit")return{[o]:a};const k=tm(h,C)||{};return w?w(T):ml(T,a,x=>{let O=Hg(k,N,x);return x===O&&typeof x=="string"&&(O=Hg(k,N,`${o}${x==="default"?"":lf(x)}`,x)),v===!1?O:{[v]:O}})}function u(o){const{sx:a,theme:h={}}=o||{};if(!a)return null;const m=h.unstable_sxConfig??pf;function T(E){let v=E;if(typeof E=="function")v=E(h);else if(typeof E!="object")return E;if(!v)return null;const C=eC(h.breakpoints),N=Object.keys(C);let w=C;return Object.keys(v).forEach(k=>{const H=FC(v[k],h);if(H!=null)if(typeof H=="object")if(m[k])w=qp(w,n(k,H,h,m));else{const x=ml({theme:h},H,O=>({[k]:O}));BC(x,H)?w[k]=u({sx:H,theme:h}):w=qp(w,x)}else w=qp(w,n(k,H,h,m))}),KI(h,tC(N,w))}return Array.isArray(a)?a.map(T):T(a)}return u}const Ha=UC();Ha.filterProps=["sx"];function HC(n,u){var a;const o=this;if(o.vars){if(!((a=o.colorSchemes)!=null&&a[n])||typeof o.getColorSchemeSelector!="function")return{};let h=o.getColorSchemeSelector(n);return h==="&"?u:((h.includes("data-")||h.includes("."))&&(h=`*:where(${h.replace(/\s*&$/,"")}) &`),{[h]:u})}return o.palette.mode===n?u:{}}function I_(n={},...u){const{breakpoints:o={},palette:a={},spacing:h,shape:m={},...T}=n,E=XI(o),v=Cy(h);let C=Ti({breakpoints:E,direction:"ltr",components:{},palette:{mode:"light",...a},spacing:v,shape:{...QI,...m}},T);return C=qI(C),C.applyStyles=HC,C=u.reduce((N,w)=>Ti(N,w),C),C.unstable_sxConfig={...pf,...T==null?void 0:T.unstable_sxConfig},C.unstable_sx=function(w){return Ha({sx:w,theme:this})},C}function VC(n){return Object.keys(n).length===0}function GC(n=null){const u=_e.useContext(by);return!u||VC(u)?n:u}const WC=I_();function wy(n=WC){return GC(n)}const zC=n=>{var a;const u={systemProps:{},otherProps:{}},o=((a=n==null?void 0:n.theme)==null?void 0:a.unstable_sxConfig)??pf;return Object.keys(n).forEach(h=>{o[h]?u.systemProps[h]=n[h]:u.otherProps[h]=n[h]}),u};function ky(n){const{sx:u,...o}=n,{systemProps:a,otherProps:h}=zC(o);let m;return Array.isArray(u)?m=[a,...u]:typeof u=="function"?m=(...T)=>{const E=u(...T);return hs(E)?{...a,...E}:a}:m={...a,...u},{...h,sx:m}}const ib=n=>n,jC=()=>{let n=ib;return{configure(u){n=u},generate(u){return n(u)},reset(){n=ib}}},Oy=jC();function Ry(n){var u,o,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var h=n.length;for(u=0;u<h;u++)n[u]&&(o=Ry(n[u]))&&(a&&(a+=" "),a+=o)}else for(o in n)n[o]&&(a&&(a+=" "),a+=o);return a}function ff(){for(var n,u,o=0,a="",h=arguments.length;o<h;o++)(n=arguments[o])&&(u=Ry(n))&&(a&&(a+=" "),a+=u);return a}function XC(n={}){const{themeId:u,defaultTheme:o,defaultClassName:a="MuiBox-root",generateClassName:h}=n,m=yy("div",{shouldForwardProp:E=>E!=="theme"&&E!=="sx"&&E!=="as"})(Ha);return _e.forwardRef(function(v,C){const N=wy(o),{className:w,component:k="div",...H}=ky(v);return U.jsx(m,{as:k,ref:C,className:ff(w,h?h(a):a),theme:u&&N[u]||N,...H})})}const KC={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function gf(n,u,o="Mui"){const a=KC[u];return a?`${o}-${a}`:`${Oy.generate(n)}-${u}`}function mf(n,u,o="Mui"){const a={};return u.forEach(h=>{a[h]=gf(n,h,o)}),a}function Ly(n){const{variants:u,...o}=n,a={variants:u,style:ZE(o),isProcessed:!0};return a.style===o||u&&u.forEach(h=>{typeof h.style!="function"&&(h.style=ZE(h.style))}),a}const YC=I_();function w$(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function JC(n){return n?(u,o)=>o[n]:null}function qC(n,u,o){n.theme=ew(n.theme)?o:n.theme[u]||n.theme}function wg(n,u){const o=typeof u=="function"?u(n):u;if(Array.isArray(o))return o.flatMap(a=>wg(n,a));if(Array.isArray(o==null?void 0:o.variants)){let a;if(o.isProcessed)a=o.style;else{const{variants:h,...m}=o;a=m}return Ay(n,o.variants,[a])}return o!=null&&o.isProcessed?o.style:o}function Ay(n,u,o=[]){var h;let a;e:for(let m=0;m<u.length;m+=1){const T=u[m];if(typeof T.props=="function"){if(a??(a={...n,...n.ownerState,ownerState:n.ownerState}),!T.props(a))continue}else for(const E in T.props)if(n[E]!==T.props[E]&&((h=n.ownerState)==null?void 0:h[E])!==T.props[E])continue e;typeof T.style=="function"?(a??(a={...n,...n.ownerState,ownerState:n.ownerState}),o.push(T.style(a))):o.push(T.style)}return o}function QC(n={}){const{themeId:u,defaultTheme:o=YC,rootShouldForwardProp:a=w$,slotShouldForwardProp:h=w$}=n;function m(E){qC(E,u,o)}return(E,v={})=>{GI(E,ge=>ge.filter(ue=>ue!==Ha));const{name:C,slot:N,skipVariantsResolver:w,skipSx:k,overridesResolver:H=JC(nw(N)),...x}=v,O=w!==void 0?w:N&&N!=="Root"&&N!=="root"||!1,K=k||!1;let ee=w$;N==="Root"||N==="root"?ee=a:N?ee=h:tw(E)&&(ee=void 0);const oe=yy(E,{shouldForwardProp:ee,label:ZC(),...x}),ne=ge=>{if(typeof ge=="function"&&ge.__emotion_real!==ge)return function(re){return wg(re,ge)};if(hs(ge)){const ue=Ly(ge);return ue.variants?function(pe){return wg(pe,ue)}:ue.style}return ge},ae=(...ge)=>{const ue=[],re=ge.map(ne),pe=[];if(ue.push(m),C&&H&&pe.push(function(ke){var j,B;const Le=(B=(j=ke.theme.components)==null?void 0:j[C])==null?void 0:B.styleOverrides;if(!Le)return null;const Ve={};for(const I in Le)Ve[I]=wg(ke,Le[I]);return H(ke,Ve)}),C&&!O&&pe.push(function(ke){var Ve,j;const Ne=ke.theme,Le=(j=(Ve=Ne==null?void 0:Ne.components)==null?void 0:Ve[C])==null?void 0:j.variants;return Le?Ay(ke,Le):null}),K||pe.push(Ha),Array.isArray(re[0])){const ve=re.shift(),ke=new Array(ue.length).fill(""),Ne=new Array(pe.length).fill("");let Le;Le=[...ke,...ve,...Ne],Le.raw=[...ke,...ve.raw,...Ne],ue.unshift(Le)}const Fe=[...ue,...re,...pe],L=oe(...Fe);return E.muiName&&(L.muiName=E.muiName),L};return oe.withConfig&&(ae.withConfig=oe.withConfig),ae}}function ZC(n,u){return void 0}function ew(n){for(const u in n)return!1;return!0}function tw(n){return typeof n=="string"&&n.charCodeAt(0)>96}function nw(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function j$(n,u){const o={...u};for(const a in n)if(Object.prototype.hasOwnProperty.call(n,a)){const h=a;if(h==="components"||h==="slots")o[h]={...n[h],...o[h]};else if(h==="componentsProps"||h==="slotProps"){const m=n[h],T=u[h];if(!T)o[h]=m||{};else if(!m)o[h]=T;else{o[h]={...T};for(const E in m)if(Object.prototype.hasOwnProperty.call(m,E)){const v=E;o[h][v]=j$(m[v],T[v])}}}else o[h]===void 0&&(o[h]=n[h])}return o}function rw(n,u=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(u,Math.min(n,o))}function C_(n,u=0,o=1){return rw(n,u,o)}function iw(n){n=n.slice(1);const u=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let o=n.match(u);return o&&o[0].length===1&&(o=o.map(a=>a+a)),o?`rgb${o.length===4?"a":""}(${o.map((a,h)=>h<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function gu(n){if(n.type)return n;if(n.charAt(0)==="#")return gu(iw(n));const u=n.indexOf("("),o=n.substring(0,u);if(!["rgb","rgba","hsl","hsla","color"].includes(o))throw new Error(Ua(9,n));let a=n.substring(u+1,n.length-1),h;if(o==="color"){if(a=a.split(" "),h=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(h))throw new Error(Ua(10,h))}else a=a.split(",");return a=a.map(m=>parseFloat(m)),{type:o,values:a,colorSpace:h}}const ow=n=>{const u=gu(n);return u.values.slice(0,3).map((o,a)=>u.type.includes("hsl")&&a!==0?`${o}%`:o).join(" ")},Xp=(n,u)=>{try{return ow(n)}catch{return n}};function lm(n){const{type:u,colorSpace:o}=n;let{values:a}=n;return u.includes("rgb")?a=a.map((h,m)=>m<3?parseInt(h,10):h):u.includes("hsl")&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),u.includes("color")?a=`${o} ${a.join(" ")}`:a=`${a.join(", ")}`,`${u}(${a})`}function Dy(n){n=gu(n);const{values:u}=n,o=u[0],a=u[1]/100,h=u[2]/100,m=a*Math.min(h,1-h),T=(C,N=(C+o/30)%12)=>h-m*Math.max(Math.min(N-3,9-N,1),-1);let E="rgb";const v=[Math.round(T(0)*255),Math.round(T(8)*255),Math.round(T(4)*255)];return n.type==="hsla"&&(E+="a",v.push(u[3])),lm({type:E,values:v})}function X$(n){n=gu(n);let u=n.type==="hsl"||n.type==="hsla"?gu(Dy(n)).values:n.values;return u=u.map(o=>(n.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*u[0]+.7152*u[1]+.0722*u[2]).toFixed(3))}function sw(n,u){const o=X$(n),a=X$(u);return(Math.max(o,a)+.05)/(Math.min(o,a)+.05)}function K$(n,u){return n=gu(n),u=C_(u),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${u}`:n.values[3]=u,lm(n)}function _g(n,u,o){try{return K$(n,u)}catch{return n}}function w_(n,u){if(n=gu(n),u=C_(u),n.type.includes("hsl"))n.values[2]*=1-u;else if(n.type.includes("rgb")||n.type.includes("color"))for(let o=0;o<3;o+=1)n.values[o]*=1-u;return lm(n)}function Ft(n,u,o){try{return w_(n,u)}catch{return n}}function k_(n,u){if(n=gu(n),u=C_(u),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*u;else if(n.type.includes("rgb"))for(let o=0;o<3;o+=1)n.values[o]+=(255-n.values[o])*u;else if(n.type.includes("color"))for(let o=0;o<3;o+=1)n.values[o]+=(1-n.values[o])*u;return lm(n)}function Ut(n,u,o){try{return k_(n,u)}catch{return n}}function lw(n,u=.15){return X$(n)>.5?w_(n,u):k_(n,u)}function Tg(n,u,o){try{return lw(n,u)}catch{return n}}function um(n,u,o=void 0){const a={};for(const h in n){const m=n[h];let T="",E=!0;for(let v=0;v<m.length;v+=1){const C=m[v];C&&(T+=(E===!0?"":" ")+u(C),E=!1,o&&o[C]&&(T+=" "+o[C]))}a[h]=T}return a}const uw=_e.createContext(void 0);function aw(n){const{theme:u,name:o,props:a}=n;if(!u||!u.components||!u.components[o])return a;const h=u.components[o];return h.defaultProps?j$(h.defaultProps,a):!h.styleOverrides&&!h.variants?j$(h,a):a}function cw({props:n,name:u}){const o=_e.useContext(uw);return aw({props:n,name:u,theme:{components:o}})}const ob={theme:void 0};function dw(n){let u,o;return function(h){let m=u;return(m===void 0||h.theme!==o)&&(ob.theme=h.theme,m=Ly(n(ob)),u=m,o=h.theme),m}}function hw(n=""){function u(...a){if(!a.length)return"";const h=a[0];return typeof h=="string"&&!h.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${h}${u(...a.slice(1))})`:`, ${h}`}return(a,...h)=>`var(--${n?`${n}-`:""}${a}${u(...h)})`}const sb=(n,u,o,a=[])=>{let h=n;u.forEach((m,T)=>{T===u.length-1?Array.isArray(h)?h[Number(m)]=o:h&&typeof h=="object"&&(h[m]=o):h&&typeof h=="object"&&(h[m]||(h[m]=a.includes(m)?[]:{}),h=h[m])})},pw=(n,u,o)=>{function a(h,m=[],T=[]){Object.entries(h).forEach(([E,v])=>{(!o||!o([...m,E]))&&v!=null&&(typeof v=="object"&&Object.keys(v).length>0?a(v,[...m,E],Array.isArray(v)?[...T,E]:T):u([...m,E],v,T))})}a(n)},fw=(n,u)=>typeof u=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>n.includes(a))||n[n.length-1].toLowerCase().includes("opacity")?u:`${u}px`:u;function k$(n,u){const{prefix:o,shouldSkipGeneratingVar:a}=u||{},h={},m={},T={};return pw(n,(E,v,C)=>{if((typeof v=="string"||typeof v=="number")&&(!a||!a(E,v))){const N=`--${o?`${o}-`:""}${E.join("-")}`,w=fw(E,v);Object.assign(h,{[N]:w}),sb(m,E,`var(${N})`,C),sb(T,E,`var(${N}, ${w})`,C)}},E=>E[0]==="vars"),{css:h,vars:m,varsWithDefaults:T}}function gw(n,u={}){const{getSelector:o=K,disableCssColorScheme:a,colorSchemeSelector:h}=u,{colorSchemes:m={},components:T,defaultColorScheme:E="light",...v}=n,{vars:C,css:N,varsWithDefaults:w}=k$(v,u);let k=w;const H={},{[E]:x,...O}=m;if(Object.entries(O||{}).forEach(([ne,ae])=>{const{vars:ge,css:ue,varsWithDefaults:re}=k$(ae,u);k=Ti(k,re),H[ne]={css:ue,vars:ge}}),x){const{css:ne,vars:ae,varsWithDefaults:ge}=k$(x,u);k=Ti(k,ge),H[E]={css:ne,vars:ae}}function K(ne,ae){var ue,re;let ge=h;if(h==="class"&&(ge=".%s"),h==="data"&&(ge="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(ge=`[${h}="%s"]`),ne){if(ge==="media")return n.defaultColorScheme===ne?":root":{[`@media (prefers-color-scheme: ${((re=(ue=m[ne])==null?void 0:ue.palette)==null?void 0:re.mode)||ne})`]:{":root":ae}};if(ge)return n.defaultColorScheme===ne?`:root, ${ge.replace("%s",String(ne))}`:ge.replace("%s",String(ne))}return":root"}return{vars:k,generateThemeVars:()=>{let ne={...C};return Object.entries(H).forEach(([,{vars:ae}])=>{ne=Ti(ne,ae)}),ne},generateStyleSheets:()=>{var pe,Fe;const ne=[],ae=n.defaultColorScheme||"light";function ge(L,ve){Object.keys(ve).length&&ne.push(typeof L=="string"?{[L]:{...ve}}:L)}ge(o(void 0,{...N}),N);const{[ae]:ue,...re}=H;if(ue){const{css:L}=ue,ve=(Fe=(pe=m[ae])==null?void 0:pe.palette)==null?void 0:Fe.mode,ke=!a&&ve?{colorScheme:ve,...L}:{...L};ge(o(ae,{...ke}),ke)}return Object.entries(re).forEach(([L,{css:ve}])=>{var Le,Ve;const ke=(Ve=(Le=m[L])==null?void 0:Le.palette)==null?void 0:Ve.mode,Ne=!a&&ke?{colorScheme:ke,...ve}:{...ve};ge(o(L,{...Ne}),Ne)}),ne}}}function mw(n){return function(o){return n==="media"?`@media (prefers-color-scheme: ${o})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${o}"] &`:n==="class"?`.${o} &`:n==="data"?`[data-${o}] &`:`${n.replace("%s",o)} &`:"&"}}function Ny(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:tf.white,default:tf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const $w=Ny();function My(){return{text:{primary:tf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:tf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const lb=My();function ub(n,u,o,a){const h=a.light||a,m=a.dark||a*1.5;n[u]||(n.hasOwnProperty(o)?n[u]=n[o]:u==="light"?n.light=k_(n.main,h):u==="dark"&&(n.dark=w_(n.main,m)))}function _w(n="light"){return n==="dark"?{main:Id[200],light:Id[50],dark:Id[400]}:{main:Id[700],light:Id[400],dark:Id[800]}}function Tw(n="light"){return n==="dark"?{main:Sd[200],light:Sd[50],dark:Sd[400]}:{main:Sd[500],light:Sd[300],dark:Sd[700]}}function Ew(n="light"){return n==="dark"?{main:vd[500],light:vd[300],dark:vd[700]}:{main:vd[700],light:vd[400],dark:vd[800]}}function bw(n="light"){return n==="dark"?{main:Cd[400],light:Cd[300],dark:Cd[700]}:{main:Cd[700],light:Cd[500],dark:Cd[900]}}function yw(n="light"){return n==="dark"?{main:wd[400],light:wd[300],dark:wd[700]}:{main:wd[800],light:wd[500],dark:wd[900]}}function vw(n="light"){return n==="dark"?{main:Gp[400],light:Gp[300],dark:Gp[700]}:{main:"#ed6c02",light:Gp[500],dark:Gp[900]}}function O_(n){const{mode:u="light",contrastThreshold:o=3,tonalOffset:a=.2,...h}=n,m=n.primary||_w(u),T=n.secondary||Tw(u),E=n.error||Ew(u),v=n.info||bw(u),C=n.success||yw(u),N=n.warning||vw(u);function w(O){return sw(O,lb.text.primary)>=o?lb.text.primary:$w.text.primary}const k=({color:O,name:K,mainShade:ee=500,lightShade:oe=300,darkShade:ne=700})=>{if(O={...O},!O.main&&O[ee]&&(O.main=O[ee]),!O.hasOwnProperty("main"))throw new Error(Ua(11,K?` (${K})`:"",ee));if(typeof O.main!="string")throw new Error(Ua(12,K?` (${K})`:"",JSON.stringify(O.main)));return ub(O,"light",oe,a),ub(O,"dark",ne,a),O.contrastText||(O.contrastText=w(O.main)),O};let H;return u==="light"?H=Ny():u==="dark"&&(H=My()),Ti({common:{...tf},mode:u,primary:k({color:m,name:"primary"}),secondary:k({color:T,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:E,name:"error"}),warning:k({color:N,name:"warning"}),info:k({color:v,name:"info"}),success:k({color:C,name:"success"}),grey:WS,contrastThreshold:o,getContrastText:w,augmentColor:k,tonalOffset:a,...H},h)}function Sw(n){const u={};return Object.entries(n).forEach(a=>{const[h,m]=a;typeof m=="object"&&(u[h]=`${m.fontStyle?`${m.fontStyle} `:""}${m.fontVariant?`${m.fontVariant} `:""}${m.fontWeight?`${m.fontWeight} `:""}${m.fontStretch?`${m.fontStretch} `:""}${m.fontSize||""}${m.lineHeight?`/${m.lineHeight} `:""}${m.fontFamily||""}`)}),u}function Iw(n,u){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...u}}function Cw(n){return Math.round(n*1e5)/1e5}const ab={textTransform:"uppercase"},cb='"Roboto", "Helvetica", "Arial", sans-serif';function ww(n,u){const{fontFamily:o=cb,fontSize:a=14,fontWeightLight:h=300,fontWeightRegular:m=400,fontWeightMedium:T=500,fontWeightBold:E=700,htmlFontSize:v=16,allVariants:C,pxToRem:N,...w}=typeof u=="function"?u(n):u,k=a/14,H=N||(K=>`${K/v*k}rem`),x=(K,ee,oe,ne,ae)=>({fontFamily:o,fontWeight:K,fontSize:H(ee),lineHeight:oe,...o===cb?{letterSpacing:`${Cw(ne/ee)}em`}:{},...ae,...C}),O={h1:x(h,96,1.167,-1.5),h2:x(h,60,1.2,-.5),h3:x(m,48,1.167,0),h4:x(m,34,1.235,.25),h5:x(m,24,1.334,0),h6:x(T,20,1.6,.15),subtitle1:x(m,16,1.75,.15),subtitle2:x(T,14,1.57,.1),body1:x(m,16,1.5,.15),body2:x(m,14,1.43,.15),button:x(T,14,1.75,.4,ab),caption:x(m,12,1.66,.4),overline:x(m,12,2.66,1,ab),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ti({htmlFontSize:v,pxToRem:H,fontFamily:o,fontSize:a,fontWeightLight:h,fontWeightRegular:m,fontWeightMedium:T,fontWeightBold:E,...O},w,{clone:!1})}const kw=.2,Ow=.14,Rw=.12;function sn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${kw})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Ow})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Rw})`].join(",")}const Lw=["none",sn(0,2,1,-1,0,1,1,0,0,1,3,0),sn(0,3,1,-2,0,2,2,0,0,1,5,0),sn(0,3,3,-2,0,3,4,0,0,1,8,0),sn(0,2,4,-1,0,4,5,0,0,1,10,0),sn(0,3,5,-1,0,5,8,0,0,1,14,0),sn(0,3,5,-1,0,6,10,0,0,1,18,0),sn(0,4,5,-2,0,7,10,1,0,2,16,1),sn(0,5,5,-3,0,8,10,1,0,3,14,2),sn(0,5,6,-3,0,9,12,1,0,3,16,2),sn(0,6,6,-3,0,10,14,1,0,4,18,3),sn(0,6,7,-4,0,11,15,1,0,4,20,3),sn(0,7,8,-4,0,12,17,2,0,5,22,4),sn(0,7,8,-4,0,13,19,2,0,5,24,4),sn(0,7,9,-4,0,14,21,2,0,5,26,4),sn(0,8,9,-5,0,15,22,2,0,6,28,5),sn(0,8,10,-5,0,16,24,2,0,6,30,5),sn(0,8,11,-5,0,17,26,2,0,6,32,5),sn(0,9,11,-5,0,18,28,2,0,7,34,6),sn(0,9,12,-6,0,19,29,2,0,7,36,6),sn(0,10,13,-6,0,20,31,3,0,8,38,7),sn(0,10,13,-6,0,21,33,3,0,8,40,7),sn(0,10,14,-6,0,22,35,3,0,8,42,7),sn(0,11,14,-7,0,23,36,3,0,9,44,8),sn(0,11,15,-7,0,24,38,3,0,9,46,8)],Aw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dw={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function db(n){return`${Math.round(n)}ms`}function Nw(n){if(!n)return 0;const u=n/36;return Math.min(Math.round((4+15*u**.25+u/5)*10),3e3)}function Mw(n){const u={...Aw,...n.easing},o={...Dw,...n.duration};return{getAutoHeightDuration:Nw,create:(h=["all"],m={})=>{const{duration:T=o.standard,easing:E=u.easeInOut,delay:v=0,...C}=m;return(Array.isArray(h)?h:[h]).map(N=>`${N} ${typeof T=="string"?T:db(T)} ${E} ${typeof v=="string"?v:db(v)}`).join(",")},...n,easing:u,duration:o}}const xw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pw(n){return hs(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function xy(n={}){const u={...n};function o(a){const h=Object.entries(a);for(let m=0;m<h.length;m++){const[T,E]=h[m];!Pw(E)||T.startsWith("unstable_")?delete a[T]:hs(E)&&(a[T]={...E},o(a[T]))}}return o(u),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(u,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Y$(n={},...u){const{breakpoints:o,mixins:a={},spacing:h,palette:m={},transitions:T={},typography:E={},shape:v,...C}=n;if(n.vars)throw new Error(Ua(20));const N=O_(m),w=I_(n);let k=Ti(w,{mixins:Iw(w.breakpoints,a),palette:N,shadows:Lw.slice(),typography:ww(N,E),transitions:Mw(T),zIndex:{...xw}});return k=Ti(k,C),k=u.reduce((H,x)=>Ti(H,x),k),k.unstable_sxConfig={...pf,...C==null?void 0:C.unstable_sxConfig},k.unstable_sx=function(x){return Ha({sx:x,theme:this})},k.toRuntimeSource=xy,k}function J$(n){let u;return n<1?u=5.11916*n**2:u=4.5*Math.log(n+1)+2,Math.round(u*10)/1e3}const Bw=[...Array(25)].map((n,u)=>{if(u===0)return"none";const o=J$(u);return`linear-gradient(rgba(255 255 255 / ${o}), rgba(255 255 255 / ${o}))`});function Py(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function By(n){return n==="dark"?Bw:[]}function Fw(n){const{palette:u={mode:"light"},opacity:o,overlays:a,...h}=n,m=O_(u);return{palette:m,opacity:{...Py(m.mode),...o},overlays:a||By(m.mode),...h}}function Uw(n){var u;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((u=n[1])!=null&&u.match(/(mode|contrastThreshold|tonalOffset)/))}const Hw=n=>[...[...Array(25)].map((u,o)=>`--${n?`${n}-`:""}overlays-${o}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],Vw=n=>(u,o)=>{const a=n.rootSelector||":root",h=n.colorSchemeSelector;let m=h;if(h==="class"&&(m=".%s"),h==="data"&&(m="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(m=`[${h}="%s"]`),n.defaultColorScheme===u){if(u==="dark"){const T={};return Hw(n.cssVarPrefix).forEach(E=>{T[E]=o[E],delete o[E]}),m==="media"?{[a]:o,"@media (prefers-color-scheme: dark)":{[a]:T}}:m?{[m.replace("%s",u)]:T,[`${a}, ${m.replace("%s",u)}`]:o}:{[a]:{...o,...T}}}if(m&&m!=="media")return`${a}, ${m.replace("%s",String(u))}`}else if(u){if(m==="media")return{[`@media (prefers-color-scheme: ${String(u)})`]:{[a]:o}};if(m)return m.replace("%s",String(u))}return a};function Gw(n,u){u.forEach(o=>{n[o]||(n[o]={})})}function de(n,u,o){!n[u]&&o&&(n[u]=o)}function Kp(n){return typeof n!="string"||!n.startsWith("hsl")?n:Dy(n)}function pl(n,u){`${u}Channel`in n||(n[`${u}Channel`]=Xp(Kp(n[u])))}function Ww(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const us=n=>{try{return n()}catch{}},zw=(n="mui")=>hw(n);function O$(n,u,o,a){if(!u)return;u=u===!0?{}:u;const h=a==="dark"?"dark":"light";if(!o){n[a]=Fw({...u,palette:{mode:h,...u==null?void 0:u.palette}});return}const{palette:m,...T}=Y$({...o,palette:{mode:h,...u==null?void 0:u.palette}});return n[a]={...u,palette:m,opacity:{...Py(h),...u==null?void 0:u.opacity},overlays:(u==null?void 0:u.overlays)||By(h)},T}function jw(n={},...u){const{colorSchemes:o={light:!0},defaultColorScheme:a,disableCssColorScheme:h=!1,cssVarPrefix:m="mui",shouldSkipGeneratingVar:T=Uw,colorSchemeSelector:E=o.light&&o.dark?"media":void 0,rootSelector:v=":root",...C}=n,N=Object.keys(o)[0],w=a||(o.light&&N!=="light"?"light":N),k=zw(m),{[w]:H,light:x,dark:O,...K}=o,ee={...K};let oe=H;if((w==="dark"&&!("dark"in o)||w==="light"&&!("light"in o))&&(oe=!0),!oe)throw new Error(Ua(21,w));const ne=O$(ee,oe,C,w);x&&!ee.light&&O$(ee,x,void 0,"light"),O&&!ee.dark&&O$(ee,O,void 0,"dark");let ae={defaultColorScheme:w,...ne,cssVarPrefix:m,colorSchemeSelector:E,rootSelector:v,getCssVar:k,colorSchemes:ee,font:{...Sw(ne.typography),...ne.font},spacing:Ww(C.spacing)};Object.keys(ae.colorSchemes).forEach(Fe=>{const L=ae.colorSchemes[Fe].palette,ve=ke=>{const Ne=ke.split("-"),Le=Ne[1],Ve=Ne[2];return k(ke,L[Le][Ve])};if(L.mode==="light"&&(de(L.common,"background","#fff"),de(L.common,"onBackground","#000")),L.mode==="dark"&&(de(L.common,"background","#000"),de(L.common,"onBackground","#fff")),Gw(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){de(L.Alert,"errorColor",Ft(L.error.light,.6)),de(L.Alert,"infoColor",Ft(L.info.light,.6)),de(L.Alert,"successColor",Ft(L.success.light,.6)),de(L.Alert,"warningColor",Ft(L.warning.light,.6)),de(L.Alert,"errorFilledBg",ve("palette-error-main")),de(L.Alert,"infoFilledBg",ve("palette-info-main")),de(L.Alert,"successFilledBg",ve("palette-success-main")),de(L.Alert,"warningFilledBg",ve("palette-warning-main")),de(L.Alert,"errorFilledColor",us(()=>L.getContrastText(L.error.main))),de(L.Alert,"infoFilledColor",us(()=>L.getContrastText(L.info.main))),de(L.Alert,"successFilledColor",us(()=>L.getContrastText(L.success.main))),de(L.Alert,"warningFilledColor",us(()=>L.getContrastText(L.warning.main))),de(L.Alert,"errorStandardBg",Ut(L.error.light,.9)),de(L.Alert,"infoStandardBg",Ut(L.info.light,.9)),de(L.Alert,"successStandardBg",Ut(L.success.light,.9)),de(L.Alert,"warningStandardBg",Ut(L.warning.light,.9)),de(L.Alert,"errorIconColor",ve("palette-error-main")),de(L.Alert,"infoIconColor",ve("palette-info-main")),de(L.Alert,"successIconColor",ve("palette-success-main")),de(L.Alert,"warningIconColor",ve("palette-warning-main")),de(L.AppBar,"defaultBg",ve("palette-grey-100")),de(L.Avatar,"defaultBg",ve("palette-grey-400")),de(L.Button,"inheritContainedBg",ve("palette-grey-300")),de(L.Button,"inheritContainedHoverBg",ve("palette-grey-A100")),de(L.Chip,"defaultBorder",ve("palette-grey-400")),de(L.Chip,"defaultAvatarColor",ve("palette-grey-700")),de(L.Chip,"defaultIconColor",ve("palette-grey-700")),de(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(L.LinearProgress,"primaryBg",Ut(L.primary.main,.62)),de(L.LinearProgress,"secondaryBg",Ut(L.secondary.main,.62)),de(L.LinearProgress,"errorBg",Ut(L.error.main,.62)),de(L.LinearProgress,"infoBg",Ut(L.info.main,.62)),de(L.LinearProgress,"successBg",Ut(L.success.main,.62)),de(L.LinearProgress,"warningBg",Ut(L.warning.main,.62)),de(L.Skeleton,"bg",`rgba(${ve("palette-text-primaryChannel")} / 0.11)`),de(L.Slider,"primaryTrack",Ut(L.primary.main,.62)),de(L.Slider,"secondaryTrack",Ut(L.secondary.main,.62)),de(L.Slider,"errorTrack",Ut(L.error.main,.62)),de(L.Slider,"infoTrack",Ut(L.info.main,.62)),de(L.Slider,"successTrack",Ut(L.success.main,.62)),de(L.Slider,"warningTrack",Ut(L.warning.main,.62));const ke=Tg(L.background.default,.8);de(L.SnackbarContent,"bg",ke),de(L.SnackbarContent,"color",us(()=>L.getContrastText(ke))),de(L.SpeedDialAction,"fabHoverBg",Tg(L.background.paper,.15)),de(L.StepConnector,"border",ve("palette-grey-400")),de(L.StepContent,"border",ve("palette-grey-400")),de(L.Switch,"defaultColor",ve("palette-common-white")),de(L.Switch,"defaultDisabledColor",ve("palette-grey-100")),de(L.Switch,"primaryDisabledColor",Ut(L.primary.main,.62)),de(L.Switch,"secondaryDisabledColor",Ut(L.secondary.main,.62)),de(L.Switch,"errorDisabledColor",Ut(L.error.main,.62)),de(L.Switch,"infoDisabledColor",Ut(L.info.main,.62)),de(L.Switch,"successDisabledColor",Ut(L.success.main,.62)),de(L.Switch,"warningDisabledColor",Ut(L.warning.main,.62)),de(L.TableCell,"border",Ut(_g(L.divider,1),.88)),de(L.Tooltip,"bg",_g(L.grey[700],.92))}if(L.mode==="dark"){de(L.Alert,"errorColor",Ut(L.error.light,.6)),de(L.Alert,"infoColor",Ut(L.info.light,.6)),de(L.Alert,"successColor",Ut(L.success.light,.6)),de(L.Alert,"warningColor",Ut(L.warning.light,.6)),de(L.Alert,"errorFilledBg",ve("palette-error-dark")),de(L.Alert,"infoFilledBg",ve("palette-info-dark")),de(L.Alert,"successFilledBg",ve("palette-success-dark")),de(L.Alert,"warningFilledBg",ve("palette-warning-dark")),de(L.Alert,"errorFilledColor",us(()=>L.getContrastText(L.error.dark))),de(L.Alert,"infoFilledColor",us(()=>L.getContrastText(L.info.dark))),de(L.Alert,"successFilledColor",us(()=>L.getContrastText(L.success.dark))),de(L.Alert,"warningFilledColor",us(()=>L.getContrastText(L.warning.dark))),de(L.Alert,"errorStandardBg",Ft(L.error.light,.9)),de(L.Alert,"infoStandardBg",Ft(L.info.light,.9)),de(L.Alert,"successStandardBg",Ft(L.success.light,.9)),de(L.Alert,"warningStandardBg",Ft(L.warning.light,.9)),de(L.Alert,"errorIconColor",ve("palette-error-main")),de(L.Alert,"infoIconColor",ve("palette-info-main")),de(L.Alert,"successIconColor",ve("palette-success-main")),de(L.Alert,"warningIconColor",ve("palette-warning-main")),de(L.AppBar,"defaultBg",ve("palette-grey-900")),de(L.AppBar,"darkBg",ve("palette-background-paper")),de(L.AppBar,"darkColor",ve("palette-text-primary")),de(L.Avatar,"defaultBg",ve("palette-grey-600")),de(L.Button,"inheritContainedBg",ve("palette-grey-800")),de(L.Button,"inheritContainedHoverBg",ve("palette-grey-700")),de(L.Chip,"defaultBorder",ve("palette-grey-700")),de(L.Chip,"defaultAvatarColor",ve("palette-grey-300")),de(L.Chip,"defaultIconColor",ve("palette-grey-300")),de(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(L.LinearProgress,"primaryBg",Ft(L.primary.main,.5)),de(L.LinearProgress,"secondaryBg",Ft(L.secondary.main,.5)),de(L.LinearProgress,"errorBg",Ft(L.error.main,.5)),de(L.LinearProgress,"infoBg",Ft(L.info.main,.5)),de(L.LinearProgress,"successBg",Ft(L.success.main,.5)),de(L.LinearProgress,"warningBg",Ft(L.warning.main,.5)),de(L.Skeleton,"bg",`rgba(${ve("palette-text-primaryChannel")} / 0.13)`),de(L.Slider,"primaryTrack",Ft(L.primary.main,.5)),de(L.Slider,"secondaryTrack",Ft(L.secondary.main,.5)),de(L.Slider,"errorTrack",Ft(L.error.main,.5)),de(L.Slider,"infoTrack",Ft(L.info.main,.5)),de(L.Slider,"successTrack",Ft(L.success.main,.5)),de(L.Slider,"warningTrack",Ft(L.warning.main,.5));const ke=Tg(L.background.default,.98);de(L.SnackbarContent,"bg",ke),de(L.SnackbarContent,"color",us(()=>L.getContrastText(ke))),de(L.SpeedDialAction,"fabHoverBg",Tg(L.background.paper,.15)),de(L.StepConnector,"border",ve("palette-grey-600")),de(L.StepContent,"border",ve("palette-grey-600")),de(L.Switch,"defaultColor",ve("palette-grey-300")),de(L.Switch,"defaultDisabledColor",ve("palette-grey-600")),de(L.Switch,"primaryDisabledColor",Ft(L.primary.main,.55)),de(L.Switch,"secondaryDisabledColor",Ft(L.secondary.main,.55)),de(L.Switch,"errorDisabledColor",Ft(L.error.main,.55)),de(L.Switch,"infoDisabledColor",Ft(L.info.main,.55)),de(L.Switch,"successDisabledColor",Ft(L.success.main,.55)),de(L.Switch,"warningDisabledColor",Ft(L.warning.main,.55)),de(L.TableCell,"border",Ft(_g(L.divider,1),.68)),de(L.Tooltip,"bg",_g(L.grey[700],.92))}pl(L.background,"default"),pl(L.background,"paper"),pl(L.common,"background"),pl(L.common,"onBackground"),pl(L,"divider"),Object.keys(L).forEach(ke=>{const Ne=L[ke];ke!=="tonalOffset"&&Ne&&typeof Ne=="object"&&(Ne.main&&de(L[ke],"mainChannel",Xp(Kp(Ne.main))),Ne.light&&de(L[ke],"lightChannel",Xp(Kp(Ne.light))),Ne.dark&&de(L[ke],"darkChannel",Xp(Kp(Ne.dark))),Ne.contrastText&&de(L[ke],"contrastTextChannel",Xp(Kp(Ne.contrastText))),ke==="text"&&(pl(L[ke],"primary"),pl(L[ke],"secondary")),ke==="action"&&(Ne.active&&pl(L[ke],"active"),Ne.selected&&pl(L[ke],"selected")))})}),ae=u.reduce((Fe,L)=>Ti(Fe,L),ae);const ge={prefix:m,disableCssColorScheme:h,shouldSkipGeneratingVar:T,getSelector:Vw(ae)},{vars:ue,generateThemeVars:re,generateStyleSheets:pe}=gw(ae,ge);return ae.vars=ue,Object.entries(ae.colorSchemes[ae.defaultColorScheme]).forEach(([Fe,L])=>{ae[Fe]=L}),ae.generateThemeVars=re,ae.generateStyleSheets=pe,ae.generateSpacing=function(){return Cy(C.spacing,v_(this))},ae.getColorSchemeSelector=mw(E),ae.spacing=ae.generateSpacing(),ae.shouldSkipGeneratingVar=T,ae.unstable_sxConfig={...pf,...C==null?void 0:C.unstable_sxConfig},ae.unstable_sx=function(L){return Ha({sx:L,theme:this})},ae.toRuntimeSource=xy,ae}function hb(n,u,o){n.colorSchemes&&o&&(n.colorSchemes[u]={...o!==!0&&o,palette:O_({...o===!0?{}:o.palette,mode:u})})}function Fy(n={},...u){const{palette:o,cssVariables:a=!1,colorSchemes:h=o?void 0:{light:!0},defaultColorScheme:m=o==null?void 0:o.mode,...T}=n,E=m||"light",v=h==null?void 0:h[E],C={...h,...o?{[E]:{...typeof v!="boolean"&&v,palette:o}}:void 0};if(a===!1){if(!("colorSchemes"in n))return Y$(n,...u);let N=o;"palette"in n||C[E]&&(C[E]!==!0?N=C[E].palette:E==="dark"&&(N={mode:"dark"}));const w=Y$({...n,palette:N},...u);return w.defaultColorScheme=E,w.colorSchemes=C,w.palette.mode==="light"&&(w.colorSchemes.light={...C.light!==!0&&C.light,palette:w.palette},hb(w,"dark",C.dark)),w.palette.mode==="dark"&&(w.colorSchemes.dark={...C.dark!==!0&&C.dark,palette:w.palette},hb(w,"light",C.light)),w}return!o&&!("light"in C)&&E==="light"&&(C.light=!0),jw({...T,colorSchemes:C,defaultColorScheme:E,...typeof a!="boolean"&&a},...u)}const Uy=Fy();function Xw(){const n=wy(Uy);return n[$_]||n}function Kw(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Yw=n=>Kw(n)&&n!=="classes",am=QC({themeId:$_,defaultTheme:Uy,rootShouldForwardProp:Yw});function Jw(){return ky}const Hy=dw;function cm(n){return cw(n)}function qw(n,u){if(n==null)return{};var o={};for(var a in n)if({}.hasOwnProperty.call(n,a)){if(u.includes(a))continue;o[a]=n[a]}return o}function q$(n,u){return q$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},q$(n,u)}function Qw(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Zw(n){return gf("MuiPaper",n)}mf("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ek=n=>{const{square:u,elevation:o,variant:a,classes:h}=n,m={root:["root",a,!u&&"rounded",a==="elevation"&&`elevation${o}`]};return um(m,Zw,h)},tk=am("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,u)=>{const{ownerState:o}=n;return[u.root,u[o.variant],!o.square&&u.rounded,o.variant==="elevation"&&u[`elevation${o.elevation}`]]}})(Hy(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:u})=>!u.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),nk=_e.forwardRef(function(u,o){var H;const a=cm({props:u,name:"MuiPaper"}),h=Xw(),{className:m,component:T="div",elevation:E=1,square:v=!1,variant:C="elevation",...N}=a,w={...a,component:T,elevation:E,square:v,variant:C},k=ek(w);return U.jsx(tk,{as:T,ownerState:w,className:ff(k.root,m),ref:o,...N,style:{...C==="elevation"&&{"--Paper-shadow":(h.vars||h).shadows[E],...h.vars&&{"--Paper-overlay":(H=h.vars.overlays)==null?void 0:H[E]},...!h.vars&&h.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${K$("#fff",J$(E))}, ${K$("#fff",J$(E))})`}},...N.style}})});function rk(n){return typeof n.main=="string"}function ik(n,u=[]){if(!rk(n))return!1;for(const o of u)if(!n.hasOwnProperty(o)||typeof n[o]!="string")return!1;return!0}function ok(n=[]){return([,u])=>u&&ik(u,n)}function sk(n){return gf("MuiTypography",n)}mf("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const lk={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},uk=Jw(),ak=n=>{const{align:u,gutterBottom:o,noWrap:a,paragraph:h,variant:m,classes:T}=n,E={root:["root",m,n.align!=="inherit"&&`align${lf(u)}`,o&&"gutterBottom",a&&"noWrap",h&&"paragraph"]};return um(E,sk,T)},ck=am("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,u)=>{const{ownerState:o}=n;return[u.root,o.variant&&u[o.variant],o.align!=="inherit"&&u[`align${lf(o.align)}`],o.noWrap&&u.noWrap,o.gutterBottom&&u.gutterBottom,o.paragraph&&u.paragraph]}})(Hy(({theme:n})=>{var u;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([o,a])=>o!=="inherit"&&a&&typeof a=="object").map(([o,a])=>({props:{variant:o},style:a})),...Object.entries(n.palette).filter(ok()).map(([o])=>({props:{color:o},style:{color:(n.vars||n).palette[o].main}})),...Object.entries(((u=n.palette)==null?void 0:u.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${lf(o)}`},style:{color:(n.vars||n).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),pb={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},R$=_e.forwardRef(function(u,o){const{color:a,...h}=cm({props:u,name:"MuiTypography"}),m=!lk[a],T=uk({...h,...m&&{color:a}}),{align:E="inherit",className:v,component:C,gutterBottom:N=!1,noWrap:w=!1,paragraph:k=!1,variant:H="body1",variantMapping:x=pb,...O}=T,K={...T,align:E,color:a,className:v,component:C,gutterBottom:N,noWrap:w,paragraph:k,variant:H,variantMapping:x},ee=C||(k?"p":x[H]||pb[H])||"span",oe=ak(K);return U.jsx(ck,{as:ee,ref:o,className:ff(oe.root,v),...O,ownerState:K,style:{...E!=="inherit"&&{"--Typography-textAlign":E},...O.style}})}),dk=mf("MuiBox",["root"]),hk=Fy(),fb=XC({themeId:$_,defaultTheme:hk,defaultClassName:dk.root,generateClassName:Oy.generate});function pk(n){return gf("MuiCard",n)}mf("MuiCard",["root"]);const fk=n=>{const{classes:u}=n;return um({root:["root"]},pk,u)},gk=am(nk,{name:"MuiCard",slot:"Root",overridesResolver:(n,u)=>u.root})({overflow:"hidden"}),mk=_e.forwardRef(function(u,o){const a=cm({props:u,name:"MuiCard"}),{className:h,raised:m=!1,...T}=a,E={...a,raised:m},v=fk(E);return U.jsx(gk,{className:ff(v.root,h),elevation:m?8:void 0,ref:o,ownerState:E,...T})});function $k(n){return gf("MuiCardContent",n)}mf("MuiCardContent",["root"]);const _k=n=>{const{classes:u}=n;return um({root:["root"]},$k,u)},Tk=am("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,u)=>u.root})({padding:16,"&:last-child":{paddingBottom:24}}),Ek=_e.forwardRef(function(u,o){const a=cm({props:u,name:"MuiCardContent"}),{className:h,component:m="div",...T}=a,E={...a,component:m},v=_k(E);return U.jsx(Tk,{as:m,className:ff(v.root,h),ownerState:E,ref:o,...T})});function Hd({title:n,date:u,children:o}){return U.jsx(mk,{variant:"outlined",style:{marginBottom:"16px",width:"99%",textAlign:"left"},children:U.jsxs(Ek,{children:[U.jsx(R$,{variant:"h5",component:"h2",children:n}),U.jsx(R$,{color:"textSecondary",children:u}),U.jsx(R$,{variant:"body2",component:"div",children:o})]})})}function zp({url:n,text:u}){return U.jsx("li",{children:U.jsx("a",{href:n,children:u})})}const bk=()=>U.jsxs("ul",{children:[U.jsx(zp,{url:"https://jaimechurch.github.io/Blog/",text:"Jamie"}),U.jsx(zp,{url:"https://kalvinvar.github.io/Final/#/app",text:"Kalvin"}),U.jsx(zp,{url:"https://jacob-pickard.github.io/Quiz-App/",text:"Jacob"}),U.jsx(zp,{url:"https://rofenac.github.io/blog/",text:"David"}),U.jsx(zp,{url:"https://Aprilv.github.io/my-first-react-app",text:"April"})]});function yk(){return U.jsxs(Hd,{title:"Hello, World!",date:"2025-01-21",children:[U.jsx("p",{children:"Made links to other blogs:"}),U.jsx(bk,{})]})}function vk(n,u){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&u.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,a=Object.getOwnPropertySymbols(n);h<a.length;h++)u.indexOf(a[h])<0&&Object.prototype.propertyIsEnumerable.call(n,a[h])&&(o[a[h]]=n[a[h]]);return o}const uf="abcdefgh".split(""),kg={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Sk={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Ik={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Ck=[7,6,5,4,3,2,1,0],wk=[0,1,2,3,4,5,6,7],gb={wP:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),U.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),U.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),U.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),U.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),U.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[U.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),U.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),U.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),U.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[U.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),U.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),U.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),U.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),U.jsx("circle",{cx:"6",cy:"12",r:"2"}),U.jsx("circle",{cx:"14",cy:"9",r:"2"}),U.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),U.jsx("circle",{cx:"31",cy:"9",r:"2"}),U.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),U.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),U.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),U.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),U.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),U.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),U.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),U.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),U.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[U.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),U.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),U.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),U.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[U.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),U.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),U.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),U.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),U.jsx("circle",{cx:"6",cy:"12",r:"2"}),U.jsx("circle",{cx:"14",cy:"9",r:"2"}),U.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),U.jsx("circle",{cx:"31",cy:"9",r:"2"}),U.jsx("circle",{cx:"39",cy:"12",r:"2"}),U.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),U.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[U.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),U.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),U.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),U.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:U.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[U.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),U.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),U.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),U.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),U.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function Q$(n,u,o){const a=u/8,h=n==="white"?Sk:Ik,m=n==="white"?Ck:wk,T=h[o[0]]*a+a/2,E=m[parseInt(o[1],10)-1]*a+a/2;return{x:T,y:E}}function mb(n){let u=!1;return Object.keys(kg).forEach(o=>{n[o]!==kg[o]&&(u=!0)}),Object.keys(n).forEach(o=>{kg[o]!==n[o]&&(u=!0)}),u}function kk(n,u){const o={removed:{},added:{}};return Object.keys(n).forEach(a=>{u[a]!==n[a]&&(o.removed[a]=n[a])}),Object.keys(u).forEach(a=>{n[a]!==u[a]&&(o.added[a]=u[a])}),o}function $b(n){return n==="start"?kg:typeof n=="string"?Ok(n):n}function Ok(n){if(!Rk(n))return{};n=n.replace(/ .+$/,"");const u=n.split("/"),o={};let a=8;for(let h=0;h<8;h++){const m=u[h].split("");let T=0;for(let E=0;E<m.length;E++)if(m[E].search(/[1-8]/)!==-1){const v=parseInt(m[E],10);T=T+v}else{const v=uf[T]+a;o[v]=Ak(m[E]),T=T+1}a=a-1}return o}function Rk(n){n=n.replace(/ .+$/,""),n=Lk(n);const u=n.split("/");if(u.length!==8)return!1;for(let o=0;o<8;o++)if(u[o].length!==8||u[o].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function Lk(n){return n.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Ak(n){return n.toLowerCase()===n?"b"+n.toUpperCase():"w"+n.toUpperCase()}const Dk=(n,u=!0,o,a)=>{const[h,m]=_e.useState([]),[T,E]=_e.useState([]),[v,C]=_e.useState();_e.useEffect(()=>{Array.isArray(n)&&(N(),m(n==null?void 0:n.filter(x=>x[0]!==x[1])))},[n]),_e.useEffect(()=>{o==null||o(T)},[T]);function N(){E([]),C(void 0)}const w=(x,O)=>{u&&C([x,O,a])},k=[...T,...h];return{arrows:k,newArrow:v,clearArrows:N,drawNewArrow:w,setArrows:E,onArrowDrawEnd:(x,O)=>{if(x===O||!u)return;let K;const ee=[x,O,a];k.every(([ne,ae])=>!(ne===x&&ae===O))?K=[...T,ee]:K=T.filter(([ne,ae])=>!(ne===x&&ae===O)),C(void 0),E(K)}}},Vy=_e.createContext({}),$l=()=>_e.useContext(Vy),Nk=_e.forwardRef(({allowDragOutsideBoard:n=!0,animationDuration:u=300,areArrowsAllowed:o=!0,arePiecesDraggable:a=!0,arePremovesAllowed:h=!1,autoPromoteToQueen:m=!1,boardOrientation:T="white",boardWidth:E,children:v,clearPremovesOnRightClick:C=!0,customArrows:N,customArrowColor:w="rgb(255,170,0)",customBoardStyle:k,customNotationStyle:H,customDarkSquareStyle:x={backgroundColor:"#B58863"},customDropSquareStyle:O={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:K={backgroundColor:"#F0D9B5"},customPieces:ee,customPremoveDarkSquareStyle:oe={backgroundColor:"#A42323"},customPremoveLightSquareStyle:ne={backgroundColor:"#BD2828"},customSquare:ae="div",customSquareStyles:ge,dropOffBoardAction:ue="snapback",id:re=0,isDraggablePiece:pe=()=>!0,getPositionObject:Fe=()=>{},onArrowsChange:L=()=>{},onDragOverSquare:ve=()=>{},onMouseOutSquare:ke=()=>{},onMouseOverSquare:Ne=()=>{},onPieceClick:Le=()=>{},onPieceDragBegin:Ve=()=>{},onPieceDragEnd:j=()=>{},onPieceDrop:B=()=>!0,onPieceDropOffBoard:I=()=>{},onPromotionCheck:J=(Ct,yt,rr)=>(rr==="wP"&&Ct[1]==="7"&&yt[1]==="8"||rr==="bP"&&Ct[1]==="2"&&yt[1]==="1")&&Math.abs(Ct.charCodeAt(0)-yt.charCodeAt(0))<=1,onPromotionPieceSelect:Y=()=>!0,onSparePieceDrop:R=()=>!0,onSquareClick:Q=()=>{},onSquareRightClick:Re=()=>{},position:Se="start",promotionDialogVariant:Ue="default",promotionToSquare:Oe=null,showBoardNotation:Ie=!0,showPromotionDialog:qe=!1,snapToCursor:Qe=!0},$t)=>{const[Ct,yt]=_e.useState($b(Se)),[rr,Zi]=_e.useState({removed:{},added:{}}),[wn,Qt]=_e.useState(void 0),[Xr,pr]=_e.useState(qe&&!m),[eo,Ge]=_e.useState(null),[st,it]=_e.useState(Oe),[Kr,kn]=_e.useState([]),$n=_e.useRef(Kr),[Rr,zt]=_e.useState(),[Pn,ko]=_e.useState(Object.assign(Object.assign({},gb),ee)),[le,Be]=_e.useState(!1),[_,S]=_e.useState(),[W,z]=_e.useState(!1),[we,_t]=_e.useState(null);_e.useImperativeHandle($t,()=>({clearPremoves(pt=!0){Fn(pt)}})),_e.useEffect(()=>{ko(Object.assign(Object.assign({},gb),ee))},[ee]),_e.useEffect(()=>{pr(qe),it(Oe)},[Oe,qe]),_e.useEffect(()=>{var pt,ht,fn;ir();const Ht=$b(Se),fr=kk(Ct,Ht),or=((pt=Object.keys(fr.added))===null||pt===void 0?void 0:pt.length)<=2?(fn=(ht=Object.entries(fr.added))===null||ht===void 0?void 0:ht[0])===null||fn===void 0?void 0:fn[1][0]:void 0;if(W)yt(Ht),z(!1),h&&ms(or),_&&clearTimeout(_);else if(le)yt(Ht),z(!1),h&&ms(or);else{mb(Ht)&&wn!==void 0?Qt(or):mb(Ht)?Qt(void 0):Qt("b"),Zi(fr),z(!0);const Wa=setTimeout(()=>{yt(Ht),z(!1),h&&ms(or)},u);S(Wa)}return Be(!1),Fe(Ht),to(),()=>{clearTimeout(_)}},[Se]);const{arrows:Bn,newArrow:Yr,clearArrows:to,drawNewArrow:Lr,onArrowDrawEnd:Jr}=Dk(N,o,L,w);function gs(pt,ht,fn,Ht){if(pt===ht)return;if(to(),h&&W||h&&(wn===fn[0]||$n.current.filter(or=>or.piece[0]===fn[0]).length>0)){const or=[...$n.current];or.push({sourceSq:pt,targetSq:ht,piece:fn}),$n.current=or,kn([...or]),ir();return}if(!h&&W)return;const fr=Object.assign({},Ct);Be(!!Ht),Qt(fn[0]),B.length?B(pt,ht,fn)||(Fn(),Be(!1)):(delete fr[pt],fr[ht]=fn,yt(fr)),ir(),Fe(fr)}function Oo(pt){const ht=Object.assign({},Ct);delete ht[pt],yt(ht),Fe(ht)}function ms(pt){if($n.current.length===0)return;const ht=$n.current[0];if(ht.piece[0]!==void 0&&ht.piece[0]!==pt&&B.length)if(Qt(ht.piece[0]),Be(!0),B(ht.sourceSq,ht.targetSq,ht.piece)){const Ht=[...$n.current];Ht.shift(),$n.current=Ht,kn([...Ht])}else Fn()}function _l(pt,ht){if(!R(pt,ht))return;const Ht=Object.assign({},Ct);Ht[ht]=pt,yt(Ht),Fe(Ht)}function Fn(pt=!0){pt&&Qt(void 0),$n.current=[],kn([])}function ir(){Ge(null),it(null),pr(!1)}function Tl(pt){zt(pt)}function no(pt){if(Rr){if(Rr===pt){zt(void 0),C&&Fn(!1),Re(pt);return}}else zt(void 0)}function El(){zt(void 0)}const ro={allowDragOutsideBoard:n,animationDuration:u,arePiecesDraggable:a,arePremovesAllowed:h,arrows:Bn,autoPromoteToQueen:m,boardOrientation:T,boardWidth:E,chessPieces:Pn,clearArrows:to,clearCurrentRightClickDown:El,currentPosition:Ct,currentRightClickDown:Rr,customArrowColor:w,customBoardStyle:k,customDarkSquareStyle:x,customDropSquareStyle:O,customLightSquareStyle:K,customNotationStyle:H,customPremoveDarkSquareStyle:oe,customPremoveLightSquareStyle:ne,customSquare:ae,customSquareStyles:ge,deletePieceFromSquare:Oo,drawNewArrow:Lr,dropOffBoardAction:ue,handleSetPosition:gs,handleSparePieceDrop:_l,id:re,isDraggablePiece:pe,isWaitingForAnimation:W,lastPieceColour:wn,lastSquareDraggedOver:we,newArrow:Yr,onArrowDrawEnd:Jr,onDragOverSquare:ve,onMouseOutSquare:ke,onMouseOverSquare:Ne,onPieceClick:Le,onPieceDragBegin:Ve,onPieceDragEnd:j,onPieceDrop:B,onPieceDropOffBoard:I,onPromotionCheck:J,onPromotionPieceSelect:Y,onRightClickDown:Tl,onRightClickUp:no,onSparePieceDrop:R,onSquareClick:Q,positionDifferences:rr,premoves:Kr,promoteFromSquare:eo,promoteToSquare:st,promotionDialogVariant:Ue,setLastSquareDraggedOver:_t,setPromoteFromSquare:Ge,setPromoteToSquare:it,setShowPromoteDialog:pr,showBoardNotation:Ie,showPromoteDialog:Xr,snapToCursor:Qe};return U.jsx(Vy.Provider,Object.assign({value:ro},{children:v}))});function Mk({row:n,col:u}){const{boardOrientation:o,boardWidth:a,customDarkSquareStyle:h,customLightSquareStyle:m,customNotationStyle:T}=$l(),E=m.backgroundColor,v=h.backgroundColor,C=u===0,N=n===7,w=C&&N;function k(){return o==="white"?8-n:n+1}function H(){return o==="black"?uf[7-u]:uf[u]}function x(){return U.jsxs(U.Fragment,{children:[U.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:E}),Tb(a,T))},{children:k()})),U.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:E}),_b(a,T))},{children:H()}))]})}function O(){return U.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:u%2!==0?v:E}),_b(a,T))},{children:H()}))}function K(){return U.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},o==="black"?{color:n%2===0?v:E}:{color:n%2===0?v:E}),Tb(a,T))},{children:k()}))}return w?x():N?O():C?K():null}const _b=(n,u)=>Object.assign({alignSelf:"flex-end",paddingLeft:n/8-n/48,fontSize:n/48},u),Tb=(n,u)=>Object.assign({alignSelf:"flex-start",paddingRight:n/8-n/48,fontSize:n/48},u),Gy=_e.createContext({dragDropManager:void 0});function Ki(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Eb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),L$=function(){return Math.random().toString(36).substring(7).split("").join(".")},bb={INIT:"@@redux/INIT"+L$(),REPLACE:"@@redux/REPLACE"+L$(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+L$()}};function xk(n){if(typeof n!="object"||n===null)return!1;for(var u=n;Object.getPrototypeOf(u)!==null;)u=Object.getPrototypeOf(u);return Object.getPrototypeOf(n)===u}function Wy(n,u,o){var a;if(typeof u=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Ki(0));if(typeof u=="function"&&typeof o>"u"&&(o=u,u=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Ki(1));return o(Wy)(n,u)}if(typeof n!="function")throw new Error(Ki(2));var h=n,m=u,T=[],E=T,v=!1;function C(){E===T&&(E=T.slice())}function N(){if(v)throw new Error(Ki(3));return m}function w(O){if(typeof O!="function")throw new Error(Ki(4));if(v)throw new Error(Ki(5));var K=!0;return C(),E.push(O),function(){if(K){if(v)throw new Error(Ki(6));K=!1,C();var oe=E.indexOf(O);E.splice(oe,1),T=null}}}function k(O){if(!xk(O))throw new Error(Ki(7));if(typeof O.type>"u")throw new Error(Ki(8));if(v)throw new Error(Ki(9));try{v=!0,m=h(m,O)}finally{v=!1}for(var K=T=E,ee=0;ee<K.length;ee++){var oe=K[ee];oe()}return O}function H(O){if(typeof O!="function")throw new Error(Ki(10));h=O,k({type:bb.REPLACE})}function x(){var O,K=w;return O={subscribe:function(oe){if(typeof oe!="object"||oe===null)throw new Error(Ki(11));function ne(){oe.next&&oe.next(N())}ne();var ae=K(ne);return{unsubscribe:ae}}},O[Eb]=function(){return this},O}return k({type:bb.INIT}),a={dispatch:k,subscribe:w,getState:N,replaceReducer:H},a[Eb]=x,a}function et(n,u,...o){if(Pk()&&u===void 0)throw new Error("invariant requires an error message argument");if(!n){let a;if(u===void 0)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let h=0;a=new Error(u.replace(/%s/g,function(){return o[h++]})),a.name="Invariant Violation"}throw a.framesToPop=1,a}}function Pk(){return typeof process<"u"&&!0}function Bk(n,u,o){return u.split(".").reduce((a,h)=>a&&a[h]?a[h]:o,n)}function Fk(n,u){return n.filter(o=>o!==u)}function zy(n){return typeof n=="object"}function Uk(n,u){const o=new Map,a=m=>{o.set(m,o.has(m)?o.get(m)+1:1)};n.forEach(a),u.forEach(a);const h=[];return o.forEach((m,T)=>{m===1&&h.push(T)}),h}function Hk(n,u){return n.filter(o=>u.indexOf(o)>-1)}const R_="dnd-core/INIT_COORDS",dm="dnd-core/BEGIN_DRAG",L_="dnd-core/PUBLISH_DRAG_SOURCE",hm="dnd-core/HOVER",pm="dnd-core/DROP",fm="dnd-core/END_DRAG";function yb(n,u){return{type:R_,payload:{sourceClientOffset:u||null,clientOffset:n||null}}}const Vk={type:R_,payload:{clientOffset:null,sourceClientOffset:null}};function Gk(n){return function(o=[],a={publishSource:!0}){const{publishSource:h=!0,clientOffset:m,getSourceClientOffset:T}=a,E=n.getMonitor(),v=n.getRegistry();n.dispatch(yb(m)),Wk(o,E,v);const C=Xk(o,E);if(C==null){n.dispatch(Vk);return}let N=null;if(m){if(!T)throw new Error("getSourceClientOffset must be defined");zk(T),N=T(C)}n.dispatch(yb(m,N));const k=v.getSource(C).beginDrag(E,C);if(k==null)return;jk(k),v.pinSource(C);const H=v.getSourceType(C);return{type:dm,payload:{itemType:H,item:k,sourceId:C,clientOffset:m||null,sourceClientOffset:N||null,isSourcePublic:!!h}}}}function Wk(n,u,o){et(!u.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(a){et(o.getSource(a),"Expected sourceIds to be registered.")})}function zk(n){et(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function jk(n){et(zy(n),"Item must be an object.")}function Xk(n,u){let o=null;for(let a=n.length-1;a>=0;a--)if(u.canDragSource(n[a])){o=n[a];break}return o}function Kk(n,u,o){return u in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function Yk(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),a.forEach(function(h){Kk(n,h,o[h])})}return n}function Jk(n){return function(o={}){const a=n.getMonitor(),h=n.getRegistry();qk(a),eO(a).forEach((T,E)=>{const v=Qk(T,E,h,a),C={type:pm,payload:{dropResult:Yk({},o,v)}};n.dispatch(C)})}}function qk(n){et(n.isDragging(),"Cannot call drop while not dragging."),et(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function Qk(n,u,o,a){const h=o.getTarget(n);let m=h?h.drop(a,n):void 0;return Zk(m),typeof m>"u"&&(m=u===0?{}:a.getDropResult()),m}function Zk(n){et(typeof n>"u"||zy(n),"Drop result must either be an object or undefined.")}function eO(n){const u=n.getTargetIds().filter(n.canDropOnTarget,n);return u.reverse(),u}function tO(n){return function(){const o=n.getMonitor(),a=n.getRegistry();nO(o);const h=o.getSourceId();return h!=null&&(a.getSource(h,!0).endDrag(o,h),a.unpinSource()),{type:fm}}}function nO(n){et(n.isDragging(),"Cannot call endDrag while not dragging.")}function Z$(n,u){return u===null?n===null:Array.isArray(n)?n.some(o=>o===u):n===u}function rO(n){return function(o,{clientOffset:a}={}){iO(o);const h=o.slice(0),m=n.getMonitor(),T=n.getRegistry(),E=m.getItemType();return sO(h,T,E),oO(h,m,T),lO(h,m,T),{type:hm,payload:{targetIds:h,clientOffset:a||null}}}}function iO(n){et(Array.isArray(n),"Expected targetIds to be an array.")}function oO(n,u,o){et(u.isDragging(),"Cannot call hover while not dragging."),et(!u.didDrop(),"Cannot call hover after drop.");for(let a=0;a<n.length;a++){const h=n[a];et(n.lastIndexOf(h)===a,"Expected targetIds to be unique in the passed array.");const m=o.getTarget(h);et(m,"Expected targetIds to be registered.")}}function sO(n,u,o){for(let a=n.length-1;a>=0;a--){const h=n[a],m=u.getTargetType(h);Z$(m,o)||n.splice(a,1)}}function lO(n,u,o){n.forEach(function(a){o.getTarget(a).hover(u,a)})}function uO(n){return function(){if(n.getMonitor().isDragging())return{type:L_}}}function aO(n){return{beginDrag:Gk(n),publishDragSource:uO(n),hover:rO(n),drop:Jk(n),endDrag:tO(n)}}class cO{receiveBackend(u){this.backend=u}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const u=this,{dispatch:o}=this.store;function a(m){return(...T)=>{const E=m.apply(u,T);typeof E<"u"&&o(E)}}const h=aO(this);return Object.keys(h).reduce((m,T)=>{const E=h[T];return m[T]=a(E),m},{})}dispatch(u){this.store.dispatch(u)}constructor(u,o){this.isSetUp=!1,this.handleRefCountChange=()=>{const a=this.store.getState().refCount>0;this.backend&&(a&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!a&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=u,this.monitor=o,u.subscribe(this.handleRefCountChange)}}function dO(n,u){return{x:n.x+u.x,y:n.y+u.y}}function jy(n,u){return{x:n.x-u.x,y:n.y-u.y}}function hO(n){const{clientOffset:u,initialClientOffset:o,initialSourceClientOffset:a}=n;return!u||!o||!a?null:jy(dO(u,a),o)}function pO(n){const{clientOffset:u,initialClientOffset:o}=n;return!u||!o?null:jy(u,o)}const Qp=[],A_=[];Qp.__IS_NONE__=!0;A_.__IS_ALL__=!0;function fO(n,u){return n===Qp?!1:n===A_||typeof u>"u"?!0:Hk(u,n).length>0}class gO{subscribeToStateChange(u,o={}){const{handlerIds:a}=o;et(typeof u=="function","listener must be a function."),et(typeof a>"u"||Array.isArray(a),"handlerIds, when specified, must be an array of strings.");let h=this.store.getState().stateId;const m=()=>{const T=this.store.getState(),E=T.stateId;try{E===h||E===h+1&&!fO(T.dirtyHandlerIds,a)||u()}finally{h=E}};return this.store.subscribe(m)}subscribeToOffsetChange(u){et(typeof u=="function","listener must be a function.");let o=this.store.getState().dragOffset;const a=()=>{const h=this.store.getState().dragOffset;h!==o&&(o=h,u())};return this.store.subscribe(a)}canDragSource(u){if(!u)return!1;const o=this.registry.getSource(u);return et(o,`Expected to find a valid source. sourceId=${u}`),this.isDragging()?!1:o.canDrag(this,u)}canDropOnTarget(u){if(!u)return!1;const o=this.registry.getTarget(u);if(et(o,`Expected to find a valid target. targetId=${u}`),!this.isDragging()||this.didDrop())return!1;const a=this.registry.getTargetType(u),h=this.getItemType();return Z$(a,h)&&o.canDrop(this,u)}isDragging(){return!!this.getItemType()}isDraggingSource(u){if(!u)return!1;const o=this.registry.getSource(u,!0);if(et(o,`Expected to find a valid source. sourceId=${u}`),!this.isDragging()||!this.isSourcePublic())return!1;const a=this.registry.getSourceType(u),h=this.getItemType();return a!==h?!1:o.isDragging(this,u)}isOverTarget(u,o={shallow:!1}){if(!u)return!1;const{shallow:a}=o;if(!this.isDragging())return!1;const h=this.registry.getTargetType(u),m=this.getItemType();if(m&&!Z$(h,m))return!1;const T=this.getTargetIds();if(!T.length)return!1;const E=T.indexOf(u);return a?E===T.length-1:E>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return hO(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return pO(this.store.getState().dragOffset)}constructor(u,o){this.store=u,this.registry=o}}const vb=typeof global<"u"?global:self,Xy=vb.MutationObserver||vb.WebKitMutationObserver;function Ky(n){return function(){const o=setTimeout(h,0),a=setInterval(h,50);function h(){clearTimeout(o),clearInterval(a),n()}}}function mO(n){let u=1;const o=new Xy(n),a=document.createTextNode("");return o.observe(a,{characterData:!0}),function(){u=-u,a.data=u}}const $O=typeof Xy=="function"?mO:Ky;class _O{enqueueTask(u){const{queue:o,requestFlush:a}=this;o.length||(a(),this.flushing=!0),o[o.length]=u}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:u}=this;for(;this.index<u.length;){const o=this.index;if(this.index++,u[o].call(),this.index>this.capacity){for(let a=0,h=u.length-this.index;a<h;a++)u[a]=u[a+this.index];u.length-=this.index,this.index=0}}u.length=0,this.index=0,this.flushing=!1},this.registerPendingError=u=>{this.pendingErrors.push(u),this.requestErrorThrow()},this.requestFlush=$O(this.flush),this.requestErrorThrow=Ky(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class TO{call(){try{this.task&&this.task()}catch(u){this.onError(u)}finally{this.task=null,this.release(this)}}constructor(u,o){this.onError=u,this.release=o,this.task=null}}class EO{create(u){const o=this.freeTasks,a=o.length?o.pop():new TO(this.onError,h=>o[o.length]=h);return a.task=u,a}constructor(u){this.onError=u,this.freeTasks=[]}}const Yy=new _O,bO=new EO(Yy.registerPendingError);function yO(n){Yy.enqueueTask(bO.create(n))}const D_="dnd-core/ADD_SOURCE",N_="dnd-core/ADD_TARGET",M_="dnd-core/REMOVE_SOURCE",gm="dnd-core/REMOVE_TARGET";function vO(n){return{type:D_,payload:{sourceId:n}}}function SO(n){return{type:N_,payload:{targetId:n}}}function IO(n){return{type:M_,payload:{sourceId:n}}}function CO(n){return{type:gm,payload:{targetId:n}}}function wO(n){et(typeof n.canDrag=="function","Expected canDrag to be a function."),et(typeof n.beginDrag=="function","Expected beginDrag to be a function."),et(typeof n.endDrag=="function","Expected endDrag to be a function.")}function kO(n){et(typeof n.canDrop=="function","Expected canDrop to be a function."),et(typeof n.hover=="function","Expected hover to be a function."),et(typeof n.drop=="function","Expected beginDrag to be a function.")}function e_(n,u){if(u&&Array.isArray(n)){n.forEach(o=>e_(o,!1));return}et(typeof n=="string"||typeof n=="symbol",u?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ji;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(Ji||(Ji={}));let OO=0;function RO(){return OO++}function LO(n){const u=RO().toString();switch(n){case Ji.SOURCE:return`S${u}`;case Ji.TARGET:return`T${u}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function Sb(n){switch(n[0]){case"S":return Ji.SOURCE;case"T":return Ji.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function Ib(n,u){const o=n.entries();let a=!1;do{const{done:h,value:[,m]}=o.next();if(m===u)return!0;a=!!h}while(!a);return!1}class AO{addSource(u,o){e_(u),wO(o);const a=this.addHandler(Ji.SOURCE,u,o);return this.store.dispatch(vO(a)),a}addTarget(u,o){e_(u,!0),kO(o);const a=this.addHandler(Ji.TARGET,u,o);return this.store.dispatch(SO(a)),a}containsHandler(u){return Ib(this.dragSources,u)||Ib(this.dropTargets,u)}getSource(u,o=!1){return et(this.isSourceId(u),"Expected a valid source ID."),o&&u===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(u)}getTarget(u){return et(this.isTargetId(u),"Expected a valid target ID."),this.dropTargets.get(u)}getSourceType(u){return et(this.isSourceId(u),"Expected a valid source ID."),this.types.get(u)}getTargetType(u){return et(this.isTargetId(u),"Expected a valid target ID."),this.types.get(u)}isSourceId(u){return Sb(u)===Ji.SOURCE}isTargetId(u){return Sb(u)===Ji.TARGET}removeSource(u){et(this.getSource(u),"Expected an existing source."),this.store.dispatch(IO(u)),yO(()=>{this.dragSources.delete(u),this.types.delete(u)})}removeTarget(u){et(this.getTarget(u),"Expected an existing target."),this.store.dispatch(CO(u)),this.dropTargets.delete(u),this.types.delete(u)}pinSource(u){const o=this.getSource(u);et(o,"Expected an existing source."),this.pinnedSourceId=u,this.pinnedSource=o}unpinSource(){et(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(u,o,a){const h=LO(u);return this.types.set(h,o),u===Ji.SOURCE?this.dragSources.set(h,a):u===Ji.TARGET&&this.dropTargets.set(h,a),h}constructor(u){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=u}}const DO=(n,u)=>n===u;function NO(n,u){return!n&&!u?!0:!n||!u?!1:n.x===u.x&&n.y===u.y}function MO(n,u,o=DO){if(n.length!==u.length)return!1;for(let a=0;a<n.length;++a)if(!o(n[a],u[a]))return!1;return!0}function xO(n=Qp,u){switch(u.type){case hm:break;case D_:case N_:case gm:case M_:return Qp;case dm:case L_:case fm:case pm:default:return A_}const{targetIds:o=[],prevTargetIds:a=[]}=u.payload,h=Uk(o,a);if(!(h.length>0||!MO(o,a)))return Qp;const T=a[a.length-1],E=o[o.length-1];return T!==E&&(T&&h.push(T),E&&h.push(E)),h}function PO(n,u,o){return u in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function BO(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),a.forEach(function(h){PO(n,h,o[h])})}return n}const Cb={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function FO(n=Cb,u){const{payload:o}=u;switch(u.type){case R_:case dm:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case hm:return NO(n.clientOffset,o.clientOffset)?n:BO({},n,{clientOffset:o.clientOffset});case fm:case pm:return Cb;default:return n}}function UO(n,u,o){return u in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function kd(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),a.forEach(function(h){UO(n,h,o[h])})}return n}const HO={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function VO(n=HO,u){const{payload:o}=u;switch(u.type){case dm:return kd({},n,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case L_:return kd({},n,{isSourcePublic:!0});case hm:return kd({},n,{targetIds:o.targetIds});case gm:return n.targetIds.indexOf(o.targetId)===-1?n:kd({},n,{targetIds:Fk(n.targetIds,o.targetId)});case pm:return kd({},n,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case fm:return kd({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function GO(n=0,u){switch(u.type){case D_:case N_:return n+1;case M_:case gm:return n-1;default:return n}}function WO(n=0){return n+1}function zO(n,u,o){return u in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function jO(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),a.forEach(function(h){zO(n,h,o[h])})}return n}function XO(n={},u){return{dirtyHandlerIds:xO(n.dirtyHandlerIds,{type:u.type,payload:jO({},u.payload,{prevTargetIds:Bk(n,"dragOperation.targetIds",[])})}),dragOffset:FO(n.dragOffset,u),refCount:GO(n.refCount,u),dragOperation:VO(n.dragOperation,u),stateId:WO(n.stateId)}}function KO(n,u=void 0,o={},a=!1){const h=YO(a),m=new gO(h,new AO(h)),T=new cO(h,m),E=n(T,u,o);return T.receiveBackend(E),T}function YO(n){const u=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Wy(XO,n&&u&&u({name:"dnd-core",instanceId:"dnd-core"}))}function JO(n,u){if(n==null)return{};var o=qO(n,u),a,h;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(n);for(h=0;h<m.length;h++)a=m[h],!(u.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(n,a)&&(o[a]=n[a])}return o}function qO(n,u){if(n==null)return{};var o={},a=Object.keys(n),h,m;for(m=0;m<a.length;m++)h=a[m],!(u.indexOf(h)>=0)&&(o[h]=n[h]);return o}let wb=0;const Og=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var QO=_e.memo(function(u){var{children:o}=u,a=JO(u,["children"]);const[h,m]=ZO(a);return _e.useEffect(()=>{if(m){const T=Jy();return++wb,()=>{--wb===0&&(T[Og]=null)}}},[]),U.jsx(Gy.Provider,{value:h,children:o})});function ZO(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const u=eR(n.backend,n.context,n.options,n.debugMode),o=!n.context;return[u,o]}function eR(n,u=Jy(),o,a){const h=u;return h[Og]||(h[Og]={dragDropManager:KO(n,u,o,a)}),h[Og]}function Jy(){return typeof global<"u"?global:window}var tR=function n(u,o){if(u===o)return!0;if(u&&o&&typeof u=="object"&&typeof o=="object"){if(u.constructor!==o.constructor)return!1;var a,h,m;if(Array.isArray(u)){if(a=u.length,a!=o.length)return!1;for(h=a;h--!==0;)if(!n(u[h],o[h]))return!1;return!0}if(u.constructor===RegExp)return u.source===o.source&&u.flags===o.flags;if(u.valueOf!==Object.prototype.valueOf)return u.valueOf()===o.valueOf();if(u.toString!==Object.prototype.toString)return u.toString()===o.toString();if(m=Object.keys(u),a=m.length,a!==Object.keys(o).length)return!1;for(h=a;h--!==0;)if(!Object.prototype.hasOwnProperty.call(o,m[h]))return!1;for(h=a;h--!==0;){var T=m[h];if(!n(u[T],o[T]))return!1}return!0}return u!==u&&o!==o};const Va=typeof window<"u"?_e.useLayoutEffect:_e.useEffect;function qy(n,u,o){const[a,h]=_e.useState(()=>u(n)),m=_e.useCallback(()=>{const T=u(n);tR(a,T)||(h(T),o&&o())},[a,n,o]);return Va(m),[a,m]}function nR(n,u,o){const[a,h]=qy(n,u,o);return Va(function(){const T=n.getHandlerId();if(T!=null)return n.subscribeToStateChange(h,{handlerIds:[T]})},[n,h]),a}function Qy(n,u,o){return nR(u,n||(()=>({})),()=>o.reconnect())}function Zy(n,u){const o=[...u||[]];return u==null&&typeof n!="function"&&o.push(n),_e.useMemo(()=>typeof n=="function"?n():n,o)}function rR(n){return _e.useMemo(()=>n.hooks.dragSource(),[n])}function iR(n){return _e.useMemo(()=>n.hooks.dragPreview(),[n])}let A$=!1,D$=!1;class oR{receiveHandlerId(u){this.sourceId=u}getHandlerId(){return this.sourceId}canDrag(){et(!A$,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return A$=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{A$=!1}}isDragging(){if(!this.sourceId)return!1;et(!D$,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return D$=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{D$=!1}}subscribeToStateChange(u,o){return this.internalMonitor.subscribeToStateChange(u,o)}isDraggingSource(u){return this.internalMonitor.isDraggingSource(u)}isOverTarget(u,o){return this.internalMonitor.isOverTarget(u,o)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(u){return this.internalMonitor.subscribeToOffsetChange(u)}canDragSource(u){return this.internalMonitor.canDragSource(u)}canDropOnTarget(u){return this.internalMonitor.canDropOnTarget(u)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(u){this.sourceId=null,this.internalMonitor=u.getMonitor()}}let N$=!1;class sR{receiveHandlerId(u){this.targetId=u}getHandlerId(){return this.targetId}subscribeToStateChange(u,o){return this.internalMonitor.subscribeToStateChange(u,o)}canDrop(){if(!this.targetId)return!1;et(!N$,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return N$=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{N$=!1}}isOver(u){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,u):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(u){this.targetId=null,this.internalMonitor=u.getMonitor()}}function lR(n,u,o){const a=o.getRegistry(),h=a.addTarget(n,u);return[h,()=>a.removeTarget(h)]}function uR(n,u,o){const a=o.getRegistry(),h=a.addSource(n,u);return[h,()=>a.removeSource(h)]}function t_(n,u,o,a){let h;if(h!==void 0)return!!h;if(n===u)return!0;if(typeof n!="object"||!n||typeof u!="object"||!u)return!1;const m=Object.keys(n),T=Object.keys(u);if(m.length!==T.length)return!1;const E=Object.prototype.hasOwnProperty.bind(u);for(let v=0;v<m.length;v++){const C=m[v];if(!E(C))return!1;const N=n[C],w=u[C];if(h=void 0,h===!1||h===void 0&&N!==w)return!1}return!0}function n_(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function aR(n){if(typeof n.type=="string")return;const u=n.type.displayName||n.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${u} into a <div>, or turn it into a drag source or a drop target itself.`)}function cR(n){return(u=null,o=null)=>{if(!_e.isValidElement(u)){const m=u;return n(m,o),m}const a=u;return aR(a),dR(a,o?m=>n(m,o):n)}}function ev(n){const u={};return Object.keys(n).forEach(o=>{const a=n[o];if(o.endsWith("Ref"))u[o]=n[o];else{const h=cR(a);u[o]=()=>h}}),u}function kb(n,u){typeof n=="function"?n(u):n.current=u}function dR(n,u){const o=n.ref;return et(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?_e.cloneElement(n,{ref:a=>{kb(o,a),kb(u,a)}}):_e.cloneElement(n,{ref:u})}class hR{receiveHandlerId(u){this.handlerId!==u&&(this.handlerId=u,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(u){this.dragSourceOptionsInternal=u}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(u){this.dragPreviewOptionsInternal=u}reconnect(){const u=this.reconnectDragSource();this.reconnectDragPreview(u)}reconnectDragSource(){const u=this.dragSource,o=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return o&&this.disconnectDragSource(),this.handlerId?u?(o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=u,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,u,this.dragSourceOptions)),o):(this.lastConnectedDragSource=u,o):o}reconnectDragPreview(u=!1){const o=this.dragPreview,a=u||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(a&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!t_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!t_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(u){this.hooks=ev({dragSource:(o,a)=>{this.clearDragSource(),this.dragSourceOptions=a||null,n_(o)?this.dragSourceRef=o:this.dragSourceNode=o,this.reconnectDragSource()},dragPreview:(o,a)=>{this.clearDragPreview(),this.dragPreviewOptions=a||null,n_(o)?this.dragPreviewRef=o:this.dragPreviewNode=o,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=u}}class pR{get connectTarget(){return this.dropTarget}reconnect(){const u=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();u&&this.disconnectDropTarget();const o=this.dropTarget;if(this.handlerId){if(!o){this.lastConnectedDropTarget=o;return}u&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=o,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,o,this.dropTargetOptions))}}receiveHandlerId(u){u!==this.handlerId&&(this.handlerId=u,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(u){this.dropTargetOptionsInternal=u}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!t_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(u){this.hooks=ev({dropTarget:(o,a)=>{this.clearDropTarget(),this.dropTargetOptions=a,n_(o)?this.dropTargetRef=o:this.dropTargetNode=o,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=u}}function Ga(){const{dragDropManager:n}=_e.useContext(Gy);return et(n!=null,"Expected drag drop context"),n}function fR(n,u){const o=Ga(),a=_e.useMemo(()=>new hR(o.getBackend()),[o]);return Va(()=>(a.dragSourceOptions=n||null,a.reconnect(),()=>a.disconnectDragSource()),[a,n]),Va(()=>(a.dragPreviewOptions=u||null,a.reconnect(),()=>a.disconnectDragPreview()),[a,u]),a}function gR(){const n=Ga();return _e.useMemo(()=>new oR(n),[n])}class mR{beginDrag(){const u=this.spec,o=this.monitor;let a=null;return typeof u.item=="object"?a=u.item:typeof u.item=="function"?a=u.item(o):a={},a??null}canDrag(){const u=this.spec,o=this.monitor;return typeof u.canDrag=="boolean"?u.canDrag:typeof u.canDrag=="function"?u.canDrag(o):!0}isDragging(u,o){const a=this.spec,h=this.monitor,{isDragging:m}=a;return m?m(h):o===u.getSourceId()}endDrag(){const u=this.spec,o=this.monitor,a=this.connector,{end:h}=u;h&&h(o.getItem(),o),a.reconnect()}constructor(u,o,a){this.spec=u,this.monitor=o,this.connector=a}}function $R(n,u,o){const a=_e.useMemo(()=>new mR(n,u,o),[u,o]);return _e.useEffect(()=>{a.spec=n},[n]),a}function _R(n){return _e.useMemo(()=>{const u=n.type;return et(u!=null,"spec.type must be defined"),u},[n])}function TR(n,u,o){const a=Ga(),h=$R(n,u,o),m=_R(n);Va(function(){if(m!=null){const[E,v]=uR(m,h,a);return u.receiveHandlerId(E),o.receiveHandlerId(E),v}},[a,u,o,h,m])}function ER(n,u){const o=Zy(n,u);et(!o.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const a=gR(),h=fR(o.options,o.previewOptions);return TR(o,a,h),[Qy(o.collect,a,h),rR(h),iR(h)]}function bR(n){const o=Ga().getMonitor(),[a,h]=qy(o,n);return _e.useEffect(()=>o.subscribeToOffsetChange(h)),_e.useEffect(()=>o.subscribeToStateChange(h)),a}function yR(n){return _e.useMemo(()=>n.hooks.dropTarget(),[n])}function vR(n){const u=Ga(),o=_e.useMemo(()=>new pR(u.getBackend()),[u]);return Va(()=>(o.dropTargetOptions=n||null,o.reconnect(),()=>o.disconnectDropTarget()),[n]),o}function SR(){const n=Ga();return _e.useMemo(()=>new sR(n),[n])}function IR(n){const{accept:u}=n;return _e.useMemo(()=>(et(n.accept!=null,"accept must be defined"),Array.isArray(u)?u:[u]),[u])}class CR{canDrop(){const u=this.spec,o=this.monitor;return u.canDrop?u.canDrop(o.getItem(),o):!0}hover(){const u=this.spec,o=this.monitor;u.hover&&u.hover(o.getItem(),o)}drop(){const u=this.spec,o=this.monitor;if(u.drop)return u.drop(o.getItem(),o)}constructor(u,o){this.spec=u,this.monitor=o}}function wR(n,u){const o=_e.useMemo(()=>new CR(n,u),[u]);return _e.useEffect(()=>{o.spec=n},[n]),o}function kR(n,u,o){const a=Ga(),h=wR(n,u),m=IR(n);Va(function(){const[E,v]=lR(m,h,a);return u.receiveHandlerId(E),o.receiveHandlerId(E),v},[a,u,h,o,m.map(T=>T.toString()).join("|")])}function OR(n,u){const o=Zy(n,u),a=SR(),h=vR(o.options);return kR(o,a,h),[Qy(o.collect,a,h),yR(h)]}function tv(n){let u=null;return()=>(u==null&&(u=n()),u)}function RR(n,u){return n.filter(o=>o!==u)}function LR(n,u){const o=new Set,a=m=>o.add(m);n.forEach(a),u.forEach(a);const h=[];return o.forEach(m=>h.push(m)),h}class AR{enter(u){const o=this.entered.length,a=h=>this.isNodeInDocument(h)&&(!h.contains||h.contains(u));return this.entered=LR(this.entered.filter(a),[u]),o===0&&this.entered.length>0}leave(u){const o=this.entered.length;return this.entered=RR(this.entered.filter(this.isNodeInDocument),u),o>0&&this.entered.length===0}reset(){this.entered=[]}constructor(u){this.entered=[],this.isNodeInDocument=u}}class DR{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(u=>{Object.defineProperty(this.item,u,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${u}" until the drop event.`),null}})})}loadDataTransfer(u){if(u){const o={};Object.keys(this.config.exposeProperties).forEach(a=>{const h=this.config.exposeProperties[a];h!=null&&(o[a]={value:h(u,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,o)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(u,o){return o===u.getSourceId()}endDrag(){}constructor(u){this.config=u,this.item={},this.initializeExposedProperties()}}const nv="__NATIVE_FILE__",rv="__NATIVE_URL__",iv="__NATIVE_TEXT__",ov="__NATIVE_HTML__";var Ob=Object.freeze({__proto__:null,FILE:nv,HTML:ov,TEXT:iv,URL:rv});function M$(n,u,o){const a=u.reduce((h,m)=>h||n.getData(m),"");return a??o}const r_={[nv]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[ov]:{exposeProperties:{html:(n,u)=>M$(n,u,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[rv]:{exposeProperties:{urls:(n,u)=>M$(n,u,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[iv]:{exposeProperties:{text:(n,u)=>M$(n,u,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function NR(n,u){const o=r_[n];if(!o)throw new Error(`native type ${n} has no configuration`);const a=new DR(o);return a.loadDataTransfer(u),a}function x$(n){if(!n)return null;const u=Array.prototype.slice.call(n.types||[]);return Object.keys(r_).filter(o=>{const a=r_[o];return a!=null&&a.matchesTypes?a.matchesTypes.some(h=>u.indexOf(h)>-1):!1})[0]||null}const MR=tv(()=>/firefox/i.test(navigator.userAgent)),sv=tv(()=>!!window.safari);class Rb{interpolate(u){const{xs:o,ys:a,c1s:h,c2s:m,c3s:T}=this;let E=o.length-1;if(u===o[E])return a[E];let v=0,C=T.length-1,N;for(;v<=C;){N=Math.floor(.5*(v+C));const H=o[N];if(H<u)v=N+1;else if(H>u)C=N-1;else return a[N]}E=Math.max(0,C);const w=u-o[E],k=w*w;return a[E]+h[E]*w+m[E]*k+T[E]*w*k}constructor(u,o){const{length:a}=u,h=[];for(let H=0;H<a;H++)h.push(H);h.sort((H,x)=>u[H]<u[x]?-1:1);const m=[],T=[];let E,v;for(let H=0;H<a-1;H++)E=u[H+1]-u[H],v=o[H+1]-o[H],m.push(E),T.push(v/E);const C=[T[0]];for(let H=0;H<m.length-1;H++){const x=T[H],O=T[H+1];if(x*O<=0)C.push(0);else{E=m[H];const K=m[H+1],ee=E+K;C.push(3*ee/((ee+K)/x+(ee+E)/O))}}C.push(T[T.length-1]);const N=[],w=[];let k;for(let H=0;H<C.length-1;H++){k=T[H];const x=C[H],O=1/m[H],K=x+C[H+1]-k-k;N.push((k-x-K)*O),w.push(K*O*O)}this.xs=u,this.ys=o,this.c1s=C,this.c2s=N,this.c3s=w}}const xR=1;function lv(n){const u=n.nodeType===xR?n:n.parentElement;if(!u)return null;const{top:o,left:a}=u.getBoundingClientRect();return{x:a,y:o}}function Eg(n){return{x:n.clientX,y:n.clientY}}function PR(n){var u;return n.nodeName==="IMG"&&(MR()||!(!((u=document.documentElement)===null||u===void 0)&&u.contains(n)))}function BR(n,u,o,a){let h=n?u.width:o,m=n?u.height:a;return sv()&&n&&(m/=window.devicePixelRatio,h/=window.devicePixelRatio),{dragPreviewWidth:h,dragPreviewHeight:m}}function FR(n,u,o,a,h){const m=PR(u),E=lv(m?n:u),v={x:o.x-E.x,y:o.y-E.y},{offsetWidth:C,offsetHeight:N}=n,{anchorX:w,anchorY:k}=a,{dragPreviewWidth:H,dragPreviewHeight:x}=BR(m,u,C,N),O=()=>{let ue=new Rb([0,.5,1],[v.y,v.y/N*x,v.y+x-N]).interpolate(k);return sv()&&m&&(ue+=(window.devicePixelRatio-1)*x),ue},K=()=>new Rb([0,.5,1],[v.x,v.x/C*H,v.x+H-C]).interpolate(w),{offsetX:ee,offsetY:oe}=h,ne=ee===0||ee,ae=oe===0||oe;return{x:ne?ee:K(),y:ae?oe:O()}}let UR=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var u;return!((u=this.globalContext)===null||u===void 0)&&u.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var u;return((u=this.optionsArgs)===null||u===void 0?void 0:u.rootElement)||this.window}constructor(u,o){this.ownerDocument=null,this.globalContext=u,this.optionsArgs=o}};function HR(n,u,o){return u in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function Lb(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{},a=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),a.forEach(function(h){HR(n,h,o[h])})}return n}class VR{profile(){var u,o;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((u=this.dragStartSourceIds)===null||u===void 0?void 0:u.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((o=this.dragOverTargetIds)===null||o===void 0?void 0:o.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const u=this.rootElement;if(u!==void 0){if(u.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");u.__isReactDndBackendSetUp=!0,this.addEventListeners(u)}}teardown(){const u=this.rootElement;if(u!==void 0&&(u.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var o;(o=this.window)===null||o===void 0||o.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(u,o,a){return this.sourcePreviewNodeOptions.set(u,a),this.sourcePreviewNodes.set(u,o),()=>{this.sourcePreviewNodes.delete(u),this.sourcePreviewNodeOptions.delete(u)}}connectDragSource(u,o,a){this.sourceNodes.set(u,o),this.sourceNodeOptions.set(u,a);const h=T=>this.handleDragStart(T,u),m=T=>this.handleSelectStart(T);return o.setAttribute("draggable","true"),o.addEventListener("dragstart",h),o.addEventListener("selectstart",m),()=>{this.sourceNodes.delete(u),this.sourceNodeOptions.delete(u),o.removeEventListener("dragstart",h),o.removeEventListener("selectstart",m),o.setAttribute("draggable","false")}}connectDropTarget(u,o){const a=T=>this.handleDragEnter(T,u),h=T=>this.handleDragOver(T,u),m=T=>this.handleDrop(T,u);return o.addEventListener("dragenter",a),o.addEventListener("dragover",h),o.addEventListener("drop",m),()=>{o.removeEventListener("dragenter",a),o.removeEventListener("dragover",h),o.removeEventListener("drop",m)}}addEventListeners(u){u.addEventListener&&(u.addEventListener("dragstart",this.handleTopDragStart),u.addEventListener("dragstart",this.handleTopDragStartCapture,!0),u.addEventListener("dragend",this.handleTopDragEndCapture,!0),u.addEventListener("dragenter",this.handleTopDragEnter),u.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),u.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),u.addEventListener("dragover",this.handleTopDragOver),u.addEventListener("dragover",this.handleTopDragOverCapture,!0),u.addEventListener("drop",this.handleTopDrop),u.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(u){u.removeEventListener&&(u.removeEventListener("dragstart",this.handleTopDragStart),u.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),u.removeEventListener("dragend",this.handleTopDragEndCapture,!0),u.removeEventListener("dragenter",this.handleTopDragEnter),u.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),u.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),u.removeEventListener("dragover",this.handleTopDragOver),u.removeEventListener("dragover",this.handleTopDragOverCapture,!0),u.removeEventListener("drop",this.handleTopDrop),u.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const u=this.monitor.getSourceId(),o=this.sourceNodeOptions.get(u);return Lb({dropEffect:this.altKeyPressed?"copy":"move"},o||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const u=this.monitor.getSourceId(),o=this.sourcePreviewNodeOptions.get(u);return Lb({anchorX:.5,anchorY:.5,captureDraggingState:!1},o||{})}isDraggingNativeItem(){const u=this.monitor.getItemType();return Object.keys(Ob).some(o=>Ob[o]===u)}beginDragNativeItem(u,o){this.clearCurrentDragSourceNode(),this.currentNativeSource=NR(u,o),this.currentNativeHandle=this.registry.addSource(u,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(u){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=u;const o=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var a;return(a=this.rootElement)===null||a===void 0?void 0:a.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},o)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var u;(u=this.window)===null||u===void 0||u.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(u,o){u.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(o))}handleDragEnter(u,o){this.dragEnterTargetIds.unshift(o)}handleDragOver(u,o){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(o)}handleDrop(u,o){this.dropTargetIds.unshift(o)}constructor(u,o,a){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=h=>{const m=this.sourceNodes.get(h);return m&&lv(m)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=h=>!!(h&&this.document&&this.document.body&&this.document.body.contains(h)),this.endDragIfSourceWasRemovedFromDOM=()=>{const h=this.currentDragSourceNode;h==null||this.isNodeInDocument(h)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=h=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(h||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=h=>{if(h.defaultPrevented)return;const{dragStartSourceIds:m}=this;this.dragStartSourceIds=null;const T=Eg(h);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(m||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:T});const{dataTransfer:E}=h,v=x$(E);if(this.monitor.isDragging()){if(E&&typeof E.setDragImage=="function"){const N=this.monitor.getSourceId(),w=this.sourceNodes.get(N),k=this.sourcePreviewNodes.get(N)||w;if(k){const{anchorX:H,anchorY:x,offsetX:O,offsetY:K}=this.getCurrentSourcePreviewNodeOptions(),ne=FR(w,k,T,{anchorX:H,anchorY:x},{offsetX:O,offsetY:K});E.setDragImage(k,ne.x,ne.y)}}try{E==null||E.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(h.target);const{captureDraggingState:C}=this.getCurrentSourcePreviewNodeOptions();C?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(v)this.beginDragNativeItem(v);else{if(E&&!E.types&&(h.target&&!h.target.hasAttribute||!h.target.hasAttribute("draggable")))return;h.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=h=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var m;(m=this.currentNativeSource)===null||m===void 0||m.loadDataTransfer(h.dataTransfer)}if(!this.enterLeaveCounter.enter(h.target)||this.monitor.isDragging())return;const{dataTransfer:E}=h,v=x$(E);v&&this.beginDragNativeItem(v,E)},this.handleTopDragEnter=h=>{const{dragEnterTargetIds:m}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=h.altKey,m.length>0&&this.actions.hover(m,{clientOffset:Eg(h)}),m.some(E=>this.monitor.canDropOnTarget(E))&&(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=h=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var m;(m=this.currentNativeSource)===null||m===void 0||m.loadDataTransfer(h.dataTransfer)}},this.handleTopDragOver=h=>{const{dragOverTargetIds:m}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="none");return}this.altKeyPressed=h.altKey,this.lastClientOffset=Eg(h),this.scheduleHover(m),(m||[]).some(E=>this.monitor.canDropOnTarget(E))?(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?h.preventDefault():(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=h=>{this.isDraggingNativeItem()&&h.preventDefault(),this.enterLeaveCounter.leave(h.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=h=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var m;h.preventDefault(),(m=this.currentNativeSource)===null||m===void 0||m.loadDataTransfer(h.dataTransfer)}else x$(h.dataTransfer)&&h.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=h=>{const{dropTargetIds:m}=this;this.dropTargetIds=[],this.actions.hover(m,{clientOffset:Eg(h)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=h=>{const m=h.target;typeof m.dragDrop=="function"&&(m.tagName==="INPUT"||m.tagName==="SELECT"||m.tagName==="TEXTAREA"||m.isContentEditable||(h.preventDefault(),m.dragDrop()))},this.options=new UR(o,a),this.actions=u.getActions(),this.monitor=u.getMonitor(),this.registry=u.getRegistry(),this.enterLeaveCounter=new AR(this.isNodeInDocument)}}let bg;function GR(){return bg||(bg=new Image,bg.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),bg}const WR=function(u,o,a){return new VR(u,o,a)};function Ab({isPremovedPiece:n=!1,piece:u,square:o,squares:a}){const{animationDuration:h,arePiecesDraggable:m,boardWidth:T,boardOrientation:E,chessPieces:v,currentPosition:C,deletePieceFromSquare:N,dropOffBoardAction:w,id:k,isDraggablePiece:H,isWaitingForAnimation:x,onPieceClick:O,onPieceDragBegin:K,onPieceDragEnd:ee,onPieceDropOffBoard:oe,onPromotionCheck:ne,positionDifferences:ae}=$l(),[ge,ue]=_e.useState({opacity:1,zIndex:5,touchAction:"none",cursor:m&&H({piece:u,sourceSquare:o})?"-webkit-grab":"default"}),[{canDrag:re,isDragging:pe},Fe,L]=ER(()=>({type:"piece",item:()=>(K(u,o),{piece:u,square:o,id:k}),end:(ke,Ne)=>{ee(u,o),!Ne.didDrop()&&(w==="trash"&&N(o),oe==null||oe(o,u))},collect:ke=>({canDrag:H({piece:u,sourceSquare:o}),isDragging:!!ke.isDragging()})}),[u,o,C,k]);L(GR(),{captureDraggingState:!0}),_e.useEffect(()=>{ue(ke=>Object.assign(Object.assign({},ke),{opacity:pe?0:1}))},[pe]),_e.useEffect(()=>{var ke;const Ne=(ke=ae.removed)===null||ke===void 0?void 0:ke[o];if(!ae.added||!Ne)return;const Le=Object.entries(ae.added).find(([Ve,j])=>j===Ne||ne(o,Ve,Ne));if(x&&Ne&&Le&&!n){const Ve=o,j=Le[0];if(Ve&&j){const B=T/8;ue(I=>Object.assign(Object.assign({},I),{transform:`translate(${(E==="black"?-1:1)*(j.charCodeAt(0)-Ve.charCodeAt(0))*B}px, ${(E==="black"?-1:1)*(Number(Ve[1])-Number(j[1]))*B}px)`,transition:`transform ${h}ms`,zIndex:6}))}}},[ae]),_e.useEffect(()=>{const{sourceSq:ke}=ve();ke&&ue(Ne=>Object.assign(Object.assign({},Ne),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[C]),_e.useEffect(()=>{ue(ke=>Object.assign(Object.assign({},ke),{cursor:m&&H({piece:u,sourceSquare:o})?"-webkit-grab":"default"}))},[o,C,m]);function ve(){return{sourceSq:a[o]}}return U.jsx("div",Object.assign({ref:m&&re?Fe:null,onClick:()=>O(u,o),"data-piece":u,style:ge},{children:typeof v[u]=="function"?v[u]({squareWidth:T/8,isDragging:pe,square:o}):U.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:T/8,height:T/8,style:{display:"block"}},{children:U.jsx("g",{children:v[u]})}))}))}function zR({square:n,squareColor:u,setSquares:o,squareHasPremove:a,children:h}){const m=_e.useRef(null),{autoPromoteToQueen:T,boardWidth:E,boardOrientation:v,clearArrows:C,currentPosition:N,currentRightClickDown:w,customBoardStyle:k,customDarkSquareStyle:H,customDropSquareStyle:x,customLightSquareStyle:O,customPremoveDarkSquareStyle:K,customPremoveLightSquareStyle:ee,customSquare:oe,customSquareStyles:ne,drawNewArrow:ae,handleSetPosition:ge,handleSparePieceDrop:ue,isWaitingForAnimation:re,lastPieceColour:pe,lastSquareDraggedOver:Fe,onArrowDrawEnd:L,onDragOverSquare:ve,onMouseOutSquare:ke,onMouseOverSquare:Ne,onPieceDrop:Le,onPromotionCheck:Ve,onRightClickDown:j,onRightClickUp:B,onSquareClick:I,setLastSquareDraggedOver:J,setPromoteFromSquare:Y,setPromoteToSquare:R,setShowPromoteDialog:Q}=$l(),[{isOver:Re},Se]=OR(()=>({accept:"piece",drop:Ue,collect:Ie=>({isOver:!!Ie.isOver()})}),[n,N,Le,re,pe]);function Ue(Ie){if(Ie.isSpare){ue(Ie.piece,n);return}Ve(Ie.square,n,Ie.piece)?T?ge(Ie.square,n,Ie.piece[0]==="w"?"wQ":"bQ"):(Y(Ie.square),R(n),Q(!0)):ge(Ie.square,n,Ie.piece,!0)}_e.useEffect(()=>{if(m.current){const{x:Ie,y:qe}=m.current.getBoundingClientRect();o(Qe=>Object.assign(Object.assign({},Qe),{[n]:{x:Ie,y:qe}}))}},[E,v]);const Oe=Object.assign(Object.assign(Object.assign(Object.assign({},jR(n,v,k)),u==="black"?H:O),a&&(u==="black"?K:ee)),Re&&x);return U.jsx("div",Object.assign({ref:Se,style:Oe,"data-square-color":u,"data-square":n,onTouchMove:Ie=>{var qe;const Qe=Ie.touches[0],$t=document.elementsFromPoint(Qe.clientX,Qe.clientY),Ct=(qe=$t==null?void 0:$t.find(yt=>yt.getAttribute("data-square")))===null||qe===void 0?void 0:qe.getAttribute("data-square");Ct&&Ct!==Fe&&(J(Ct),ve(Ct))},onMouseOver:Ie=>{Ie.buttons===2&&w&&ae(w,n),!(Ie.relatedTarget&&Ie.currentTarget.contains(Ie.relatedTarget))&&Ne(n)},onMouseOut:Ie=>{Ie.relatedTarget&&Ie.currentTarget.contains(Ie.relatedTarget)||ke(n)},onMouseDown:Ie=>{Ie.button===2&&j(n)},onMouseUp:Ie=>{Ie.button===2&&(w&&L(w,n),B(n))},onDragEnter:()=>ve(n),onClick:()=>{const Ie=N[n];I(n,Ie),C()},onContextMenu:Ie=>{Ie.preventDefault()}},{children:typeof oe=="string"?U.jsx(oe,Object.assign({ref:m,style:Object.assign(Object.assign(Object.assign({},Nb(E)),Db),!a&&(ne==null?void 0:ne[n]))},{children:h})):U.jsx(oe,Object.assign({ref:m,square:n,squareColor:u,style:Object.assign(Object.assign(Object.assign({},Nb(E)),Db),!a&&(ne==null?void 0:ne[n]))},{children:h}))}))}const Db={display:"flex",justifyContent:"center"},Nb=n=>({width:n/8,height:n/8}),jR=(n,u,o)=>o!=null&&o.borderRadius?n==="a1"?u==="white"?{borderBottomLeftRadius:o.borderRadius}:{borderTopRightRadius:o.borderRadius}:n==="a8"?u==="white"?{borderTopLeftRadius:o.borderRadius}:{borderBottomRightRadius:o.borderRadius}:n==="h1"?u==="white"?{borderBottomRightRadius:o.borderRadius}:{borderTopLeftRadius:o.borderRadius}:n==="h8"?u==="white"?{borderTopRightRadius:o.borderRadius}:{borderBottomLeftRadius:o.borderRadius}:{}:{};function XR(){const[n,u]=_e.useState({}),{arePremovesAllowed:o,boardOrientation:a,boardWidth:h,currentPosition:m,id:T,premoves:E,showBoardNotation:v}=$l(),C=_e.useMemo(()=>{const N=[];return o?(E.forEach((w,k)=>{const{sourceSq:H,targetSq:x,piece:O}=w,K=N.find(ee=>{var oe;return ee.piece===O&&((oe=ee.premovesRoute.at(-1))===null||oe===void 0?void 0:oe.targetSq)===H});K?K.premovesRoute.push({sourceSq:H,targetSq:x,index:k}):N.push({piece:O,premovesRoute:[{sourceSq:H,targetSq:x,index:k}]})}),N):[]},[E]);return U.jsx("div",Object.assign({"data-boardid":T},{children:[...Array(8)].map((N,w)=>U.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:h}},{children:[...Array(8)].map((k,H)=>{const x=a==="black"?uf[7-H]+(w+1):uf[H]+(8-w),O=H%2===w%2?"white":"black",K=E.find(oe=>oe.sourceSq===x||oe.targetSq===x),ee=C.filter(({premovesRoute:oe})=>{var ne;return((ne=oe.at(-1))===null||ne===void 0?void 0:ne.targetSq)===x}).sort((oe,ne)=>{var ae,ge;return((ae=ne.premovesRoute.at(-1))===null||ae===void 0?void 0:ae.index)-((ge=oe.premovesRoute.at(-1))===null||ge===void 0?void 0:ge.index)}).at(0);return U.jsxs(zR,Object.assign({square:x,squareColor:O,setSquares:u,squareHasPremove:!!K},{children:[!K&&m[x]&&U.jsx(Ab,{piece:m[x],square:x,squares:n}),ee&&U.jsx(Ab,{isPremovedPiece:!0,piece:ee.piece,square:x,squares:n}),v&&U.jsx(Mk,{row:w,col:H})]}),`${H}${w}`)})}),w.toString()))}))}const KR=()=>{const{arrows:n,newArrow:u,boardOrientation:o,boardWidth:a,customArrowColor:h}=$l(),m=[...n,u].filter(Boolean);return U.jsx("svg",Object.assign({width:a,height:a,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:m.map((T,E)=>{const[v,C,N]=T;if(v===C)return null;const w=Q$(o,a,v),k=Q$(o,a,C);let H=a/32;const x=E===n.length;n.some(ne=>ne[0]!==v&&ne[1]===C)&&!x&&(H=a/16);const O=k.x-w.x,K=k.y-w.y,ee=Math.hypot(K,O),oe={x:w.x+O*(ee-H)/ee,y:w.y+K*(ee-H)/ee};return U.jsxs(_e.Fragment,{children:[U.jsx("marker",Object.assign({id:`arrowhead-${E}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:U.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:N??h})})),U.jsx("line",{x1:w.x,y1:w.y,x2:oe.x,y2:oe.y,opacity:x?"0.5":"0.65",stroke:N??h,strokeWidth:x?.9*a/40:a/40,markerEnd:`url(#arrowhead-${E})`})]},`${v}-${C}${x?"-active":""}`)})}))};function YR({option:n}){const[u,o]=_e.useState(!1),{boardWidth:a,chessPieces:h,customDarkSquareStyle:m,customLightSquareStyle:T,handleSetPosition:E,onPromotionPieceSelect:v,promoteFromSquare:C,promoteToSquare:N,promotionDialogVariant:w}=$l(),k=()=>{switch(n[1]){case"Q":return m.backgroundColor;case"R":return T.backgroundColor;case"N":return w==="default"?T.backgroundColor:m.backgroundColor;case"B":return w==="default"?m.backgroundColor:T.backgroundColor}};return U.jsx("div",Object.assign({onClick:()=>{v(n,C??void 0,N??void 0)&&E(C,N,n,!0)},onMouseOver:()=>o(!0),onMouseOut:()=>o(!1),"data-piece":n,style:{cursor:"pointer",backgroundColor:u?k():`${k()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof h[n]=="function"?U.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:u?"scale(1)":"scale(0.85)"}},{children:h[n]({squareWidth:a/8,isDragging:!1})})):U.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:a/8,height:a/8,style:{transition:"all 0.1s ease-out",transform:u?"scale(1)":"scale(0.85)"}},{children:U.jsx("g",{children:h[n]})}))}))}function JR(){const{boardOrientation:n,boardWidth:u,promotionDialogVariant:o,promoteToSquare:a}=$l(),h=(a==null?void 0:a[1])==="1"?"b":"w",m=[`${h??"w"}Q`,`${h??"w"}R`,`${h??"w"}N`,`${h??"w"}B`],T={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-u/8}px, ${-u/8}px)`},vertical:{transform:`translate(${-u/16}px, ${-u/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*u/8}px)`,width:"100%",height:`${u/4}px`,top:0,backgroundColor:"white",left:0}},E=Q$(n,u,a||"a8");return U.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${E==null?void 0:E.y}px`,left:`${E==null?void 0:E.x}px`,zIndex:1e3},T[o]),title:"Choose promotion piece"},{children:m.map(v=>U.jsx(YR,{option:v},v))}))}const qR={whiteKing:U.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:U.jsx("g",{children:U.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function QR({children:n}){try{return U.jsx(U.Fragment,{children:n})}catch(u){return console.log(u),U.jsx(uv,{showError:!0})}}function uv({showError:n=!1}){return U.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[U.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:qR.whiteKing})),n&&U.jsx("h1",{children:"Something went wrong"})]}))}function ZR(){const n=_e.useRef(null),{boardWidth:u,clearCurrentRightClickDown:o,onPromotionPieceSelect:a,setShowPromoteDialog:h,showPromoteDialog:m,customBoardStyle:T}=$l();return _e.useEffect(()=>{function E(v){n.current&&!n.current.contains(v.target)&&o()}return document.addEventListener("mouseup",E),()=>{document.removeEventListener("mouseup",E)}},[]),u?U.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:U.jsxs("div",Object.assign({ref:n,style:Object.assign(Object.assign({position:"relative"},eL(u)),T)},{children:[U.jsx(XR,{}),U.jsx(KR,{}),m&&U.jsxs(U.Fragment,{children:[U.jsx("div",{onClick:()=>{h(!1),a==null||a()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:u,height:u}}),U.jsx(JR,{})]})]}))})):U.jsx(uv,{})}const eL=n=>({cursor:"default",height:n,width:n});var fu;(function(n){n.mouse="mouse",n.touch="touch",n.keyboard="keyboard"})(fu||(fu={}));class tL{get delay(){var u;return(u=this.args.delay)!==null&&u!==void 0?u:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var u;return(u=this.args.ignoreContextMenu)!==null&&u!==void 0?u:!1}get enableHoverOutsideTarget(){var u;return(u=this.args.enableHoverOutsideTarget)!==null&&u!==void 0?u:!1}get enableKeyboardEvents(){var u;return(u=this.args.enableKeyboardEvents)!==null&&u!==void 0?u:!1}get enableMouseEvents(){var u;return(u=this.args.enableMouseEvents)!==null&&u!==void 0?u:!1}get enableTouchEvents(){var u;return(u=this.args.enableTouchEvents)!==null&&u!==void 0?u:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var u,o,a,h;return(h=(a=(u=this.args)===null||u===void 0?void 0:u.delayTouchStart)!==null&&a!==void 0?a:(o=this.args)===null||o===void 0?void 0:o.delay)!==null&&h!==void 0?h:0}get delayMouseStart(){var u,o,a,h;return(h=(a=(u=this.args)===null||u===void 0?void 0:u.delayMouseStart)!==null&&a!==void 0?a:(o=this.args)===null||o===void 0?void 0:o.delay)!==null&&h!==void 0?h:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var u;if(!((u=this.context)===null||u===void 0)&&u.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var u;return((u=this.args)===null||u===void 0?void 0:u.rootElement)||this.document}constructor(u,o){this.args=u,this.context=o}}function nL(n,u,o,a){return Math.sqrt(Math.pow(Math.abs(o-n),2)+Math.pow(Math.abs(a-u),2))}function rL(n,u,o,a,h){if(!h)return!1;const m=Math.atan2(a-u,o-n)*180/Math.PI+180;for(let T=0;T<h.length;++T){const E=h[T];if(E&&(E.start==null||m>=E.start)&&(E.end==null||m<=E.end))return!0}return!1}const iL={Left:1,Right:2,Center:4},oL={Left:0,Center:1,Right:2};function P$(n){return n.button===void 0||n.button===oL.Left}function sL(n){return n.buttons===void 0||(n.buttons&iL.Left)===0}function av(n){return!!n.targetTouches}const lL=1;function uL(n){const u=n.nodeType===lL?n:n.parentElement;if(!u)return;const{top:o,left:a}=u.getBoundingClientRect();return{x:a,y:o}}function aL(n,u){if(n.targetTouches.length===1)return Vg(n.targetTouches[0]);if(u&&n.touches.length===1&&n.touches[0].target===u.target)return Vg(n.touches[0])}function Vg(n,u){return av(n)?aL(n,u):{x:n.clientX,y:n.clientY}}const Mb=(()=>{let n=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return n=!0,!0}}))}catch{}return n})(),jp={[fu.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[fu.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[fu.keyboard]:{keydown:"keydown"}};class Zp{profile(){var u;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((u=this.dragOverTargetIds)===null||u===void 0?void 0:u.length)||0}}get document(){return this.options.document}setup(){const u=this.options.rootElement;u&&(et(!Zp.isSetUp,"Cannot have two Touch backends at the same time."),Zp.isSetUp=!0,this.addEventListener(u,"start",this.getTopMoveStartHandler()),this.addEventListener(u,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(u,"move",this.handleTopMove),this.addEventListener(u,"move",this.handleTopMoveCapture,!0),this.addEventListener(u,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(u,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(u,"keydown",this.handleCancelOnEscape,!0))}teardown(){const u=this.options.rootElement;u&&(Zp.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(u,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(u,"start",this.handleTopMoveStart),this.removeEventListener(u,"move",this.handleTopMoveCapture,!0),this.removeEventListener(u,"move",this.handleTopMove),this.removeEventListener(u,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(u,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(u,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(u,o,a,h=!1){const m=Mb?{capture:h,passive:!1}:h;this.listenerTypes.forEach(function(T){const E=jp[T][o];E&&u.addEventListener(E,a,m)})}removeEventListener(u,o,a,h=!1){const m=Mb?{capture:h,passive:!1}:h;this.listenerTypes.forEach(function(T){const E=jp[T][o];E&&u.removeEventListener(E,a,m)})}connectDragSource(u,o){const a=this.handleMoveStart.bind(this,u);return this.sourceNodes.set(u,o),this.addEventListener(o,"start",a),()=>{this.sourceNodes.delete(u),this.removeEventListener(o,"start",a)}}connectDragPreview(u,o,a){return this.sourcePreviewNodeOptions.set(u,a),this.sourcePreviewNodes.set(u,o),()=>{this.sourcePreviewNodes.delete(u),this.sourcePreviewNodeOptions.delete(u)}}connectDropTarget(u,o){const a=this.options.rootElement;if(!this.document||!a)return()=>{};const h=m=>{if(!this.document||!a||!this.monitor.isDragging())return;let T;switch(m.type){case jp.mouse.move:T={x:m.clientX,y:m.clientY};break;case jp.touch.move:var E,v;T={x:((E=m.touches[0])===null||E===void 0?void 0:E.clientX)||0,y:((v=m.touches[0])===null||v===void 0?void 0:v.clientY)||0};break}const C=T!=null?this.document.elementFromPoint(T.x,T.y):void 0,N=C&&o.contains(C);if(C===o||N)return this.handleMove(m,u)};return this.addEventListener(this.document.body,"move",h),this.targetNodes.set(u,o),()=>{this.document&&(this.targetNodes.delete(u),this.removeEventListener(this.document.body,"move",h))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(u){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=u,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{u&&!u.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!u||!u.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(u.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(u,o,a){this.getSourceClientOffset=h=>{const m=this.sourceNodes.get(h);return m&&uL(m)},this.handleTopMoveStartCapture=h=>{P$(h)&&(this.moveStartSourceIds=[])},this.handleMoveStart=h=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(h)},this.handleTopMoveStart=h=>{if(!P$(h))return;const m=Vg(h);m&&(av(h)&&(this.lastTargetTouchFallback=h.targetTouches[0]),this._mouseClientOffset=m),this.waitingForDelay=!1},this.handleTopMoveStartDelay=h=>{if(!P$(h))return;const m=h.type===jp.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,h),m),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(h,m)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(m)},this.handleTopMove=h=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:m,dragOverTargetIds:T}=this,E=this.options.enableHoverOutsideTarget,v=Vg(h,this.lastTargetTouchFallback);if(!v)return;if(this._isScrolling||!this.monitor.isDragging()&&rL(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,v.x,v.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&m&&nL(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,v.x,v.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(m,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const C=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(C),this.actions.publishDragSource(),h.cancelable&&h.preventDefault();const N=(T||[]).map(x=>this.targetNodes.get(x)).filter(x=>!!x),w=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(v.x,v.y,N):this.document.elementsFromPoint(v.x,v.y),k=[];for(const x in w){if(!w.hasOwnProperty(x))continue;let O=w[x];for(O!=null&&k.push(O);O;)O=O.parentElement,O&&k.indexOf(O)===-1&&k.push(O)}const H=k.filter(x=>N.indexOf(x)>-1).map(x=>this._getDropTargetId(x)).filter(x=>!!x).filter((x,O,K)=>K.indexOf(x)===O);if(E)for(const x in this.targetNodes){const O=this.targetNodes.get(x);if(C&&O&&O.contains(C)&&H.indexOf(x)===-1){H.unshift(x);break}}H.reverse(),this.actions.hover(H,{clientOffset:v})},this._getDropTargetId=h=>{const m=this.targetNodes.keys();let T=m.next();for(;T.done===!1;){const E=T.value;if(h===this.targetNodes.get(E))return E;T=m.next()}},this.handleTopMoveEndCapture=h=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!sL(h)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}h.cancelable&&h.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=h=>{h.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new tL(a,o),this.actions=u.getActions(),this.monitor=u.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(fu.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(fu.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(fu.keyboard)}}const cL=function(u,o={},a={}){return new Zp(u,o,a)},dL=_e.createContext({isCustomDndProviderSet:!1}),hL=({children:n})=>U.jsx(U.Fragment,{children:n}),pL=({customDndBackend:n,customDndBackendOptions:u,children:o})=>{const[a,h]=_e.useState(),[m,T]=_e.useState(!1),[E,v]=_e.useState(!1),{isCustomDndProviderSet:C}=_e.useContext(dL);_e.useEffect(()=>{v("ontouchstart"in window),T(!0),h(window)},[]);const N=C?hL:QO;return m?a?U.jsx(N,Object.assign({backend:n||(E?cL:WR),context:a,options:n?u:void 0},{children:o})):U.jsx(U.Fragment,{children:o}):null};function fL({boardContainer:n}){const{boardWidth:u,chessPieces:o,id:a,snapToCursor:h,allowDragOutsideBoard:m}=$l(),T=bR(k=>({item:k.getItem(),clientOffset:k.getClientOffset(),sourceClientOffset:k.getSourceClientOffset(),isDragging:k.isDragging()})),{isDragging:E,item:v,clientOffset:C,sourceClientOffset:N}=T,w=_e.useCallback((k,H)=>{if(!k||!H)return{display:"none"};let{x,y:O}=h?k:H;const K=u/8/2;if(h&&(x-=K,O-=K),!m){const{left:oe,top:ne}=n,ae=oe-K,ge=ne-K,ue=oe+u-K,re=ne+u-K;x=Math.max(ae,Math.min(x,ue)),O=Math.max(ge,Math.min(O,re))}const ee=`translate(${x}px, ${O}px)`;return{transform:ee,WebkitTransform:ee,touchAction:"none"}},[u,m,h,n]);return E&&v.id===a?U.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:U.jsx("div",Object.assign({style:w(C,N)},{children:typeof o[v.piece]=="function"?o[v.piece]({squareWidth:u/8,isDragging:!0}):U.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:u/8,height:u/8},{children:U.jsx("g",{children:o[v.piece]})}))}))})):null}const gL=_e.forwardRef((n,u)=>{const{customDndBackend:o,customDndBackendOptions:a,onBoardWidthChange:h}=n,m=vk(n,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[T,E]=_e.useState(n.boardWidth),v=_e.useRef(null),C=_e.useRef(null),[N,w]=_e.useState({left:0,top:0}),k=_e.useMemo(()=>{var H;return(H=v.current)===null||H===void 0?void 0:H.getBoundingClientRect()},[v.current]);return _e.useEffect(()=>{T&&(h==null||h(T))},[T]),_e.useEffect(()=>{w({left:k!=null&&k.left?k==null?void 0:k.left:0,top:k!=null&&k.top?k==null?void 0:k.top:0})},[k]),_e.useEffect(()=>{var H;if(n.boardWidth===void 0&&(!((H=v.current)===null||H===void 0)&&H.offsetWidth)){const x=new ResizeObserver(()=>{var O;E((O=v.current)===null||O===void 0?void 0:O.offsetWidth)});return x.observe(v.current),()=>{x.disconnect()}}},[v.current]),U.jsx(QR,{children:U.jsxs("div",Object.assign({ref:C,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[U.jsx("div",{ref:v,style:{width:"100%"}}),U.jsx(pL,Object.assign({customDndBackend:o,customDndBackendOptions:a},{children:T&&U.jsxs(Nk,Object.assign({boardWidth:T},m,{ref:u},{children:[U.jsx(fL,{boardContainer:N}),U.jsx(ZR,{})]}))}))]}))})});var Rg={exports:{}},mL=Rg.exports,xb;function x_(){return xb||(xb=1,function(n,u){(function(o,a){n.exports=a()})(mL,function(){var o={},a,h,m,T,E,v,C,N,w,k,H,x,O,K,ee,oe,ne,ae,ge,ue,re,pe,Fe,L,ve,ke,Ne,Le,Ve,j,B,I,J,Y,R,Q,Re,Se,Ue,Oe,Ie,qe,Qe,$t,Ct,yt,rr,Zi,wn,Qt,Xr,pr,eo,Ge,st,it,Kr,kn,$n,Rr,zt,Pn,ko,le,Be,_,S,W,z,we,_t,Bn,Yr,to,Lr,Jr,gs,Oo,ms,_l,Fn,ir,Tl,no,El,ro,pt,ht,fn,Ht,fr,or,Wa,bl,Ro,mu,Gd,$u,_u,Wd,Tu,zd,za,jd,jt,ja,yl,Eu,Lo,_f,$s,Ao,gr,Tf,Ar,Ef,Do,_n,No,vl,jn,Dr,bf,Xd,Sl,Xa,Ka,_s,bu,Ya,ct,Kd,Yd,Il,Jd,Ts,qd,yu,Es,Ei,bi,io,Mo,yi,qr,yf,Ja,bs,vf,Qd,vi,Zd,vu,On,Cl,ys,Su,Sf,If,qa,Iu,Cu,Si,mr,wu,ku,eh,Ou,Ru,th,sr,vs,Qa,wl,nh,Za,xo,Po,Lu,Ss,rh,ih,oh,kl,ec,sh,Cf,lh,uh,tc,ah,ch,dh,hh,nc,Au,ph,rc,Du,Ii,fh,gh,Nu,mh,$h,wf,Ol,Is,kf,_h,Th,Eh,bh,Cs,Bo,yh,Rl,ic,vh,Sh,ws,ks,oo,Ll,Ih,Ch,oc,sc,wh,lc,kh,Oh,Of,Os,Mu,uc,lr,Qr,ac,xu,cc,Xt,dc,Al,Rs,Ls,Pu,Fo,Uo,hc,Ci,wi,Bu,pc,Fu,Rh,Lh,fc,Ah,gc,Dl,so,mc,$c,Rf,Uu,As,Dh,Hu,Vu,Rt,Ds,Nl,lo,Nh,_c,Nr,Ml,Xn,Mh,Lf,xh,Ph,ki,xl,Tc,Ec,bc,yc,Af,vc,Df,Nf,Pl,uo,Bh,Ho,$r,Ns,Mr,Gu,Fh,Bl,_r,Tr,Kn,Wu,Sc,Ms,Oi,vt,wt,ao,Rn,Un,Ri,Vo,Ln,zu,Uh,Hh,ju,We,Zt,en,St,Zr,Fl,Ae,kt,Go,Xu,ei,Yn,Jn,co,Li,ti,Ai,Ic,Ku,Cc,qn,ur,Ot,xr,Vh,Gh,wc,kc,Oc,Yu,Ul,Di,Rc,Wh,xs,Hl,Lc,Ju,Wo,zh,qu,Qu,ni,Zu,Ac,Vl,ar,Ps,gn,ho,Dc,Gl,ri,Ni,ea,Nc,ii,Mi,Wl,Mc,zl,xc,jl,oi,Xl,Kl,zo,Pc,po,jh,Bc,xt,Yl,ta,na,Jl,ra,fo,Lt,Kt,an,ia,Bs,Fs,Xh,Tn,oa,sa,la,Pr,cr,Us,Fc,Uc,Kh,Hc,Yh,Jh,qh,Qh,Zh,fe;a=function(e,t,r,l){if(!(e instanceof me)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const d=t.toLowerCase();if(!r)throw Error("Can not register a null value");let g=Br[e],y=Hs[e];if(g||(g=Br[e]=Object.create(null),y=Hs[e]=Object.create(null)),h(e,r),!l&&g[d]&&g[d]!==r)throw Error('Name "'+d+'" with type "'+e+'" already registered.');g[d]=r,y[d]=t},h=function(e,t){switch(e){case String(me.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},m=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const r=Br[e];r&&r[t]?(delete Br[e][t],delete Hs[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},T=function(e,t,r){e=`${e}`.toLowerCase(),t=t.toLowerCase();const l=Br[e];if(!l||!l[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",r)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return l[t]},E=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=Br[e])?!!e[t]:!1},v=function(e,t,r){return T(e,t,r)},C=function(e,t,r){return T(e,t,r)},N=function(e,t,r){e=`${e}`.toLowerCase();var l=Br[e];if(!l){if(l=`Unable to find [${e}] in the registry.`,r)throw Error(`${l} You must require or register a ${e} plugin.`);return console.warn(l),null}if(!t)return l;e=Hs[e],r=Object.create(null);for(const d of Object.keys(l))r[e[d]]=l[d];return r},w=function(e,t,r){return t=t.plugins[String(e)]||Er,typeof t=="function"?t:v(e,t,r)},k=function(e,t,r,l){e=e+" was deprecated in "+t+" and will be deleted in "+r+".",l&&(e+=`
Use `+l+" instead."),tp.has(e)||(tp.add(e),console.warn(e))},H=function(){return"blockly-"+(xf++).toString(36)},x=function(){return rp.genUid()},O=function(e){return e.type===te.BLOCK_CREATE},K=function(e){return e.type===te.BLOCK_DELETE},ee=function(e){return e.type===te.BLOCK_CHANGE},oe=function(e){return e.type===te.BLOCK_FIELD_INTERMEDIATE_CHANGE},ne=function(e){return e.type===te.BLOCK_MOVE},ae=function(e){return e.type===te.CLICK},ge=function(e){return e.type===te.BUBBLE_OPEN},ue=function(e){return e.type===te.VIEWPORT_CHANGE},o.setRecordUndo$$module$build$src$core$events$utils=function(e){ua=e},re=function(){return ua},pe=function(e){lp.fireInternal(e)},Fe=function(e){if(Le()){if(!xi.length)try{requestAnimationFrame(()=>{setTimeout(L,0)})}catch{setTimeout(L,0)}ve(e)}},L=function(){const e=ke(xi,!0);xi.length=0;for(const t of e){if(!t.workspaceId)continue;let r;(r=Y(t.workspaceId))==null||r.fireChangeListener(t)}},ve=function(e){if(ee(e)&&e.element==="mutation"){let t;for(t=xi.length;0<t;t--){const r=xi[t-1];if(r.group!==e.group||r.workspaceId!==e.workspaceId||!ne(r)||r.newParentId!==e.blockId)break}xi.splice(t,0,e)}else xi.push(e)},ke=function(e,t=!0){t||(k("filter(queue, /*forward=*/false)","v11.2","v12"),e=e.slice().reverse());const r=[];for(const l of e)if(e=r[r.length-1],!l.isNull())if(e&&e.workspaceId===l.workspaceId&&e.group===l.group)if(ne(l)&&ne(e)&&l.blockId===e.blockId){if(e.newParentId=l.newParentId,e.newInputName=l.newInputName,e.newCoordinate=l.newCoordinate,e.reason||l.reason){let d,g;e.reason=Array.from(new Set(((d=e.reason)!=null?d:[]).concat((g=l.reason)!=null?g:[])))}}else ee(l)&&ee(e)&&l.blockId===e.blockId&&l.element===e.element&&l.name===e.name?e.newValue=l.newValue:ue(l)&&ue(e)?(e.viewTop=l.viewTop,e.viewLeft=l.viewLeft,e.scale=l.scale,e.oldScale=l.oldScale):ae(l)&&ge(e)||r.push(l);else r.push(l);return e=r.filter(l=>!l.isNull()),t||e.reverse(),e},Ne=function(){for(let e=0,t;t=xi[e];e++)t.recordUndo=!1},o.disable$$module$build$src$core$events$utils=function(){sp++},o.enable$$module$build$src$core$events$utils=function(){sp--},Le=function(){return sp===0},o.getGroup$$module$build$src$core$events$utils=function(){return op},o.setGroup$$module$build$src$core$events$utils=function(e){lp.setGroupInternal(e)},Ve=function(e){op=typeof e=="boolean"?e?x():"":e},j=function(e){const t=[];e=e.getDescendants(!1);for(let r=0,l;l=e[r];r++)t[r]=l.id;return t},B=function(e,t){const r=I(e.type);if(!r)throw Error("Unknown event type.");return r.fromJson(e,t)},I=function(e){const t=v(me.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},J=function(e){if((ne(e)||O(e))&&e.workspaceId){var t=Y(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const r=ua;try{ua=!1;const l=e.getParent();if(l&&!l.hasDisabledReason(Gc)){const d=e.getDescendants(!1);for(let g=0,y;y=d[g];g++)y.setDisabledReason(!1,Gc)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setDisabledReason(!0,Gc),e=e.getNextBlock();while(e)}finally{ua=r}}}},Y=function(e){return jo[e]||null},R=function(){const e=[];for(const t in jo)e.push(jo[t]);return e},Q=function(e){jo[e.id]=e},Re=function(e){delete jo[e.id]},Se=function(){return Pf},Ue=function(e){Pf=e},Oe=function(){return Vs},o.setSelected$$module$build$src$core$common=function(e){if(Vs!==e){var t,r,l,d,g,y,P=new(I(te.SELECTED))((l=(t=Vs)==null?void 0:t.id)!=null?l:null,(d=e==null?void 0:e.id)!=null?d:null,(y=(g=e==null?void 0:e.workspace.id)!=null?g:(r=Vs)==null?void 0:r.workspace.id)!=null?y:"");pe(P);var ce;(ce=Vs)==null||ce.unselect(),Vs=e;var xe;(xe=Vs)==null||xe.select()}},Ie=function(){return Bf},qe=function(e){Bf=e},Qe=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),r=e.getCachedParentSvgSize();var l=t.parentElement;if(l instanceof HTMLElement){var d=l.offsetWidth;l=l.offsetHeight,r.width!==d&&(t.setAttribute("width",d+"px"),e.setCachedParentSvgSize(d,null)),r.height!==l&&(t.setAttribute("height",l+"px"),e.setCachedParentSvgSize(null,l)),e.resize()}},$t=function(e,t){const r=Object.create(null),l=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=l.indexOf(e),l.splice(e,l.length-e));for(let d=0,g;g=l[d];d++)r[g.type]?r[g.type]++:r[g.type]=1;return r},Ct=function(e){return function(){this.jsonInit(e)}},yt=function(e){Wc.defineBlocksWithJsonArrayInternal(e)},rr=function(e){o.defineBlocks$$module$build$src$core$common(o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let r=0;r<e.length;r++){const l=e[r];if(!l){console.warn(`Block definition #${r} in JSON array is ${l}. Skipping`);continue}const d=l.type;d?t[d]={init:Ct(l)}:console.warn(`Block definition #${r} in JSON array is missing a type attribute. Skipping.`)}return t},o.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const r=e[t];t in Qn&&console.warn(`Block definition "${t}" overwrites previous definition.`),Qn[t]=r}},Zi=function(e,t){wn(),ca=setTimeout(function(){t&&t.handleRightClick(e)},ql)},wn=function(){ca&&(clearTimeout(ca),ca=0)},Qt=function(){Ql=null},Xr=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&eo(e)},pr=function(e){return`${e.pointerId}`},eo=function(e){const t=pr(e);return Ql?Ql===t:e.type==="pointerdown"?(Ql=t,!0):!1},Ge=function(e,t,r,l,d){function g(P){(d||Xr(P))&&(r?l.call(r,P):l(P))}const y=[];if(t in Ws)for(let P=0;P<Ws[t].length;P++){const ce=Ws[t][P];e.addEventListener(ce,g,!1),y.push([e,ce,g])}else e.addEventListener(t,g,!1),y.push([e,t,g]);return y},st=function(e,t,r,l){function d(y){r?l.call(r,y):l(y)}const g=[];if(t in Ws)for(let y=0;y<Ws[t].length;y++){const P=Ws[t][y];e.addEventListener(P,d,!1),g.push([e,P,d])}else e.addEventListener(t,d,!1),g.push([e,t,d]);return g},it=function(e){const t=e[e.length-1][2];for(;e.length;){const[r,l,d]=e.pop();r.removeEventListener(l,d,!1)}return t},Kr=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},kn=function(e){return e.ctrlKey&&pa?!0:e.button===2},$n=function(e,t,r){const l=t.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,r||(r=t.getScreenCTM().inverse()),l.matrixTransform(r)},Rr=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*qc,y:e.deltaY*qc};case 2:return{x:e.deltaX*fa,y:e.deltaY*fa}}},zt=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},Pn=function(e){if(Zl)throw Error("CSS already injected");ui+=`
`+e},ko=function(e,t){Zl||(Zl=!0,e&&(e=t.replace(/[\\/]$/,""),t=ui.replace(/<<<PATH>>>/g,e),ui="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},le=function(e,t,r){e=document.createElementNS(zs,`${e}`);for(const l in t)e.setAttribute(l,`${t[l]}`);return r&&r.appendChild(e),e},Be=function(e,t){return t=t.split(" "),t.every(r=>e.classList.contains(r))?!1:(e.classList.add(...t),!0)},_=function(e,t){e.classList.remove(...t.split(" "))},S=function(e,t){return t=t.split(" "),t.every(r=>!e.classList.contains(r))?!1:(e.classList.remove(...t),!0)},W=function(e,t){return e.classList.contains(t)},z=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},we=function(e,t){const r=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");r?t.insertBefore(e,r):t.appendChild(e)},_t=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},Bn=function(){$p++,Dt||(Dt=Object.create(null))},Yr=function(){$p--,$p||(Dt=null)},to=function(e){const t=e.textContent+`
`+e.className.baseVal;let r;if(Dt&&(r=Dt[t]))return r;try{r=e.getComputedTextLength()}catch{return 8*e.textContent.length}return Dt&&(Dt[t]=r),r},Lr=function(e,t,r,l){return Jr(e,t+"pt",r,l)},Jr=function(e,t,r,l){const d=e.textContent;e=d+`
`+e.className.baseVal;var g;return Dt&&(g=Dt[e])||(Qc||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),Qc=g.getContext("2d")),Qc.font=r+" "+t+" "+l,g=d?Qc.measureText(d).width:0,Dt&&(Dt[e]=g)),g},gs=function(e,t,r,l){const d=document.createElement("span");d.style.font=r+" "+t+" "+l,d.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(d),t.appendChild(e),document.body.appendChild(t),r={height:0,baseline:0};try{t.style.alignItems="baseline",r.baseline=e.offsetTop-d.offsetTop,t.style.alignItems="flex-end",r.height=e.offsetTop-d.offsetTop}finally{document.body.removeChild(t)}return r},Oo=function(e){return js.getSizeInternal(e)},ms=function(e){if(Fn(e,"display")!=="none")return _l(e);const t=e.style,r=t.display,l=t.visibility,d=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const g=e.offsetWidth;return e=e.offsetHeight,t.display=r,t.position=d,t.visibility=l,new Ee(g,e)},_l=function(e){return k("Blockly.utils.style.getSizeWithDisplay()","v11.2","v13"),new Ee(e.offsetWidth,e.offsetHeight)},Fn=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},ir=function(e){const t=new be(0,0);e=e.getBoundingClientRect();var r=document.documentElement;return r=new be(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),t.x=e.left+r.x,t.y=e.top+r.y,t},Tl=function(){const e=document.body,t=document.documentElement;return new be(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},no=function(e){k("Blockly.utils.style.getBorderBox()","v11.2","v13");const t=parseFloat(Fn(e,"borderLeftWidth")),r=parseFloat(Fn(e,"borderRightWidth")),l=parseFloat(Fn(e,"borderTopWidth"));return e=parseFloat(Fn(e,"borderBottomWidth")),new ft(l,e,t,r)},El=function(e,t,r){k("Blockly.utils.style.scrollIntoContainerView()","v11.2","v13","the native Element.scrollIntoView()"),e=ro(e,t,r),t.scrollLeft=e.x,t.scrollTop=e.y},ro=function(e,t,r){k("Blockly.utils.style.getContainerOffsetToScrollInto()","v11.2","v13");var l=ir(e),d=ir(t),g=no(t);const y=l.x-d.x-g.left;return l=l.y-d.y-g.top,d=_l(e),e=t.clientWidth-d.width,d=t.clientHeight-d.height,g=t.scrollLeft,t=t.scrollTop,r?(g+=y-e/2,t+=l-d/2):(g+=Math.min(y,Math.max(y-e,0)),t+=Math.min(l,Math.max(l-d,0))),new be(g,t)},pt=function(e){const t=new be(0,0);var r=e.x&&e.getAttribute("x");const l=e.y&&e.getAttribute("y");return r&&(t.x=parseInt(r)),l&&(t.y=parseInt(l)),(r=(r=e.getAttribute("transform"))&&r.match(_p))&&(t.x+=Number(r[1]),r[3]&&(t.y+=Number(r[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(Vf))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},ht=function(e){let t=0,r=0;for(;e;){const l=pt(e);if(t+=l.x,r+=l.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new be(t,r)},fn=function(){const e=Tl();return new ft(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Ht=function(){const e=document.documentElement,t=window;return new be(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},fr=function(e,t){var r=t.x;t=t.y;const l=e.getInjectionDiv().getBoundingClientRect();return r=new be(r-l.left,t-l.top),t=e.getOriginOffsetInPixels(),be.difference(r,t).scale(1/e.scale)},or=function(e,t){var r=t.scale(e.scale);t=r.x,r=r.y;const l=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new be(t+l.left+e.x,r+l.top+e.y)},Wa=function(e){({document:$a=$a,DOMParser:Xs=Xs,XMLSerializer:Ks=Ks}=e),ma=new Xs,Zc=new Ks},o.createElement$$module$build$src$core$utils$xml=function(e){return $a.createElementNS(bn,e)},o.createTextNode$$module$build$src$core$utils$xml=function(e){return $a.createTextNode(e)},o.textToDom$$module$build$src$core$utils$xml=function(e){let t=ma.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=ma.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},bl=function(e){return Ro(Zc.serializeToString(e))},Ro=function(e){return e.replace(ci,t=>`&#${t.charCodeAt(0)};`)},mu=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=jt(e),e=zd(e)),Gd(e),e):null},Gd=function(e){const t=e.kind;if(e=e.contents,t&&t!==Tp&&t!==ed)throw Error("Invalid toolbox kind "+t+". Please supply either "+Tp+" or "+ed);if(!e)throw Error("Toolbox must have a contents attribute.")},$u=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:za(e):[]},_u=function(e){return Ep.hasCategoriesInternal(e)},Wd=function(e){if(!e)return!1;const t=e.kind;return t?t===ed:!!e.contents.filter(r=>r.kind.toUpperCase()==="CATEGORY").length},Tu=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},zd=function(e){const t={contents:za(e)};return e instanceof Node&&jd(e,t),t},za=function(e){const t=[];let r=e.childNodes;r||(r=e);for(let l=0,d;d=r[l];l++){if(!d.tagName)continue;e={};const g=d.tagName.toUpperCase();e.kind=g,g==="BLOCK"?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=za(d)),jd(d,e),t.push(e)}return t},jd=function(e,t){for(let r=0;r<e.attributes.length;r++){const l=e.attributes[r];l.nodeName.includes("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[l.nodeName.replace("css-","")]=l.value):t[l.nodeName]=l.value}},jt=function(e){let t=null;if(e)if(typeof e=="string"){if(t=o.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},ja=function(e,t,r,l,d,g){const y=g.scrollbar&&g.scrollbar.canScrollVertically();return e.horizontal===Ys.LEFT?(r=d.absoluteMetrics.left+r,y&&g.RTL&&(r+=Vt.scrollbarThickness)):(r=d.absoluteMetrics.left+d.viewMetrics.width-t.width-r,y&&!g.RTL&&(r-=Vt.scrollbarThickness)),e.vertical===mo.TOP?e=d.absoluteMetrics.top+l:(e=d.absoluteMetrics.top+d.viewMetrics.height-t.height-l,g.scrollbar&&g.scrollbar.canScrollHorizontally()&&(e-=Vt.scrollbarThickness)),new ft(e,e+t.height,r,r+t.width)},yl=function(e,t){return{horizontal:t.toolboxMetrics.position===Ke.LEFT||e.horizontalLayout&&!e.RTL?Ys.RIGHT:Ys.LEFT,vertical:t.toolboxMetrics.position===Ke.BOTTOM?mo.TOP:mo.BOTTOM}},Eu=function(e,t,r,l){const d=e.left,g=e.right-e.left,y=e.bottom-e.top;for(let P=0;P<l.length;P++){const ce=l[P];e.intersects(ce)&&(e=r===$o.UP?ce.top-y-t:ce.bottom+t,e=new ft(e,e+y,d,d+g),P=-1)}return e},Lo=function(e,t){a(me.SERIALIZER,e,t)},_f=function(e){m(me.SERIALIZER,e)},$s=function(e,{addCoordinates:t=!1,saveIds:r=!0}={}){const l=e.workspace,d=Object.create(null);return d.height=e.getSize().height,d.width=e.getSize().width,r&&(d.id=e.id),t&&(t=e.getRelativeToSurfaceXY(),d.x=l.RTL?l.getWidth()-t.x:t.x,d.y=t.y),e.getText()&&(d.text=e.getText()),e.isCollapsed()&&(d.collapsed=!0),e.isOwnEditable()||(d.editable=!1),e.isOwnMovable()||(d.movable=!1),e.isOwnDeletable()||(d.deletable=!1),d},Ao=function(e,t,{recordUndo:r=!1}={}){const l=re();if(o.setRecordUndo$$module$build$src$core$events$utils(r),r=t.newComment(e.id),e.text!==void 0&&r.setText(e.text),e.x!==void 0||e.y!==void 0){const g=r.getRelativeToSurfaceXY();let y,P=(y=e.x)!=null?y:g.x;P=t.RTL?t.getWidth()-P:P;var d;t=(d=e.y)!=null?d:g.y,r.moveTo(new be(P,t))}if(e.width!==void 0||e.height){d=r.getSize();let g,y;r.setSize(new Ee((g=e.width)!=null?g:d.width,(y=e.height)!=null?y:d.height))}return e.collapsed!==void 0&&r.setCollapsed(e.collapsed),e.editable!==void 0&&r.setEditable(e.editable),e.movable!==void 0&&r.setMovable(e.movable),e.deletable!==void 0&&r.setDeletable(e.deletable),o.setRecordUndo$$module$build$src$core$events$utils(l),r},gr=function(e,t){a(me.PASTER,e,t)},Tf=function(e){m(me.PASTER,e)},Ar=function(e){const t=e.workspace,r=e.getRelativeToSurfaceXY(),l=new be(0,0),d=t.getTopComments(!1).filter(g=>g.id!==e.id).map(g=>g.getRelativeToSurfaceXY());for(;Ef(be.sum(r,l),d);)l.translate(t.RTL?-30:30,30);e.moveTo(be.sum(r,l))},Ef=function(e,t){return t.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},Do=function(e,t){e.setAttribute(nd,t)},_n=function(e,t,r){Array.isArray(r)&&(r=r.join(" ")),e.setAttribute(qs+t,`${r}`)},No=function(e){return e.saveState!==void 0&&e.loadState!==void 0},vl=function(e){return Xd(e),bf()?(Sl(),Promise.resolve()):(Ui||(Ui=new Promise(t=>{Ea=t,ba=window.requestAnimationFrame(()=>{Sl(),t()})})),Ui)},jn=function(){return Ui||Promise.resolve()},Dr=function(e){e||window.cancelAnimationFrame(ba),Sl(e),!e&&Ea&&Ea()},bf=function(){return Yc},Xd=function(e){Fi.add(e),eu.set(e,o.getGroup$$module$build$src$core$events$utils());const t=e.getParent();t?Xd(t):Zs.add(e)},Sl=function(e){const t=e?new Set([e]):new Set([...Zs].map(g=>g.workspace)),r=[...Zs].filter(Ka).filter(g=>t.has(g.workspace));for(var l of r)_s(l);for(const g of t)g.resizeContents();for(var d of r)l=d.getRelativeToSurfaceXY(),d.updateComponentLocations(l);for(const g of r)d=o.getGroup$$module$build$src$core$events$utils(),(l=eu.get(g))&&o.setGroup$$module$build$src$core$events$utils(l),g.bumpNeighbours(),o.setGroup$$module$build$src$core$events$utils(d);for(const g of r)Xa(g);e||(Ui=null)},Xa=function(e){Zs.delete(e),Fi.delete(e),eu.delete(e);for(const t of e.getChildren(!1))Xa(t)},Ka=function(e){return!e.isDisposed()&&!e.getParent()},_s=function(e){if(Fi.has(e)&&e.initialized){for(const t of e.getChildren(!1))_s(t);e.renderEfficiently()}},bu=function(e,t){Gn(e,t)},Ya=function(e){Gn=e},ct=function(e,t){er.confirmInternal(e,t)},Kd=function(e,t){_o(e,t)},Yd=function(e){_o=e},Il=function(e,t,r){Ur(e,t,r)},Jd=function(e){Ur=e},Ts=function(e){return e.getProcedureDef!==void 0},qd=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},yu=function(e){return e.getVariableModel!==void 0},o.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let r=0;r<e.length;r++){const l=e[r].getVarModels();if(l)for(let d=0;d<l.length;d++){const g=l[d];g.getId()&&t.add(g)}}return Array.from(t.values())},o.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let l=0,d;d=e[l];l++){var r=d.getDeveloperVariables;if(r){r=r();for(let g=0;g<r.length;g++)t.add(r[g])}}return Array.from(t.values())},Es=function(e){let t=[];const r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(l){yi(l.getTargetWorkspace())}),t.push(r),e=Ei(e),t=t.concat(e)},Ei=function(e){e=e.getVariablesOfType("");const t=[];if(0<e.length){var r=e[e.length-1];if(Qn.variables_set){var l=o.createElement$$module$build$src$core$utils$xml("block");l.setAttribute("type","variables_set"),l.setAttribute("gap",Qn.math_change?"8":"24"),l.appendChild(vi(r)),t.push(l)}if(Qn.math_change&&(l=o.createElement$$module$build$src$core$utils$xml("block"),l.setAttribute("type","math_change"),l.setAttribute("gap",Qn.variables_get?"20":"8"),l.appendChild(vi(r)),r=o.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),l.appendChild(r),t.push(l)),Qn.variables_get){e.sort(tu.compareByName);for(let d=0,g;g=e[d];d++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap","8"),r.appendChild(vi(g)),t.push(r)}}return t},bi=function(e){return id.generateUniqueNameInternal(e)},io=function(e){return Mo(To.charAt(0),e.getAllVariableNames())},Mo=function(e,t){if(!t.length)return e;const r=To;let l="",d=r.indexOf(e);for(;;){let g=!1;for(let y=0;y<t.length;y++)if(t[y].toLowerCase()===e){g=!0;break}if(!g)break;d++,d===r.length&&(d=0,l=`${Number(l)+1}`),e=r.charAt(d)+l}return e},yi=function(e,t,r){function l(g){qr(o.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,g,function(y){if(y){var P=Ja(y,e);if(P){if(P.type===d)var ce=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",P.name);else ce=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,ce=ce.replace("%1",P.name).replace("%2",P.type);bu(ce,function(){l(y)})}else e.createVariable(y,d),t&&t(y)}else t&&t(null)})}const d=r||"";l("")},o.renameVariable$$module$build$src$core$variables=function(e,t,r){function l(d){const g=o.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);qr(g,d,function(y){if(y){var P=yf(y,t.type,e),ce=bs(t.name,y,e);if(P||ce){var xe="";P?xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",P.name).replace("%2",P.type):ce&&(xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",y).replace("%2",ce)),bu(xe,function(){l(y)})}else e.renameVariableById(t.getId(),y),r&&r(y)}else r&&r(null)})}l("")},qr=function(e,t,r){Il(e,t,function(l){l&&(l=l.replace(/[\s\xa0]+/g," ").trim(),l===o.Msg$$module$build$src$core$msg.RENAME_VARIABLE||l===o.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(l=null),r(l)})},yf=function(e,t,r){r=r.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let l=0,d;d=r[l];l++)if(d.name.toLowerCase()===e&&d.type!==t)return d;return null},Ja=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r=0,l;l=t[r];r++)if(l.name.toLowerCase()===e)return l;return null},bs=function(e,t,r){return r.getProcedureMap().getProcedures().length?vf(e,t,r):Qd(e,t,r)},vf=function(e,t,r){e=e.toLowerCase(),t=t.toLowerCase(),r=r.getProcedureMap().getProcedures();for(const d of r){var l=d.getParameters().filter(yu).map(g=>g.getVariableModel().name);if(l&&(r=l.some(g=>g.toLowerCase()===e),l=l.some(g=>g.toLowerCase()===t),r&&l))return d.getName()}return null},Qd=function(e,t,r){e=e.toLowerCase(),t=t.toLowerCase(),r=r.getAllBlocks(!1);for(const d of r){if(!Ts(d))continue;r=d.getProcedureDef();var l=r[1];const g=l.some(y=>y.toLowerCase()===e);if(l=l.some(y=>y.toLowerCase()===t),g&&l)return r[0]}return null},vi=function(e){const t=o.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=o.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},o.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,r,l){let d=o.getVariable$$module$build$src$core$variables(e,t,r,l);return d||(d=Zd(e,t,r,l)),d},o.getVariable$$module$build$src$core$variables=function(e,t,r,l){const d=e.getPotentialVariableMap();let g=null;if(t&&(g=e.getVariableById(t),!g&&d&&(g=d.getVariableById(t)),g))return g;if(r){if(l===void 0)throw Error("Tried to look up a variable by name without a type");g=e.getVariable(r,l),!g&&d&&(g=d.getVariable(r,l))}return g},Zd=function(e,t,r,l){const d=e.getPotentialVariableMap();return r||(r=bi(e.isFlyout?e.targetWorkspace:e)),d?d.createVariable(r,l,t):e.createVariable(r,l,t)},vu=function(e,t){e=e.getAllVariables();const r=[];if(t.length!==e.length)for(let l=0;l<e.length;l++){const d=e[l];t.includes(d)||r.push(d)}return r},On=function(e,{addCoordinates:t=!1,addInputBlocks:r=!0,addNextBlocks:l=!0,doFullSerialization:d=!0,saveIds:g=!0}={}){if(e.isInsertionMarker())return null;const y={type:e.type,id:g?e.id:void 0};return t&&ys(e,y),Cl(e,y),Su(e,y,d),Sf(e,y,d),If(e,y,d),r&&qa(e,y,d,g),l&&Iu(e,y,d,g),y},Cl=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},ys=function(e,t){const r=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(r.RTL?r.getWidth()-e.x:e.x),t.y=Math.round(e.y)},Su=function(e,t,r){e.saveExtraState?(e=e.saveExtraState(r),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=Xn(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Sf=function(e,t,r){const l=Object.create(null);for(const d of e.getIcons())No(d)&&(e=d.saveState(r))&&(l[d.getType().toString()]=e);Object.keys(l).length&&(t.icons=l)},If=function(e,t,r){const l=Object.create(null);for(let d=0;d<e.inputList.length;d++){const g=e.inputList[d];for(let y=0;y<g.fieldRow.length;y++){const P=g.fieldRow[y];P.isSerializable()&&(l[P.name]=P.saveState(r))}}Object.keys(l).length&&(t.fields=l)},qa=function(e,t,r,l){const d=Object.create(null);for(let g=0;g<e.inputList.length;g++){const y=e.inputList[g];if(!y.connection)continue;const P=Cu(y.connection,r,l);P&&(d[y.name]=P)}Object.keys(d).length&&(t.inputs=d)},Iu=function(e,t,r,l){e.nextConnection&&(e=Cu(e.nextConnection,r,l))&&(t.next=e)},Cu=function(e,t,r){const l=e.getShadowState(!0);if(e=e.targetBlock(),!l&&!e)return null;const d=Object.create(null);return l&&(d.shadow=l),e&&!e.isShadow()&&(d.block=On(e,{doFullSerialization:t,saveIds:r})),d},Si=function(e,t,{recordUndo:r=!1}={}){return e=mr(e,t,{recordUndo:r}),t.rendered&&Dr(),e},mr=function(e,t,{parentConnection:r,isShadow:l=!1,recordUndo:d=!1}={}){const g=re();o.setRecordUndo$$module$build$src$core$events$utils(d),(d=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),o.disable$$module$build$src$core$events$utils();const y=t.getAllVariables();let P;try{P=wu(e,t,{parentConnection:r,isShadow:l})}finally{o.enable$$module$build$src$core$events$utils()}if(ku(t,y),Le()&&pe(new(I(te.BLOCK_CREATE))(P)),o.setGroup$$module$build$src$core$events$utils(d),o.setRecordUndo$$module$build$src$core$events$utils(g),t.rendered){const ce=P;setTimeout(()=>{ce.disposed||ce.setConnectionTracking(!0)},1)}return P},wu=function(e,t,{parentConnection:r,isShadow:l=!1}={}){if(!e.type)throw new bp(e);const d=t.newBlock(e.type,e.id);return d.setShadow(l),eh(d,e),Ou(d,e),Ru(d,e),th(r,d,e),sr(d,e),vs(d,e),Qa(d,e),wl(d,e),Za(d,t.rendered),d},ku=function(e,t){if(Le())for(e=vu(e,t),t=0;t<e.length;t++){const r=e[t];pe(new(I(te.VAR_CREATE))(r))}},eh=function(e,t){let r=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const l=e.workspace;r=l.RTL?l.getWidth()-r:r,e.moveBy(r,t)},Ou=function(e,t){if(t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setDisabledReason(!0,Nn),Array.isArray(t.disabledReasons))for(const r of t.disabledReasons)e.setDisabledReason(!0,r);t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},Ru=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(o.textToDom$$module$build$src$core$utils$xml(t.extraState)))},th=function(e,t,r){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new Wf(r);if(e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var l=t.outputConnection;if(!l)throw new nl("output",t,r)}else if(l=t.previousConnection,!l)throw new nl("previous",t,r);if(!e.connect(l)){const d=t.workspace.connectionChecker;throw new Ia(d.getErrorMessage(d.canConnectWithReason(l,e,!1),l,e),e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,r)}}},sr=function(e,t){if(t.icons){var r=Object.keys(t.icons);for(const d of r){r=t.icons[d];var l=e.getIcon(d);if(!l){if(l=v(me.ICON,d,!1),!l)throw new zf(d,e,t);l=new l(e),e.addIcon(l)}No(l)&&l.loadState(r)}}},vs=function(e,t){if(t.fields){var r=Object.keys(t.fields);for(let l=0;l<r.length;l++){const d=r[l],g=t.fields[d],y=e.getField(d);y?y.loadState(g):console.warn(`Ignoring non-existant field ${d} in block ${e.type}`)}}},Qa=function(e,t){if(t.inputs){var r=Object.keys(t.inputs);for(let l=0;l<r.length;l++){const d=r[l],g=e.getInput(d);if(!g||!g.connection)throw new nl(d,e,t);nh(g.connection,t.inputs[d])}}},wl=function(e,t){if(t.next){if(!e.nextConnection)throw new nl("next",e,t);nh(e.nextConnection,t.next)}},nh=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&wu(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Za=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const r of e.getIcons())r.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},xo=function(e){return e.bubbleIsVisible!==void 0&&e.setBubbleVisible!==void 0},Po=function(e){return e*Math.PI/180},Lu=function(e){return 180*e/Math.PI},Ss=function(e,t,r){if(r<e){const l=r;r=e,e=l}return Math.max(e,Math.min(t,r))},rh=function(){document.querySelector(".blocklyDropDownDiv")||(ut=document.createElement("div"),ut.className="blocklyDropDownDiv",(Ie()||document.body).appendChild(ut),Cr=document.createElement("div"),Cr.className="blocklyDropDownContent",ut.appendChild(Cr),Vi=document.createElement("div"),Vi.className="blocklyDropDownArrow",ut.appendChild(Vi),ut.style.opacity="0",ut.style.transition="transform "+Ca+"s, opacity "+Ca+"s",ut.addEventListener("focusin",function(){Be(ut,"blocklyFocused")}),ut.addEventListener("focusout",function(){S(ut,"blocklyFocused")}))},ih=function(e){Eo=e},oh=function(){return hi},kl=function(){return Cr},ec=function(){Cr.textContent="",Cr.style.width=""},sh=function(e,t){ut.style.backgroundColor=e,ut.style.borderColor=t},Cf=function(e,t,r,l){return ah(uh(t),e,r,l)},lh=function(e,t,r){return ld=!0,ah(tc(e),e,t,r)},uh=function(e){var t=e.getSvgRoot();const r=e.workspace.scale,l=e.height*r;return e=e.width*r,t=ir(t),new ft(t.y,t.y+l,t.x,t.x+e)},tc=function(e){return e=e.getScaledBBox(),new ft(e.top,e.bottom,e.left,e.right)},ah=function(e,t,r,l){const d=e.left+(e.right-e.left)/2,g=e.bottom;e=e.top,l&&(e+=l),l=t.getSourceBlock();let y=l.workspace;for(;y.options.parentWorkspace;)y=y.options.parentWorkspace;return ih(y.getParentSvg().parentNode),ch(t,l.RTL,d,g,d,e,r)},ch=function(e,t,r,l,d,g,y){return hi=e,rl=y||null,ut.style.direction=t?"rtl":"ltr",e=Se(),Mn=e.getRenderer().getClassName(),ts=e.getTheme().getClassName(),Mn&&Be(ut,Mn),ts&&Be(ut,ts),fh(r,l,d,g)},dh=function(e,t,r,l){return e=Au(e,r.left,r.right,l.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+Sp,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},hh=function(e,t,r,l){return e=Au(e,r.left,r.right,l.width),{initialX:e.divX,initialY:t-l.height,finalX:e.divX,finalY:t-l.height-Sp,arrowX:e.arrowX,arrowY:l.height-2*vp-od/2,arrowAtTop:!1,arrowVisible:!0}},nc=function(e,t,r){return e=Au(e,t.left,t.right,r.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Au=function(e,t,r,l){return t=Ss(t,e-l/2,r-l),e=e-od/2-t,r=jf,e=Ss(r,e,l-r-od),{arrowX:e,divX:t}},ph=function(){return!!hi},rc=function(e,t){return hi===e?(t?Ii():Du(),!0):!1},Du=function(){ut.style.transform="translate(0, 0)",ut.style.opacity="0",sd=setTimeout(function(){Ii()},1e3*Ca),rl&&(rl(),rl=null)},Ii=function(){ph()&&(sd&&clearTimeout(sd),ut.style.transform="",ut.style.left="",ut.style.top="",ut.style.opacity="0",ut.style.display="none",ut.style.backgroundColor="",ut.style.borderColor="",rl&&(rl(),rl=null),ec(),hi=null,Mn&&(S(ut,Mn),Mn=""),ts&&(S(ut,ts),ts=""),Se().markFocused())},fh=function(e,t,r,l){e=wa.getPositionMetrics(e,t,r,l),e.arrowVisible?(Vi.style.display="",Vi.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",Vi.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Vi.style.display="none",t=Math.floor(e.initialX),r=Math.floor(e.initialY),l=Math.floor(e.finalX);const d=Math.floor(e.finalY);return ut.style.left=t+"px",ut.style.top=r+"px",ut.style.display="block",ut.style.opacity="1",ut.style.transform="translate("+(l-t)+"px,"+(d-r)+"px)",!!e.arrowAtTop},gh=function(){if(hi){var e=hi.getSourceBlock();e=ld?tc(hi):uh(e);const t=e.left+(e.right-e.left)/2;fh(t,e.bottom,t,e.top)}else Du()},Nu=function(e){return e.length?e.reduce(function(t,r){return t.length<r.length?t:r}).length:0},mh=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;t=t||Nu(e);let l;for(l=0;l<t;l++){for(var d=e[0][l],g=1;g<e.length;g++)if(d!==e[g][l])return r;d===" "&&(r=l+1)}for(d=1;d<e.length;d++)if((g=e[d][l])&&g!==" ")return r;return t},$h=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;t=t||Nu(e);let l;for(l=0;l<t;l++){for(var d=e[0].substr(-l-1,1),g=1;g<e.length;g++)if(d!==e[g].substr(-l-1,1))return r;d===" "&&(r=l+1)}for(d=1;d<e.length;d++)if((g=e[d].charAt(e[d].length-l-1))&&g!==" ")return r;return t},o.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let r=0;r<e.length;r++)e[r]=wf(e[r],t);return e.join(`
`)},wf=function(e,t){if(e.length<=t)return e;const r=e.trim().split(/\s+/);for(var l=0;l<r.length;l++)r[l].length>t&&(t=r[l].length);var d=-1/0;let g,y=1;do{l=d,g=e,e=[],d=r.length/y;let P=1;for(let ce=0;ce<r.length-1;ce++)P<(ce+1.5)/d?(P++,e[ce]=!0):e[ce]=!1;e=Is(r,e,t),d=Ol(r,e,t),e=kf(r,e),y++}while(d>l);return g},Ol=function(e,t,r){const l=[0],d=[];for(var g=0;g<e.length;g++)l[l.length-1]+=e[g].length,t[g]===!0?(l.push(0),d.push(e[g].charAt(e[g].length-1))):t[g]===!1&&l[l.length-1]++;for(e=Math.max(...l),t=0,g=0;g<l.length;g++)t-=2*Math.pow(Math.abs(r-l[g]),1.5),t-=Math.pow(e-l[g],1.5),".?!".includes(d[g])?t+=r/3:",;)]}".includes(d[g])&&(t+=r/4);return 1<l.length&&l[l.length-1]<=l[l.length-2]&&(t+=.5),t},Is=function(e,t,r){let l=Ol(e,t,r),d;for(let g=0;g<t.length-1;g++){if(t[g]===t[g+1])continue;const y=[].concat(t);y[g]=!y[g],y[g+1]=!y[g+1];const P=Ol(e,y,r);P>l&&(l=P,d=y)}return d?Is(e,d,r):t},kf=function(e,t){const r=[];for(let l=0;l<e.length;l++)r.push(e[l]),t[l]!==void 0&&r.push(t[l]?`
`:" ");return r.join("")},o.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},_h=function(e){ka=e},Th=function(){return ka},Eh=function(){return ru},bh=function(){return Gt},Cs=function(e){if(e=Bo(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Bo=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},yh=function(){document.querySelector(".blocklyTooltipDiv")||(Gt=document.createElement("div"),Gt.className="blocklyTooltipDiv",(Ie()||document.body).appendChild(Gt))},Rl=function(e){e.mouseOverWrapper_=st(e,"pointerover",null,vh),e.mouseOutWrapper_=st(e,"pointerout",null,Sh),e.addEventListener("pointermove",ws,!1)},ic=function(e){e&&(it(e.mouseOverWrapper_),it(e.mouseOutWrapper_),e.removeEventListener("pointermove",ws))},vh=function(e){bo||(e=Bo(e.currentTarget),tr!==e&&(oo(),ol=null,tr=e),clearTimeout(Ip))},Sh=function(e){bo||(Ip=setTimeout(function(){ol=tr=null,oo()},1),clearTimeout(yo),yo=0)},ws=function(e){if(tr&&tr.tooltip&&!bo)if(ru){const t=ud-e.pageX;e=Ra-e.pageY,Math.sqrt(t*t+e*e)>Xf&&oo()}else ol!==tr&&(clearTimeout(yo),ud=e.pageX,Ra=e.pageY,yo=setTimeout(wh,La))},ks=function(){ol=tr=null,oo()},oo=function(){ru&&(ru=!1,Gt&&(Gt.style.display="none")),yo&&(clearTimeout(yo),yo=0)},Ll=function(){oo(),bo=!0},Ih=function(){bo=!1},Ch=function(){Gt&&tr&&(typeof ka=="function"?ka(Gt,tr):oc())},oc=function(){var e=Cs(tr);e=o.wrap$$module$build$src$core$utils$string(e,Oa),e=e.split(`
`);for(let t=0;t<e.length;t++){const r=document.createElement("div");r.appendChild(document.createTextNode(e[t])),Gt.appendChild(r)}},sc=function(e){const t=document.documentElement.clientWidth,r=document.documentElement.clientHeight;let l=ud;l=e?l-(iu+Gt.offsetWidth):l+iu;let d=Ra+ad;return d+Gt.offsetHeight>r+window.scrollY&&(d-=Gt.offsetHeight+2*ad),e?l=Math.max(cd-window.scrollX,l):l+Gt.offsetWidth>t+window.scrollX-2*cd&&(l=t-Gt.offsetWidth-2*cd),{x:l,y:d}},wh=function(){if(!bo&&(ol=tr,Gt)){Gt.textContent="",Ch();var e=tr.RTL;Gt.style.direction=e?"rtl":"ltr",Gt.style.display="block",ru=!0;var{x:t,y:r}=sc(e);Gt.style.left=t+"px",Gt.style.top=r+"px"}},lc=function(){return ou},kh=function(e){ou=e},Oh=function(){return i},Of=function(e){i=e},Os=function(e){e=`${e}`.toLowerCase().trim();var t=s[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var r=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(e=Number(r[1]),t=Number(r[2]),r=Number(r[3]),0<=e&&256>e&&0<=t&&256>t&&0<=r&&256>r)?Mu(e,t,r):null},Mu=function(e,t,r){return t=e<<16|t<<8|r,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},uc=function(e){return e=Os(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},lr=function(e,t,r){let l=0,d=0,g=0;if(t===0)g=d=l=r;else{const y=Math.floor(e/60),P=e/60-y;e=r*(1-t);const ce=r*(1-t*P);switch(t=r*(1-t*(1-P)),y){case 1:l=ce,d=r,g=e;break;case 2:l=e,d=r,g=t;break;case 3:l=e,d=ce,g=r;break;case 4:l=t,d=e,g=r;break;case 5:l=r,d=e,g=ce;break;case 6:case 0:l=r,d=t,g=e}}return Mu(Math.floor(l),Math.floor(d),Math.floor(g))},Qr=function(e,t,r){return e=Os(e),!e||(t=Os(t),!t)?null:(e=uc(e),t=uc(t),Mu(Math.round(t[0]+r*(e[0]-t[0])),Math.round(t[1]+r*(e[1]-t[1])),Math.round(t[2]+r*(e[2]-t[2]))))},ac=function(e){return lr(e,ou,255*i)},xu=function(e,t,r){const l=[];var d=e.split("");d.push("");var g=0;e=[];let y=null;for(let xe=0;xe<d.length;xe++){var P=d[xe];if(g===0)if(P==="%")(g=e.join(""))&&l.push(g),e.length=0,g=1;else if(r&&P===`
`){const Bt=e.join("");Bt&&l.push(Bt),e.length=0,l.push(P)}else e.push(P);else if(g===1)P==="%"?(e.push(P),g=0):t&&"0"<=P&&"9">=P?(g=2,y=P,(P=e.join(""))&&l.push(P),e.length=0):P==="{"?g=3:(e.push("%",P),g=0);else if(g===2)if("0"<=P&&"9">=P)y+=P;else{var ce=void 0;l.push(parseInt((ce=y)!=null?ce:"",10)),xe--,g=0}else g===3&&(P===""?(e.splice(0,0,"%{"),xe--,g=0):P!=="}"?e.push(P):(g=e.join(""),/[A-Z]\w*/i.test(g)?(P=g.toUpperCase(),(P=P.startsWith("BKY_")?P.substring(4):null)&&P in o.Msg$$module$build$src$core$msg?(g=o.Msg$$module$build$src$core$msg[P],typeof g=="string"?Array.prototype.push.apply(l,xu(g,t,r)):t?l.push(`${g}`):l.push(g)):l.push("%{"+g+"}")):l.push("%{"+g+"}"),g=e.length=0))}for((t=e.join(""))&&l.push(t),ce=[],e.length=0,d=0;d<l.length;d++)typeof l[d]!="string"||r&&l[d]===`
`?((t=e.join(""))&&ce.push(t),e.length=0,ce.push(l[d])):e.push(l[d]);return(t=e.join(""))&&ce.push(t),e.length=0,ce},cc=function(e){return xu(e,!0,!0)},Xt=function(e){return typeof e!="string"?e:(e=xu(e,!1,!1),e.length?String(e[0]):"")},dc=function(e){let t=!0;const r=o.Msg$$module$build$src$core$msg,l=e.match(/%{BKY_[A-Z]\w*}/gi);if(l)for(let d=0;d<l.length;d++){const g=l[d].toUpperCase();r[g.slice(6,-1)]===void 0&&(console.warn("No message string for "+l[d]+" in "+e),t=!1)}return t},Al=function(e){const t=typeof e=="string"?Xt(e):e;var r=Number(t);if(!isNaN(r)&&0<=r&&360>=r)return{hue:r,hex:lr(r,lc(),255*Oh())};if(r=Os(t))return{hue:null,hex:r};throw r='Invalid colour: "'+t+'"',e!==t&&(r+=' (from "'+e+'")'),Error(r)},Rs=function(){return $e},Ls=function(e){if($e=e,e===null){let t;(t=document.querySelector("."+ie))==null||t.remove()}},Pu=function(){const e=Ie()||document.body;document.querySelector("."+ie)?$e=document.querySelector("."+ie):($e=document.createElement("div"),$e.className=ie),e.appendChild($e)},Fo=function(e,t,r,l){if(Uo(),b=e,V=r,r=$e){if(r.style.direction=t?"rtl":"ltr",r.style.display="block",!l&&e instanceof f){let y;l=(y=e.getSourceBlock())==null?void 0:y.workspace}var d;M=(d=l)!=null?d:null;var g;e=(g=l)!=null?g:Se(),Te=e.getRenderer().getClassName(),ye=e.getTheme().getClassName(),Te&&Be(r,Te),ye&&Be(r,ye)}},Uo=function(){if(hc()){b=null;var e=$e;e&&(e.style.display="none",e.style.left="",e.style.top="",V&&V(),V=null,e.textContent="",Te&&(S(e,Te),Te=""),ye&&(S(e,ye),ye=""),Se().markFocused())}},hc=function(){return!!b},Ci=function(e){b===e&&Uo()},wi=function(e){M!==null&&M!==e||Uo()},Bu=function(e,t,r){$e.style.left=e+"px",$e.style.top=t+"px",$e.style.height=r+"px"},pc=function(e,t,r,l){const d=Rh(e,t,r);e=Fu(e,t,r,l),0>d?Bu(e,0,r.height+d):Bu(e,d,r.height)},Fu=function(e,t,r,l){return l?Math.min(Math.max(t.right-r.width,e.left),e.right-r.width):Math.max(Math.min(t.left,e.right-r.width),e.left)},Rh=function(e,t,r){return t.bottom+r.height>=e.bottom?t.top-r.height:t.bottom},Lh=function(e){return!(e==null||!e.repositionForWindowResize)},fc=function(){Lh(b)&&b.repositionForWindowResize()||Uo()},Ah=function(){return He},gc=function(e){He=e},Dl=function(e,t,r,l){if(Fo(ze,r,As,l),t.length){var d=so(t,r,e);Wt=d,mc(d,e,r),setTimeout(function(){d.focus()},1),He=null}else Uu()},so=function(e,t,r){const l=new Ta;l.setRole(Sr.MENU);for(let d=0;d<e.length;d++){const g=e[d],y=new Jo(g.text);y.setRightToLeft(t),y.setRole(Sr.MENUITEM),l.addChild(y),y.setEnabled(g.enabled),g.enabled&&y.onAction(function(){Uu(),requestAnimationFrame(()=>{setTimeout(()=>{g.callback(g.scope,r)},0)})},{})}return l},mc=function(e,t,r){const l=fn();t=new ft(t.clientY+l.top,t.clientY+l.top,t.clientX+l.left,t.clientX+l.left),$c(e);const d=e.getSize();r&&(t.left+=d.width,t.right+=d.width,l.left+=d.width,l.right+=d.width),pc(l,t,d,r),e.focus()},$c=function(e){var t=Rs();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),Be(t,"blocklyContextMenu"),Ge(t,"contextmenu",null,Rf),e.focus()},Rf=function(e){e.preventDefault(),e.stopPropagation()},Uu=function(){Ci(ze),He=null},As=function(){Wt&&(Wt.dispose(),Wt=null)},o.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{o.disable$$module$build$src$core$events$utils();let r;try{r=t instanceof Element?ki(t,e.workspace):mr(t,e.workspace);const l=e.getRelativeToSurfaceXY();l.x=e.RTL?l.x-o.config$$module$build$src$core$config.snapRadius:l.x+o.config$$module$build$src$core$config.snapRadius,l.y+=2*o.config$$module$build$src$core$config.snapRadius,r.moveBy(l.x,l.y)}finally{o.enable$$module$build$src$core$events$utils()}return Le()&&!r.isShadow()&&pe(new(I(te.BLOCK_CREATE))(r)),o.setSelected$$module$build$src$core$common(r),r}},Dh=function(e,t){return t=$n(t,e.getParentSvg(),e.getInverseScreenCTM()),t.x/=e.scale,t.y/=e.scale,t},Hu=function(e,t,r){t=Dh(e,t),Je.set(e,be.difference(r,t))},Vu=function(e,t){if(t=Dh(e,t),e=Je.get(e),!e)throw Error("Drag not initialized");return be.sum(e,t)},Rt=function(e,t=!1){const r=o.createElement$$module$build$src$core$utils$xml("xml");var l=Nl(o.allUsedVarModels$$module$build$src$core$variables(e));l.hasChildNodes()&&r.appendChild(l);for(const d of e.getTopComments())r.appendChild(Ds(d,t));for(e=e.getTopBlocks(!0),l=0;l<e.length;l++)r.appendChild(lo(e[l],t));return r},Ds=function(e,t=!1){const r=o.createElement$$module$build$src$core$utils$xml("comment");t||r.setAttribute("id",e.id),t=e.workspace;const l=e.getRelativeToSurfaceXY();return l.x=t.RTL?t.getWidth()-l.x:l.x,r.setAttribute("x",`${l.x}`),r.setAttribute("y",`${l.y}`),r.setAttribute("w",`${e.getSize().width}`),r.setAttribute("h",`${e.getSize().height}`),e.getText()&&(r.textContent=e.getText()),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isOwnEditable()||r.setAttribute("editable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnDeletable()||r.setAttribute("deletable","false"),r},Nl=function(e){const t=o.createElement$$module$build$src$core$utils$xml("variables");for(let r=0;r<e.length;r++){const l=e[r],d=o.createElement$$module$build$src$core$utils$xml("variable");d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(l.name)),l.type&&d.setAttribute("type",l.type),d.id=l.getId(),t.appendChild(d)}return t},lo=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let r=0;if(e.workspace.RTL&&(r=e.workspace.getWidth()),t=Nr(e,t),Ho(t)){const l=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?r-l.x:l.x))),t.setAttribute("y",String(Math.round(l.y)))}return t},Nh=function(e){if(e.isSerializable()){const t=o.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},_c=function(e,t){for(let r=0;r<e.inputList.length;r++){const l=e.inputList[r];for(let d=0;d<l.fieldRow.length;d++){const g=Nh(l.fieldRow[d]);g&&t.appendChild(g)}}},Nr=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Nr(t):new DocumentFragment;const r=o.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(r.setAttribute("type",e.type),t||(r.id=e.id),e.mutationToDom){var l=e.mutationToDom();l&&(l.hasChildNodes()||l.hasAttributes())&&r.appendChild(l)}if(_c(e,r),l=e.getCommentText()){var d=e.getIcon(dn.COMMENT),g=d.getBubbleSize();d=d.bubbleIsVisible();var y=o.createElement$$module$build$src$core$utils$xml("comment");y.appendChild(o.createTextNode$$module$build$src$core$utils$xml(l)),y.setAttribute("pinned",`${d}`),y.setAttribute("h",String(g.height)),y.setAttribute("w",String(g.width)),r.appendChild(y)}for(e.data&&(l=o.createElement$$module$build$src$core$utils$xml("data"),l.appendChild(o.createTextNode$$module$build$src$core$utils$xml(e.data)),r.appendChild(l)),l=0;l<e.inputList.length;l++){g=e.inputList[l];var P=void 0;if(d=!0,g.type!==o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&g.type!==o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){y=g.connection.targetBlock(),g.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?P=o.createElement$$module$build$src$core$utils$xml("value"):g.type===o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(P=o.createElement$$module$build$src$core$utils$xml("statement"));const xe=g.connection.getShadowDom();!xe||y&&y.isShadow()||P.appendChild(Ml(xe,t)),y&&(y=Nr(y,t),y.nodeType===br.ELEMENT_NODE&&(P.appendChild(y),d=!1)),P.setAttribute("name",g.name),d||r.appendChild(P)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&r.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isEnabled()||r.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||r.setAttribute("deletable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnEditable()||r.setAttribute("editable","false"),P=e.getNextBlock();let ce;return P&&(l=Nr(P,t),l.nodeType===br.ELEMENT_NODE&&(ce=o.createElement$$module$build$src$core$utils$xml("next"),ce.appendChild(l),r.appendChild(ce))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||P&&P.isShadow()||ce.appendChild(Ml(e,t)),r},Ml=function(e,t){let r=e=e.cloneNode(!0),l;for(;r;)if(t&&r.nodeName==="shadow"&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){l=r,r=r.parentNode;let d;l.nodeType===br.TEXT_NODE&&l.data.trim()===""&&((d=r)==null?void 0:d.firstChild)!==l&&z(l)}r&&(l=r,r=r.nextSibling,l.nodeType===br.TEXT_NODE&&l.data.trim()===""&&z(l))}return e},Xn=function(e){return bl(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Mh=function(e){e=Xn(e).split("<");let t="";for(let r=1;r<e.length;r++){const l=e[r];l[0]==="/"&&(t=t.substring(2)),e[r]=t+"<"+l,l[0]!=="/"&&l.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Lf=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=o.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},o.domToWorkspace$$module$build$src$core$xml=function(e,t){let r=0;t.RTL&&(r=t.getWidth());const l=[];Bn();const d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let g=!0;try{for(let y=0,P;P=e.childNodes[y];y++){const ce=P.nodeName.toLowerCase(),xe=P;if(ce==="block"||ce==="shadow"&&!re()){const Bt=ki(xe,t);l.push(Bt.id);let Nt;const Wr=parseInt((Nt=xe.getAttribute("x"))!=null?Nt:"10",10);let yd;const Hp=parseInt((yd=xe.getAttribute("y"))!=null?yd:"10",10);isNaN(Wr)||isNaN(Hp)||Bt.moveBy(t.RTL?r-Wr:Wr,Hp,["create"]),g=!1}else{if(ce==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(ce==="comment")xh(xe,t);else if(ce==="variables"){if(g)xl(xe,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");g=!1}}}}finally{o.setGroup$$module$build$src$core$events$utils(d),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&Dr(),Yr()}return pe(new(I(te.FINISHED_LOADING))(t)),l},xh=function(e,t){var r;const l=(r=e.getAttribute("id"))!=null?r:void 0;r=t.rendered?new ot(t,l):new un(t,l);var d;r.setText((d=e.textContent)!=null?d:"");var g;d=parseInt((g=e.getAttribute("x"))!=null?g:"",10);let y;g=parseInt((y=e.getAttribute("y"))!=null?y:"",10),isNaN(d)||isNaN(g)||(d=t.RTL?t.getWidth()-d:d,r.moveTo(new be(d,g)));var P;t=parseInt((P=e.getAttribute("w"))!=null?P:"",10);let ce;return P=parseInt((ce=e.getAttribute("h"))!=null?ce:"",10),isNaN(t)||isNaN(P)||r.setSize(new Ee(t,P)),e.getAttribute("collapsed")==="true"&&r.setCollapsed(!0),e.getAttribute("editable")==="false"&&r.setEditable(!1),e.getAttribute("movable")==="false"&&r.setMovable(!1),e.getAttribute("deletable")==="false"&&r.setDeletable(!1),r},Ph=function(e,t){if(!t.getBlocksBoundingBox)return o.domToWorkspace$$module$build$src$core$xml(e,t);var r=t.getBlocksBoundingBox();if(e=o.domToWorkspace$$module$build$src$core$xml(e,t),r&&r.top!==r.bottom){var l=r.bottom;r=t.RTL?r.right:r.left;var d=1/0;let g=-1/0,y=1/0;for(let P=0;P<e.length;P++){const ce=t.getBlockById(e[P]).getRelativeToSurfaceXY();ce.y<y&&(y=ce.y),ce.x<d&&(d=ce.x),ce.x>g&&(g=ce.x)}for(l=l-y+10,r=t.RTL?r-g:r-d,d=0;d<e.length;d++)t.getBlockById(e[d]).moveBy(r,l,["create"])}return e},o.domToBlock$$module$build$src$core$xml=function(e,t){return e=ki(e,t),t.rendered&&Dr(),e},ki=function(e,t){o.disable$$module$build$src$core$events$utils();var r=t.getAllVariables();let l;try{if(l=Pl(e,t),t.rendered){const d=l,g=l.getDescendants(!1);d.setConnectionTracking(!1);for(let y=g.length-1;0<=y;y--)g[y].initSvg();for(let y=g.length-1;0<=y;y--)g[y].queueRender();setTimeout(function(){d.disposed||d.setConnectionTracking(!0)},1),t.resizeContents()}else{const d=l.getDescendants(!1);for(let g=d.length-1;0<=g;g--)d[g].initModel()}}finally{o.enable$$module$build$src$core$events$utils()}if(Le()){for(e=vu(t,r),t=0;t<e.length;t++)r=e[t],pe(new(I(te.VAR_CREATE))(r));pe(new(I(te.BLOCK_CREATE))(l))}return l},xl=function(e,t){for(let l=0;l<e.children.length;l++){var r=e.children[l];const d=r.getAttribute("type"),g=r.getAttribute("id");if(r=r.textContent,!r)break;t.createVariable(r,d,g)}},Tc=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let r=0;r<e.children.length;r++){const l=e.children[r];if(l.nodeType!==br.TEXT_NODE)switch(l.nodeName.toLowerCase()){case"mutation":t.mutation.push(l);break;case"comment":t.comment.push(l);break;case"data":t.data.push(l);break;case"title":case"field":t.field.push(l);break;case"value":case"statement":t.input.push(l);break;case"next":t.next.push(l);break;default:console.warn("Ignoring unknown tag: "+l.nodeName)}}return t},Ec=function(e,t){let r=!1;for(let l=0;l<e.length;l++){const d=e[l];t.domToMutation&&(t.domToMutation(d),t.initSvg&&(r=!0))}return r},bc=function(e,t){for(let l=0;l<e.length;l++){var r=e[l];const d=r.textContent,g=r.getAttribute("pinned")==="true";let y;const P=parseInt((y=r.getAttribute("w"))!=null?y:"50",10);let ce;r=parseInt((ce=r.getAttribute("h"))!=null?ce:"50",10),t.setCommentText(d);const xe=t.getIcon(dn.COMMENT);isNaN(P)||isNaN(r)||xe.setBubbleSize(new Ee(P,r)),xe.setBubbleVisible(g),setTimeout(()=>xe.setBubbleVisible(g),1)}},yc=function(e,t){for(let r=0;r<e.length;r++)t.data=e[r].textContent},Af=function(e,t){for(let r=0;r<e.length;r++){const l=e[r],d=l.getAttribute("name");d?uo(t,d,l):console.warn(`Ignoring unnamed field in block ${t.type}`)}},vc=function(e){let t=null,r=null;for(let l=0;l<e.childNodes.length;l++){const d=e.childNodes[l];Ho(d)&&(d.nodeName.toLowerCase()==="block"?t=d:d.nodeName.toLowerCase()==="shadow"&&(r=d))}return{childBlockElement:t,childShadowElement:r}},Df=function(e,t,r,l){for(let g=0;g<e.length;g++){var d=e[g];const y=d.getAttribute("name"),P=y?r.getInput(y):null;if(!P){console.warn("Ignoring non-existent input "+y+" in block "+l);break}if(d=vc(d),d.childBlockElement){if(!P.connection)throw TypeError("Input connection does not exist.");Pl(d.childBlockElement,t,P.connection,!1)}if(d.childShadowElement){let ce;(ce=P.connection)==null||ce.setShadowDom(d.childShadowElement)}}},Nf=function(e,t,r){for(let l=0;l<e.length;l++){const d=vc(e[l]);if(d.childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Pl(d.childBlockElement,t,r.nextConnection,!0)}d.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(d.childShadowElement)}},Pl=function(e,t,r,l){var d;const g=e.getAttribute("type");if(!g)throw TypeError("Block type unspecified: "+e.outerHTML);var y=(d=e.getAttribute("id"))!=null?d:void 0;d=t.newBlock(g,y),y=Tc(e);const P=Ec(y.mutation,d);if(bc(y.comment,d),yc(y.data,d),r)if(l)if(d.previousConnection)r.connect(d.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(d.outputConnection)r.connect(d.outputConnection);else if(d.previousConnection)r.connect(d.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(Af(y.field,d),Df(y.input,t,d,g),Nf(y.next,t,d),P&&d.initSvg(),(t=e.getAttribute("inline"))&&d.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&d.setDisabledReason(t==="true"||t==="disabled",Nn),t=e.getAttribute("disabled-reasons"),t!==null)for(var ce of t.split(","))d.setDisabledReason(!0,decodeURIComponent(ce));if((ce=e.getAttribute("deletable"))&&d.setDeletable(ce==="true"),(ce=e.getAttribute("movable"))&&d.setMovable(ce==="true"),(ce=e.getAttribute("editable"))&&d.setEditable(ce==="true"),(ce=e.getAttribute("collapsed"))&&d.setCollapsed(ce==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=d.getChildren(!1),ce=0;ce<e.length;ce++)if(!e[ce].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");d.setShadow(!0)}return d},uo=function(e,t,r){const l=e.getField(t);l?l.fromXml(r):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Bh=function(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes[t];if(r.nodeName.toLowerCase()==="next"){e.removeChild(r);break}}},Ho=function(e){return e.nodeType===br.ELEMENT_NODE},$r=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,r=e.getSvgRoot();t.getAudioManager().play("delete");var l=e.getRelativeToSurfaceXY(),d=r.cloneNode(!0);d.setAttribute("transform","translate("+l.x+","+l.y+")");var g;(g=t.getLayerManager())==null||g.appendToAnimationLayer({getSvgRoot:()=>d}),Ns(d,{x:l.x,y:l.y,width:e.width,height:e.height},t.RTL,new Date)}},Ns=function(e,t,r,l){const d=(new Date().getTime()-l.getTime())/150;1<d?z(e):(e.setAttribute("transform","translate("+(t.x+(r?-1:1)*t.width/2*d)+","+(t.y+t.height/2*d)+") scale("+(1-d)+")"),setTimeout(Ns,10,e,t,r,l))},Mr=function(e){var t=e.workspace;const r=t.scale;if(t.getAudioManager().play("click"),!(1>r)){var l=t.getSvgXY(e.getSvgRoot());e.outputConnection?(l.x+=(e.RTL?3:-3)*r,l.y+=13*r):e.previousConnection&&(l.x+=(e.RTL?-23:23)*r,l.y+=3*r);var d=le(X.CIRCLE,{cx:l.x,cy:l.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=le(X.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*r},d),t=le(X.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},d),e.beginElement(),t.beginElement(),setTimeout(()=>void z(d),150)}},Gu=function(e){if(Bl(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),wp=e,Fh(e,t,new Date)}},Fh=function(e,t,r){const l=(new Date().getTime()-r.getTime())/200;let d="";1>=l&&(d=`skewX(${Math.round(Math.sin(l*Math.PI*3)*(1-l)*t)})`,Kf=setTimeout(Fh,10,e,t,r)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${d}`)},Bl=function(){wp&&(Kf&&(clearTimeout(Kf),Kf=null),wp.getSvgRoot().setAttribute("transform",wp.getTranslation()),wp=null)},_r=function(e){return e.getRelativeToSurfaceXY!==void 0&&e.isMovable!==void 0&&e.startDrag!==void 0&&e.drag!==void 0&&e.endDrag!==void 0&&e.revertDrag!==void 0},Tr=function(e,t){for(const r in t)e[r]=t[r]!==null&&typeof t[r]=="object"?Tr(e[r]||Object.create(null),t[r]):t[r];return e},Kn=function(e,t){a(me.FIELD,e,t)},Wu=function(e){m(me.FIELD,e)},o.fromJson$$module$build$src$core$field_registry=function(e){return q_.fromJsonInternal(e)},Sc=function(e){const t=C(me.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},o.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(hd[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');hd[e]=t},o.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');o.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},o.registerMutator$$module$build$src$core$extensions=function(e,t,r,l){const d='Error when registering mutator "'+e+'": ';Vo(d,t);const g=Un(t,d);if(r&&typeof r!="function")throw Error(d+'Extension "'+e+'" is not a function');o.register$$module$build$src$core$extensions(e,function(){g&&this.setMutator(new o.MutatorIcon$$module$build$src$core$icons$mutator_icon(l||[],this)),this.mixin(t),r&&r.apply(this)})},Ms=function(e){Oi(e)?delete hd[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Oi=function(e){return!!hd[e]},vt=function(e,t,r){const l=hd[e];if(typeof l!="function")throw Error('Error: Extension "'+e+'" not found.');let d;if(r?wt(e,t):d=Ln(t),l.apply(t),r)Vo('Error after applying mutator "'+e+'": ',t);else if(!zu(d,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},wt=function(e,t){if(Ln(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},ao=function(e,t){return Ri(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},Rn=function(e,t){return Ri(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},Un=function(e,t){return Ri(e.compose,e.decompose,t+" compose/decompose")},Ri=function(e,t,r){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(r+" must be a function");return!0}if(!e&&!t)return!1;throw Error(r+"Must have both or neither functions")},Vo=function(e,t){const r=ao(t,e),l=Rn(t,e);if(!r&&!l)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Un(t,e)},Ln=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},zu=function(e,t){if(t=Ln(t),t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0},Uh=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},o.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const r=[];return function(){r.includes(this.type)||(Hh(this,e,t),r.push(this.type)),this.setTooltip((function(){const l=String(this.getFieldValue(e));return Xt(t[l])}).bind(this))}},Hh=function(e,t,r){var l=e.getField(t);if(l instanceof Vr&&!l.isOptionListDynamic()){l=l.getOptions();for(const[,d]of l)r[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field ${t} of block type ${e.type}.`)}},o.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const r=this.getField(t);return Xt(e).replace("%1",r?r.getText():"")}).bind(this))}},ju=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},We=function(e,t){return" "+e+","+t+" "},Zt=function(e,t){return" "+e+t.join("")},en=function(e,t){return" M "+e+","+t+" "},St=function(e,t){return" m "+e+","+t+" "},Zr=function(e,t){return" l "+e+","+t+" "},Fl=function(e){return" l"+e.join("")},Ae=function(e,t){return" "+e+" "+t+" "},kt=function(e,t,r,l){return e+" "+r+" "+r+" "+t+l},Go=function(e,t){a(me.ICON,e.toString(),t)},Xu=function(e){m(me.ICON,e)},ei=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},Yn=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Jn=function(e){const t=e.getProcedureMap().getProcedures().filter(l=>!l.getReturnTypes()).map(l=>[l.getName(),l.getParameters().map(d=>d.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(l=>{!ei(l)&&Ts(l)&&t.push(l.getProcedureDef())});const r=e.getProcedureMap().getProcedures().filter(l=>!!l.getReturnTypes()).map(l=>[l.getName(),l.getParameters().map(d=>d.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(l=>{!ei(l)&&Ts(l)&&r.push(l.getProcedureDef())}),t.sort(co),r.sort(co),[t,r]},co=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},o.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!Li(e,t.workspace,t);){const r=e.match(/^(.*?)(\d+)$/);e=r?r[1]+(parseInt(r[2])+1):e+"2"}return e},Li=function(e,t,r){return!ti(e,t,r)},ti=function(e,t,r){for(const l of t.getAllBlocks(!1))if(l!==r&&Ts(l)&&o.Names$$module$build$src$core$names.equals(l.getProcedureDef()[0],e))return!0;r=r&&ei(r)?r==null?void 0:r.getProcedureModel():void 0;for(const l of t.getProcedureMap().getProcedures())if(l!==r&&o.Names$$module$build$src$core$names.equals(l.getName(),e))return!0;return!1},o.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new $;e=e.trim();const r=o.findLegalName$$module$build$src$core$procedures(e,t);ei(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(r);const l=this.getValue();if(l!==e&&l!==r)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const d=e[t];d.renameProcedure&&d.renameProcedure(l,r)}return r},Ai=function(e){function t(g,y){for(let ce=0;ce<g.length;ce++){var P=g[ce][0];const xe=g[ce][1],Bt=o.createElement$$module$build$src$core$utils$xml("block");Bt.setAttribute("type",y),Bt.setAttribute("gap","16");const Nt=o.createElement$$module$build$src$core$utils$xml("mutation");for(Nt.setAttribute("name",P),Bt.appendChild(Nt),P=0;P<xe.length;P++){const Wr=o.createElement$$module$build$src$core$utils$xml("arg");Wr.setAttribute("name",xe[P]),Nt.appendChild(Wr)}r.push(Bt)}}const r=[];if(Qn.procedures_defnoreturn){var l=o.createElement$$module$build$src$core$utils$xml("block");l.setAttribute("type","procedures_defnoreturn"),l.setAttribute("gap","16");var d=o.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),l.appendChild(d),r.push(l)}return Qn.procedures_defreturn&&(l=o.createElement$$module$build$src$core$utils$xml("block"),l.setAttribute("type","procedures_defreturn"),l.setAttribute("gap","16"),d=o.createElement$$module$build$src$core$utils$xml("field"),d.setAttribute("name","NAME"),d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),l.appendChild(d),r.push(l)),Qn.procedures_ifreturn&&(l=o.createElement$$module$build$src$core$utils$xml("block"),l.setAttribute("type","procedures_ifreturn"),l.setAttribute("gap","16"),r.push(l)),r.length&&r[r.length-1].setAttribute("gap","24"),e=Jn(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),r},Ic=function(e){var t=[],r=e.getBlocksByType("procedures_mutatorarg",!1);for(let g=0,y;y=r[g];g++)t.push(y.getFieldValue("NAME"));r=o.createElement$$module$build$src$core$utils$xml("xml");const l=o.createElement$$module$build$src$core$utils$xml("block");l.setAttribute("type","procedures_mutatorarg");const d=o.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),t=Mo(o.DEFAULT_ARG$$module$build$src$core$procedures,t),t=o.createTextNode$$module$build$src$core$utils$xml(t),d.appendChild(t),l.appendChild(d),r.appendChild(l),e.updateToolbox(r)},Ku=function(e){if(ge(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=Y(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),Ic(e),e.addChangeListener(Cc))}},Cc=function(e){(O(e)||K(e)||ee(e)||oe(e))&&(e=Y(e.workspaceId),Ic(e))},qn=function(e,t){return t.getAllBlocks(!1).filter(r=>ur(r,e)||qd(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureCall(),e))},ur=function(e,t){return ei(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&o.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},o.mutateCallers$$module$build$src$core$procedures=function(e){const t=re();var r=e.getProcedureDef()[0];const l=e.mutationToDom(!0);e=qn(r,e.workspace);for(let g=0,y;y=e[g];g++){r=(r=y.mutationToDom())&&bl(r),y.domToMutation&&y.domToMutation(l);var d=y.mutationToDom();d=d&&bl(d),r!==d&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),pe(new(I(te.BLOCK_CHANGE))(y,"mutation",null,r,d)),o.setRecordUndo$$module$build$src$core$events$utils(t))}},o.getDefinition$$module$build$src$core$procedures=function(e,t){for(const r of t.getAllBlocks(!1))if(ei(r)&&r.isProcedureDef()&&o.Names$$module$build$src$core$names.equals(r.getProcedureModel().getName(),e)||Ts(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return r;return null},Ot=function(e){return e.isDynamic},xr=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},Vh=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},Gh=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},wc=function(e,t){let r=null;t=t.outputConnection;const l=t==null?void 0:t.getConnectionChecker();for(let d=0,g;g=e.inputList[d];d++){const y=g.connection;let P;if(y&&((P=l)!=null&&P.canConnect(t,y,!1))){if(r)return null;r=y}}return r},kc=function(e,t){let r;for(;r=wc(e,t);)if(e=r.targetBlock(),!e||e.isShadow())return r;return null},Oc=function(e){return e.getType!==void 0&&e.initView!==void 0&&e.dispose!==void 0&&e.getWeight!==void 0&&e.getSize!==void 0&&e.applyColour!==void 0&&e.hideForInsertionMarker!==void 0&&e.updateEditable!==void 0&&e.updateCollapsed!==void 0&&e.isShownWhenCollapsed!==void 0&&e.setOffsetInBlock!==void 0&&e.onLocationChange!==void 0&&e.onClick!==void 0},Yu=function(e){return Oc(e)&&xo(e)&&No(e)&&e.setText!==void 0&&e.getText!==void 0&&e.setBubbleSize!==void 0&&e.getBubbleSize!==void 0&&e.getType()===dn.COMMENT},Ul=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Di=function(e,t){a(me.RENDERER,e,t)},Rc=function(e){m(me.RENDERER,e)},Wh=function(e,t,r){return e=new(v(me.RENDERER,e))(e),e.init(t,r),e},xs=function(e){yi(e.getTargetWorkspace(),void 0,"String")},Hl=function(e){yi(e.getTargetWorkspace(),void 0,"Number")},Lc=function(e){yi(e.getTargetWorkspace(),void 0,"Colour")},Ju=function(e){let t=[],r=document.createElement("button");return r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(r),e.registerButtonCallback("CREATE_VARIABLE_STRING",xs),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Hl),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Lc),e=Wo(e),t=t.concat(e)},Wo=function(e){e=e.getAllVariables();const t=[];if(0<e.length){if(Qn.variables_set_dynamic){var r=e[e.length-1];const l=o.createElement$$module$build$src$core$utils$xml("block");l.setAttribute("type","variables_set_dynamic"),l.setAttribute("gap","24"),l.appendChild(vi(r)),t.push(l)}if(Qn.variables_get_dynamic){e.sort(tu.compareByName);for(let l=0,d;d=e[l];l++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap","8"),r.appendChild(vi(d)),t.push(r)}}return t},zh=function(e,t){const r=e.workspace,l=o.config$$module$build$src$core$config.snapRadius,d=be.difference(t,e.getRelativeToSurfaceXY()),g=new be(0,0),y=r.getAllBlocks(!1).filter(P=>P.id!=e.id).map(P=>P.getRelativeToSurfaceXY());for(;qu(be.sum(t,g),y)||Qu(e,be.sum(d,g),l);)r.RTL?g.translate(-l,2*l):g.translate(l,2*l);e.moveTo(be.sum(t,g))},qu=function(e,t){return t.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},Qu=function(e,t,r){return e.getConnections_(!1).some(l=>!!l.closest(r,t).connection)},ni=function(e,t,r){const l=r.getBoundingRectangle(),d=l.right-l.left,g=Ss(t.top,l.top,t.top+t.height-(l.bottom-l.top))-l.top;let y=t.left;return t=t.left+t.width-d,e.RTL?y=Math.min(t,y):t=Math.max(y,t),(e=Ss(y,l.left,t)-l.left)||g?(r.moveBy(e,g,["inbounds"]),!0):!1},Zu=function(e){return t=>{var r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging()){var l;if(ep.includes((l=t.type)!=null?l:"")){l=r.getScrollMetrics(!0);const d=Ac(e,t);d&&(r=o.getGroup$$module$build$src$core$events$utils()||!1,o.setGroup$$module$build$src$core$events$utils(t.group),ni(e,l,d)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),o.setGroup$$module$build$src$core$events$utils(r))}else ue(t)&&t.scale&&t.oldScale&&t.scale>t.oldScale&&Vl(e)}}},Ac=function(e,t){let r=null;switch(t.type){case te.BLOCK_CREATE:case te.BLOCK_MOVE:(r=e.getBlockById(t.blockId))&&(r=r.getRootBlock());break;case te.COMMENT_CREATE:case te.COMMENT_MOVE:case te.COMMENT_RESIZE:r=e.getCommentById(t.commentId)}return r},Vl=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var r=e.getTopBoundedElements();for(let l=0,d;d=r[l];l++)ni(e,t,d)}},ar=function(e){return e.isDeletable!==void 0&&e.dispose!==void 0&&e.setDeleteStyle!==void 0},Ps=function(e){const t=e.toCopyData();Xm=t;let r;return Km=(r=e.workspace)!=null?r:null,t},gn=function(e,t,r){return e&&t?ho(e,t,r):Xm&&Km?ho(Xm,Km):null},ho=function(e,t,r){let l;t=(l=t.getRootWorkspace())!=null?l:t;let d,g;return(g=(d=C(me.PASTER,e.paster,!1))==null?void 0:d.paste(e,t,r))!=null?g:null},Dc=function(e){const t=e.toCopyData();return t?gn(t,e.workspace):null},Gl=function(e){return e.toCopyData!==void 0},ri=function(){mt.registry.register({name:is.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[tt.ESC]})},Ni=function(){mt.registry.register({name:is.DELETE,preconditionFn(e){const t=Oe();return!e.options.readOnly&&t!=null&&ar(t)&&t.isDeletable()&&!sl.inProgress()},callback(e,t){return t.preventDefault(),e=Oe(),e instanceof ji?e.checkAndDelete():ar(e)&&e.isDeletable()&&(o.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[tt.DELETE,tt.BACKSPACE]})},ea=function(){const e=mt.registry.createSerializedKey(tt.C,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.C,[tt.ALT]),r=mt.registry.createSerializedKey(tt.C,[tt.META]);mt.registry.register({name:is.COPY,preconditionFn(l){const d=Oe();return!l.options.readOnly&&!sl.inProgress()&&d!=null&&ar(d)&&d.isDeletable()&&_r(d)&&d.isMovable()&&Gl(d)},callback(l,d){return d.preventDefault(),l.hideChaff(),d=Oe(),!d||!Gl(d)?!1:(au=d.toCopyData(),cu=l,Td=_r(d)?d.getRelativeToSurfaceXY():null,!!au)},keyCodes:[e,t,r]})},Nc=function(){const e=mt.registry.createSerializedKey(tt.X,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.X,[tt.ALT]),r=mt.registry.createSerializedKey(tt.X,[tt.META]);mt.registry.register({name:is.CUT,preconditionFn(l){const d=Oe();return!l.options.readOnly&&!sl.inProgress()&&d!=null&&ar(d)&&d.isDeletable()&&_r(d)&&d.isMovable()&&!d.workspace.isFlyout},callback(l){const d=Oe();return d instanceof ji?(au=d.toCopyData(),cu=l,Td=d.getRelativeToSurfaceXY(),d.checkAndDelete(),!0):ar(d)&&d.isDeletable()&&Gl(d)?(au=d.toCopyData(),cu=l,Td=_r(d)?d.getRelativeToSurfaceXY():null,d.dispose(),!0):!1},keyCodes:[e,t,r]})},ii=function(){const e=mt.registry.createSerializedKey(tt.V,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.V,[tt.ALT]),r=mt.registry.createSerializedKey(tt.V,[tt.META]);mt.registry.register({name:is.PASTE,preconditionFn(l){return!l.options.readOnly&&!sl.inProgress()},callback(){if(!au||!cu)return!1;if(!Td)return!!gn(au,cu);const{left:l,top:d,width:g,height:y}=cu.getMetricsManager().getViewMetrics(!0);if(new ft(d,d+y,l,l+g).contains(Td.x,Td.y))return!!gn(au,cu);const P=new be(l+g/2,d+y/2);return!!gn(au,cu,P)},keyCodes:[e,t,r]})},Mi=function(){const e=mt.registry.createSerializedKey(tt.Z,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.Z,[tt.ALT]),r=mt.registry.createSerializedKey(tt.Z,[tt.META]);mt.registry.register({name:is.UNDO,preconditionFn(l){return!l.options.readOnly&&!sl.inProgress()},callback(l,d){return l.hideChaff(),l.undo(!1),d.preventDefault(),!0},keyCodes:[e,t,r]})},Wl=function(){const e=mt.registry.createSerializedKey(tt.Z,[tt.SHIFT,tt.CTRL]),t=mt.registry.createSerializedKey(tt.Z,[tt.SHIFT,tt.ALT]),r=mt.registry.createSerializedKey(tt.Z,[tt.SHIFT,tt.META]),l=mt.registry.createSerializedKey(tt.Y,[tt.CTRL]);mt.registry.register({name:is.REDO,preconditionFn(d){return!sl.inProgress()&&!d.options.readOnly},callback(d,g){return d.hideChaff(),d.undo(!0),g.preventDefault(),!0},keyCodes:[e,t,r,l]})},Mc=function(){ri(),Ni(),ea(),Nc(),ii(),Mi(),Wl()},zl=function(e){const t=e.saveState();return e.getParameters().length&&(t.parameters=e.getParameters().map(r=>r.saveState())),t},xc=function(e,t,r,l){if(e=e.loadState(r,l),!r.parameters)return e;for(const[d,g]of r.parameters.entries())e.insertParameter(t.loadState(g,l),d);return e},jl=function(e){const t=Object.create(null),r=N(me.SERIALIZER,!0);for(const l in r){let d;const g=(d=r[l])==null?void 0:d.save(e);g&&(t[l]=g)}return t},oi=function(e,t,{recordUndo:r=!1}={}){var l=N(me.SERIALIZER,!0);if(l){l=Object.entries(l).sort((g,y)=>y[1].priority-g[1].priority);var d=re();o.setRecordUndo$$module$build$src$core$events$utils(r),(r=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),Bn(),t instanceof zi&&t.setResizesEnabled(!1);for(const[,g]of l.reverse()){let y;(y=g)==null||y.clear(t)}for(const[g,y]of l.reverse())if(e[g]){let P;(P=y)==null||P.load(e[g],t)}t instanceof zi&&t.setResizesEnabled(!0),Yr(),pe(new(I(te.FINISHED_LOADING))(t)),o.setGroup$$module$build$src$core$events$utils(r),o.setRecordUndo$$module$build$src$core$events$utils(d)}},Xl=function(e,t){let r=null;r=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var l;if(!document.contains(r)&&document!==((l=r)==null?void 0:l.ownerDocument))throw Error("Error: container is not in current document");e=new Gi(t||{}),l=document.createElement("div"),Be(l,"injectionDiv"),t!=null&&t.rtl&&Be(l,"blocklyRTL"),l.tabIndex=0,_n(l,Yt.LABEL,o.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),r.appendChild(l),t=Kl(l,e);const d=zo(l,t,e);return Pc(d),Ue(d),Qe(d),l.addEventListener("focusin",function(){Ue(d)}),Ge(l,"keydown",null,po),Ge(kl(),"keydown",null,po),(t=Rs())&&Ge(t,"keydown",null,po),d},Kl=function(e,t){e.setAttribute("dir","LTR"),ko(t.hasCss,t.pathToMedia),e=le(X.SVG,{xmlns:zs,"xmlns:html":ai,"xmlns:xlink":dr,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const r=le(X.DEFS,{},e),l=String(Math.random()).substring(2);return t.gridPattern=Im.createDom(l,t.gridOptions,r),e},zo=function(e,t,r){r.parentWorkspace=null,r=new zi(r);const l=r.options;r.scale=l.zoomOptions.startScale,t.appendChild(r.createDom("blocklyMainBackground",e));var d=r.getRenderer().getClassName();return d&&Be(e,d),(d=r.getTheme().getClassName())&&Be(e,d),!l.hasCategories&&l.languageTree&&(e=r.addFlyout(X.SVG),we(e,t)),l.hasTrashcan&&r.addTrashcan(),l.zoomOptions&&l.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),r.translate(0,0),r.addChangeListener(Zu(r)),Qe(r),Pu(),rh(),yh(),r},Pc=function(e){const t=e.options;var r=e.getParentSvg();if(Ge(r.parentNode,"contextmenu",null,function(l){Kr(l)||l.preventDefault()}),r=Ge(window,"resize",null,function(){oo(),e.hideComponents(!0),gh(),fc(),Qe(e),Vl(e)}),e.setResizeHandlerWrapper(r),jh(),t.languageTree){r=e.getToolbox();const l=e.getFlyout(!0);r?r.init():l&&(l.init(e),l.show(t.languageTree),typeof l.scrollToStart=="function"&&l.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new Jm(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Bc(t.pathToMedia,e)},po=function(e){const t=Se();t&&!(Kr(e)||t.rendered&&!t.isVisible())&&mt.registry.onKeyDown(t,e)},jh=function(){xT||(Ge(document,"scroll",null,function(){const e=R();for(let t=0,r;r=e[t];t++)r instanceof zi&&r.updateInverseScreenCTM()}),st(document,"touchend",null,wn),st(document,"touchcancel",null,wn)),xT=!0},Bc=function(e,t){function r(){for(;d.length;){const g=d.pop();g&&it(g)}l.preload()}const l=t.getAudioManager();l.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),l.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),l.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const d=[];d.push(Ge(document,"pointermove",null,r,!0)),d.push(Ge(document,"touchstart",null,r,!0))},xt=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:F.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Yl=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:F.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},ta=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:F.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},na=function(e,t){function r(g){d--,g.setCollapsed(e),d===0&&o.setGroup$$module$build$src$core$events$utils(!1)}let l=0,d=0;o.setGroup$$module$build$src$core$events$utils(!0);for(let g=0;g<t.length;g++){let y=t[g];for(;y;)d++,setTimeout(r.bind(null,y),l),y=y.getNextBlock(),l+=10}},Jl=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let r=e[t];for(;r;){if(!r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){na(!0,e.workspace.getTopBlocks(!0))},scopeType:F.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},ra=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let r=e[t];for(;r;){if(r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){na(!1,e.workspace.getTopBlocks(!0))},scopeType:F.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},fo=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let r=0;r<e.length;r++)fo(e[r],t)}},Lt=function(e){const t=[];e=e.getTopBlocks(!0);for(let r=0;r<e.length;r++)fo(e[r],t);return t},Kt=function(e,t){t?o.setGroup$$module$build$src$core$events$utils(t):(o.setGroup$$module$build$src$core$events$utils(!0),t=o.getGroup$$module$build$src$core$events$utils());const r=e.shift();r&&(r.isDeadOrDying()?Kt(e,t):(r.dispose(!1,!0),setTimeout(Kt,10,e,t))),o.setGroup$$module$build$src$core$events$utils(!1)},an=function(){F.registry.register({displayText(e){return e.workspace?(e=Lt(e.workspace).length,e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<Lt(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=Lt(e.workspace);2>t.length?Kt(t):ct(o.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(r){r&&Kt(t)})}},scopeType:F.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},ia=function(){xt(),Yl(),ta(),Jl(),ra(),an()},Bs=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&gn(t,e.block.workspace)}},scopeType:F.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Fs=function(){F.registry.register({displayText(e){return e.block.hasIcon(al.TYPE)?o.Msg$$module$build$src$core$msg.REMOVE_COMMENT:o.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.hasIcon(al.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:F.ScopeType.BLOCK,id:"blockComment",weight:2})},Xh=function(){F.registry.register({displayText(e){return e.block.getInputsInline()?o.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:o.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof pg||e.inputList[t]instanceof pg))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:F.ScopeType.BLOCK,id:"blockInline",weight:3})},Tn=function(){F.registry.register({displayText(e){return e.block.isCollapsed()?o.Msg$$module$build$src$core$msg.EXPAND_BLOCK:o.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:F.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},oa=function(){F.registry.register({displayText(e){return e.block.hasDisabledReason(Nn)?o.Msg$$module$build$src$core$msg.ENABLE_BLOCK:o.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var t=e.getDisabledReasons();return t=t.size>(t.has(Nn)?1:0),e.getInheritedDisabled()||t?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const t=o.getGroup$$module$build$src$core$events$utils();t||o.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(Nn),Nn),o.setGroup$$module$build$src$core$events$utils(t)},scopeType:F.ScopeType.BLOCK,id:"blockDisable",weight:5})},sa=function(){F.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:F.ScopeType.BLOCK,id:"blockDelete",weight:6})},la=function(){F.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:F.ScopeType.BLOCK,id:"blockHelp",weight:7})},Pr=function(){F.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isDeletable()?"enabled":"hidden"},callback(e){o.setGroup$$module$build$src$core$events$utils(!0);let t;(t=e.comment)==null||t.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)},scopeType:F.ScopeType.COMMENT,id:"commentDelete",weight:6})},cr=function(){F.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var t=e.comment.toCopyData();t&&gn(t,e.comment.workspace)}},scopeType:F.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},Us=function(){F.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:()=>"enabled",callback:(e,t)=>{if(e=e.workspace){o.setGroup$$module$build$src$core$events$utils(!0);var r=new ot(e);r.setText(o.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),r.moveTo(Fc(new be(t.clientX,t.clientY),e)),o.setSelected$$module$build$src$core$common(r),o.setGroup$$module$build$src$core$events$utils(!1)}},scopeType:F.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},Fc=function(e,t){var r=t.getInjectionDiv().getBoundingClientRect();return e=new be(e.x-r.left,e.y-r.top),r=t.getOriginOffsetInPixels(),e=be.difference(e,r),e.scale(1/t.scale),e},Uc=function(){Bs(),Fs(),Xh(),Tn(),oa(),sa(),la()},Kh=function(){cr(),Pr(),Us()},Hc=function(){ia(),Uc()},Yh=function(e){return e.paste!==void 0},Jh=function(e){return e.getSvgRoot!==void 0},qh=function(e){return typeof e.id=="string"&&e.workspace!==void 0&&e.select!==void 0&&e.unselect!==void 0},Qh=function(e){return e.isSelectable()},Zh=function(e){Se().hideChaff(e)},fe=fe||{},fe.scope={},fe.ASSUME_ES5=!1,fe.ASSUME_NO_NATIVE_MAP=!1,fe.ASSUME_NO_NATIVE_SET=!1,fe.SIMPLE_FROUND_POLYFILL=!1,fe.ISOLATE_POLYFILLS=!1,fe.FORCE_POLYFILL_PROMISE=!1,fe.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,fe.defineProperty=fe.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},fe.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof RE=="object"&&RE];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},fe.global=fe.getGlobal(this),fe.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",fe.TRUST_ES6_POLYFILLS=!fe.ISOLATE_POLYFILLS||fe.IS_SYMBOL_NATIVE,fe.polyfills={},fe.propertyToPolyfillSymbol={},fe.POLYFILL_PREFIX="$jscp$",fe.polyfill=function(e,t,r,l){t&&(fe.ISOLATE_POLYFILLS?fe.polyfillIsolated(e,t,r,l):fe.polyfillUnisolated(e,t,r,l))},fe.polyfillUnisolated=function(e,t,r,l){for(r=fe.global,e=e.split("."),l=0;l<e.length-1;l++){var d=e[l];if(!(d in r))return;r=r[d]}e=e[e.length-1],l=r[e],t=t(l),t!=l&&t!=null&&fe.defineProperty(r,e,{configurable:!0,writable:!0,value:t})},fe.polyfillIsolated=function(e,t,r,l){var d=e.split(".");e=d.length===1,l=d[0],l=!e&&l in fe.polyfills?fe.polyfills:fe.global;for(var g=0;g<d.length-1;g++){var y=d[g];if(!(y in l))return;l=l[y]}d=d[d.length-1],r=fe.IS_SYMBOL_NATIVE&&r==="es6"?l[d]:null,t=t(r),t!=null&&(e?fe.defineProperty(fe.polyfills,d,{configurable:!0,writable:!0,value:t}):t!==r&&(fe.propertyToPolyfillSymbol[d]===void 0&&(r=1e9*Math.random()>>>0,fe.propertyToPolyfillSymbol[d]=fe.IS_SYMBOL_NATIVE?fe.global.Symbol(d):fe.POLYFILL_PREFIX+r+"$"+d),fe.defineProperty(l,fe.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:t})))},fe.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},fe.setPrototypeOf=fe.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:fe.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,fe.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},fe.arrayIterator=function(e){return{next:fe.arrayIteratorImpl(e)}},fe.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return fe.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},fe.generator={},fe.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},fe.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},fe.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},fe.generator.Context.prototype.stop_=function(){this.isRunning_=!1},fe.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},fe.generator.Context.prototype.next_=function(e){this.yieldResult=e},fe.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},fe.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},fe.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},fe.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},fe.generator.Context.prototype.yieldAll=function(e,t){e=fe.makeIterator(e);var r=e.next();if(fe.generator.ensureIteratorResultIsObject_(r),r.done)this.yieldResult=r.value,this.nextAddress=t;else return this.yieldAllIterator_=e,this.yield(r.value,t)},fe.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},fe.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},fe.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},fe.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},fe.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},fe.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},fe.generator.Context.prototype.enterFinallyBlock=function(e,t,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},fe.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();t.jumpTo!=null&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},fe.generator.Context.prototype.forIn=function(e){return new fe.generator.Context.PropertyIterator(e)},fe.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},fe.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},fe.generator.Engine_=function(e){this.context_=new fe.generator.Context,this.program_=e},fe.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},fe.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(r){return{value:r,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},fe.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},fe.generator.Engine_.prototype.yieldAllStep_=function(e,t,r){try{var l=e.call(this.context_.yieldAllIterator_,t);if(fe.generator.ensureIteratorResultIsObject_(l),!l.done)return this.context_.stop_(),l;var d=l.value}catch(g){return this.context_.yieldAllIterator_=null,this.context_.throw_(g),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,d),this.nextStep_()},fe.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},fe.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},fe.generator.createGenerator=function(e,t){return t=new fe.generator.Generator_(new fe.generator.Engine_(t)),fe.setPrototypeOf&&e.prototype&&fe.setPrototypeOf(t,e.prototype),t},fe.asyncExecutePromiseGenerator=function(e){function t(l){return e.next(l)}function r(l){return e.throw(l)}return new Promise(function(l,d){function g(y){y.done?l(y.value):Promise.resolve(y.value).then(t,r).then(g,d)}g(e.next())})},fe.asyncExecutePromiseGeneratorFunction=function(e){return fe.asyncExecutePromiseGenerator(e())},fe.asyncExecutePromiseGeneratorProgram=function(e){return fe.asyncExecutePromiseGenerator(new fe.generator.Generator_(new fe.generator.Engine_(e)))},fe.polyfill("globalThis",function(e){return e||fe.global},"es_2020","es3"),fe.polyfill("Array.prototype.includes",function(e){return e||function(t,r){var l=this;l instanceof String&&(l=String(l));var d=l.length;for(r=r||0,0>r&&(r=Math.max(r+d,0));r<d;r++){var g=l[r];if(g===t||Object.is(g,t))return!0}return!1}},"es7","es3"),fe.initSymbol=function(){},fe.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},fe.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var r=0,l=!1,d={next:function(){if(!l&&r<e.length){var g=r++;return{value:t(g,e[g]),done:!1}}return l=!0,{done:!0,value:void 0}}};return d[Symbol.iterator]=function(){return d},d},fe.polyfill("Array.prototype.values",function(e){return e||function(){return fe.iteratorFromArray(this,function(t,r){return r})}},"es8","es3"),fe.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var r=[];return Array.prototype.forEach.call(this,function(l){Array.isArray(l)&&0<t?(l=Array.prototype.flat.call(l,t-1),r.push.apply(r,l)):r.push(l)}),r}},"es9","es5"),fe.polyfill("Array.prototype.flatMap",function(e){return e||function(t,r){var l=[];return Array.prototype.forEach.call(this,function(d,g){d=t.call(r,d,g,this),Array.isArray(d)?l.push.apply(l,d):l.push(d)}),l}},"es9","es5"),fe.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},fe.polyfill("Object.entries",function(e){return e||function(t){var r=[],l;for(l in t)fe.owns(t,l)&&r.push([l,t[l]]);return r}},"es8","es3"),fe.polyfill("Object.values",function(e){return e||function(t){var r=[],l;for(l in t)fe.owns(t,l)&&r.push(t[l]);return r}},"es8","es3");var Br=Object.create(null),Mf={typeMap:Br},Hs=Object.create(null),Er="default",me=class{constructor(e){this.name=e}toString(){return this.name}};me.CONNECTION_CHECKER=new me("connectionChecker"),me.CONNECTION_PREVIEWER=new me("connectionPreviewer"),me.CURSOR=new me("cursor"),me.EVENT=new me("event"),me.FIELD=new me("field"),me.INPUT=new me("input"),me.RENDERER=new me("renderer"),me.TOOLBOX=new me("toolbox"),me.THEME=new me("theme"),me.TOOLBOX_ITEM=new me("toolboxItem"),me.FLYOUTS_VERTICAL_TOOLBOX=new me("flyoutsVerticalToolbox"),me.FLYOUTS_HORIZONTAL_TOOLBOX=new me("flyoutsHorizontalToolbox"),me.METRICS_MANAGER=new me("metricsManager"),me.BLOCK_DRAGGER=new me("blockDragger"),me.SERIALIZER=new me("serializer"),me.ICON=new me("icon"),me.PASTER=new me("paster");var si={DEFAULT:Er,TEST_ONLY:Mf};si.Type=me,si.getAllItems=N,si.getClass=v,si.getClassFromOptions=w,si.getObject=C,si.hasItem=E,si.register=a,si.unregister=m;var Qn=Object.create(null),te;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(te||(te={}));var ep=[te.BLOCK_CREATE,te.BLOCK_MOVE,te.COMMENT_CREATE,te.COMMENT_MOVE],tp=new Set,Vc={};Vc.warn=k;var np="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",rp={genUid:()=>{const e=np.length,t=[];for(let r=0;20>r;r++)t[r]=np.charAt(Math.random()*e);return t.join("")}},xf=0,ip={TEST_ONLY:rp};ip.genUid=x,ip.getNextUniqueId=H;var op="",ua=!0,sp=0,Gc="ORPHANED_BLOCK",xi=[],lp={FIRE_QUEUE:xi,enqueueEvent:ve,fireNow:L,fireInternal:Fe,setGroupInternal:Ve};o.disable$$module$build$src$core$events$utils,o.enable$$module$build$src$core$events$utils,o.getGroup$$module$build$src$core$events$utils,o.setGroup$$module$build$src$core$events$utils,o.setRecordUndo$$module$build$src$core$events$utils;var jo=Object.create(null),Pf,Vs=null,Bf,Zn=[],Wc={defineBlocksWithJsonArrayInternal:rr},cn={TEST_ONLY:Wc};cn.createBlockDefinitionsFromJsonArray=o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,cn.defineBlocks=o.defineBlocks$$module$build$src$core$common,cn.defineBlocksWithJsonArray=yt,cn.draggingConnections=Zn,cn.getAllWorkspaces=R,cn.getBlockTypeCounts=$t,cn.getMainWorkspace=Se,cn.getParentContainer=Ie,cn.getSelected=Oe,cn.getWorkspaceById=Y,cn.registerWorkspace=Q,cn.setMainWorkspace=Ue,cn.setParentContainer=qe,cn.setSelected=o.setSelected$$module$build$src$core$common,cn.svgResize=Qe,cn.unregisterWorkpace=Re;var Gs=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=re()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,r){return r.isBlank=!1,r.group=e.group||"",r.workspaceId=t.id,r}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=Y(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},Fr=class extends Gs{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},zc=class extends Fr{constructor(e,t,r){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=te.CLICK,this.blockId=e?e.id:void 0,this.targetType=r}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new zc),t.targetType=e.targetType,t.blockId=e.blockId,t}},aa;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(aa||(aa={})),a(me.EVENT,te.CLICK,zc);var ql=750,jc="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Ql=null,Ws={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},ca=0,Xo={TOUCH_ENABLED:jc,TOUCH_MAP:Ws};Xo.checkTouchIdentifier=eo,Xo.clearTouchIdentifier=Qt,Xo.getTouchIdentifierFromEvent=pr,Xo.longStart=Zi,Xo.longStop=wn,Xo.shouldHandleEvent=Xr;var Xc,up,ap,Ff,An,En,Kc,cp,dp,hp;(function(e){function t(l){return r.includes(l.toUpperCase())}Xc=e;const r=Xc.toUpperCase();up=t("JavaFX"),ap=t("WebKit"),Ff=t("Gecko")&&!ap,An=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,En=t("iPad")||t("Macintosh")&&0<e,Kc=t("iPhone")&&!En,cp=t("Macintosh"),dp=En||An&&!t("Mobile")||t("Silk"),hp=!dp&&(Kc||An)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var Uf=Xc,Yc=up,pp=Ff,da=An,ha=En,fp=Kc,pa=cp,Jc=hp,Hf={ANDROID:da,GECKO:pp,IPAD:ha,IPHONE:fp,JavaFx:Yc,MAC:pa,MOBILE:Jc,raw:Uf},qc=40,fa=125,go={};go.bind=st,go.conditionalBind=Ge,go.getScrollDeltaPixels=Rr,go.isRightButton=kn,go.isTargetInput=Kr,go.mouseToSvg=$n,go.unbind=it;var gp={};gp.removeElem=zt;var li=class{constructor(e){this.name=e}toString(){return this.name}};li.POSITIONABLE=new li("positionable"),li.DRAG_TARGET=new li("drag_target"),li.DELETE_AREA=new li("delete_area"),li.AUTOHIDEABLE=new li("autohideable");var At=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const r=e.component.id;if(!t&&this.componentData.has(r)){var l;throw Error('Plugin "'+r+'" with capabilities "'+((l=this.componentData.get(r))==null?void 0:l.capabilities)+'" already added.')}for(this.componentData.set(r,e),t=[],l=0;l<e.capabilities.length;l++){const d=String(e.capabilities[l]).toLowerCase();if(t.push(d),this.capabilityToComponentIds.has(d)){let g;(g=this.capabilityToComponentIds.get(d))==null||g.push(r)}else this.capabilityToComponentIds.set(d,[r])}this.componentData.get(r).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let r=0;r<t.capabilities.length;r++){const l=String(t.capabilities[r]).toLowerCase();zt(this.capabilityToComponentIds.get(l),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var r;(r=this.componentData.get(e))==null||r.capabilities.push(t);var l;(l=this.capabilityToComponentIds.get(t))==null||l.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),zt(this.componentData.get(e).capabilities,t),zt(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(t)}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const r=[];if(t){const l=[];e.forEach(d=>{l.push(this.componentData.get(d))}),l.sort(function(d,g){return d.weight-g.weight}),l.forEach(function(d){r.push(d.component)})}else e.forEach(l=>{r.push(this.componentData.get(l).component)});return r}};At.Capability=li,function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"}(At),At.ComponentWeight;var Zl=!1,ui=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}
`,mp={};mp.inject=ko,mp.register=Pn;var be=class{constructor(e,t){this.x=e,this.y=t}clone(){return new be(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const r=e.x-t.x;return e=e.y-t.y,Math.sqrt(r*r+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new be(e.x-t.x,e.y-t.y)}static sum(e,t){return new be(e.x+t.x,e.y+t.y)}},zs="http://www.w3.org/2000/svg",ai="http://www.w3.org/1999/xhtml",dr="http://www.w3.org/1999/xlink",br;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(br||(br={}));var Dt=null,$p=0,Qc=null,ln={HTML_NS:ai};ln.NodeType=br,ln.SVG_NS=zs,ln.XLINK_NS=dr,ln.addClass=Be,ln.createSvgElement=le,ln.getFastTextWidth=Lr,ln.getFastTextWidthWithSizeString=Jr,ln.getTextWidth=to,ln.hasClass=W,ln.insertAfter=we,ln.measureFontMetrics=gs,ln.removeClass=S,ln.removeClasses=_,ln.removeNode=z,ln.setCssTransform=_t,ln.startTextWidthCache=Bn,ln.stopTextWidthCache=Yr;var X=class{constructor(e){this.tagName=e}toString(){return this.tagName}};X.ANIMATE=new X("animate"),X.CIRCLE=new X("circle"),X.CLIPPATH=new X("clipPath"),X.DEFS=new X("defs"),X.FECOMPOSITE=new X("feComposite"),X.FECOMPONENTTRANSFER=new X("feComponentTransfer"),X.FEFLOOD=new X("feFlood"),X.FEFUNCA=new X("feFuncA"),X.FEGAUSSIANBLUR=new X("feGaussianBlur"),X.FEPOINTLIGHT=new X("fePointLight"),X.FESPECULARLIGHTING=new X("feSpecularLighting"),X.FILTER=new X("filter"),X.FOREIGNOBJECT=new X("foreignObject"),X.G=new X("g"),X.IMAGE=new X("image"),X.LINE=new X("line"),X.PATH=new X("path"),X.PATTERN=new X("pattern"),X.POLYGON=new X("polygon"),X.RECT=new X("rect"),X.SVG=new X("svg"),X.TEXT=new X("text"),X.TSPAN=new X("tspan");var ft=class{constructor(e,t,r,l){this.top=e,this.bottom=t,this.left=r,this.right=l}clone(){return new ft(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,t){return e===t?!0:e&&t?e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right:!1}static createFromPoint(e,t,r){const l=e.x;return e=e.y,new ft(e,e+r,l,l+t)}},Ee=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}static max(e,t){return new Ee(Math.max(e.width,t.width),Math.max(e.height,t.height))}static min(e,t){return new Ee(Math.min(e.width,t.width),Math.min(e.height,t.height))}},js={getSizeInternal:ms},Pi={TEST_ONLY:js};Pi.getBorderBox=no,Pi.getComputedStyle=Fn,Pi.getContainerOffsetToScrollInto=ro,Pi.getPageOffset=ir,Pi.getSize=Oo,Pi.getViewportPageOffset=Tl,Pi.scrollIntoContainerView=El;var _p=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Vf=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,ga={XY_REGEX:_p,XY_STYLE_REGEX:Vf},Bi={TEST_ONLY:ga};Bi.getDocumentScroll=Ht,Bi.getInjectionDivXY=ht,Bi.getRelativeXY=pt,Bi.getViewportBBox=fn,Bi.screenToWsCoordinates=fr,Bi.wsToScreenCoordinates=or;var Vt=class{constructor(e,t,r,l,d){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new be(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new be(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=r||!1,this.margin=d!==void 0?d:Vt.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),l&&(e+=" "+l),this.outerSvg=le(X.SVG,{class:e}),l=le(X.G,{},this.outerSvg),this.svgBackground=le(X.RECT,{class:"blocklyScrollbarBackground"},l),e=Math.floor((Vt.scrollbarThickness-5)/2),this.svgHandle=le(X.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},l),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),we(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=Ge(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=Ge(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Vt.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),it(this.onMouseDownBarWrapper_),it(this.onMouseDownHandleWrapper_),z(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,_t(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Vt.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=Vt.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Vt.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Vt.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var r=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=Vt.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Vt.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var r=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),Qt(),this.cleanUp(),kn(e))e.stopPropagation();else{var t=$n(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var r=ht(this.svgHandle);r=this.horizontal?r.x:r.y;var l=this.handlePosition,d=.95*this.handleLength;t<=r?l-=d:t>=r+this.handleLength&&(l+=d),this.setHandlePosition(this.constrainHandlePosition(l)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),kn(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=Ge(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=Ge(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){Qt(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(it(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(it(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new be(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Vt.scrollbarThickness=jc?25:15,Vt.DEFAULT_SCROLLBAR_MARGIN=.5;var ma={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},Zc={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:$a,DOMParser:Xs,XMLSerializer:Ks}=globalThis;Xs&&(ma=new Xs),Ks&&(Zc=new Ks);var bn="https://developers.google.com/blockly/xml",ci=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,yr={NAME_SPACE:bn};yr.createElement=o.createElement$$module$build$src$core$utils$xml,yr.createTextNode=o.createTextNode$$module$build$src$core$utils$xml,yr.domToText=bl,yr.injectDependencies=Wa,yr.textToDom=o.textToDom$$module$build$src$core$utils$xml;var ed="categoryToolbox",Tp="flyoutToolbox",Ke;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Ke||(Ke={}));var Ep={hasCategoriesInternal:Wd},Dn={};Dn.Position=Ke,Dn.TEST_ONLY=Ep,Dn.convertFlyoutDefToJsonArray=$u,Dn.convertToolboxDefToJson=mu,Dn.hasCategories=_u,Dn.isCategoryCollapsible=Tu,Dn.parseToolboxTree=jt;var mo;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(mo||(mo={}));var Ys;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Ys||(Ys={}));var $o;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})($o||($o={}));var Ko={};Ko.bumpDirection=$o,Ko.bumpPositionRect=Eu,Ko.getCornerOppositeToolbox=yl,Ko.getStartPositionRect=ja,Ko.horizontalPosition=Ys,Ko.verticalPosition=mo;var Hn={width:96,height:124,url:"sprites.png"},Gf=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=le(X.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[At.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&z(this.svgGroup);for(const e of this.boundEvents)it(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new ft(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var r=yl(this.workspace,e),l=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(l+=this.LARGE_SPACING+this.HEIGHT),e=ja(r,new Ee(this.WIDTH,l),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,t=Eu(e,this.MARGIN_VERTICAL,r===mo.TOP?$o.DOWN:$o.UP,t),r===mo.TOP){var d=this.SMALL_SPACING+this.HEIGHT,g;(g=this.zoomInGroup)==null||g.setAttribute("transform","translate(0, "+d+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(d+this.LARGE_SPACING+this.HEIGHT)+")")}else{g=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let P;(P=this.zoomInGroup)==null||P.setAttribute("transform","translate(0, "+g+")"),g=g+this.SMALL_SPACING+this.HEIGHT,(d=this.zoomOutGroup)==null||d.setAttribute("transform","translate(0, "+g+")")}this.top=t.top,this.left=t.left;var y;(y=this.svgGroup)==null||y.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=le(X.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=le(X.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);le(X.RECT,{width:32,height:32},t),le(X.IMAGE,{width:Hn.width,height:Hn.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),this.boundEvents.push(Ge(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=le(X.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=le(X.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);le(X.RECT,{width:32,height:32},t),le(X.IMAGE,{width:Hn.width,height:Hn.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),this.boundEvents.push(Ge(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),Qt(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=le(X.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=le(X.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);le(X.RECT,{width:32,height:32},t),le(X.IMAGE,{width:Hn.width,height:Hn.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),this.boundEvents.push(Ge(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),Qt(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(I(te.CLICK))(null,this.workspace.id,"zoom_controls");pe(e)}};Pn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var _a=100,td=75,vr=50,lt=25,yn={BLOCKS:vr,PROCEDURES:td,VARIABLES:_a,WORKSPACE_COMMENTS:lt},tn={};tn.register=Lo,tn.unregister=_f;var vn=class{constructor(){this.priority=lt}save(e){const t=[];for(const r of e.getTopComments())(e=$s(r,{addCoordinates:!0,saveIds:!0}))&&t.push(e);return t.length?t:null}load(e,t){for(const r of e)Ao(r,t,{recordUndo:re()})}clear(e){for(const t of e.getTopComments())t.dispose()}};Lo("workspaceComments",new vn);var Vn={};Vn.WorkspaceCommentSerializer=vn,Vn.append=Ao,Vn.save=$s;var Yo={};Yo.register=gr,Yo.unregister=Tf;var nn=class{paste(e,t,r){e=e.commentState,r&&(e.x=r.x,e.y=r.y),o.disable$$module$build$src$core$events$utils();let l;try{l=Ao(e,t),Ar(l)}finally{o.enable$$module$build$src$core$events$utils()}return l?(Le()&&pe(new(I(te.COMMENT_CREATE))(l)),o.setSelected$$module$build$src$core$common(l),l):null}};nn.TYPE="workspace-comment",gr(nn.TYPE,new nn);var Js;Js=28,o.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Js,connectingSnapRadius:Js,currentConnectionPreference:8,bumpDelay:250},o.config$$module$build$src$core$config;var qs="aria-",nd="role",Sr;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(Sr||(Sr={}));var Yt;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(Yt||(Yt={}));var Sn={};Sn.Role=Sr,Sn.State=Yt,Sn.setRole=Do,Sn.setState=_n;var Ta=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&Do(t,this.roleName),this.element=t;for(let r=0,l;l=this.menuItems[r];r++)t.appendChild(l.createDom());return this.mouseOverHandler=Ge(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=Ge(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=Ge(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=Ge(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=Ge(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),Be(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),S(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(it(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(it(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(it(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(it(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(it(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){for(let r=0,l;l=this.menuItems[r];r++)if(l.getElement()===e)return l}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;if(t&&(t.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,(t=this.getElement())&&_n(t,Yt.ACTIVEDESCENDANT,e.getId());let r;(r=e.getElement())==null||r.scrollIntoView({block:"nearest",inline:"start"})}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let r;for(;r=this.menuItems[e];){if(r.isEnabled()){this.setHighlighted(r);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const r=new be(e.clientX,e.clientY);if(1>be.distance(t,r))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=Oo(e);return t.height=e.scrollHeight,t}},Jo=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=H(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(r)}return r=this.content,typeof this.content=="string"&&(r=document.createTextNode(this.content)),t.appendChild(r),e.appendChild(t),this.roleName&&Do(e,this.roleName),_n(e,Yt.SELECTED,this.checkable&&this.checked||!1),_n(e,Yt.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(Be(t,"blocklyMenuItemHighlight"),Be(t,"goog-menuitem-highlight")):(S(t,"blocklyMenuItemHighlight"),S(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},Ir="_TEMP_COLLAPSED_INPUT",Qs="_TEMP_COLLAPSED_FIELD",Nn="MANUALLY_DISABLED",qo={COLLAPSED_FIELD_NAME:Qs,COLLAPSED_INPUT_NAME:Ir,MANUALLY_DISABLED:Nn};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(o.inputTypes$$module$build$src$core$inputs$input_types||(o.inputTypes$$module$build$src$core$inputs$input_types={})),o.inputTypes$$module$build$src$core$inputs$input_types;var Zs=new Set,Fi=new WeakSet,eu=new WeakMap,Ui=null,Ea=null,ba=0,el={};el.finishQueuedRenders=jn,el.queueRender=vl,el.triggerQueuedRenders=Dr;var Gn=function(e,t){window.alert(e),t&&t()},_o=function(e,t){t(window.confirm(e))},Ur=function(e,t,r){r(window.prompt(e,t))},er={confirmInternal:Kd},Qo={TEST_ONLY:er};Qo.alert=bu,Qo.confirm=ct,Qo.prompt=Il,Qo.setAlert=Ya,Qo.setConfirm=Yd,Qo.setPrompt=Jd;var ya,rd;o.Msg$$module$build$src$core$msg=Object.create(null),ya=function(e){Object.keys(e).forEach(function(t){o.Msg$$module$build$src$core$msg[t]=e[t]})},rd={Msg:o.Msg$$module$build$src$core$msg,setLocale:ya};var va=class extends Gs{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new va),t.varId=e.varId,t}},Hi=class extends va{constructor(e){super(e),this.type=te.VAR_CREATE,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Hi),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};a(me.EVENT,te.VAR_CREATE,Hi);var tu=class{constructor(e,t,r,l){this.workspace=e,this.name=t,this.type=r||"",this.id=l||x()}getId(){return this.id}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},Sa="VARIABLE",To="ijkmnopqrstuvwxyzabcdefgh",id={generateUniqueNameInternal:io},rn={CATEGORY_NAME:Sa,TEST_ONLY:id,VAR_LETTER_OPTIONS:To};rn.allDeveloperVariables=o.allDeveloperVariables$$module$build$src$core$variables,rn.allUsedVarModels=o.allUsedVarModels$$module$build$src$core$variables,rn.createVariableButtonHandler=yi,rn.flyoutCategory=Es,rn.flyoutCategoryBlocks=Ei,rn.generateUniqueName=bi,rn.generateUniqueNameFromOptions=Mo,rn.generateVariableFieldDom=vi,rn.getAddedVariables=vu,rn.getOrCreateVariablePackage=o.getOrCreateVariablePackage$$module$build$src$core$variables,rn.getVariable=o.getVariable$$module$build$src$core$variables,rn.nameUsedWithAnyType=Ja,rn.nameUsedWithConflictingParam=bs,rn.promptName=qr,rn.renameVariable=o.renameVariable$$module$build$src$core$variables;var tl=class extends Error{},bp=class extends tl{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},nl=class extends tl{constructor(e,t,r){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=r}},Ia=class extends tl{constructor(e,t,r,l){super(`The block ${r.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=r,this.childState=l}},Wf=class extends tl{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},zf=class extends tl{constructor(e,t,r){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=r}},Zo={};Zo.BadConnectionCheck=Ia,Zo.DeserializationError=tl,Zo.MissingBlockType=bp,Zo.MissingConnection=nl,Zo.RealChildOfShadow=Wf,Zo.UnregisteredIcon=zf;var yp=class{constructor(){this.priority=vr}save(e){const t=[];for(const r of e.getTopBlocks(!1))(e=On(r,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const r of e)Si(r,t,{recordUndo:re()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Lo("blocks",new yp);var di={};di.BlockSerializer=yp,di.append=Si,di.appendInternal=mr,di.save=On;var dn=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};dn.MUTATOR=new dn("mutator"),dn.WARNING=new dn("warning"),dn.COMMENT=new dn("comment");var Hr=class extends Gs{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Hr),t.blockId=e.blockId,t}},es=class extends Hr{constructor(e,t,r,l,d){super(e),this.type=te.BLOCK_CHANGE,e&&(this.element=t,this.name=r||void 0,this.oldValue=l,this.newValue=d)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new es),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,e.disabledReason!==void 0&&(t.disabledReason=e.disabledReason),t}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const r=t.getIcon(dn.MUTATOR);switch(r&&xo(r)&&r.bubbleIsVisible()&&r.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":var l;t.setDisabledReason(!!e,(l=this.disabledReason)!=null?l:Nn);break;case"inline":t.setInputsInline(!!e);break;case"mutation":l=es.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(o.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),pe(new es(t,"mutation",null,l,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Xn(e):""}};a(me.EVENT,te.BLOCK_CHANGE,es);var Pt={};Pt.clamp=Ss,Pt.toDegrees=Lu,Pt.toRadians=Po;var od=16,vp=1,jf=12,Sp=16,Ca=.25,sd=null,rl=null,Mn="",ts="",ut,Cr,Vi,Eo=null,hi=null,ld=null,wa={getBoundsInfo:function(){const e=ir(Eo),t=Oo(Eo);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,r,l){const d=wa.getBoundsInfo(),g=Oo(ut);return t+g.height<d.bottom?dh(e,t,d,g):l-g.height>d.top?hh(r,l,d,g):t+g.height<document.documentElement.clientHeight?dh(e,t,d,g):l-g.height>document.documentElement.clientTop?hh(r,l,d,g):nc(e,d,g)}},Wn={ANIMATION_TIME:Ca,ARROW_HORIZONTAL_PADDING:jf,ARROW_SIZE:od,BORDER_SIZE:vp,PADDING_Y:Sp,TEST_ONLY:wa};Wn.clearContent=ec,Wn.createDom=rh,Wn.getContentDiv=kl,Wn.getOwner=oh,Wn.getPositionX=Au,Wn.hide=Du,Wn.hideIfOwner=rc,Wn.hideWithoutAnimation=Ii,Wn.isVisible=ph,Wn.repositionForWindowResize=gh,Wn.setBoundsElement=ih,Wn.setColour=sh,Wn.show=ch,Wn.showPositionedByBlock=Cf,Wn.showPositionedByField=lh;var il=class{constructor(e){this.workspace=e,this.cursorSvg=this.cursor=null,this.markers=new Map,this.markerSvg=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor&&this.cursor.getDrawer()&&this.cursor.getDrawer().dispose(),(this.cursor=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor),this.cursor.setDrawer(e),this.setCursorSvg(this.cursor.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t=0,r;r=e[t];t++)this.unregisterMarker(r);this.markers.clear(),this.cursor&&(this.cursor.dispose(),this.cursor=null)}};il.LOCAL_MARKER="local_marker_1";var nu={};nu.commonWordPrefix=mh,nu.commonWordSuffix=$h,nu.isNumber=o.isNumber$$module$build$src$core$utils$string,nu.shortestStringLength=Nu,nu.wrap=o.wrap$$module$build$src$core$utils$string;var ka=void 0,ru=!1,bo=!1,Oa=50,Ip=0,yo=0,ud=0,Ra=0,tr=null,ol=null,iu=0,ad=10,Xf=10,La=750,cd=5,Gt=null,wr={HOVER_MS:La,LIMIT:Oa,MARGINS:cd,OFFSET_X:iu,OFFSET_Y:ad,RADIUS_OK:Xf};wr.bindMouseEvents=Rl,wr.block=Ll,wr.createDom=yh,wr.dispose=ks,wr.getCustomTooltip=Th,wr.getDiv=bh,wr.getTooltipOfObject=Cs,wr.hide=oo,wr.isVisible=Eh,wr.setCustomTooltip=_h,wr.unbindMouseEvents=ic,wr.unblock=Ih;var ou=.45,i=.65,s={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},c={};c.blend=Qr,c.getHsvSaturation=lc,c.getHsvValue=Oh,c.hexToRgb=uc,c.hsvToHex=lr,c.hueToHex=ac,c.names=s,c.parse=Os,c.rgbToHex=Mu,c.setHsvSaturation=kh,c.setHsvValue=Of;var p={};p.checkMessageReferences=dc,p.parseBlockColour=Al,p.replaceMessageReferences=Xt,p.tokenizeInterpolation=cc;var f=class{constructor(e,t,r){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg=this.cursorSvg=this.tooltip=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Ee(0,0),e!==f.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(Xt(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=le(X.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=le(X.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=le(X.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Rl(e),this.mouseDownWrapper=Ge(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(f),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(f,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=o.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),bl(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(o.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){rc(this),Ci(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||z(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(Be(e,"blocklyEditableText"),S(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(Be(e,"blocklyNonEditableText"),S(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==f.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let r=2*e,l=t.FIELD_TEXT_HEIGHT,d=0;this.textElement_&&(d=Lr(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),r+=d),this.isFullBlockField()||(l=Math.max(l,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=l,this.size_.width=r,this.positionTextElement_(e,d),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var r=this.getConstants(),l=this.size_.height/2,d;this.textElement_.setAttribute("x",String((d=this.getSourceBlock())!=null&&d.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(r.FIELD_TEXT_BASELINE_CENTER?l:l-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new Ee(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new $;if(this.isFullBlockField()){var r=this.sourceBlock_.getHeightWidth();const l=t.workspace.scale;e=this.getAbsoluteXY_(),t=(r.width+1)*l,r=(r.height+1)*l,pp?(e.x+=1.5*l,e.y+=1.5*l):(e.x-=.5*l,e.y-=.5*l)}else r=this.borderRect_.getBoundingClientRect(),e=ir(this.borderRect_),t=r.width,r=r.height;return new ft(e.y,e.y+r,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,f.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="‏"),e):f.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,t=!0){if(e!==null){var r=o.getGroup$$module$build$src$core$events$utils();r||o.setGroup$$module$build$src$core$events$utils(!0);try{const ce=this.doClassValidation_(e),xe=this.processValidation(e,ce,t);if(!(xe instanceof Error)){var l,d=(l=this.getValidator())==null?void 0:l.call(this,xe),g=this.processValidation(xe,d,t);if(!(g instanceof Error)){var y=this.sourceBlock_;if(!y||!y.disposed){var P=this.getValue();P===g?this.doValueUpdate_(g):(this.doValueUpdate_(g),t&&y&&Le()&&pe(new(I(te.BLOCK_CHANGE))(y,"field",this.name||null,P,g)),this.isDirty_&&this.forceRerender())}}}}finally{o.setGroup$$module$build$src$core$events$utils(r)}}}processValidation(e,t,r){return t===null?(this.doValueInvalid_(e,r),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,t){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return Cs(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return ir(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new $;const r=t.inputList;for(let l=0;l<t.inputList.length;l++){const d=r[l],g=d.fieldRow;for(let y=0;y<g.length;y++)if(g[y]===this){e=d;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg=e}else this.cursorSvg=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg=e}else this.markerSvg=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new $;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg&&e.getMarker(il.LOCAL_MARKER).draw()}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};f.NBSP=" ",f.SKIP_SETUP=Symbol("SKIP_SETUP");var $=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},b=null,M=null,V=null,ie="blocklyWidgetDiv",Te="",ye="",$e,De={};De.createDom=Pu,De.getDiv=Rs,De.hide=Uo,De.hideIfOwner=Ci,De.hideIfOwnerIsInWorkspace=wi,De.isVisible=hc,De.positionWithAnchor=pc,De.repositionForWindowResize=fc,De.show=Fo,De.testOnly_setDiv=Ls;var He=null,ze={},Wt=null,q={};q.callbackFactory=o.callbackFactory$$module$build$src$core$contextmenu,q.dispose=As,q.getCurrentBlock=Ah,q.hide=Uu,q.setCurrentBlock=gc,q.show=Dl;var F=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let t;return(t=this.registeredItems.get(e))!=null?t:null}getContextMenuOptions(e,t){const r=[];for(const d of this.registeredItems.values())if(e===d.scopeType){var l=d.preconditionFn(t);l!=="hidden"&&(l={text:typeof d.displayText=="function"?d.displayText(t):d.displayText,enabled:l==="enabled",callback:d.callback,scope:t,weight:d.weight},r.push(l))}return r.sort(function(d,g){return d.weight-g.weight}),r}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",t.COMMENT="comment",e.registry=new e})(F),F.ScopeType;var Z=50,Ce=100,Xe={BLOCK:Z,BUBBLE:Ce},Ye=class{constructor(e){this.comment=e,this.startLoc=null,this.inGroup=!1,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.options.readOnly}startDrag(){(this.inGroup=!!o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,Z),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0),this.inGroup||o.setGroup$$module$build$src$core$events$utils(!1)}fireDragStartEvent(){const e=new(I(te.COMMENT_DRAG))(this.comment,!0);pe(e)}fireDragEndEvent(){const e=new(I(te.COMMENT_DRAG))(this.comment,!1);pe(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(I(te.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),pe(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},Je=new WeakMap,Ze=class{constructor(e){this.workspace=e,this.size=new Ee(120,100),this.collapsed=!1,this.editable=!0,this.location=new be(0,0),this.text="",this.textChangeListeners=[],this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=le(X.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteIcon:this.deleteIcon,foldoutIcon:this.foldoutIcon,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot,e),{foreignObject:this.foreignObject,textArea:this.textArea}=this.createTextArea(this.svgRoot),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let t;(t=e.getLayerManager())==null||t.append(this,Z),this.setSizeWithoutFiringEvents(this.size),this.moveTo(new be(0,0))}createHighlightRect(e){return le(X.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e,t){e=le(X.G,{class:"blocklyCommentTopbar"},e);const r=le(X.RECT,{class:"blocklyCommentTopbarBackground"},e),l=le(X.IMAGE,{class:"blocklyDeleteIcon",href:`${t.options.pathToMedia}delete-icon.svg`},e);t=le(X.IMAGE,{class:"blocklyFoldoutIcon",href:`${t.options.pathToMedia}foldout-icon.svg`},e);const d=le(X.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),g=document.createTextNode("");return d.appendChild(g),Ge(t,"pointerdown",this,this.onFoldoutDown),Ge(l,"pointerdown",this,this.onDeleteDown),{topBarGroup:e,topBarBackground:r,deleteIcon:l,foldoutIcon:t,textPreview:d,textPreviewNode:g}}createTextArea(e){e=le(X.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"},e);const t=document.createElementNS(ai,"body");t.setAttribute("xmlns",ai),t.className="blocklyMinimalBody";const r=document.createElementNS(ai,"textarea");return Be(r,"blocklyCommentText"),Be(r,"blocklyTextarea"),Be(r,"blocklyText"),t.appendChild(r),e.appendChild(t),Ge(r,"change",this,this.onTextChange),{foreignObject:e,textArea:r}}createResizeHandle(e,t){return e=le(X.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),Ge(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const t=this.topBarBackground.getBBox(),r=this.deleteIcon.getBBox(),l=this.foldoutIcon.getBBox(),d=this.textPreview.getBBox(),g=this.resizeHandle.getBBox();this.size=e=Ee.max(e,this.calcMinSize(t,l,r)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.updateTextAreaSize(e,t),this.updateDeleteIconPosition(e,t,r),this.updateFoldoutIconPosition(t,l),this.updateTextPreviewSize(e,t,d,r,g),this.updateResizeHandlePosition(e,g)}setSize(e){const t=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(t,this.size)}calcMinSize(e,t,r){var l;this.updateTextPreview((l=this.textArea.value)!=null?l:""),l=to(this.textPreview);const d=this.calcFoldoutMargin(e,t),g=this.calcDeleteMargin(e,r);let y=l;return this.foldoutIcon.checkVisibility()?y+=t.width+2*d:l&&(y+=4),this.deleteIcon.checkVisibility()?y+=r.width+2*g:l&&(y+=4),new Ee(y,e.height+20)}calcDeleteMargin(e,t){return(e.height-t.height)/2}calcFoldoutMargin(e,t){return(e.height-t.height)/2}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextAreaSize(e,t){this.foreignObject.setAttribute("height",`${e.height-t.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${t.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}updateDeleteIconPosition(e,t,r){t=this.calcDeleteMargin(t,r),this.deleteIcon.setAttribute("y",`${t}`),this.deleteIcon.setAttribute("x",`${e.width-r.width-t}`)}updateFoldoutIconPosition(e,t){e=this.calcFoldoutMargin(e,t),this.foldoutIcon.setAttribute("y",`${e}`),this.foldoutIcon.setAttribute("x",`${e}`)}updateTextPreviewSize(e,t,r,l,d){const g=(t.height-r.height)/2,y=this.calcDeleteMargin(t,l);t=this.calcFoldoutMargin(t,d),e=e.width-d.width-2*t-l.width-2*y,this.textPreview.setAttribute("x",`${d.width+2*t*(this.workspace.RTL?-1:1)}`),this.textPreview.setAttribute("y",`${g+r.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,t){this.resizeHandle.setAttribute("y",`${e.height-t.height}`),this.resizeHandle.setAttribute("x",`${e.width-t.width}`)}onSizeChange(e,t){for(let r=this.sizeChangeListeners.length-1;0<=r;r--)this.sizeChangeListeners[r](e,t)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),kn(e)||(this.preResizeSize=this.getSize(),Hu(this.workspace,e,new be(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=Ge(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=Ge(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){Qt(),this.resizePointerUpListener&&(it(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(it(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=Vu(this.workspace,e),this.setSizeWithoutFiringEvents(new Ee(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?Be(this.svgRoot,"blocklyCollapsed"):S(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;0<=e;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}onFoldoutDown(e){Qt(),this.bringToFront(),kn(e)||(this.setCollapsed(!this.collapsed),this.workspace.hideChaff()),e.stopPropagation()}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(Be(this.svgRoot,"blocklyEditable"),S(this.svgRoot,"blocklyReadonly"),this.textArea.removeAttribute("readonly")):(S(this.svgRoot,"blocklyEditable"),Be(this.svgRoot,"blocklyReadonly"),this.textArea.setAttribute("readonly","true"))}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}onTextChange(){const e=this.text;this.text=this.textArea.value,this.updateTextPreview(this.text),this.setSize(this.size);for(let t=this.textChangeListeners.length-1;0<=t;t--)this.textChangeListeners[t](e,this.text)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return 12<=e.length?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,t=e.childNodes;t[t.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){Qt(),kn(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,z(this.svgRoot);for(let e=this.disposeListeners.length-1;0<=e;e--)this.disposeListeners[e]();this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}};Pn(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var un=class{constructor(e,t){this.workspace=e,this.text="",this.size=new Ee(120,100),this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new be(0,0),this.disposing=this.disposed=!1,this.id=t&&!e.getCommentById(t)?t:x(),e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){Le()&&pe(new(I(te.COMMENT_CREATE))(this))}fireDeleteEvent(){Le()&&pe(new(I(te.COMMENT_DELETE))(this))}fireChangeEvent(e,t){Le()&&pe(new(I(te.COMMENT_CHANGE))(this,e,t))}fireCollapseEvent(e){Le()&&pe(new(I(te.COMMENT_COLLAPSE))(this,e))}setText(e){const t=this.text;this.text=e,this.fireChangeEvent(t,e)}getText(){return this.text}setSize(e){const t=new(I(te.COMMENT_RESIZE))(this);this.size=e,t.recordCurrentSizeAsNewSize(),pe(t)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}moveTo(e,t){const r=new(I(te.COMMENT_MOVE))(this);t&&r.setReason(t),this.location=e,r.recordNew(),pe(r)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},ot=class extends un{constructor(e,t){super(e,t),this.dragStrategy=new Ye(this),this.workspace=e,this.view=new Ze(e),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.addModelUpdateBindings(),Ge(this.view.getSvgRoot(),"pointerdown",this,this.startGesture),Ge(this.view.getSvgRoot(),"wheel",this,r=>{r.stopPropagation()})}addModelUpdateBindings(){this.view.addTextChangeListener((e,t)=>void super.setText(t)),this.view.addSizeChangeListener((e,t)=>void super.setSize(t)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var t,r;const l=(r=(t=this.view)==null?void 0:t.getSize())!=null?r:this.getSize();return this.workspace.RTL?(t=e.x-l.width,r=e.x):(t=e.x,r=e.x+l.width),new ft(e.y,e.y+l.height,t,r)}moveBy(e,t,r){const l=this.getRelativeToSurfaceXY();e=new be(l.x+e,l.y+t),this.moveTo(e,r)}moveTo(e,t){super.moveTo(e,t),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?Be(this.getSvgRoot(),"blocklyDragging"):S(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0,this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const t=this.workspace.getGesture(e);if(t){t.handleCommentStart(e,this);let r;(r=this.workspace.getLayerManager())==null||r.append(this,Z),o.setSelected$$module$build$src$core$common(this)}}setDeleteStyle(e){e?Be(this.getSvgRoot(),"blocklyDraggingDelete"):S(this.getSvgRoot(),"blocklyDraggingDelete")}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Be(this.getSvgRoot(),"blocklySelected")}unselect(){S(this.getSvgRoot(),"blocklySelected")}toCopyData(){return{paster:nn.TYPE,commentState:$s(this,{addCoordinates:!0})}}showContextMenu(e){const t=F.registry.getContextMenuOptions(F.ScopeType.COMMENT,{comment:this});Dl(e,t,this.workspace.RTL,this.workspace)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}},Jt={};Jt.appendDomToWorkspace=Ph,Jt.blockToDom=Nr,Jt.blockToDomWithXY=lo,Jt.clearWorkspaceAndLoadFromXml=Lf,Jt.deleteNext=Bh,Jt.domToBlock=o.domToBlock$$module$build$src$core$xml,Jt.domToBlockInternal=ki,Jt.domToPrettyText=Mh,Jt.domToText=Xn,Jt.domToVariables=xl,Jt.domToWorkspace=o.domToWorkspace$$module$build$src$core$xml,Jt.loadWorkspaceComment=xh,Jt.saveWorkspaceComment=Ds,Jt.variablesToDom=Nl,Jt.workspaceToDom=Rt;var Cp=class extends Hr{constructor(e){super(e),this.type=te.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=lo(e),this.ids=j(e),this.json=On(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Xn(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Cp),t.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!Yv(t,this.ids))if(e)Si(this.json,t);else for(e=0;e<this.ids.length;e++){const r=this.ids[e],l=t.getBlockById(r);l?l.dispose(!1):r===this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},Yv=function(e,t){return t.map(r=>e.getBlockById(r)).filter(r=>r&&r.isShadow()).length===t.length};a(me.EVENT,te.BLOCK_CREATE,Cp);var vm=class extends Fr{constructor(e,t){super(t),this.type=te.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new vm),t.themeName=e.themeName,t}};a(me.EVENT,te.THEME_CHANGE,vm);var Sm=class extends Fr{constructor(e,t,r,l,d){super(l),this.type=te.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=t,this.scale=r,this.oldScale=d}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Sm),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};a(me.EVENT,te.VIEWPORT_CHANGE,Sm);var Pe;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Pe||(Pe={}));var dd=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const r=this.calculateIndexForYPos(t);if(r>=this.connections.length)return-1;t=e.y;let l=r;for(;0<=l&&this.connections[l].y===t;){if(this.connections[l]===e)return l;l--}for(l=r;l<this.connections.length&&this.connections[l].y===t;){if(this.connections[l]===e)return l;l++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,r=this.connections.length;for(;t<r;){const l=Math.floor((t+r)/2);if(this.connections[l].y<e)t=l+1;else if(this.connections[l].y>e)r=l;else{t=l;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function r(xe){const Bt=d-l[xe].x,Nt=g-l[xe].y;return Math.sqrt(Bt*Bt+Nt*Nt)<=t&&ce.push(l[xe]),Nt<t}const l=this.connections,d=e.x,g=e.y;e=0;let y=l.length-2,P=y;for(;e<P;)l[P].y<g?e=P:y=P,P=Math.floor((e+y)/2);const ce=[];if(y=e=P,l.length){for(;0<=e&&r(e);)e--;do y++;while(y<l.length&&r(y))}return ce}isInYRange(e,t,r){return Math.abs(this.connections[e].y-t)<=r}searchForClosest(e,t,r){if(!this.connections.length)return{connection:null,radius:t};const l=e.y,d=e.x;e.x=d+r.x,e.y=l+r.y;var g=this.calculateIndexForYPos(e.y);r=null;let y=t,P,ce=g-1;for(;0<=ce&&this.isInYRange(ce,e.y,t);)P=this.connections[ce],this.connectionChecker.canConnect(e,P,!0,y)&&(r=P,y=P.distanceFrom(e)),ce--;for(;g<this.connections.length&&this.isInYRange(g,e.y,t);)P=this.connections[g],this.connectionChecker.canConnect(e,P,!0,y)&&(r=P,y=P.distanceFrom(e)),g++;return e.x=d,e.y=l,{connection:r,radius:y}}static init(e){const t=[];return t[Pe.INPUT_VALUE]=new dd(e),t[Pe.OUTPUT_VALUE]=new dd(e),t[Pe.NEXT_STATEMENT]=new dd(e),t[Pe.PREVIOUS_STATEMENT]=new dd(e),t}},Kf=null,wp=null,kp={};kp.connectionUiEffect=Mr,kp.disconnectUiEffect=Gu,kp.disconnectUiStop=Bl,kp.disposeUiEffect=$r;var Y_=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new be(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){Oe()&&Oe().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=be.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},Jv=5,qv=6,sl=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new be(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new be(0,0)}dispose(){Qt(),Ih(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)it(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new be(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(e),wn()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=be.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=be.magnitude(this.currentDragDeltaXY)>(this.flyout?o.config$$module$build$src$core$config.flyoutDragRadius:o.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),o.setSelected$$module$build$src$core$common(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new Y_(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const t=Oe();t&&_r(t)&&t.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(t,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,t){return new(w(me.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,t)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Kr(e)?this.cancel():(this.gestureHasStarted=!0,Bl(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=oh(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,Ll(),kn(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&Zi(e,this),this.mouseDownXY=new be(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(Ge(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(Ge(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(Ge(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&wn())}handleMove(e){this.isDragging()&&Xr(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),wn())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!Xr(e))return;if(this.updateFromEvent(e),wn(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?this.dragger.onDragEnd(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=pr(e);this.cachedPoints.set(t,this.getTouchPoint(e));var r=Array.from(this.cachedPoints.keys());r.length===2&&(t=this.cachedPoints.get(r[0]),r=this.cachedPoints.get(r[1]),this.startDistance=be.distance(t,r),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const t=pr(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),r=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),r=be.distance(r,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=r-this.previousScale,t=0<t?t*Jv:t*qv,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const l=this.startWorkspace_,d=$n(e,l.getParentSvg(),l.getInverseScreenCTM());l.zoom(d.x,d.y,t)}this.previousScale=r,e.preventDefault()}handleTouchEnd(e){e=pr(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new be(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(wn(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment||o.setSelected$$module$build$src$core$common(null),this.doStart(e)}fireWorkspaceClick(e){pe(new(I(te.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}handleCommentStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(t),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.targetBlock.isEnabled()){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours()}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(I(te.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),pe(e)}this.bringBlockToFront(),o.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,Oe()&&Oe().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,o.setSelected$$module$build$src$core$common(this.startBlock),e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,t;return(t=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?t:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=R();for(let t=0,r;r=e[t];t++)if(r.currentGesture_)return!0;return!1}},Im=class{constructor(e,t){this.pattern=e,this.scale=1;let r;this.spacing=(r=t.spacing)!=null?r:0;let l;this.length=(l=t.length)!=null?l:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let d;this.snapToGrid=(d=t.snap)!=null?d:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let r=t-this.length/2,l=t+this.length/2;t*=e,r*=e,l*=e,this.setLineAttributes(this.line1,e,r,l,t,t),this.setLineAttributes(this.line2,e,t,t,r,l)}setLineAttributes(e,t,r,l,d,g){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${r}`),e.setAttribute("y1",`${d}`),e.setAttribute("x2",`${l}`),e.setAttribute("y2",`${g}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}alignXY(e){var t=this.getSpacing();const r=t/2,l=Math.round(Math.round((e.x-r)/t)*t+r);return t=Math.round(Math.round((e.y-r)/t)*t+r),l===e.x&&t===e.y?e:new be(l,t)}static createDom(e,t,r){e=le(X.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},r);let l,d;if(0<((l=t.length)!=null?l:1)&&0<((d=t.spacing)!=null?d:0)){le(X.LINE,{stroke:t.colour},e);let g;(g=t.length)!=null&&g&&le(X.LINE,{stroke:t.colour},e)}else le(X.LINE,{},e);return e}},Qv=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(Z),Be(e,"blocklyBlockCanvas"),e=this.createLayer(Ce),Be(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=le(X.SVG,{class:"blocklyBlockDragSurface",xmlns:zs,"xmlns:html":ai,"xmlns:xlink":dr,version:"1.1"});return e.append(t),le(X.G,{},t)}createAnimationLayer(e){const t=le(X.SVG,{class:"blocklyAnimationLayer",xmlns:zs,"xmlns:html":ai,"xmlns:xlink":dr,version:"1.1"});return e.append(t),le(X.G,{},t)}appendToAnimationLayer(e){let t;const r=(t=this.dragLayer)==null?void 0:t.getAttribute("transform");if(r){let d;(d=this.animationLayer)==null||d.setAttribute("transform",r)}let l;(l=this.animationLayer)==null||l.appendChild(e.getSvgRoot())}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let r;(r=this.dragLayer)==null||r.setAttribute("transform",e);for(const[,l]of this.layers)l.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot())}moveOffDragLayer(e,t){this.append(e,t)}append(e,t){this.layers.has(t)||this.createLayer(t);let r;(r=this.layers.get(t))==null||r.appendChild(e.getSvgRoot())}createLayer(e){const t=this.workspace.getSvgGroup(),r=le(X.G,{});let l=!1;const d=[...this.layers].sort((g,y)=>g[0]-y[0]);for(const[g,y]of d)if(e<g){t.insertBefore(r,y),l=!0;break}return l||t.appendChild(r),this.layers.set(e,r),r}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(Z)}getBubbleLayer(){return this.layers.get(Ce)}},J_={};J_.deepMerge=Tr;var Aa=class{constructor(e,t,r,l){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=l||Object.create(null),this.fontStyle=Object.create(null),a(me.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const r=new Aa(e);let l=t.base;if(l){if(typeof l=="string"){let d;l=(d=C(me.THEME,l))!=null?d:void 0}l instanceof Aa&&(Tr(r,l),r.name=e)}return Tr(r.blockStyles,t.blockStyles),Tr(r.categoryStyles,t.categoryStyles),Tr(r.componentStyles,t.componentStyles),Tr(r.fontStyle,t.fontStyle),t.startHats!==null&&(r.startHats=t.startHats),r}},Zv={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},eS={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},Yf=new Aa("classic",Zv,eS),Gi=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,r=!1;var l=!1,d=!1,g=!1,y=!1,P=!1;const ce=!!e.readOnly;if(!ce){var xe;t=mu((xe=e.toolbox)!=null?xe:null),r=_u(t),l=e.trashcan,l=l===void 0?r:l,d=e.collapse,d=d===void 0?r:d,g=e.comments,g=g===void 0?r:g,y=e.disable,y=y===void 0?r:y,P=e.sounds,P=P===void 0?!0:P}xe=e.maxTrashcanContents,l?xe===void 0&&(xe=32):xe=0;const Bt=!!e.rtl;let Nt=e.horizontalLayout;Nt===void 0&&(Nt=!1);var Wr=e.toolboxPosition!=="end";Wr=Nt?Wr?Ke.TOP:Ke.BOTTOM:Wr===Bt?Ke.RIGHT:Ke.LEFT;let yd=e.css;yd===void 0&&(yd=!0);let Hp="https://blockly-demo.appspot.com/static/media/";e.media&&(Hp=e.media.endsWith("/")?e.media:e.media+"/");const CE=e.oneBasedIndex,AS=e.renderer||"geras",DS=e.plugins||{};let m$=e.modalInputs;m$===void 0&&(m$=!0),this.RTL=Bt,this.oneBasedIndex=CE===void 0?!0:CE,this.collapse=d,this.comments=g,this.disable=y,this.readOnly=ce,this.maxBlocks=e.maxBlocks||1/0;let wE;this.maxInstances=(wE=e.maxInstances)!=null?wE:null,this.modalInputs=m$,this.pathToMedia=Hp,this.hasCategories=r,this.moveOptions=Gi.parseMoveOptions(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=l,this.maxTrashcanContents=xe,this.hasSounds=P,this.hasCss=yd,this.horizontalLayout=Nt,this.languageTree=t,this.gridOptions=Gi.parseGridOptions(e),this.zoomOptions=Gi.parseZoomOptions(e),this.toolboxPosition=Wr,this.theme=Gi.parseThemeOptions(e),this.renderer=AS;let kE;this.rendererOverrides=(kE=e.rendererOverrides)!=null?kE:null;let OE;this.parentWorkspace=(OE=e.parentWorkspace)!=null?OE:null,this.plugins=DS}static parseMoveOptions(e,t){const r=e.move||{},l={};return r.scrollbars===void 0&&e.scrollbars===void 0?l.scrollbars=t:typeof r.scrollbars=="object"?(l.scrollbars={horizontal:!!r.scrollbars.horizontal,vertical:!!r.scrollbars.vertical},l.scrollbars.horizontal&&l.scrollbars.vertical?l.scrollbars=!0:l.scrollbars.horizontal||l.scrollbars.vertical||(l.scrollbars=!1)):l.scrollbars=!!r.scrollbars||!!e.scrollbars,l.wheel=l.scrollbars&&r.wheel!==void 0?!!r.wheel:typeof l.scrollbars=="object",l.drag=l.scrollbars?r.drag===void 0?!0:!!r.drag:!1,l}static parseZoomOptions(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions(e){return e=e.theme||Yf,typeof e=="string"?C(me.THEME,e):e instanceof Aa?e:Aa.defineTheme(e.name||"builtin"+H(),e)}},q_={fromJsonInternal:Sc},Jf={TEST_ONLY:q_};Jf.fromJson=o.fromJson$$module$build$src$core$field_registry,Jf.register=Kn,Jf.unregister=Wu;var Vr=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==f.SKIP_SETUP&&(Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],r&&this.configure_(r),this.setValue(this.selectedOption[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Vr,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=le(X.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&Be(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=le(X.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Vr.ARROW_CHAR+" ":" "+Vr.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=le(X.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(dr,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new $;this.dropdownCreate(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new be(e.clientX,e.clientY):null,ec(),e=this.menu_.render(kl()),Be(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),sh(t,this.sourceBlock_.style.colourTertiary)),lh(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new $;const t=new Ta;t.setRole(Sr.LISTBOX),this.menu_=t;const r=this.getOptions(!1);this.selectedMenuItem=null;for(let d=0;d<r.length;d++){const[g,y]=r[d];if(typeof g=="object"){var l=new Image(g.width,g.height);l.src=g.src,l.alt=g.alt||""}else l=g;l=new Jo(l,y),l.setRole(Sr.OPTION),l.setRightToLeft(e.RTL),l.setCheckable(!0),t.addChild(l),l.setChecked(y===this.value_),y===this.value_&&(this.selectedMenuItem=l),l.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){rc(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,r;r=e[t];t++)r[1]===this.value_&&(this.selectedOption=r)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&typeof e=="object"?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new $;this.imageElement.style.display="",this.imageElement.setAttributeNS(dr,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const r=Number(e.height);e=Number(e.width);var l=!!this.borderRect_;const d=Math.max(l?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,r+Vr.IMAGE_Y_PADDING);l=l?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let g;g=this.svgArrow?this.positionSVGArrow(e+l,d/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Lr(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+g+2*l,this.size_.height=d;let y=0;t.RTL?this.imageElement.setAttribute("x",`${l+g}`):(y=e+g,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${l}`)),this.imageElement.setAttribute("y",String(d/2-r/2)),this.positionTextElement_(y+l,e+g)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();Be(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const r=Lr(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let l=0;this.svgArrow&&(l=this.positionSVGArrow(r+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=r+l+2*t,this.size_.height=e,this.positionTextElement_(t,r)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const r=this.getSourceBlock();if(!r)throw new $;const l=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,d=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,g=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(r.RTL?l:e+d)+","+t+")"),g+d}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let t=!1;const r=e.map(([y,P])=>typeof y=="string"?[Xt(y),P]:(t=!0,[y.alt!==null?Object.assign({},y,{alt:Xt(y.alt)}):Object.assign({},y),P]));if(t||2>e.length)return{options:r};var l=r.map(([y])=>y),d=Nu(l);e=mh(l,d);const g=$h(l,d);return!e&&!g||d<=e+g?{options:r}:(d=e?l[0].substring(0,e-1):void 0,l=g?l[0].substr(1-g):void 0,{options:this.applyTrim(r,e,g),prefix:d,suffix:l})}applyTrim(e,t,r){return e.map(([l,d])=>[l.substring(t,l.length-r),d])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let r=0;r<e.length;r++){const l=e[r];Array.isArray(l)?typeof l[1]!="string"?(t=!0,console.error(`Invalid option[${r}]: Each FieldDropdown option id must be a string. 
          Found ${l[1]} in: ${l}`)):l[0]&&typeof l[0]!="string"&&typeof l[0].src!="string"&&(t=!0,console.error(`Invalid option[${r}]: Each FieldDropdown option must have a string 
          label or image description. Found ${l[0]} in: ${l}`)):(t=!0,console.error(`Invalid option[${r}]: Each FieldDropdown option must be an array.
          Found: ${l}`))}if(t)throw TypeError("Found invalid FieldDropdown options.")}};Vr.CHECKMARK_OVERHANG=25,Vr.MAX_MENU_HEIGHT_VH=.45,Vr.ARROW_CHAR="▾",Vr.IMAGE_Y_OFFSET=5,Vr.IMAGE_Y_PADDING=2*Vr.IMAGE_Y_OFFSET,Kn("field_dropdown",Vr);var Q_=class{constructor(e,t){this.bubble=e,this.workspace=t,this.startLoc=null,this.inGroup=!1}isMovable(){return!0}startDrag(){(this.inGroup=!!o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0),this.inGroup||o.setGroup$$module$build$src$core$events$utils(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Ce),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},pi,Tt=class{constructor(e,t,r){this.workspace=e,this.anchor=t,this.ownerRect=r,this.size=new Ee(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new Q_(this,this.workspace),this.id=H(),this.svgRoot=le(X.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=le(X.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=le(X.PATH,{class:"blocklyBubbleTail"},e),this.background=le(X.RECT,{class:"blocklyDraggable",x:0,y:0,rx:pi.BORDER_WIDTH,ry:pi.BORDER_WIDTH},e),this.contentContainer=le(X.G,{},this.svgRoot),Ge(this.background,"pointerdown",this,this.onMouseDown)}dispose(){z(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,pi.MIN_SIZE),e.height=Math.max(e.height,pi.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this),this.bringToFront(),o.setSelected$$module$build$src$core$common(this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new ft(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),r=this.getOptimalRelativeLeft(t),l=this.getOptimalRelativeTop(t);const d={x:r,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},g={x:-this.size.width-30,y:l};l={x:e.getWidth(),y:l};var y={x:r,y:e.getHeight()};r=e.getWidth()<e.getHeight()?l:y,e=e.getWidth()<e.getHeight()?y:l,l=this.getOverlap(d,t),y=this.getOverlap(g,t);const P=this.getOverlap(r,t);t=this.getOverlap(e,t),t=Math.max(l,y,P,t),l===t?(this.relativeLeft=d.x,this.relativeTop=d.y):y===t?(this.relativeLeft=g.x,this.relativeTop=g.y):P===t?(this.relativeLeft=r.x,this.relativeTop=r.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var r=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(r+this.size.width,t.left+t.width)-Math.max(r,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var r=this.anchor.x-t;r-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):r>e.right&&(t=-(e.right-this.anchor.x))}else{r=t+this.anchor.x;const l=r+this.size.width;r<e.left?t=e.left-this.anchor.x:l>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const r=this.anchor.y+t,l=r+this.size.height;return e=this.getWorkspaceViewRect(e),r<e.top?t=e.top-this.anchor.y:l>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let r=e.top+e.height,l=e.left;return e=e.left+e.width,r-=this.getScrollbarThickness(),this.workspace.RTL?l-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new ft(t,r,l,e)}getScrollbarThickness(){return Vt.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,r=this.size.height/2,l=-this.relativeLeft,d=-this.relativeTop;if(t===l&&r===d)e.push("M "+t+","+r);else{d-=r,l-=t,this.workspace.RTL&&(l*=-1);var g=Math.sqrt(d*d+l*l),y=Math.acos(l/g);0>d&&(y=2*Math.PI-y);var P=y+Math.PI/2;P>2*Math.PI&&(P-=2*Math.PI);var ce=Math.sin(P);const Bt=Math.cos(P);let Nt=(this.size.width+this.size.height)/pi.TAIL_THICKNESS;Nt=Math.min(Nt,this.size.width,this.size.height)/4,P=1-pi.ANCHOR_RADIUS/g,l=t+P*l,d=r+P*d,P=t+Nt*Bt;const Wr=r+Nt*ce;t-=Nt*Bt,r-=Nt*ce,ce=Po(this.workspace.RTL?-pi.TAIL_ANGLE:pi.TAIL_ANGLE),ce=y+ce,ce>2*Math.PI&&(ce-=2*Math.PI),y=Math.sin(ce)*g/pi.TAIL_BEND,g=Math.cos(ce)*g/pi.TAIL_BEND,e.push("M"+P+","+Wr),e.push("C"+(P+g)+","+(Wr+y)+" "+l+","+d+" "+l+","+d),e.push("C"+l+","+d+" "+(t+g)+","+(r+y)+" "+t+","+r)}e.push("z");let xe;(xe=this.tail)==null||xe.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(t==null?void 0:t.lastChild)!==this.svgRoot?(t==null||t.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new be(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){}unselect(){}};pi=Tt,Tt.BORDER_WIDTH=6,Tt.DOUBLE_BORDER=2*pi.BORDER_WIDTH,Tt.MIN_SIZE=pi.DOUBLE_BORDER,Tt.TAIL_THICKNESS=1,Tt.TAIL_ANGLE=20,Tt.TAIL_BEND=4,Tt.ANCHOR_RADIUS=8;var ll=class extends Tt{constructor(e,t,r,l){super(t,r,l),this.workspace=t,this.anchor=r,this.ownerRect=l,this.autoLayout=!0,t=new Gi(e),this.validateWorkspaceOptions(t),this.svgDialog=le(X.SVG,{x:Tt.BORDER_WIDTH,y:Tt.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new Gi(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(X.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(t.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let d,g;(d=this.miniWorkspace.getFlyout())==null||(g=d.getWorkspace())==null||g.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(20>t.y&&e.moveBy(0,20-t.y),e.RTL){let r=-20;const l=this.miniWorkspace.getFlyout();l&&(r-=l.getWidth()),t.x>r&&e.moveBy(r-t.x,0)}else 20>t.x&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<ll.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<ll.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new Ee(t.width+Tt.DOUBLE_BORDER,t.height+Tt.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+ll.MARGIN;e=e.height+ll.MARGIN;const r=this.miniWorkspace.getFlyout();if(r){const l=r.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,l.height+20),t+=r.getWidth()}return new Ee(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const r of e.getAllBlocks(!1))r.setStyle(r.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ll.MINIMUM_VIEW_CHANGE=10,ll.MARGIN=3*Tt.DOUBLE_BORDER;var qf=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new be(0,0),this.workspaceLocation=new be(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=le(X.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),Ge(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,Rl(this.svgRoot)}}dispose(){ic(this.svgRoot),z(this.svgRoot)}getWeight(){return-1}getSize(){return new Ee(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",xo(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=be.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}},Qf,Zf;Qf=17,Zf=16,o.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends qf{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),le(X.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),le(X.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),le(X.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),Be(this.svgRoot,"blockly-icon-mutator"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Ee(Qf,Qf)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary);let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const t=this;return fe.asyncExecutePromiseGeneratorFunction(function*(){if(t.bubbleIsVisible()!==e){if(yield jn(),e){t.miniWorkspaceBubble=new ll(t.getMiniWorkspaceConfig(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour(),t.createRootBlock(),t.addSaveConnectionsListener();let r;(r=t.miniWorkspaceBubble)==null||r.addWorkspaceChangeListener(t.createMiniWorkspaceChangeListener())}else{let r;(r=t.miniWorkspaceBubble)==null||r.dispose(),t.miniWorkspaceBubble=null,t.saveConnectionsListener&&t.sourceBlock.workspace.removeChangeListener(t.saveConnectionsListener),t.saveConnectionsListener=null}pe(new(I(te.BUBBLE_OPEN))(t.sourceBlock,e,"mutator"))}})}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(r=>({kind:"block",type:r}))}),t}getAnchorLocation(){const e=Qf/2;return be.sum(this.workspaceLocation,new be(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new ft(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,r,l,d;e=(d=(t=this.miniWorkspaceBubble)==null||(r=t.getWorkspace())==null||(l=r.getFlyout())==null?void 0:l.getWidth())!=null?d:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+Zf):Zf,Zf)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{o.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||O(e)||ee(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);var t=es.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var r=es.getExtraBlockState_(this.sourceBlock);t!==r&&pe(new(I(te.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,t,r)),o.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=dn.MUTATOR,o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,o.MutatorIcon$$module$build$src$core$icons$mutator_icon;var hd=Object.create(null),tS={allExtensions:hd};o.register$$module$build$src$core$extensions("parent_tooltip_when_inline",ju);var vo={TEST_ONLY:tS};vo.apply=vt,vo.buildTooltipForDropdown=o.buildTooltipForDropdown$$module$build$src$core$extensions,vo.buildTooltipWithFieldText=o.buildTooltipWithFieldText$$module$build$src$core$extensions,vo.isRegistered=Oi,vo.register=o.register$$module$build$src$core$extensions,vo.registerMixin=o.registerMixin$$module$build$src$core$extensions,vo.registerMutator=o.registerMutator$$module$build$src$core$extensions,vo.runAfterPageLoad=Uh,vo.unregister=Ms;var tt;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(tt||(tt={}));var ul={};ul.arc=kt,ul.curve=Zt,ul.line=Fl,ul.lineOnAxis=Ae,ul.lineTo=Zr,ul.moveBy=St,ul.moveTo=en,ul.point=We;var on={};on.Coordinate=be,on.KeyCodes=tt,on.Rect=ft,on.Size=Ee,on.Svg=X,on.aria=Sn,on.array=gp,on.browserEvents=go,on.colour=c,on.deprecation=Vc,on.dom=ln,on.extensions=vo,on.idGenerator=ip,on.math=Pt,on.object=J_,on.parsing=p,on.string=nu,on.style=Pi,on.svgMath=Bi,on.svgPaths=ul,on.toolbox=Dn,on.userAgent=Hf,on.xml=yr;var Z_=class extends Tt{constructor(e,t,r){super(e,t,r),this.workspace=e,this.anchor=t,this.ownerRect=r,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new Ee(160+Tt.DOUBLE_BORDER,80+Tt.DOUBLE_BORDER),this.MIN_SIZE=new Ee(45+Tt.DOUBLE_BORDER,20+Tt.DOUBLE_BORDER),this.editable=!0,Be(this.svgRoot,"blocklyTextInputBubble"),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}setEditable(e){(this.editable=e)?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","")}isEditable(){return this.editable}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=le(X.FOREIGNOBJECT,{x:Tt.BORDER_WIDTH,y:Tt.BORDER_WIDTH},e);const t=document.createElementNS(ai,"body");t.setAttribute("xmlns",ai),t.className="blocklyMinimalBody";const r=document.createElementNS(ai,"textarea");return r.className="blocklyTextarea blocklyText",r.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(r),e.appendChild(t),this.bindTextAreaEvents(r),setTimeout(()=>{r.focus()},0),{inputRoot:e,textArea:r}}bindTextAreaEvents(e){Ge(e,"wheel",this,t=>{t.stopPropagation()}),Ge(e,"focus",this,this.onStartEdit,!0),Ge(e,"change",this,this.onTextChange)}createResizeHandle(e,t){return e=le(X.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),Ge(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const r=e.width-Tt.DOUBLE_BORDER,l=e.height-Tt.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${r}`),this.inputRoot.setAttribute("height",`${l}`),this.resizeGroup.setAttribute("y",`${l}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-Tt.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${r}`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),kn(e)||(Hu(this.workspace,e,new be(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=Ge(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=Ge(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){Qt(),this.resizePointerUpListener&&(it(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(it(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=Vu(this.workspace,e),this.setSize(new Ee(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};Pn(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var Cm={};Cm.register=Go,Cm.unregister=Xu;var wm=17,eT=160,tT=80,al=class extends qf{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new Ee(eT,tT),this.bubbleVisiblity=!1}getType(){return al.TYPE}initView(e){this.svgRoot||(super.initView(e),le(X.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),le(X.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),le(X.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),Be(this.svgRoot,"blockly-icon-comment"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return al.WEIGHT}getSize(){return new Ee(wm,wm)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let t;(t=this.textInputBubble)==null||t.setColour(e)}updateEditable(){const e=this,t=()=>super.updateEditable;return fe.asyncExecutePromiseGeneratorFunction(function*(){t().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){super.onLocationChange(e),e=this.getAnchorLocation();let t;(t=this.textInputBubble)==null||t.setAnchorLocation(e)}setText(e){const t=this.text;pe(new(I(te.BLOCK_CHANGE))(this.sourceBlock,"comment",null,t,e)),this.text=e;let r;(r=this.textInputBubble)==null||r.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let r,l;this.bubbleSize=new Ee((r=e.width)!=null?r:eT,(l=e.height)!=null?l:tT);let d;this.bubbleVisiblity=(d=e.pinned)!=null?d:!1,this.setBubbleVisible(this.bubbleVisiblity)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(pe(new(I(te.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const t=this;return fe.asyncExecutePromiseGeneratorFunction(function*(){t.bubbleVisiblity!==e&&(t.bubbleVisiblity=e,yield jn(),!t.sourceBlock.rendered||t.sourceBlock.isInFlyout||t.sourceBlock.isInsertionMarker()||(e?(t.sourceBlock.isEditable()?t.showEditableBubble():t.showNonEditableBubble(),t.applyColour()):t.hideBubble(),pe(new(I(te.BUBBLE_OPEN))(t.sourceBlock,e,"comment"))))})}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let t;(t=this.textInputBubble)==null||t.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new Z_(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0)}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=wm/2;return be.sum(this.workspaceLocation,new be(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};al.TYPE=dn.COMMENT,al.WEIGHT=3,Go(al.TYPE,al);var nT=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},rT={};rT.DuplicateIconType=nT;var iT=class extends Tt{constructor(e,t,r,l){super(t,r,l),this.text=e,this.workspace=t,this.anchor=r,this.ownerRect=l,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,z(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createSpans(t,e),this.workspace.RTL&&this.rightAlignSpans(t.getBBox().width,e),t}createParagraph(e){return le(X.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Tt.BORDER_WIDTH},e)}createSpans(e,t){return t.split(`
`).map(r=>{const l=le(X.TSPAN,{dy:"1em",x:Tt.BORDER_WIDTH},e);return r=document.createTextNode(r),l.appendChild(r),l})}rightAlignSpans(e,t){for(const r of t)r.setAttribute("text-anchor","end"),r.setAttribute("x",`${e+Tt.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Ee(e.width+2*Tt.BORDER_WIDTH,e.height+2*Tt.BORDER_WIDTH),!0)}},km=17,cl=class extends qf{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return cl.TYPE}initView(e){this.svgRoot||(super.initView(e),le(X.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),le(X.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),le(X.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),Be(this.svgRoot,"blockly-icon-warning"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return cl.WEIGHT}getSize(){return new Ee(km,km)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let r;return(r=this.textBubble)==null||r.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const t=this;return fe.asyncExecutePromiseGeneratorFunction(function*(){if(t.bubbleIsVisible()!==e){if(yield jn(),e)t.textBubble=new iT(t.getText(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour();else{let r;(r=t.textBubble)==null||r.dispose(),t.textBubble=null}pe(new(I(te.BUBBLE_OPEN))(t.sourceBlock,e,"warning"))}})}getAnchorLocation(){const e=km/2;return be.sum(this.workspaceLocation,new be(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new ft(e.y,e.y+e.height,e.x,e.x+e.width)}};cl.TYPE=dn.WARNING,cl.WEIGHT=2;var su={};su.CommentIcon=al,su.Icon=qf,su.IconType=dn,su.MutatorIcon=o.MutatorIcon$$module$build$src$core$icons$mutator_icon,su.WarningIcon=cl,su.exceptions=rT,su.registry=Cm,o.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=o.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),o.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let r=e;t===o.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(r=e),e=r.toLowerCase();const l=t===o.NameType$$module$build$src$core$names.VARIABLE||t===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const d=this.db.get(t);return d.has(e)?l+d.get(e):(t=this.getDistinctName(r,t),d.set(e,t.substr(l.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let r=null,l,d;for(;this.dbReverse.has(e+((l=r)!=null?l:""))||this.reservedWords.has(e+((d=r)!=null?d:""));)r=r?r+1:2;let g;return e+=(g=r)!=null?g:"",this.dbReverse.add(e),(t===o.NameType$$module$build$src$core$names.VARIABLE||t===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(o.Names$$module$build$src$core$names||(o.Names$$module$build$src$core$names={})),o.NameType$$module$build$src$core$names=o.Names$$module$build$src$core$names.NameType,o.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,o.NameType$$module$build$src$core$names,o.Names$$module$build$src$core$names;var oT=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),Yn(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(Yn(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},eg,kr;eg="PROCEDURE",o.DEFAULT_ARG$$module$build$src$core$procedures="x",kr={CATEGORY_NAME:eg,DEFAULT_ARG:o.DEFAULT_ARG$$module$build$src$core$procedures},kr.ObservableProcedureMap=oT,kr.allProcedures=Jn,kr.findLegalName=o.findLegalName$$module$build$src$core$procedures,kr.flyoutCategory=Ai,kr.getCallers=qn,kr.getDefinition=o.getDefinition$$module$build$src$core$procedures,kr.isNameUsed=ti,kr.isProcedureBlock=ei,kr.mutateCallers=o.mutateCallers$$module$build$src$core$procedures,kr.mutatorOpenListener=Ku,kr.rename=o.rename$$module$build$src$core$procedures;var nS=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},G=new nS,ns=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=G.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Op=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=G.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(G.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(G.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(G.isSpacer(t))return t}return null}},Om=class extends Op{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=G.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,r=0;for(let l=0;l<this.elements.length;l++){const d=this.elements[l];t+=d.width,G.isSpacer(d)||(G.isNextConnection(d)?r=Math.max(r,d.height):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},dl=class extends ns{constructor(e,t){super(e),this.connectionModel=t,this.type|=G.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},lu=class extends dl{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=G.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},tg=class extends lu{constructor(e,t){super(e,t),this.height=0,this.type|=G.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},pd=class extends ns{constructor(e,t,r){super(e),this.field=t,this.parentInput=r,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=G.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},Rm=class extends ns{constructor(e){super(e),this.type|=G.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},sT=class extends ns{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.type|=G.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},fi=class extends ns{constructor(e,t){super(e),this.type=this.type|G.SPACER|G.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Lm=class extends lu{constructor(e,t){super(e,t),this.type|=G.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Rp=class extends lu{constructor(e,t){super(e,t),this.type|=G.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},Am=class extends Op{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=G.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const r=this.elements[t];this.width+=r.width,G.isInput(r)&&r instanceof lu&&(G.isStatementInput(r)&&r instanceof Rp?e+=r.connectedBlockWidth:G.isExternalInput(r)&&r instanceof tg&&r.connectedBlockWidth!==0&&(e+=r.connectedBlockWidth-r.connectionWidth)),G.isSpacer(r)||(this.height=Math.max(this.height,r.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},lT=class extends ns{constructor(e){super(e),this.type|=G.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},uT=class extends dl{constructor(e,t){super(e,t),this.type|=G.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},aT=class extends dl{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=G.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},cT=class extends dl{constructor(e,t){super(e,t),this.type|=G.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Lp=class extends ns{constructor(e,t){super(e),this.type=(t&&t!=="left"?G.RIGHT_ROUND_CORNER:G.LEFT_ROUND_CORNER)|G.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},Dm=class extends Op{constructor(e,t,r){super(e),this.height=t,this.width=r,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|G.SPACER|G.BETWEEN_ROW_SPACER,this.elements=[new fi(this.constants_,r)]}measure(){}},Ap=class extends ns{constructor(e,t){super(e),this.type=(t&&t!=="left"?G.RIGHT_SQUARE_CORNER:G.LEFT_SQUARE_CORNER)|G.CORNER,this.width=this.height=this.constants_.NO_PADDING}},Nm=class extends Op{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=G.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,r=e.getPreviousBlock();return!!e.outputConnection||t||(r?r.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,r=0;for(let l=0;l<this.elements.length;l++){const d=this.elements[l];t+=d.width,G.isSpacer(d)||(G.isHat(d)&&d instanceof Rm?r=Math.max(r,d.ascenderHeight):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},ng=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=St(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const r in t)this.blockStyles[r]=this.validatedBlockStyle_(t[r]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=gs("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=Al(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Al(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Al(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return Qr("#fff",e,.6)||e}generateTertiaryColour_(e){return Qr("#fff",e,.3)||e}dispose(){this.embossFilter&&z(this.embossFilter),this.disabledPattern&&z(this.disabledPattern),this.debugFilter&&z(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,r=Fl([We(t,e/4),We(2*-t,e/2),We(t,e/4)]);return{height:e,width:t,path:r}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,r=Zt("c",[We(30,-e),We(70,-e),We(t,0)]);return{height:e,width:t,path:r}}makePuzzleTab(){function e(g){g=g?-1:1;const y=-g;var P=r/2;const ce=P+2.5,xe=P+.5,Bt=We(-t,g*P);return P=We(t,g*P),Zt("c",[We(0,g*ce),We(-t,y*xe),Bt])+Zt("s",[We(t,2.5*y),P])}const t=this.TAB_WIDTH,r=this.TAB_HEIGHT,l=e(!0),d=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:r,pathDown:d,pathUp:l}}makeNotch(){function e(y){return Fl([We(y*l,r),We(3*y,0),We(y*l,-r)])}const t=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,l=(t-3)/2,d=e(1),g=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:r,pathLeft:d,pathRight:g}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=kt("a","0 0,0",e,We(-e,e)),r=kt("a","0 0,0",e,We(e,e));return{width:e,height:e,pathTop:t,pathBottom:r}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=St(0,e)+kt("a","0 0,1",e,We(e,-e)),r=kt("a","0 0,1",e,We(e,e)),l=kt("a","0 0,1",e,We(-e,-e)),d=kt("a","0 0,1",e,We(-e,e));return{topLeft:t,topRight:r,bottomRight:d,bottomLeft:l,rightHeight:e}}shapeFor(e){switch(e.type){case Pe.INPUT_VALUE:case Pe.OUTPUT_VALUE:return this.PUZZLE_TAB;case Pe.PREVIOUS_STATEMENT:case Pe.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,r){this.injectCSS_(t,r),this.defs=le(X.DEFS,{},e),e=le(X.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),le(X.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=le(X.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),le(X.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),le(X.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),le(X.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=le(X.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),le(X.RECT,{width:10,height:10,fill:"#aaa"},e),le(X.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=le(X.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=le(X.FECOMPONENTTRANSFER,{result:"outBlur"},e);le(X.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),le(X.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),le(X.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const r=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=r:(t=document.createElement("style"),t.id=e,e=document.createTextNode(r),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},rg=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=St(e.xPos,this.info_.startY);for(let r=0,l;l=t[r];r++)G.isLeftRoundedCorner(l)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:G.isRightRoundedCorner(l)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:G.isPreviousConnection(l)&&l instanceof dl?this.outlinePath_+=l.shape.pathLeft:G.isHat(l)?this.outlinePath_+=this.constants_.START_HAT.path:G.isSpacer(l)&&(this.outlinePath_+=Ae("h",l.width));this.outlinePath_+=Ae("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Ae("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const r=Ot(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=Ae("H",t.xPos+t.width)+r+Ae("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var r=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+Ae("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var l=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Ae("H",r)+t+Ae("v",l)+this.constants_.INSIDE_CORNERS.pathBottom+Ae("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=Ae("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let r=0,l="";for(let d=t.length-1,g;g=t[d];d--)G.isNextConnection(g)&&g instanceof dl?l+=g.shape.pathRight:G.isLeftSquareCorner(g)?l+=Ae("H",e.xPos):G.isLeftRoundedCorner(g)?l+=this.constants_.OUTSIDE_CORNERS.bottomLeft:G.isRightRoundedCorner(g)?(l+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):G.isSpacer(g)&&(l+=Ae("h",-1*g.width));this.outlinePath_+=Ae("V",e.baseline-r),this.outlinePath_+=l}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=Ot(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=Ae("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let r=0,l;l=t.elements[r];r++)G.isInlineInput(l)?this.drawInlineInput_(l):(G.isIcon(l)||G.isField(l))&&this.layoutField_(l)}layoutField_(e){const t=e.centerline-e.height/2;let r=e.xPos;var l="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,l="scale(-1 1)")),G.isIcon(e)?(l=e.icon,l.setOffsetInBlock(new be(r,t)),this.info_.isInsertionMarker&&l.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+r+","+t+")"+l),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,r=e.height,l=e.connectionOffsetY,d=e.connectionHeight+l;this.inlinePath_+=en(e.xPos+e.connectionWidth,e.centerline-r/2)+Ae("v",l)+e.shape.pathDown+Ae("v",r-d)+Ae("h",t-e.connectionWidth)+Ae("v",-r)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let r=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(r*=-1),t.connectionModel.setOffsetInBlock(r,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let r=e.xPos+e.width;this.info_.RTL&&(r*=-1),t.connectionModel.setOffsetInBlock(r,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,r=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-r:r,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements)if(t instanceof dl)if(t.highlighted)this.drawConnectionHighlightPath(t);else{let r,l;(l=(r=this.block_.pathObject).removeConnectionHighlight)==null||l.call(r,t.connectionModel)}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===Pe.INPUT_VALUE||t.type===Pe.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const r=t.getSourceBlock();let l,d;(d=(l=r.pathObject).addConnectionHighlight)==null||d.call(l,t,e,t.getOffsetInBlock(),r.RTL)}getExpressionConnectionHighlightPath(e){let t="";return Ot(e.shape)?t=e.shape.pathDown(e.height):xr(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,St(0,-e)+Ae("v",e)+t+Ae("v",e)}getStatementConnectionHighlightPath(e){if(!Vh(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return St(-t,0)+Ae("h",t)+e.shape.pathLeft+Ae("h",t)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(o.Align$$module$build$src$core$inputs$align||(o.Align$$module$build$src$core$inputs$align={})),o.Align$$module$build$src$core$inputs$align;var Da=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==f.SKIP_SETUP&&(r?this.configure_(r):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&Be(this.getTextElement(),this.class)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&S(this.textElement_,this.class),e&&Be(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Xt(e.text),void 0,e)}};Kn("field_label",Da),Da.prototype.DEFAULT_VALUE="";var fd=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=o.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,r){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&r)&&(typeof t=="string"&&(t=o.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(t),t.name=r,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,t){for(let r=0,l;l=this.fieldRow[r];r++)if(l.name===e)return l.dispose(),this.fieldRow.splice(r,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let l=0,d;d=this.fieldRow[l];l++)d.setVisible(e);if(this.connection){var r=this.connection;e?t=r.startTrackingAll():r.stopTrackingAll(),(r=r.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},rs=class extends fd{constructor(e,t){super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},hl=class extends fd{constructor(e,t){super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},gi=class extends fd{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Pe.NEXT_STATEMENT)}},dT;o.ValueInput$$module$build$src$core$inputs$value_input=class extends fd{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Pe.INPUT_VALUE)}},dT={},dT.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input;var Dp=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new aT(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new Nm(this.constants_),this.bottomRow=new Om(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new Am(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let r=0,l;l=t[r];r++){const d=new sT(this.constants_,l);this.isCollapsed&&!l.isShownWhenCollapsed()||e.elements.push(d)}t=void 0;for(let r=0,l;l=this.block_.inputList[r];r++)if(l.isVisible()){this.shouldStartNewRow_(l,t)&&(this.rows.push(e),e=new Am(this.constants_),this.inputRows.push(e));for(let d=0,g;g=l.fieldRow[d];d++)e.elements.push(new pd(this.constants_,g,l));this.addInput_(l,e),t=l}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new lT(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let r=this.topRow.hasLeftSquareCorner(this.block_)?Ap:Lp;this.topRow.elements.push(new r(this.constants_)),t?(e=new Rm(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new cT(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof gi&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?Ap:Lp,this.topRow.elements.push(new r(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof gi?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Ap(this.constants_)):this.bottomRow.elements.push(new Lp(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new uT(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Ap(this.constants_,"right")):this.bottomRow.elements.push(new Lp(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Lm(this.constants_,e)),t.hasInlineInput=!0):e instanceof gi?(t.elements.push(new Rp(this.constants_,e)),t.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new tg(this.constants_,e)),t.hasExternalInput=!0):(e instanceof rs||e instanceof hl)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof hl||e instanceof gi||t instanceof gi?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof rs||t instanceof o.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const r=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new fi(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let l=0;l<r.length-1;l++){t.elements.push(r[l]);const d=this.getInRowSpacing_(r[l],r[l+1]);t.elements.push(new fi(this.constants_,d))}t.elements.push(r[r.length-1]),t.endsWithElemSpacer()&&t.elements.push(new fi(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&G.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&G.isInput(e)&&!t){if(G.isExternalInput(e))return this.constants_.NO_PADDING;if(G.isInlineInput(e))return this.constants_.LARGE_PADDING;if(G.isStatementInput(e))return this.constants_.NO_PADDING}return e&&G.isLeftSquareCorner(e)&&t&&(G.isPreviousConnection(t)||G.isNextConnection(t))?t.notchOffset:e&&G.isLeftRoundedCorner(e)&&t&&(G.isPreviousConnection(t)||G.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,r=0;for(let d=0,g;g=this.rows[d];d++){if(g.measure(),t=Math.max(t,g.width),g.hasStatement){var l=g.getLastInput();let y,P;l=g.width-((P=(y=l)==null?void 0:y.width)!=null?P:0),e=Math.max(e,l)}r=Math.max(r,g.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let d=0,g;g=this.rows[d];d++)g.hasStatement&&(g.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,r;r=this.rows[t];t++)if(r.hasStatement)this.alignStatementRow_(r);else{var e=r.width;e=this.getDesiredRowWidth_(r)-e,0<e&&this.addAlignmentPadding_(r,e),G.isTopOrBottomRow(r)&&(r.widthWithConnectedBlocks=r.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const r=e.getFirstSpacer(),l=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===o.Align$$module$build$src$core$inputs$align.LEFT&&l)l.width+=t;else if(e.align===o.Align$$module$build$src$core$inputs$align.CENTRE&&r&&l)r.width+=t/2,l.width+=t/2;else if(e.align===o.Align$$module$build$src$core$inputs$align.RIGHT&&r)r.width+=t;else if(l)l.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var r=e.width-t.width,l=this.statementEdge;r=l-r,0<r&&this.addAlignmentPadding_(e,r),r=e.width,l=this.getDesiredRowWidth_(e),t.width+=l-r,t.height=Math.max(t.height,e.height),e.width+=l-r,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var r=this.getSpacerRowHeight_(e,t);const l=this.getSpacerRowWidth_(e,t);return r=new Dm(this.constants_,r,l),e.hasStatement&&(r.followsStatement=!0),t.hasStatement&&(r.precedesStatement=!0),r}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return G.isSpacer(t)?e.yPos+t.height/2:G.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,G.isNextConnection(t)?e+t.height/2:e-t.height/2):G.isTopRow(e)?G.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let r=0,l;l=e.elements[r];r++)G.isSpacer(l)&&(l.height=e.height),l.xPos=t,l.centerline=this.getElemCenterline_(e,l),t+=l.width}finalize_(){let e=0,t=0;for(let r=0,l;l=this.rows[r];r++)l.yPos=t,l.xPos=this.startX,t+=l.height,e=Math.max(e,l.widthWithConnectedBlocks),this.recordElemPositions_(l);if(this.outputConnection&&this.block_.nextConnection){const r=this.block_.nextConnection.targetBlock();r&&(e=Math.max(e,r.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const r of this.rows)for(const l of r.elements)if(l instanceof dl&&l.connectionModel===e)return l;return null}},Mm=class extends Hr{constructor(e){if(super(e),this.type=te.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=lo(e),this.ids=j(e),this.wasShadow=e.isShadow(),this.oldJson=On(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Xn(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Mm),t.oldXml=o.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const r=this.ids[e],l=t.getBlockById(r);l?l.dispose(!1):r===this.blockId&&console.warn("Can't delete non-existent block: "+r)}else Si(this.oldJson,t)}};a(me.EVENT,te.BLOCK_DELETE,Mm);var at=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const t=Pe.INPUT_VALUE,r=this.getSourceBlock();var l=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let d;if(this.isConnected()){const y=this.stashShadowState(),P=this.targetBlock();P.isShadow()?P.dispose(!1):(this.disconnectInternal(),d=P),this.applyShadowState(y)}let g;Le()&&(g=new(I(te.BLOCK_MOVE))(l),g.setReason(["connect"])),Gh(this,e),l.setParent(r),g&&(g.recordNew(),pe(g)),d&&(e=this.type===t?d.outputConnection:d.previousConnection)&&((l=at.getConnectionForOrphanedConnection(l,e))?e.connect(l):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Pe.INPUT_VALUE||this.type===Pe.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=o.getGroup$$module$build$src$core$events$utils();t||o.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),o.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:r}=this.getParentAndChildConnections();if(!t||!r)throw Error("Source connection not connected.");const l=o.getGroup$$module$build$src$core$events$utils();l||o.setGroup$$module$build$src$core$events$utils(!0);let d;Le()&&(d=new(I(te.BLOCK_MOVE))(r.getSourceBlock()),d.setReason(["disconnect"]));const g=this.targetConnection;g&&(g.targetConnection=null),this.targetConnection=null,e&&r.getSourceBlock().setParent(null),d&&(d.recordNew(),pe(d)),r.getSourceBlock().isShadow()||t.respawnShadow_(),o.setGroup$$module$build$src$core$events$utils(l)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var r;return t=(r=e.getInput(t))==null?void 0:r.connection,r=this.targetBlock(),r&&r!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Nr(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?On(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let r=0;r<t.length;r++)if(t[r].connection===this){e=t[r];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let r=0,l;l=e.inputList[r];r++)if(l.connection===this){t=l;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var t=this.getSourceBlock();const r=this.getShadowState(),l=this.getShadowDom();if(t.isDeadOrDying()||!r&&!l)return null;if(r)return t=mr(r,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(l){if(t=ki(l,t.workspace),e)if(this.type===Pe.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Pe.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Nr(e),this.shadowState=On(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===Pe.OUTPUT_VALUE)return kc(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const r=t.getConnectionChecker();return e&&r.canConnect(t,e,!1)?e:null}};at.CAN_CONNECT=0,at.REASON_SELF_CONNECTION=1,at.REASON_WRONG_TYPE=2,at.REASON_TARGET_NULL=3,at.REASON_CHECKS_FAILED=4,at.REASON_DIFFERENT_WORKSPACES=5,at.REASON_SHADOW_PARENT=6,at.REASON_DRAG_CHECKS_FAILED=7,at.REASON_PREVIOUS_AND_OUTPUT=8;var uu=class{constructor(e,t,r){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=r&&!e.getBlockById(r)?r:x(),e.setBlockById(this.id,this),this.xy=new be(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,r=Qn[t],!r||typeof r!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,r)}e.addTopBlock(this),e.addTypedBlock(this),new.target===uu&&this.doInit_()}doInit_(){const e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);const t=re();try{typeof this.init=="function"&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),o.setRecordUndo$$module$build$src$core$events$utils(t)),Le()&&pe(new(I(te.BLOCK_CREATE))(this))}finally{o.setGroup$$module$build$src$core$events$utils(e),o.setRecordUndo$$module$build$src$core$events$utils(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),Le()&&pe(new(I(te.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let t=null,r;(r=this.outputConnection)!=null&&r.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e==null||e.onFailedConnect(t))}getOnlyValueConnection(){let e=null;for(let t=0;t<this.inputList.length;t++){const r=this.inputList[t].connection;if(r&&r.type===Pe.INPUT_VALUE&&r.targetConnection){if(e)return null;e=r}}return e}unplugFromStack(e){let t=null;var r;if((r=this.previousConnection)!=null&&r.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),r=this.getNextBlock(),e&&r&&!r.isShadow()){let l,d;e=(d=(l=this.nextConnection)==null?void 0:l.targetConnection)!=null?d:null,e==null||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,r;r=this.inputList[t];t++)r.connection&&e.push(r.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const r=t.targetBlock();if(!r||e&&r.isShadow())return t;t=r.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,r;r=this.inputList[t];t++)if(r.connection&&r.connection.targetBlock()===e)return r;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let r=0,l;l=this.inputList[r];r++)if(l.connection){var t=l.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),r=!!t;if(r&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!r&&e)throw Error("Block not connected to new parent.");if(r&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?zt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],r=this.getChildren(e);for(let l,d=0;l=r[d];d++)t.push(...l.getDescendants(e));return t}isDeletable(){return this.deletable&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable($t(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(let t=0,r;r=this.inputList[t];t++)for(let l=0,d;d=r.fieldRow[l];l++)d.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,t){const r=this.getConnections_(!0);if(e=e.getConnections_(!0),r.length!==e.length)throw Error("Connection lists did not match in length.");for(let l=0;l<e.length;l++)if(e[l]===t)return r[l];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return Cs(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Al(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let t=0,r;r=this.inputList[t];t++)for(let l=0,d;d=r.fieldRow[l];l++)if(d.name===e)return d;return null}getVars(){const e=[];for(let t=0,r;r=this.inputList[t];t++)for(let l=0,d;d=r.fieldRow[l];l++)d.referencesVariables()&&e.push(d.getValue());return e}getVarModels(){const e=[];for(let t=0,r;r=this.inputList[t];t++)for(let l=0,d;d=r.fieldRow[l];l++)if(d.referencesVariables()){const g=this.workspace.getVariableById(d.getValue());g&&e.push(g)}return e}updateVarName(e){for(let t=0,r;r=this.inputList[t];t++)for(let l=0,d;d=r.fieldRow[l];l++)d.referencesVariables()&&e.getId()===d.getValue()&&d.refreshVariableName()}renameVarById(e,t){for(let r=0,l;l=this.inputList[r];r++)for(let d=0,g;g=l.fieldRow[d];d++)g.referencesVariables()&&e===g.getValue()&&g.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const r=this.getField(t);if(!r)throw Error('Field "'+t+'" not found.');r.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Pe.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Pe.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Pe.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(pe(new(I(te.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof rs&&this.inputList[e]instanceof rs)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof o.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof rs)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof hl)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}get disabled(){return k("disabled","v11","v12","the isEnabled or hasDisabledReason methods of Block"),this.hasDisabledReason(Nn)}set disabled(e){k("disabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(e,Nn)}setEnabled(e){k("setEnabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(!e,Nn)}setDisabledReason(e,t){e||this.workspace.options.disable||!this.hasDisabledReason(Nn)||t==Nn||this.setDisabledReason(!1,Nn),this.disabledReasons.has(t)!==e&&(e?this.disabledReasons.add(t):this.disabledReasons.delete(t),e=new(I(te.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(t),pe(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(pe(new(I(te.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let l=2;l<t.length;l++)t[l-2]==="("&&t[l]===")"&&(t[l-2]=t[l-1],t.splice(l-1,2));let r="";return t=t.reduce((l,d)=>(l=l+(r==="("||d===")"?"":" ")+d,r=d[d.length-1],l),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const l of this.inputList)if(l.name!=Ir){for(const d of l.fieldRow)t.push(d.getText());if(l.connection){const d=l.connection.targetBlock();if(d){var r=l.connection;let g=r.getCheck();!g&&r.targetConnection&&(g=r.targetConnection.getCheck()),(r=!!g&&(g.includes("Boolean")||g.includes("Number")))&&t.push("("),t.push(...d.toTokens(e)),r&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new o.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new gi(e,this))}appendDummyInput(e=""){return this.appendInput(new rs(e,this))}appendEndRowInput(e=""){return this.appendInput(new hl(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=v(me.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var r=0;e["args"+r];){if(e["message"+r]===void 0)throw Error(t+`args${r} must have a corresponding message (message${r}).`);r++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,t):this.jsonInitColour(e,t),r=0;e["message"+r]!==void 0;)this.interpolate(e["message"+r],e["args"+r]||[],e["implicitAlign"+r]||e["lastDummyAlign"+r],t),r++;if(e.inputsInline!==void 0&&(o.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),o.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(r=Xt(e.tooltip),this.setTooltip(r)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(r=Xt(e.helpUrl),this.setHelpUrl(r)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&vt(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)vt(e[t],this,!1)}jsonInitColour(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const r in e)this[r]!==void 0&&t.push(r);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate(e,t,r,l){e=cc(e),this.validateTokens(e,t.length),t=this.interpolateArguments(e,t,r),r=[];for(let d=0,g;g=t[d];d++)if(this.isInputKeyword(g.type)){if(e=this.inputFromJson(g,l)){for(let y=0,P;P=r[y];y++)e.appendField(P[0],P[1]);r.length=0}}else(e=this.fieldFromJson(g))&&r.push([e,g.name])}validateTokens(e,t){const r=[];let l=0;for(let d=0;d<e.length;d++){const g=e[d];if(typeof g=="number"){if(1>g||g>t)throw Error('Block "'+this.type+'": Message index %'+g+" out of range.");if(r[g])throw Error('Block "'+this.type+'": Message index %'+g+" duplicated.");r[g]=!0,l++}}if(l!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments(e,t,r){const l=[];for(let g=0;g<e.length;g++){var d=e[g];if(typeof d=="number"&&(d=t[d-1]),typeof d=="string"){if(d===`
`)d={type:"input_end_row"},r&&(d.align=r);else if(d=this.stringToFieldJson(d),!d)continue}l.push(d)}return(e=l.length)&&!this.isInputKeyword(l[e-1].type)&&(e={type:"input_dummy"},r&&(e.align=r),l.push(e)),l}fieldFromJson(e){const t=o.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):t}inputFromJson(e,t){var r={LEFT:o.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:o.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:o.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:o.Align$$module$build$src$core$inputs$align.CENTRE};let l;switch(e.type){case"input_value":l=this.appendValueInput(e.name);break;case"input_statement":l=this.appendStatementInput(e.name);break;case"input_dummy":l=this.appendDummyInput(e.name);break;case"input_end_row":l=this.appendEndRowInput(e.name);break;default:l=this.appendInputFromRegistry(e.type,e.name)}return l?(e.check&&l.setCheck(e.check),e.align&&(r=r[e.align.toUpperCase()],r===void 0?console.warn(t+"Illegal align value: ",e.align):l.setAlign(r)),l):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||E(me.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var r=-1,l=t?-1:this.inputList.length;for(let d=0,g;g=this.inputList[d];d++)if(g.name===e){if(r=d,l!==-1)break}else if(t&&g.name===t&&(l=d,r!==-1))break;if(r===-1)throw Error('Named input "'+e+'" not found.');if(l===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(r,l)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const r=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,r)}removeInput(e,t){for(let r=0,l;l=this.inputList[r];r++)if(l.name===e)return l instanceof gi&&this.statementInputCount--,l.dispose(),this.inputList.splice(r,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,r;r=this.inputList[t];t++)if(r.name===e)return r;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(dn.COMMENT))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let r;const l=(r=(t=this.getIcon(dn.COMMENT))==null?void 0:t.getText())!=null?r:null;if(l!==e){if(e!==null){if(t=this.getIcon(dn.COMMENT),!t){if(t=v(me.ICON,dn.COMMENT.toString(),!1),!t)throw Error("No comment icon class is registered, so a comment cannot be set");if(t=new t(this),!Yu(t))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");t=this.addIcon(t)}o.disable$$module$build$src$core$events$utils(),t.setText(e),o.enable$$module$build$src$core$events$utils()}else this.removeIcon(dn.COMMENT);pe(new(I(te.BLOCK_CHANGE))(this,"comment",null,l,e))}}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new nT(e);return this.icons.push(e),this.icons.sort((t,r)=>t.getWeight()-r.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(r=>!r.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof dn?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,t,r){if(this.parentBlock_)throw Error("Block has parent");const l=new(I(te.BLOCK_MOVE))(this);r&&l.setReason(r),this.xy.translate(e,t),l.recordNew(),pe(l)}makeConnection_(e){return new at(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let r=0,l;l=this.inputList[r];r++)if(l.connection){var t=l.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};uu.COLLAPSED_INPUT_NAME=Ir,uu.COLLAPSED_FIELD_NAME=Qs;var Wi=class{constructor(e,t,r,l){this.workspace=e,this.targetWorkspace=t,this.isFlyoutLabel=l,this.onMouseUpWrapper=null,this.height=this.width=0,this.cursorSvg=this.svgText=this.svgGroup=null,this.text=r.text,this.position=new be(0,0),this.callbackKey=r.callbackKey||r.callbackkey,this.cssClass=r["web-class"]||null,this.info=r}createDom(){var e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=le(X.G,{class:e},this.workspace.getCanvas());let t;this.isFlyoutLabel||(t=le(X.RECT,{class:"blocklyFlyoutButtonShadow",rx:Wi.BORDER_RADIUS,ry:Wi.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=le(X.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Wi.BORDER_RADIUS,ry:Wi.BORDER_RADIUS},this.svgGroup);const r=le(X.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var l=Xt(this.text);this.workspace.RTL&&(l+="‏"),r.textContent=l,this.isFlyoutLabel&&(this.svgText=r,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const d=Fn(r,"fontSize"),g=Fn(r,"fontWeight"),y=Fn(r,"fontFamily");if(this.width=Jr(r,d,g,y),l=gs(l,d,g,y),this.height=l.height,!this.isFlyoutLabel){this.width+=2*Wi.TEXT_MARGIN_X,this.height+=2*Wi.TEXT_MARGIN_Y;let P;(P=t)==null||P.setAttribute("width",String(this.width));let ce;(ce=t)==null||ce.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),r.setAttribute("x",String(this.width/2)),r.setAttribute("y",String(this.height/2-l.height/2+l.baseline)),this.updateTransform(),this.onMouseUpWrapper=Ge(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){this.onMouseUpWrapper&&it(this.onMouseUpWrapper),this.svgGroup&&z(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(){throw Error("Attempted to set a marker on a button.")}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};Wi.TEXT_MARGIN_X=5,Wi.TEXT_MARGIN_Y=2,Wi.BORDER_RADIUS=4,Pn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var he=class{constructor(e,t,r){if(this.wsCoordinate=null,!t)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=he.isConnectionType(e),this.location=t,this.processParams(r||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const r=t.inputList[e],l=r.fieldRow;for(let d=0;d<l.length;d++){const g=l[d];if(g.isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(g)}if(r.connection)return he.createInputNode(r)}return null}findNextForField(){var e=this.location,t=e.getParentInput();const r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var l=r.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;l<r.inputList.length;l++){t=r.inputList[l];const d=t.fieldRow;for(;e<d.length;){if(d[e].isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(d[e]);e++}if(e=0,t.connection)return he.createInputNode(t)}return null}findPrevForInput(){const e=this.location.getParentInput(),t=e.getSourceBlock();for(var r=t.inputList.indexOf(e);0<=r;r--){var l=t.inputList[r];if(l.connection&&l!==e)return he.createInputNode(l);l=l.fieldRow;for(let d=l.length-1;0<=d;d--){const g=l[d];if(g.isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(g)}}return null}findPrevForField(){var e=this.location;const t=e.getParentInput(),r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var l=r.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=l;l--){var d=r.inputList[l];if(d.connection&&d!==t)return he.createInputNode(d);for(d=d.fieldRow;-1<e;){if(d[e].isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(d[e]);e--}0<=l-1&&(e=r.inputList[l-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var t=this.getLocation();if(t.getSourceBlock){var r=t.getSourceBlock();r&&(t=r)}if(!t||t.isDeadOrDying())return null;if(t.workspace.isFlyout)return this.navigateFlyoutContents(e);r=t.getRootBlock(),t=r.workspace.getTopBlocks(!0);for(let l=0;l<t.length;l++)if(r.id===t[l].id)return e=l+(e?1:-1),e===-1||e===t.length?null:he.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}navigateFlyoutContents(e){let t;switch(this.getType()){case he.types.STACK:t=this.getLocation();var r=t.workspace.targetWorkspace;break;case he.types.BUTTON:t=this.getLocation(),r=t.getTargetWorkspace();break;default:return null}return r=r.getFlyout(),r&&(e=this.findNextLocationInFlyout(r.getContents(),t,e))?e.type==="button"&&e.button?he.createButtonNode(e.button):e.type==="block"&&e.block?he.createStackNode(e.block):null:null}findNextLocationInFlyout(e,t,r){const l=e.findIndex(d=>t instanceof uu&&d.block===t||t instanceof Wi&&d.button===t);return 0>l?null:(r=r?l+1:l-1,r===-1||r===e.length?null:e[r])}findTopASTNodeForBlock(e){const t=Ul(e);return t?he.createConnectionNode(t):he.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const t=Ul(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?he.createInputNode(t.targetConnection.getParentInput()):he.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let t=0;t<e.length;t++){const r=e[t],l=r.fieldRow;for(let d=0;d<l.length;d++){const g=l[d];if(g.isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(g)}if(r.connection)return he.createInputNode(r)}return null}getSourceBlock(){return this.getType()===he.types.BLOCK?this.getLocation():this.getType()===he.types.STACK?this.getLocation():this.getType()===he.types.WORKSPACE||this.getType()===he.types.BUTTON?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case he.types.STACK:return this.navigateBetweenStacks(!0);case he.types.OUTPUT:return he.createBlockNode(this.location.getSourceBlock());case he.types.FIELD:return this.findNextForField();case he.types.INPUT:return this.findNextForInput();case he.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return he.createConnectionNode(e);case he.types.PREVIOUS:return he.createBlockNode(this.location.getSourceBlock());case he.types.NEXT:return he.createConnectionNode(this.location.targetConnection);case he.types.BUTTON:return this.navigateFlyoutContents(!0)}return null}in(){switch(this.type){case he.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return he.createStackNode(e[0]);break;case he.types.STACK:return this.findTopASTNodeForBlock(this.location);case he.types.BLOCK:return this.findFirstFieldOrInput(this.location);case he.types.INPUT:return he.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case he.types.STACK:return this.navigateBetweenStacks(!1);case he.types.FIELD:return this.findPrevForField();case he.types.INPUT:return this.findPrevForInput();case he.types.BLOCK:var e=Ul(this.location);if(!e)break;return he.createConnectionNode(e);case he.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return he.createConnectionNode(e);break;case he.types.NEXT:return he.createBlockNode(this.location.getSourceBlock());case he.types.BUTTON:return this.navigateFlyoutContents(!1)}return null}out(){switch(this.type){case he.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new be(t.x,t.y+he.DEFAULT_OFFSET_Y),he.createWorkspaceNode(e.workspace,t);case he.types.OUTPUT:return e=this.location,(t=e.targetConnection)?he.createConnectionNode(t):he.createStackNode(e.getSourceBlock());case he.types.FIELD:if(e=this.location.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return he.createBlockNode(e);case he.types.INPUT:return he.createBlockNode(this.location.getSourceBlock());case he.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case he.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case he.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case he.types.PREVIOUS:case he.types.NEXT:case he.types.INPUT:case he.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new he(he.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===Pe.INPUT_VALUE||t===Pe.NEXT_STATEMENT&&e.getParentInput()?he.createInputNode(e.getParentInput()):t===Pe.NEXT_STATEMENT?new he(he.types.NEXT,e):t===Pe.OUTPUT_VALUE?new he(he.types.OUTPUT,e):t===Pe.PREVIOUS_STATEMENT?new he(he.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new he(he.types.INPUT,e.connection):null}static createBlockNode(e){return e?new he(he.types.BLOCK,e):null}static createStackNode(e){return e?new he(he.types.STACK,e):null}static createButtonNode(e){return e?new he(he.types.BUTTON,e):null}static createWorkspaceNode(e,t){return t&&e?new he(he.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=Ul(e);return t?he.createConnectionNode(t):he.createBlockNode(e)}};he.NAVIGATE_ALL_FIELDS=!1,he.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace",e.BUTTON="button"}(he);var xm=class extends Fr{constructor(e,t,r,l){let d=e?e.workspace.id:void 0;l&&l.getType()===he.types.WORKSPACE&&(d=l.getLocation().id),super(d),this.type=te.MARKER_MOVE,this.blockId=e==null?void 0:e.id,this.oldNode=r||void 0,this.newNode=l,this.isCursor=t}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new xm),t.isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};a(me.EVENT,te.MARKER_MOVE,xm);var rS="blocklyCursor",iS="blocklyMarker",oS=.75,Pm=class{constructor(e,t,r){this.workspace=e,this.marker=r,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=r.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?rS:iS;return this.svgGroup_=le(X.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var r=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||r,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===he.types.BLOCK?this.showWithBlock_(e):e.getType()===he.types.OUTPUT?this.showWithOutput_(e):t===Pe.INPUT_VALUE?this.showWithInput_(e):t===Pe.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===he.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===he.types.FIELD?this.showWithField_(e):e.getType()===he.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===he.types.STACK?this.showWithStack_(e):e.getType()===he.types.BUTTON&&this.showWithButton_(e)}showWithBlockPrevOutput(e){e=e.getSourceBlock();const t=e.width;var r=e.height,l=r*oS;const d=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(r=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,d,l,r)):e.outputConnection?(l=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,r,l)):this.positionBlock_(t,d,l),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const t=e.getSize().width,r=e.getSize().height;this.positionRect_(0,0,t,r),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let r=0;t=t.getOffsetInBlock().y;const l=e.getHeightWidth().width;this.workspace.RTL&&(r=-l),this.positionLine_(r,t,l),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var t=e.getHeightWidth();const r=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const l=-this.constants_.CURSOR_STACK_PADDING/2,d=-this.constants_.CURSOR_STACK_PADDING/2;let g=l;this.workspace.RTL&&(g=-(r+l)),this.positionRect_(g,d,r,t),this.setParent_(e),this.showCurrent_()}showWithButton_(e){e=e.getLocation();const t=e.width+this.constants_.CURSOR_STACK_PADDING,r=e.height+this.constants_.CURSOR_STACK_PADDING,l=-this.constants_.CURSOR_STACK_PADDING/2,d=-this.constants_.CURSOR_STACK_PADDING/2;let g=l;this.workspace.RTL&&(g=-(t+l)),this.positionRect_(g,d,t,r),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,r){if(e=St(-t,r)+Ae("V",-t)+Ae("H",e+2*t)+Ae("V",r),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,r=e.getOffsetInBlock().y;e=en(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+r+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,r){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${r}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,r){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=St(e,0)+Ae("h",-(e-r.width))+Ae("v",this.constants_.TAB_OFFSET_FROM_TOP)+r.pathDown+Ae("V",t)+Ae("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,r,l){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=St(-t,r)+Ae("V",-t)+Ae("H",this.constants_.NOTCH_OFFSET_LEFT)+l.pathLeft+Ae("H",e+2*t)+Ae("V",r),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,r,l){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${r}`),this.markerSvgRect_.setAttribute("height",`${l}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,t){const r=t.getSourceBlock();e=new(I(te.MARKER_MOVE))(r,this.isCursor(),e,t),pe(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=le(X.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=le(X.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=le(X.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=le(X.PATH,{transform:""},this.markerSvg_),this.markerBlock_=le(X.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();le(X.ANIMATE,e,this.markerSvgLine_),le(X.ANIMATE,e,this.markerInput_),le(X.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&z(this.svgGroup_)}},ig=class{constructor(e,t,r){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=r,this.style=t,this.svgRoot=e,this.svgPath=le(X.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?Be(this.svgRoot,e):S(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,r,l){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,r))return;this.removeConnectionHighlight(e)}t=le(X.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${r.x}, ${r.y})`+(l?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}currentHighlightMatchesNew(e,t,r){let l;const d=(l=this.connectionHighlights.get(e))==null?void 0:l.getAttribute("d");return e=this.highlightOffsets.get(e),d===t&&be.equals(e,r)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(z(t),this.connectionHighlights.delete(e))}},So=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,o.setSelected$$module$build$src$core$common(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){o.disable$$module$build$src$core$events$utils(),this.hidePreview(),o.enable$$module$build$src$core$events$utils();var{local:e,closest:t}=this.activeCandidate;e.connect(t);var r=e.isSuperior()?t:e,l=this.topBlock.getRootBlock();jn().then(()=>{Mr(r.getSourceBlock()),setTimeout(()=>{l.bringToFront()},0)})}}update(e,t){const r=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!r,t))||this.shouldUpdatePreviews(r,e))&&(o.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(r),this.maybeShowPreview(r),o.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){o.disable$$module$build$src$core$events$utils();let t;try{const r=On(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!r)throw Error(`Failed to serialize source block. ${e.toDevString()}`);t=Si(r,this.workspace);for(const l of t.getDescendants(!1))l.setInsertionMarker(!0);t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden")}finally{o.enable$$module$build$src$core$events$utils()}return t}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:r,closest:l}=this.activeCandidate;if(l===e.closest&&r===e.local)return!1;const d=r.x+t.x-l.x;return t=r.y+t.y-l.y,e.radius<Math.sqrt(d*d+t*t)-o.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),r=null;for(let l=0;l<this.availableConnections.length;l++){const d=this.availableConnections[l],g=d.closest(t,e);g.connection&&(r={closest:g.connection,local:d,radius:g.radius},t=g.radius)}return r}getStartRadius(){return this.activeCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return t&&this.workspace.getComponentManager().hasCapability(t.id,At.Capability.DELETE_AREA)?t.wouldDelete(this.topBlock):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t=e.closest,r;t===((r=this.activeCandidate)==null?void 0:r.closest)||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case So.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case So.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case So.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=(e=this.activeCandidate)==null?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:r}=e;let l=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!l)throw Error("Cannot show the insertion marker because there is no insertion marker block");let d;try{d=l.getMatchingConnection(t.getSourceBlock(),t)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),l=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),l=this.firstMarker=this.createMarkerBlock(this.topBlock)),!l)throw Error("Cannot show the insertion marker because there is no insertion marker block");d=l.getMatchingConnection(t.getSourceBlock(),t)}if(!d)throw Error("Cannot show the insertion marker because there is no associated connection");if(d===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");l.queueRender(),Dr(),d.connect(r);const g={x:r.x-d.x,y:r.y-d.y},y=d.getOffsetInBlock().clone(),P=d;jn().then(()=>{let ce;(ce=l)==null||ce.positionNearConnection(P,g,y);let xe;(xe=l)==null||xe.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=d}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),r=t.outputConnection,l;if((l=t.previousConnection)!=null&&l.targetConnection||r!=null&&r.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){o.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{o.enable$$module$build$src$core$events$utils()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(So),So.PREVIEW_TYPE;var og=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const r=this.getConstants();r.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=r.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new ng}makeRenderInfo_(e){return new Dp(this,e)}makeDrawer_(e,t){return new rg(e,t)}makeMarkerDrawer(e,t){return new Pm(e,this.getConstants(),t)}makePathObject(e,t){return new ig(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,r){return!!at.getConnectionForOrphanedConnection(e,r===Pe.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,r){return k("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===Pe.OUTPUT_VALUE||t.type===Pe.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(r,e.targetBlock(),t.type)?So.PREVIEW_TYPE.INSERTION_MARKER:So.PREVIEW_TYPE.REPLACEMENT_FADE:So.PREVIEW_TYPE.INSERTION_MARKER}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},gt={};gt.BottomRow=Om,gt.Connection=dl,gt.ConstantProvider=ng,gt.Drawer=rg,gt.ExternalValueInput=tg,gt.Field=pd,gt.Hat=Rm,gt.Icon=sT,gt.InRowSpacer=fi,gt.InlineInput=Lm,gt.InputConnection=lu,gt.InputRow=Am,gt.JaggedEdge=lT,gt.MarkerSvg=Pm,gt.Measurable=ns,gt.NextConnection=uT,gt.OutputConnection=aT,gt.PathObject=ig,gt.PreviousConnection=cT,gt.RenderInfo=Dp,gt.Renderer=og,gt.RoundCorner=Lp,gt.Row=Op,gt.SpacerRow=Dm,gt.SquareCorner=Ap,gt.StatementInput=Rp,gt.TopRow=Nm,gt.Types=G,gt.init=Wh,gt.register=Di,gt.unregister=Rc;var hT=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&S(e,t),(t=this.theme.getClassName())&&Be(e,t));for(let r=0,l;l=this.subscribedWorkspaces[r];r++)l.refreshTheme();for(const[r,l]of this.componentDB)for(const d of l){e=d.element,t=d.propertyName;const g=this.theme&&this.theme.getComponentStyle(r);e.style.setProperty(t,g||"")}for(const r of this.subscribedWorkspaces)r.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!zt(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,r){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:r}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(r,t||"")}unsubscribe(e){if(e)for(const[t,r]of this.componentDB){for(let l=r.length-1;0<=l;l--)r[l].element===e&&r.splice(l,1);r.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},Bm="VARIABLE_DYNAMIC",gd={CATEGORY_NAME:Bm};gd.flyoutCategory=Ju,gd.flyoutCategoryBlocks=Wo,gd.onCreateVariableButtonClick_Colour=Lc,gd.onCreateVariableButtonClick_Number=Hl,gd.onCreateVariableButtonClick_String=xs;var pT=30,Na=[];Na[Pe.INPUT_VALUE]=Pe.OUTPUT_VALUE,Na[Pe.OUTPUT_VALUE]=Pe.INPUT_VALUE,Na[Pe.NEXT_STATEMENT]=Pe.PREVIOUS_STATEMENT,Na[Pe.PREVIOUS_STATEMENT]=Pe.NEXT_STATEMENT;var Fm="RENAME_VARIABLE_ID",Um="DELETE_VARIABLE_ID",fT=class{canConnect(e,t,r,l){return this.canConnectWithReason(e,t,r,l)===at.CAN_CONNECT}canConnectWithReason(e,t,r,l){const d=this.doSafetyChecks(e,t);return d!==at.CAN_CONNECT?d:this.doTypeChecks(e,t)?r&&!this.doDragChecks(e,t,l||0)?at.REASON_DRAG_CHECKS_FAILED:at.CAN_CONNECT:at.REASON_CHECKS_FAILED}getErrorMessage(e,t,r){switch(e){case at.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case at.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case at.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case at.REASON_TARGET_NULL:return"Target connection is null.";case at.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+r.getCheck());case at.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case at.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case at.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return at.REASON_TARGET_NULL;let r,l,d;return e.isSuperior()?(r=e.getSourceBlock(),l=t.getSourceBlock(),d=t):(l=e.getSourceBlock(),r=t.getSourceBlock(),d=e,e=t),r===l?at.REASON_SELF_CONNECTION:d.type!==Na[e.type]?at.REASON_WRONG_TYPE:r.workspace!==l.workspace?at.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!l.isShadow()?at.REASON_SHADOW_PARENT:d.type===Pe.OUTPUT_VALUE&&l.previousConnection&&l.previousConnection.isConnected()||d.type===Pe.PREVIOUS_STATEMENT&&l.outputConnection&&l.outputConnection.isConnected()?at.REASON_PREVIOUS_AND_OUTPUT:at.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let r=0;r<e.length;r++)if(t.includes(e[r]))return!0;return!1}doDragChecks(e,t,r){if(e.distanceFrom(t)>r||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case Pe.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case Pe.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Pe.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Pe.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return!Zn.includes(t)}canConnectToPrevious_(e,t){return e.targetConnection||Zn.includes(t)?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};a(me.CONNECTION_CHECKER,Er,fT);var Hm=class extends va{constructor(e){super(e),this.type=te.VAR_DELETE,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Hm),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};a(me.EVENT,te.VAR_DELETE,Hm);var Vm=class extends va{constructor(e,t){super(e),this.type=te.VAR_RENAME,e&&(this.oldName=e.name,this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Vm),t.oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};a(me.EVENT,te.VAR_RENAME,Vm);var Gm=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var r=this.getVariable(t,e.type),l=this.workspace.getAllBlocks(!1),d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0);try{r&&r.getId()!==e.getId()?this.renameVariableWithConflict(e,t,r,l):this.renameVariableAndUses(e,t,l)}finally{o.setGroup$$module$build$src$core$events$utils(d)}}}renameVariableById(e,t){const r=this.getVariableById(e);if(!r)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(r,t)}renameVariableAndUses(e,t,r){for(pe(new(I(te.VAR_RENAME))(e,t)),e.name=t,t=0;t<r.length;t++)r[t].updateVarName(e)}renameVariableWithConflict(e,t,r,l){const d=e.type;for(t!==r.name&&this.renameVariableAndUses(r,t,l),t=0;t<l.length;t++)l[t].renameVarById(e.getId(),r.getId());pe(new(I(te.VAR_DELETE))(e)),zt(this.variableMap.get(d),e)}createVariable(e,t,r){var l=this.getVariable(e,t);if(l){if(r&&l.getId()!==r)throw Error('Variable "'+e+'" is already in use and its id is "'+l.getId()+'" which conflicts with the passed in id, "'+r+'".');return l}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');return l=r||x(),t=t||"",l=new tu(this.workspace,e,t,l),e=this.variableMap.get(t)||[],e.push(l),this.variableMap.delete(t),this.variableMap.set(t,e),pe(new(I(te.VAR_CREATE))(l)),l}deleteVariable(e){const t=e.getId(),r=this.variableMap.get(e.type);if(r){for(let l=0;l<r.length;l++)if(r[l].getId()===t){r.splice(l,1),pe(new(I(te.VAR_DELETE))(e)),r.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var r=t.name;const l=this.getVariableUsesById(e);for(let d=0,g;g=l[d];d++)if(g.type==="procedures_defnoreturn"||g.type==="procedures_defreturn"){e=String(g.getFieldValue("NAME")),r=o.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",r).replace("%2",e),bu(r);return}1<l.length?(r=o.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(l.length)).replace("%2",r),ct(r,d=>{d&&t&&this.deleteVariableInternal(t,l)})):this.deleteVariableInternal(t,l)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const r=o.getGroup$$module$build$src$core$events$utils();r||o.setGroup$$module$build$src$core$events$utils(!0);try{for(let l=0;l<t.length;l++)t[l].dispose(!0);this.deleteVariable(e)}finally{o.setGroup$$module$build$src$core$events$utils(r)}}getVariable(e,t){if(t=this.variableMap.get(t||"")){for(let r=0,l;l=t[r];r++)if(o.Names$$module$build$src$core$names.equals(l.name,e))return l}return null}getVariableById(e){for(const t of this.variableMap.values())for(const r of t)if(r.getId()===e)return r;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const r of e.getPotentialVariableMap().variableMap.keys())t.add(r);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const t=[],r=this.workspace.getAllBlocks(!1);for(let l=0;l<r.length;l++){const d=r[l].getVarModels();if(d)for(let g=0;g<d.length;g++)d[g].getId()===e&&t.push(r[l])}return t}},md=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new oT,this.potentialVariableMap=null,this.id=x(),Q(this),this.options=e||new Gi({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(w(me.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new Gm(this)}dispose(){this.listeners.length=0,this.clear(),Re(this)}sortObjects(e,t){const r=Math.sin(Po(md.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+r*e.x-(t.y+r*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!zt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){zt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects.bind(this)),e.filter(r=>!r.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!zt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let r=0;r<t.length;r++)e.push(...t[r].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(r=>!r.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=o.getGroup$$module$build$src$core$events$utils();for(e||o.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();o.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,r){return this.variableMap.createVariable(e,t,r)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const r in e){if(e[r]>this.remainingCapacityOfType(r))return!1;t+=e[r]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,r=e?this.undoStack_:this.redoStack_;const l=t.pop();if(l){for(var d=[l];t.length&&l.group&&l.group===t[t.length-1].group;){const g=t.pop();g&&d.push(g)}for(t=0;t<d.length;t++)r.push(d[t]);o.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(r=0;r<d.length;r++)d[r].run(e)}finally{o.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Ne()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){zt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let r=0;r<t.length;r++)if(!t[r].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new Gm(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return Y(e)}static getAll(){return R()}};md.SCAN_ANGLE=3;var sS=100,gT=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var r=new globalThis.Audio}catch{return}for(let d=0;d<e.length;d++){const g=e[d],y=g.match(/\.(\w+)$/);if(y&&r.canPlayType("audio/"+y[1])){var l=new globalThis.Audio(g);break}}l&&this.sounds.set(t,l)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),ha||fp)break}}play(e,t){if(!this.muted){var r=this.sounds.get(e);r?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<sS||(this.lastSound=e,r=ha||da?r:r.cloneNode(),r.volume=t===void 0?1:t,r.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},lS=20,zi=class extends md{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(w(me.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||zi.setTopLevelWorkspaceMetrics,this.componentManager=new At,this.connectionDBList=dd.init(this.connectionChecker),this.audioManager=new gT(e.parentWorkspace),this.grid=this.options.gridPattern?new Im(this.options.gridPattern,e.gridOptions):null,this.markerManager=new il(this),Es&&this.registerToolboxCategoryCallback(Sa,Es),Ju&&this.registerToolboxCategoryCallback(Bm,Ju),kr&&Ai&&(this.registerToolboxCategoryCallback(eg,Ai),this.addChangeListener(Ku)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new hT(this,this.options.theme||Yf),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Wh(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new Ee(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=Yf),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles(this.getAllBlocks(!1).filter(t=>!!t.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(I(te.THEME_CHANGE))(this.getTheme().name,this.id);pe(e)}updateBlockStyles(e){for(let t=0,r;r=e[t];t++){const l=r.getStyleName();l&&r.setStyle(l)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let t=0,r=0,l=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(l=this.scale);do{const d=pt(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(l=1),t+=d.x*l,r+=d.y*l,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new be(t,r)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Ee(e.width,e.height)}getOriginOffsetInPixels(){return ht(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=le(X.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=le(X.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new Qv(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(Ge(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),Ge(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(w(me.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=w(me.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&z(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&z(e.parentNode)}this.resizeHandlerWrapper&&(it(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=zi.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new Gf(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new Gi({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(w(me.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(w(me.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox&&this.toolbox.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(At.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),r=[];for(let l=0,d;d=e[l];l++){d.position(t,r);const g=d.getBoundingRectangle();g&&r.push(g)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=Ht();be.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const r=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,r.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,r.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(Le()){var e=this.scale,t=-this.scrollY,r=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(r-this.oldLeft))){var l=new(I(te.VIEWPORT_CHANGE))(t,r,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=r,pe(l)}}}translate(e,t){let r;(r=this.layerManager)==null||r.translateLayers(new be(e,t),this.scale);let l;(l=this.grid)==null||l.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let t=e.length-1;0<=t;t--)e[t].queueRender();this.getTopBlocks().flatMap(t=>t.getDescendants(!1)).filter(t=>t.isInsertionMarker()).forEach(t=>t.queueRender()),jn().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,t){if(t===void 0){for(let r=0,l;l=this.highlightedBlocks[r];r++)l.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):zt(this.highlightedBlocks,e),e.setHighlighted(t))}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,r){return e=super.createVariable(e,t,r),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(At.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,r;r=e[t];t++){const l=r.getClientRect();l&&this.dragTargetAreas.push({component:r,clientRect:l})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,r;r=this.dragTargetAreas[t];t++)if(r.clientRect.contains(e.clientX,e.clientY))return r.component;return null}onMouseDown(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){Hu(this,e,t)}moveDrag(e){return Vu(this,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(sl.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||r){var l=Rr(e);if(pa)var d=e.metaKey;t&&(e.ctrlKey||d||!r)?(l=-l.y/50,t=$n(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,l)):(t=this.scrollX-l.x,r=this.scrollY-l.y,e.shiftKey&&!l.x&&(t=this.scrollX-l.y,r=this.scrollY),this.scroll(t,r)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new ft(0,0,0,0);const t=e[0].getBoundingRectangle();for(let l=1;l<e.length;l++){var r=e[l];r.isInsertionMarker&&r.isInsertionMarker()||(r=r.getBoundingRectangle(),r.top<t.top&&(t.top=r.top),r.bottom>t.bottom&&(t.bottom=r.bottom),r.left<t.left&&(t.left=r.left),r.right>t.right&&(t.right=r.right))}return t}cleanUp(){this.setResizesEnabled(!1),o.setGroup$$module$build$src$core$events$utils(!0);var e=this.getTopBlocks(!0),t=e.filter(g=>g.isMovable());const r=e.filter(g=>!g.isMovable()).map(g=>g.getBoundingRectangle());e=function(g){for(const y of r)if(g.intersects(y))return y;return null};var l=0;const d=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const g of t){for(t=g.getBoundingRectangle(),g.moveBy(-t.left,l-t.top,["cleanup"]),g.snapToGrid(),t=g.getBoundingRectangle(),l=e(t);l!=null;)l=l.top+l.getHeight()+d,g.moveBy(0,l-t.top,["cleanup"]),g.snapToGrid(),t=g.getBoundingRectangle(),l=e(t);l=g.getRelativeToSurfaceXY().y+g.getHeightWidth().height+d}o.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=F.registry.getContextMenuOptions(F.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),Dl(e,t,this.RTL,this)}}updateToolbox(e){if(e=mu(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(_u(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Ue(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,r){r=Math.pow(this.options.zoomOptions.scaleSpeed,r);const l=this.scale*r;if(this.scale!==l){l>this.options.zoomOptions.maxScale?r=this.options.zoomOptions.maxScale/this.scale:l<this.options.zoomOptions.minScale&&(r=this.options.zoomOptions.minScale/this.scale);var d=this.getCanvas().getCTM(),g=this.getParentSvg().createSVGPoint();g.x=e,g.y=t,g=g.matrixTransform(d.inverse()),e=g.x,t=g.y,d=d.translate(e*(1-r),t*(1-r)).scale(r),this.scrollX=d.e,this.scrollY=d.f,this.setScale(l)}}zoomCenter(e){var t=this.getMetrics();let r;this.flyout?(r=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(r=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(r,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var r=this.getBlocksBoundingBox(),l=2*lS,d=r.right-r.left+l;if(r=r.bottom-r.top+l,d){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),r+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),d+=this.flyout.getWidth()/this.scale)),t/=d,e/=r,o.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{o.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){Be(this.getCanvas(),"blocklyCanvasTransitioning"),Be(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){S(this.getCanvas(),"blocklyCanvasTransitioning"),S(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,r=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,r=-r-e.scrollTop,this.scroll(t,r)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var r=e?this.getBlockById(e):null;if(r){e=r.getRelativeToSurfaceXY(),r=t?{height:r.height,width:r.width}:r.getHeightWidth();var l=this.scale;t=(e.x+(this.RTL?-1:1)*r.width/2)*l,e=(e.y+r.height/2)*l,r=this.getMetrics(),this.scroll(-(t-r.viewWidth/2),-(e-r.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const r=this.getMetrics();e=Math.min(e,-r.scrollLeft),t=Math.min(t,-r.scrollTop);const l=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);e=Math.max(e,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),t=Math.max(t,-l),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+r.scrollLeft),-(t+r.scrollTop),!1),e+=r.absoluteLeft,t+=r.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){zt(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t=e.type==="pointerdown",r=this.currentGesture_;return r?t&&r.hasStarted()?(console.warn("Tried to start the same gesture twice."),r.cancel(),null):r:t?this.currentGesture_=new sl(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){oo(),wi(this),Ii(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(At.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},Wm=class extends Fr{constructor(e,t,r){super(r),this.type=te.SELECTED,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Wm),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};a(me.EVENT,te.SELECTED,Wm);var Np=class{paste(e,t,r){if(!t.isCapacityAvailable(e.typeCounts))return null;r&&(e.blockState.x=r.x,e.blockState.y=r.y),r=r||new be(e.blockState.x||0,e.blockState.y||0),o.disable$$module$build$src$core$events$utils();let l;try{l=Si(e.blockState,t),zh(l,r)}finally{o.enable$$module$build$src$core$events$utils()}return l&&(Le()&&!l.isShadow()&&pe(new(I(te.BLOCK_CREATE))(l)),o.setSelected$$module$build$src$core$common(l),l)}};Np.TYPE="block",gr(Np.TYPE,new Np);var sg={};sg.bumpIntoBounds=ni,sg.bumpIntoBoundsHandler=Zu,sg.bumpTopObjectsIntoBounds=Vl;var mT=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new be(0,0),this.inGroup=!1,this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,t;return(t=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?t:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.options.readOnly&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,(this.inGroup=!!o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(w(me.CONNECTION_PREVIEWER,this.workspace.options))(this.block),Bn(),this.workspace.setResizesEnabled(!1),Bl(),e=!!e&&(e.altKey||e.ctrlKey||e.metaKey),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var t;(t=this.workspace.getLayerManager())==null||t.moveToDragLayer(this.block)}}startDraggingShadow(e){const t=this.block.getParent();if(!t)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=be.difference(t.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),t.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let t,r,l;if(this.startParentConn=(l=(t=this.block.outputConnection)==null?void 0:t.targetConnection)!=null?l:(r=this.block.previousConnection)==null?void 0:r.targetConnection,e){let d;this.startChildConn=(d=this.block.nextConnection)==null?void 0:d.targetConnection}this.block.unplug(e),Gu(this.block)}fireDragStartEvent(){const e=new(I(te.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));pe(e)}fireDragEndEvent(){const e=new(I(te.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));pe(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(I(te.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),pe(e)}}drag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.drag(be.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,be.difference(e,this.startLoc))}updateConnectionPreview(e,t){var r=this.connectionCandidate;const l=this.getConnectionCandidate(e,t);if(l){this.connectionCandidate=t=r&&this.currCandidateIsBetter(r,t,l)?r:l;var{local:d,neighbour:g}=t;t=d.type===Pe.OUTPUT_VALUE||d.type===Pe.PREVIOUS_STATEMENT,r=g.isConnected()&&!g.targetBlock().isInsertionMarker(),t&&r&&!this.orphanCanConnectAtEnd(e,g.targetBlock(),d.type)?this.connectionPreviewer.previewReplacement(d,g,g.targetBlock()):this.connectionPreviewer.previewConnection(d,g)}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,t,r){return!!at.getConnectionForOrphanedConnection(e,r===Pe.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,r){const{local:l,neighbour:d}=e;e=new be(l.x,l.y);const g=new be(d.x,d.y);return t=be.distance(be.sum(e,t),g),r.distance>t-o.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let r=this.connectionCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius,l=null;for(const d of e){const{connection:g,radius:y}=d.closest(r,t);g&&(l={local:d,neighbour:g,distance:y},r=y)}return l}getLocalConnections(e){const t=e.getConnections_(!1),r=e.lastConnectionInStack(!0);return r&&r!==e.nextConnection&&t.push(r),t}endDrag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.endDrag(e)}else{if(this.fireDragEndEvent(),this.fireMoveEvent(),Yr(),Bl(),this.connectionPreviewer.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let t;(t=this.workspace.getLayerManager())==null||t.moveOffDragLayer(this.block,Z),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep()),this.inGroup||o.setGroup$$module$build$src$core$events$utils(!1)}}disposeStep(){this.block.snapToGrid(),this.connectionPreviewer.dispose(),this.workspace.setResizesEnabled(!0)}applyConnections(e){const{local:t,neighbour:r}=e;t.connect(r);const l=t.isSuperior()?r:t,d=this.block.getRootBlock();jn().then(()=>{Mr(l.getSourceBlock()),setTimeout(()=>{d.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.revertDrag()}else{var e;if((e=this.startChildConn)==null||e.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case Pe.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case Pe.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let t;(t=this.workspace.getLayerManager())==null||t.moveOffDragLayer(this.block,Z),ni(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.connectionPreviewer.hidePreview(),this.connectionCandidate=null,this.block.setDragging(!1),this.dragging=!1}}},$T=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},zm=class extends $T{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===he.types.NEXT||e.getType()===he.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===he.types.PREVIOUS||e.getType()===he.types.OUTPUT)&&(e=e.next());let t,r;return(e=(r=(t=e)==null?void 0:t.in())!=null?r:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===he.types.NEXT||e.getType()===he.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===he.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};a(me.CURSOR,Er,zm);var Mp=class extends zm{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const r=e.in()||e.next();return t(r)?r:r?this.getNextNode_(r,t):(e=this.findSiblingOrParent(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)}getPreviousNode_(e,t){if(!e)return null;let r=e.prev();return r=r?this.getRightMostChild(r):e.out(),t(r)?r:r?this.getPreviousNode_(r,t):null}validNode_(e){let t=!1;return e=e&&e.getType(),(e===he.types.OUTPUT||e===he.types.INPUT||e===he.types.FIELD||e===he.types.NEXT||e===he.types.PREVIOUS||e===he.types.WORKSPACE)&&(t=!0),t}findSiblingOrParent(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};Mp.registrationName="basicCursor",a(me.CURSOR,Mp.registrationName,Mp);var _T=class extends Mp{validNode_(e){let t=!1;const r=e&&e.getType();return e&&(e=e.getLocation(),r===he.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},TT=10,Gr=class extends at{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[Na[t]],this.offsetInBlock=new be(0,0),this.trackedState=Gr.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Gr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e,t=!1){if(!this.sourceBlock_.workspace.isDragging()){var r=o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*TT),l=o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*TT),d=e.sourceBlock_.getRootBlock(),g=this.sourceBlock_.getRootBlock();if(!d.isInFlyout&&!g.isInFlyout){var y=!0;if(g.isMovable())d.isMovable()&&t&&(l=-l);else if(d.isMovable())y=!1,r=-r,l=-l;else return;t=y?e:this,e=y?this:e,d=y?g:d,(g=Oe()===d)||d.addSelect(),d.RTL&&(r=-r),d.moveBy(t.x+r-e.x,t.y+l-e.y,["bump"]),g||d.removeSelect()}}}moveTo(e,t){let r=!1;return this.trackedState===Gr.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Gr.TrackedState.TRACKED,r=!0):this.trackedState===Gr.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),r=!0),this.x=e,this.y=t,r}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=be.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Gr.TrackedState.TRACKED||!e&&this.trackedState===Gr.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Gr.TrackedState.TRACKED):(this.trackedState===Gr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Gr.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const r=e[t],l=r.getConnections_(!0);for(let d=0;d<l.length;d++)l[d].setTracking(!1);for(const d of r.getIcons())xo(d)&&d.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Pe.INPUT_VALUE&&this.type!==Pe.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let r;t.isCollapsed()?(r=[],t.outputConnection&&r.push(t.outputConnection),t.nextConnection&&r.push(t.nextConnection),t.previousConnection&&r.push(t.previousConnection)):r=t.getConnections_(!0);for(let l=0;l<r.length;l++)e.push(...r[l].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(re()){const r=o.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(o.setGroup$$module$build$src$core$events$utils(r),this.bumpAwayFrom(e),o.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),o.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:r}=this.getParentAndChildConnections();if(t&&r){var l=o.getGroup$$module$build$src$core$events$utils();l||o.setGroup$$module$build$src$core$events$utils(!0);var d=t.getSourceBlock(),g=r.getSourceBlock();super.disconnectInternal(e),d.queueRender(),g.updateDisabled(),g.queueRender(),g.getSvgRoot().style.display="block",o.setGroup$$module$build$src$core$events$utils(l)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.updateDisabled(),e.updateDisabled(),e.queueRender(),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Gr),Gr.TrackedState;var ji=class extends uu{constructor(e,t,r){if(super(e,t,r),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new be(0,0),this.dragStrategy=new mT(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=le(X.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,Rl(e),this.svgGroup.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const t of this.getIcons())t.initView(this.createIconPointerDownListener(t)),t.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),e=this.getSvgRoot(),!this.workspace.options.readOnly&&e&&Ge(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()){let e;(e=this.getParent())==null||e.select()}else this.addSelect()}unselect(){if(this.isShadow()){let e;(e=this.getParent())==null||e.unselect()}else this.removeSelect()}setParent(e){const t=this.parentBlock_;if(e!==t){Bn(),super.setParent(e),Yr();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var l=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(r):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(r,e):this.workspace.getCanvas().appendChild(r),this.translate(l.x,l.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,r=0,l=this.getSvgRoot();if(l)do{const d=pt(l);t+=d.x,r+=d.y,l=l.parentNode}while(l&&!e.hasLayer(l));return new be(t,r)}moveBy(e,t,r){if(this.parentBlock_)throw Error("Block has parent");const l=Le();let d=null;l&&(d=new(I(te.BLOCK_MOVE))(this),r&&d.setReason(r)),e=new be(e,t),t=this.getRelativeToSurfaceXY(),e=be.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),l&&d&&(d.recordNew(),pe(d)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new be(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const r=this.getRelativeToSurfaceXY();this.moveBy(e.x-r.x,e.y-r.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const t=this.getRelativeToSurfaceXY();let r,l;return this.RTL?(r=t.x-e.width,l=t.x):(r=t.x,l=t.x+e.width),new ft(t.y,t.y+e.height,r,l)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}updateCollapsed(){var e=this.isCollapsed();const t=Ir,r=Qs;for(let d=0,g;g=this.inputList[d];d++)g.name!==t&&g.setVisible(!e);for(var l of this.getIcons())l.updateCollapsed();e?(e=this.toString(pT),(l=this.getField(r))?l.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Da(e),r)):(this.updateDisabled(),this.removeInput(t))}tab(e,t){const r=new _T;r.setCurNode(he.createFieldNode(e)),e=r.getCurNode(),t?r.next():r.prev(),(t=r.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=F.registry.getContextMenuOptions(F.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(Dl(e,t,this.RTL,this.workspace),gc(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(be.sum(e,t.relativeCoords))}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const r of t.fieldRow)r.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",Zn.push(...this.getConnections_(!0)),Be(this.svgGroup,"blocklyDragging")):(Zn.length=0,S(this.svgGroup,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,t){if(this.disposing=!0,ks(),Uu(),t&&(this.unplug(e),$r(this)),t=Oe(),t instanceof uu){let r=t;for(;r!==null;)r===this&&t.unselect(),r=r.getParent()}super.dispose(!!e),z(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),Oe()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(o.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),o.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:Np.TYPE,blockState:On(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:$t(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let t=0,r;r=this.inputList[t];t++)for(let l=0,d;d=r.fieldRow[l];l++)d.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var r of this.warningTextDb.values())clearTimeout(r);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),r=this.getIcon(cl.TYPE),e){let l=this.getSurroundParent(),d=null;for(;l;)l.isCollapsed()&&(d=l),l=l.getSurroundParent();d&&d.setWarningText(o.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,ji.COLLAPSED_WARNING_ID),r?r.addMessage(e,t):this.addIcon(new cl(this).addMessage(e,t))}else r&&(t?(r.addMessage("",t),r.getText()||this.removeIcon(cl.TYPE)):this.removeIcon(cl.TYPE))}setMutator(e){this.removeIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof o.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),t}setEnabled(e){k("setEnabled","v11","v12","the setDisabledReason method of BlockSvg");const t=this.isEnabled();super.setEnabled(e),this.isEnabled()===t||this.getInheritedDisabled()||this.updateDisabled()}setDisabledReason(e,t){const r=this.isEnabled();super.setDisabledReason(e,t),this.isEnabled()===r||this.getInheritedDisabled()||this.updateDisabled()}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(e=!1){let t=this;if(!t.isDeadOrDying())do{const r=t.getSvgRoot(),l=r.parentNode,d=l.childNodes;if(d[d.length-1]!==r&&l.appendChild(r),e)break;t=t.getParent()}while(t)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.queueRender()}setNextStatement(e,t){super.setNextStatement(e,t),this.queueRender()}setOutput(e,t){super.setOutput(e,t),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,t){return e=super.removeInput(e,t),this.queueRender(),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var r=this.inputList[t].connection;r&&(r.setTracking(e),(r=r.targetBlock())&&r.setConnectionTracking(e))}}getConnections_(e){const t=[];if(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)for(let r=0,l;l=this.inputList[r];r++)l.connection&&t.push(l.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Gr(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let r;(r=t.targetBlock())==null||r.bumpNeighbours()}for(const r of t.neighbours(o.config$$module$build$src$core$config.snapRadius))r.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&r.isConnected()||(t.isSuperior()?r.bumpAwayFrom(t,!1):t.bumpAwayFrom(r,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,t,r){if(e.type===Pe.NEXT_STATEMENT||e.type===Pe.INPUT_VALUE){let l=t.x;t=t.y,l+=r.x-e.getOffsetInBlock().x,t+=r.y-e.getOffsetInBlock().y,this.moveBy(l,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return vl(this)}render(){this.queueRender(),Dr()}renderEfficiently(){Bn(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),Yr(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(il.LOCAL_MARKER).draw();for(const e of this.inputList)for(const t of e.fieldRow)t.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var r=this.getNextBlock();if(r){r=r.getHeightWidth();const l=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=r.height-l,t=Math.max(t,r.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}setDragStrategy(e){this.dragStrategy=e}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,t){this.dragStrategy.drag(e,t)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},On(this)),t=new Set(["id","height","width","pinned","enabled"]),r=function(l){for(const d in l)t.has(d)?delete l[d]:typeof l[d]=="object"&&r(l[d])};return r(e),[e]}};ji.INLINE=-1,ji.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var ET=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},lg=class extends ET{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof ji?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(ar(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},jm=class extends Fr{constructor(e,t){super(t),this.type=te.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new jm),t.isOpen=e.isOpen,t}};a(me.EVENT,te.TRASHCAN_OPEN,jm);var bT=class extends lg{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new Gi({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Ke.TOP?Ke.BOTTOM:Ke.TOP,this.flyout=new(w(me.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Ke.RIGHT?Ke.LEFT:Ke.RIGHT,this.flyout=new(w(me.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=le(X.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=le(X.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),le(X.RECT,{width:$d,height:ug,y:_d},e);const r=le(X.IMAGE,{width:Hn.width,x:-0,height:Hn.height,y:-32,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return r.setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),e=le(X.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),le(X.RECT,{width:$d,height:_d},e),this.svgLid=le(X.IMAGE,{width:Hn.width,x:-0,height:Hn.height,y:-32,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),st(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),st(this.svgGroup,"pointerup",this,this.click),st(r,"pointerover",this,this.mouseOver),st(r,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(we(this.flyout.createDom(X.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[At.Capability.AUTOHIDEABLE,At.Capability.DELETE_AREA,At.Capability.DRAG_TARGET,At.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&z(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(r){return JSON.parse(r)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let r;(r=this.flyout)==null||r.show(e),t.cursor="";let l;(l=this.workspace.scrollbar)==null||l.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var r=yl(this.workspace,e);e=ja(r,new Ee($d,ug+_d),uS,yT,e,this.workspace),t=Eu(e,yT,r.vertical===mo.TOP?$o.DOWN:$o.UP,t),this.top=t.top,this.left=t.left;var l;(l=this.svgGroup)==null||l.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new ft(this.top,this.top+ug+_d,this.left,this.left+$d)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+cS-ag;return e=e.left+aS-ag,new ft(t,t+_d+ug+2*ag,e,e+$d+2*ag)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=pS;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*ST),t=vT+this.lidOpen*(fS-vT),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),hS/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===Ke.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let r;(r=this.svgLid)==null||r.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:$d-4)+","+(_d-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*ST)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(I(te.TRASHCAN_OPEN))(e,this.workspace.id),pe(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||!K(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(dS)}}}cleanBlockJson(e){function t(r){if(r){if(delete r.id,delete r.x,delete r.y,delete r.enabled,delete r.disabledReasons,r.icons&&r.icons.comment){var l=r.icons.comment;delete l.height,delete l.width,delete l.pinned}l=r.inputs;for(var d in l){var g=l[d];const y=g.block;g=g.shadow,y&&t(y),g&&t(g)}r.next&&(d=r.next,r=d.block,d=d.shadow,r&&t(r),d&&t(d))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},$d=47,ug=44,_d=16,yT=20,uS=20,ag=10,aS=0,cS=32,dS=.1,hS=80,pS=4,vT=.4,fS=.8,ST=45,mt=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),t=e.keyCodes,t!=null&&t.length)for(const r of t)this.addKeyMapping(r,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,r){e=`${e}`;const l=this.keyMap.get(e);if(l&&!r)throw Error(`Shortcut named "${t}" collides with shortcuts "${l}"`);l&&r?l.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,r){const l=this.keyMap.get(e);if(!l)return r||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const d=l.indexOf(t);return-1<d?(l.splice(d,1),l.length===0&&this.keyMap.delete(e),!0):(r||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,r]of this.keyMap)e[t]=r;return e}getRegistry(){const e=Object.create(null);for(const[t,r]of this.shortcuts)e[t]=r;return Tr(Object.create(null),e)}onKeyDown(e,t){var r=this.serializeKeyEvent(t);if(r=this.getShortcutNamesByKeyCode(r),!r)return!1;for(const l of r){if(r=this.shortcuts.get(l),!r||r.preconditionFn&&!r.preconditionFn(e))continue;let d,g;if((g=(d=r).callback)!=null&&g.call(d,e,t,r))return!0}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[r,l]of this.keyMap)-1<l.indexOf(e)&&t.push(r);return t}serializeKeyEvent(e){let t="";for(const r in mt.modifierKeys)e.getModifierState(r)&&(t!==""&&(t+="+"),t+=r);return t!==""&&e.keyCode?t+="+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers(e){for(const t of e)if(!(t in mt.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let r="";if(t){this.checkModifiers(t);for(const l in mt.modifierKeys)t.includes(mt.modifierKeys[l])&&(r!==""&&(r+="+"),r+=l)}return r!==""&&e?r+="+"+e:e&&(r=`${e}`),r}};mt.registry=new mt,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(mt);var Xm=null,Km=null,gS={duplicateInternal:Dc,copyInternal:Ps},xp={};xp.BlockPaster=Np,xp.TEST_ONLY=gS,xp.paste=gn,xp.registry=Yo;var is;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(is||(is={}));var au=null,cu=null,Td=null;Mc();var os={};os.names=is,os.registerCopy=ea,os.registerCut=Nc,os.registerDefaultShortcuts=Mc,os.registerDelete=Ni,os.registerEscape=ri,os.registerPaste=ii,os.registerRedo=Wl,os.registerUndo=Mi;var mS=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=td}save(e){return e=e.getProcedureMap().getProcedures().map(t=>zl(t)),e.length?e:null}load(e,t){const r=t.getProcedureMap();for(const l of e)r.add(xc(this.procedureModelClass,this.parameterModelClass,l,t))}clear(e){e.getProcedureMap().clear()}},cg={};cg.ProcedureSerializer=mS,cg.loadProcedure=xc,cg.saveProcedure=zl;var IT=class{constructor(){this.priority=_a}save(e){const t=[];for(const r of e.getAllVariables())e={name:r.name,id:r.getId()},r.type&&(e.type=r.type),t.push(e);return t.length?t:null}load(e,t){for(const r of e)t.createVariable(r.name,r.type,r.id)}clear(e){e.getVariableMap().clear()}};Lo("variables",new IT);var CT={};CT.VariableSerializer=IT;var Ym={};Ym.load=oi,Ym.save=jl;var $S={blocks:di,exceptions:Zo,priorities:yn,procedures:cg,registry:tn,variables:CT,workspaceComments:Vn,workspaces:Ym},Jm=class{constructor(e,t,r,l,d){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,r=r===void 0?!0:r;const g=t&&r;t&&(this.hScroll=new Vt(e,!0,g,l,d)),r&&(this.vScroll=new Vt(e,!1,g,l,d)),g&&(this.corner_=le(X.RECT,{height:Vt.scrollbarThickness,width:Vt.scrollbarThickness,class:"blocklyScrollbarBackground"}),we(this.corner_,e.getBubbleCanvas()))}dispose(){z(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,r=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(r=!0)):r=t=!0,t||r){try{o.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&r&&this.vScroll.resize(e)}finally{o.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let l;(l=this.corner_)==null||l.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let l;(l=this.corner_)==null||l.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,r){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(r||r===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},qm=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,r=0;return e&&(t=e.getWidth(),r=e.getHeight()),new Ee(t,r)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const r=this.getToolboxMetrics(),l=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var g;const y=!((g=this.workspace_.getFlyout())!=null&&g.autoClose);g=d?r.position:l.position;const P=g===Ke.TOP;return g===Ke.LEFT&&(d&&(e+=r.width),y&&(e+=l.width)),P&&(d&&(t+=r.height),y&&(t+=l.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),r=this.getToolboxMetrics(),l=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var g;const y=!((g=this.workspace_.getFlyout())!=null&&g.autoClose);g=d?r.position:l.position;const P=g===Ke.LEFT||g===Ke.RIGHT;return(g===Ke.TOP||g===Ke.BOTTOM)&&(d&&(t.height-=r.height),y&&(t.height-=l.height)),P&&(d&&(t.width-=r.width),y&&(t.width-=l.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),r=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const l={};return r||(l.top=e.top,l.bottom=e.top+e.height),t||(l.left=e.left,l.right=e.left+e.width),l}getPaddedContent_(e,t){const r=t.top+t.height,l=t.left+t.width,d=e.width;e=e.height;const g=d/2,y=e/2;return{top:Math.min(t.top-y,r-e),bottom:Math.max(r+y,t.top+e),left:Math.min(t.left-g,l-d),right:Math.max(l+g,t.left+d)}}getScrollMetrics(e,t,r){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var l=r||this.getContentMetrics();r=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,l),l=r.top!==void 0?r.top:t.top;const d=r.left!==void 0?r.left:t.left;return{top:l/e,left:d/e,width:((r.right!==void 0?r.right:t.right)-d)/e,height:((r.bottom!==void 0?r.bottom:t.bottom)-l)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),r=this.getSvgMetrics(),l=this.getAbsoluteMetrics(),d=this.getViewMetrics(),g=this.getContentMetrics(),y=this.getScrollMetrics(!1,d,g);return{contentHeight:g.height,contentWidth:g.width,contentTop:g.top,contentLeft:g.left,scrollHeight:y.height,scrollWidth:y.width,scrollTop:y.top,scrollLeft:y.left,viewHeight:d.height,viewWidth:d.width,viewTop:d.top,viewLeft:d.left,absoluteTop:l.top,absoluteLeft:l.left,svgHeight:r.height,svgWidth:r.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};a(me.METRICS_MANAGER,Er,qm),"Blockly"in globalThis||(globalThis.Blockly={Msg:rd});var wT=class extends ng{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&z(this.selectedGlowFilter),this.replacementGlowFilter&&z(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,r=Zt("c",[We(25,-e),We(71,-e),We(t,0)]);return{height:e,width:t,path:r}}makeHexagonal(){function e(r,l,d){var g=r/2;return g=g>t?t:g,d=d?-1:1,r=(l?-1:1)*r/2,Zr(-d*g,r)+Zr(d*g,r)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(r){return r/=2,r>t?t:r},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}makeRounded(){function e(l,d,g){const y=l>r?l-r:0;l=(l>r?r:l)/2;const P=g===d?"0":"1";return kt("a","0 0,"+P,l,We((g?1:-1)*l,(d?-1:1)*l))+Ae("v",(d?-1:1)*y)+kt("a","0 0,"+P,l,We((g?-1:1)*l,(d?-1:1)*l))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width(l){return l/=2,l>t?t:l},height(l){return l},connectionOffsetY(l){return l/2},connectionOffsetX(l){return-l},pathDown(l){return e(l,!1,!1)},pathUp(l){return e(l,!0,!1)},pathRightDown(l){return e(l,!1,!0)},pathRightUp(l){return e(l,!1,!0)}}}makeSquared(){function e(r,l,d){r-=2*t;const g=d===l?"0":"1";return kt("a","0 0,"+g,t,We((d?1:-1)*t,(l?-1:1)*t))+Ae("v",(l?-1:1)*r)+kt("a","0 0,"+g,t,We((d?-1:1)*t,(l?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(r){return t},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case Pe.INPUT_VALUE:case Pe.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.includes("Boolean")?this.HEXAGONAL:t&&t.includes("Number")?this.ROUNDED:(t&&t.includes("String"),this.ROUNDED);case Pe.PREVIOUS_STATEMENT:case Pe.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(xe){return Zt("c",[We(xe*d/2,0),We(xe*d*3/4,y/2),We(xe*d,y)])+Fl([We(xe*d,g)])+Zt("c",[We(xe*d/4,y/2),We(xe*d/2,y),We(xe*d,y)])+Ae("h",xe*l)+Zt("c",[We(xe*d/2,0),We(xe*d*3/4,-(y/2)),We(xe*d,-y)])+Fl([We(xe*d,-g)])+Zt("c",[We(xe*d/4,-(y/2)),We(xe*d/2,-y),We(xe*d,-y)])}const t=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,l=t/3,d=l/3,g=r/2,y=g/2,P=e(1),ce=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:r,pathLeft:P,pathRight:ce}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=kt("a","0 0,0",e,We(-e,e)),r=kt("a","0 0,1",e,We(-e,e)),l=kt("a","0 0,0",e,We(e,e)),d=kt("a","0 0,1",e,We(e,e));return{width:e,height:e,pathTop:t,pathBottom:l,rightWidth:e,rightHeight:e,pathTopRight:r,pathBottomRight:d}}generateSecondaryColour_(e){return Qr("#000",e,.15)||e}generateTertiaryColour_(e){return Qr("#000",e,.25)||e}createDom(e,t,r){super.createDom(e,t,r),e=le(X.DEFS,{},e),t=le(X.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),le(X.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),r=le(X.FECOMPONENTTRANSFER,{result:"outBlur"},t),le(X.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),le(X.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),le(X.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=le(X.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),le(X.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=le(X.FECOMPONENTTRANSFER,{result:"outBlur"},e),le(X.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),le(X.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),le(X.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),le(X.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},kT=class extends rg{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(G.isSpacer(e)){const l=e.precedesStatement;var t=e.followsStatement;if(l||t){const d=this.constants_.INSIDE_CORNERS;var r=d.rightHeight;r=e.height-(l?r:0),t=t?d.pathBottomRight:"",e=0<r?Ae("V",e.yPos+r):"",this.outlinePath_+=t+e+(l?d.pathTopRight:"");return}}this.outlinePath_+=Ae("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=St(e.xPos,this.info_.startY),this.outlinePath_+=Ae("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=Ae("V",e.baseline),this.outlinePath_+=Ae("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=en(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-2*e.connectionWidth,r=e.height;return Ae("h",t)+e.shape.pathRightDown(r)+Ae("h",-t)+e.shape.pathUp(r)+"z"}drawStatementInput_(e){var t=e.getLastInput();const r=t.xPos+t.notchOffset+t.shape.width,l=this.constants_.INSIDE_CORNERS,d=t.shape.pathRight+Ae("h",-(t.notchOffset-l.width))+l.pathTop,g=e.height-2*l.height;t=l.pathBottom+Ae("h",t.notchOffset-l.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=Ae("H",r)+d+Ae("v",g)+t+Ae("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===Pe.NEXT_STATEMENT||t.type===Pe.PREVIOUS_STATEMENT||t.type===Pe.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=t.type===Pe.INPUT_VALUE?en(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):en(e.width,-e.height/2)+e.shape.pathDown(e.height);var r=t.getSourceBlock(),l,d;(d=(l=r.pathObject).addConnectionHighlight)==null||d.call(l,t,e,t.getOffsetInBlock(),r.RTL)}}},Ma=class extends f{constructor(e,t,r,l,d,g,y){if(super(f.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",r=Number(Xt(r)),t=Number(Xt(t)),isNaN(r)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Ee(t,r+Ma.Y_PADDING),this.imageHeight=r,typeof d=="function"&&(this.clickHandler=d),e!==f.SKIP_SETUP&&(y?this.configure_(y):(this.flipRtl=!!g,this.altText=Xt(l)||""),this.setValue(Xt(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Xt(e.alt))}initView(){this.imageElement=le(X.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(dr,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(dr,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Ma.Y_PADDING=1,Kn("field_image",Ma),Ma.prototype.DEFAULT_VALUE="";var dg=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==f.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new $;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new $;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,t=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&Le()&&this.value_!==e&&t&&pe(new(I(te.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new $;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(S(e,"blocklyInvalidInput"),_n(e,Yt.INVALID,!1)):(Be(e,"blocklyInvalidInput"),_n(e,Yt.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new $;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(Jc||da||ha)?this.showPromptEditor():this.showInlineEditor(t)}showPromptEditor(){Il(o.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e){const t=this.getSourceBlock();if(!t)throw new $;Fo(this,t.RTL,this.widgetDispose_.bind(this),this.workspace_),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new $;o.setGroup$$module$build$src$core$events$utils(!0);const t=Rs();var r=this.getClickTarget_();if(!r)throw Error("A click target has not been set.");Be(r,"editing"),r=document.createElement("input"),r.className="blocklyHtmlInput",r.setAttribute("spellcheck",this.spellcheck_);const l=this.workspace_.getScale();var d=this.getConstants().FIELD_TEXT_FONTSIZE*l+"pt";return t.style.fontSize=d,r.style.fontSize=d,d=dg.BORDERRADIUS*l+"px",this.isFullBlockField()&&(d=this.getScaledBBox(),d=(d.bottom-d.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,r.style.border=1*l+"px solid "+e,t.style.borderRadius=d,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*l+"px")),r.style.borderRadius=d,t.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(r),r}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&Le()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(pe(new(I(te.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),o.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=Rs().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");S(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=Ge(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper=Ge(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(it(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onKeyInputWrapper&&(it(this.onKeyInputWrapper),this.onKeyInputWrapper=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(Ci(this),Ii()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Ci(this),Ii()):e.key==="Tab"&&(Ci(this),Ii(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&Le()&&this.value_!==e&&pe(new(I(te.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){jn().then(()=>{const e=this.getSourceBlock();if(!e)throw new $;const t=Rs(),r=this.getScaledBBox();t.style.width=r.right-r.left+"px",t.style.height=r.bottom-r.top+"px";const l=r.top;t.style.left=`${e.RTL?r.right-t.offsetWidth:r.left}px`,t.style.top=`${l}px`})}repositionForWindowResize(){let e;const t=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return t instanceof ji?(ni(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t)||this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};dg.BORDERRADIUS=4;var hg=class extends dg{constructor(e,t,r){super(e,t,r)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Xt(e.text),void 0,e)}};Kn("field_input",hg),hg.prototype.DEFAULT_VALUE="";var OT=class extends Om{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},pg=class extends Rp{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},RT=class extends ns{constructor(e){super(e),this.width=this.height=0,this.type|=G.getType("RIGHT_CONNECTION")}},LT=class extends Nm{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},AT=class extends Dp{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new LT(this.constants_),this.bottomRow=new OT(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new RT(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof hl||e instanceof gi||t instanceof gi?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof rs||e instanceof hl?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&G.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&G.isLeftRoundedCorner(e)&&t&&(G.isPreviousConnection(t)||G.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&G.isLeftSquareCorner(e)&&t&&G.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(G.isTopRow(e)&&G.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const r=G.isInputRow(e)&&e.hasStatement,l=G.isInputRow(t)&&t.hasStatement;return l||r?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),l&&r?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):G.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):G.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const r=this.width-this.startX;return G.isInputRow(e)&&e.hasStatement||G.isInputRow(t)&&t.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r}getElemCenterline_(e,t){if(e.hasStatement&&!G.isSpacer(t)&&!G.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(G.isInlineInput(t)&&t instanceof lu){const r=t.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return e.yPos+r.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof rs||e instanceof hl)&&t.hasDummyInput&&t.align===o.Align$$module$build$src$core$inputs$align.LEFT&&e.align===o.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof gi){t.elements.push(new pg(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let r;for(let l=0;l<e.elements.length;l++){const d=e.elements[l];if(G.isSpacer(d)&&(r=d),G.isField(d)&&d instanceof pd&&d.parentInput===this.rightAlignedDummyInputs.get(e))break}if(r){r.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let d=2;d<this.rows.length-1;d+=2){var r=this.rows[d-1];const g=this.rows[d];var l=this.rows[d+1];if(r=d===2?!!this.topRow.hasPreviousConnection:!!r.followsStatement,l=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!l.precedesStatement,G.isInputRow(g)&&g.hasStatement){g.measure();let y,P;t=g.width-((P=(y=g.getLastInput())==null?void 0:y.width)!=null?P:0)+e}else if(r&&(d===2||l)&&G.isInputRow(g)&&!g.hasStatement){l=g.xPos,r=null;for(let y=0;y<g.elements.length;y++){const P=g.elements[y];G.isSpacer(P)&&(r=P),r&&(G.isField(P)||G.isInput(P))&&l<t&&!(G.isField(P)&&P instanceof pd&&(P.field instanceof Da||P.field instanceof Ma))&&(r.width+=t-l),l+=P.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,r=0;r<this.rows.length;r++){const l=this.rows[r];l.yPos=t,t+=l.height}this.height=t,r=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(r),r=e.width(r),this.outputConnection.height=t,this.outputConnection.width=r,this.outputConnection.startX=r,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(r),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=r,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=r,this.width+=r+e,this.widthWithChildren+=r+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var r=this.rows[t];if(!G.isInputRow(r))continue;e=r.elements[r.elements.length-2];let l=this.getNegativeSpacing_(r.elements[1]),d=this.getNegativeSpacing_(e);e=l+d;const g=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<g&&(e=this.width-g,l=e/2,d=e/2),r.elements.unshift(new fi(this.constants_,-l)),r.elements.push(new fi(this.constants_,-d))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)r=this.rows[t],G.isTopOrBottomRow(r)&&(r.elements[1].width-=e),r.width-=e,r.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var r=this.outputConnection.shape.type;const l=this.constants_;if(1<this.inputRows.length)switch(r){case l.SHAPES.ROUND:return r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=this.height/2>r?r:this.height/2,t-r*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)));default:return 0}if(G.isInlineInput(e)&&e instanceof lu){const d=e.connectedBlock;return e=d?d.pathObject.outputShapeType:e.shape.type,e==null||d&&d.outputConnection&&(d.statementInputCount||d.nextConnection)||r===l.SHAPES.HEXAGONAL&&r!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[r][e]}return G.isField(e)&&e instanceof pd?r===l.SHAPES.ROUND&&e.field instanceof hg?t-2.75*l.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:G.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let l=2;l<this.rows.length-1;l+=2){const d=this.rows[l-1],g=this.rows[l],y=this.rows[l+1];var e=l===2,t=l+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!y.precedesStatement;if(e?this.topRow.hasPreviousConnection:d.followsStatement){var r=g.elements[1];if(r=g.elements.length===3&&r instanceof pd&&(r.field instanceof Da||r.field instanceof Ma),!e&&r)d.height-=this.constants_.SMALL_PADDING,y.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)d.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<g.elements.length;t++)if(r=g.elements[t],r instanceof lu&&G.isInlineInput(r)&&r.connectedBlock&&!r.connectedBlock.isShadow()&&40<=r.connectedBlock.getHeightWidth().height){e=!0;break}e&&(d.height-=this.constants_.SMALL_PADDING,y.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},DT=class extends Pm{constructor(e,t,r){super(e,t,r),this.markerCircle=null}showWithInputOutput(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){e=e.getLocation();const t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,t){let r;(r=this.markerCircle)==null||r.setAttribute("cx",`${e}`);let l;(l=this.markerCircle)==null||l.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=le(X.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();le(X.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let t;(t=this.markerCircle)==null||t.setAttribute("fill",this.colour_);let r;if((r=this.markerCircle)==null||r.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let l;(l=this.markerCircle)==null||l.firstElementChild.setAttribute("values",e)}}},NT=class extends ig{constructor(e,t,r){super(e,t,r),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=r}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const r of this.outlines.values())r.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,le(X.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,r;(t=this.outlines.get(e))==null||(r=t.parentNode)==null||r.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},Qm=class extends og{constructor(e){super(e)}makeConstants_(){return new wT}makeRenderInfo_(e){return new AT(this,e)}makeDrawer_(e,t){return new kT(e,t)}makeMarkerDrawer(e,t){return new DT(e,this.getConstants(),t)}makePathObject(e,t){return new NT(e,t,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,t,r){return k("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===Pe.OUTPUT_VALUE?e.isConnected()?So.PREVIEW_TYPE.REPLACEMENT_FADE:So.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,r)}};Di("zelos",Qm);var MT=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,r){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=r,r.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{o.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{o.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===Pe.PREVIOUS_STATEMENT||t.type===Pe.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof Qm)}previewMarker(e,t){const r=e.getSourceBlock(),l=this.createInsertionMarker(r),d=this.getMatchingConnection(r,l,e);if(!d)return null;l.queueRender(),Dr(),d.connect(t);const g={x:t.x-d.x,y:t.y-d.y},y=d.getOffsetInBlock().clone();return jn().then(()=>{if(!l.isDeadOrDying()){o.disable$$module$build$src$core$events$utils();try{l==null||l.positionNearConnection(d,g,y),l==null||l.getSvgRoot().setAttribute("visibility","visible")}finally{o.enable$$module$build$src$core$events$utils()}}}),d}createInsertionMarker(e){const t=On(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!t)throw Error(`Failed to serialize source block. ${e.toDevString()}`);e=Si(t,this.workspace);for(const r of e.getDescendants(!1))r.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,t,r){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let l=0;l<e.length;l++)if(e[l]===r)return t[l];return null}hidePreview(){o.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{o.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),r=t.outputConnection;let l;if((l=t.previousConnection)!=null&&l.targetConnection||r!=null&&r.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};a(me.CONNECTION_PREVIEWER,Er,MT);var du={};du.Align=o.Align$$module$build$src$core$inputs$align,du.DummyInput=rs,du.EndRowInput=hl,du.Input=fd,du.StatementInput=gi,du.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input,du.inputTypes=o.inputTypes$$module$build$src$core$inputs$input_types;var xT=!1,PT;o.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Se());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let r=0,l;l=e[r];r++){let d=this.blockToCode(l);Array.isArray(d)&&(d=d[0]),d&&(l.outputConnection&&(d=this.scrubNakedValue(d),this.STATEMENT_PREFIX&&!l.suppressPrefixSuffix&&(d=this.injectId(this.STATEMENT_PREFIX,l)+d),this.STATEMENT_SUFFIX&&!l.suppressPrefixSuffix&&(d+=this.injectId(this.STATEMENT_SUFFIX,l))),t.push(d))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let r=0;r<e.length;r++){const l=e[r].getCommentText();l&&t.push(l)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var r=this.forBlock[e.type];if(typeof r!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(r=r.call(e,e,this),Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,r[0],t),r[1]]}if(typeof r=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,e)+r),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,r,t);if(r===null)return"";throw SyntaxError("Invalid code generated: "+r)}valueToCode(e,t,r){if(isNaN(r))throw TypeError("Expecting valid order from block: "+e.type);var l=e.getInputTargetBlock(t);if(!l&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(!l||(t=this.blockToCode(l),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${l.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+l.type);if(!e)return"";l=!1;var d=Math.floor(r);const g=Math.floor(t);if(d<=g&&(d!==g||d!==0&&d!==99)){for(l=!0,d=0;d<this.ORDER_OVERRIDES.length;d++)if(this.ORDER_OVERRIDES[d][0]===r&&this.ORDER_OVERRIDES[d][1]===t){l=!1;break}}return l&&(e="("+e+")"),e}statementToCode(e,t){const r=e.getInputTargetBlock(t);if(!r&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(r),typeof e!="string")throw TypeError("Expecting code from statement block: "+(r&&r.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const r=this.nameDB_.getDistinctName(e,o.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=r,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);let l;for(;l!==t;)l=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,o.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,o.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,r){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},PT={},PT.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator;var BT=class extends qm{constructor(e,t){super(e),this.flyout_=t}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,r){return t=r||this.getContentMetrics(),r=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*r)/e,width:(t.width+t.left+r)/e,top:0,left:0}}},Ed;(function(e){e.BLOCK="block",e.BUTTON="button"})(Ed||(Ed={}));var _S="WORKSPACE_AT_BLOCK_CAPACITY",fg=class extends lg{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.contents=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new zi(e),this.workspace_.setMetricsManager(new BT(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.id=x(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=le(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=le(X.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Jm(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(Ge(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(Ge(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.FLYOUT_WEIGHT,capabilities:[At.Capability.AUTOHIDEABLE,At.Capability.DELETE_AREA,At.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)it(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&z(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const t=e!==this.isVisible();this.visible=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,r,l){let d;(d=this.svgGroup_)==null||d.setAttribute("width",`${e}`);let g;(g=this.svgGroup_)==null||g.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&_t(this.svgGroup_,"translate("+r+"px,"+l+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(r,l),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)it(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=$u(e),e=this.createFlyoutInfo(e),Dr(this.workspace_),this.setContents(e.contents),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const t=[],r=[];this.permanentlyDisabled.length=0;const l=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of e){if("custom"in d){e=this.getDynamicCategoryContents(d.custom),e=$u(e);const{contents:g,gaps:y}=this.createFlyoutInfo(e);t.push(...g),r.push(...y)}switch(d.kind.toUpperCase()){case"BLOCK":e=d;const g=this.createFlyoutBlock(e);t.push({type:Ed.BLOCK,block:g}),this.addBlockGap(e,r,l);break;case"SEP":this.addSeparatorGap(d,r,l);break;case"LABEL":e=this.createButton(d,!0),t.push({type:Ed.BUTTON,button:e}),r.push(l);break;case"BUTTON":e=this.createButton(d,!1),t.push({type:Ed.BUTTON,button:e}),r.push(l)}}return{contents:t,gaps:r}}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,t){return new Wi(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock(e){let t;return e.blockxml?(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=ki(e,this.workspace_))):(t=this.getRecycledBlock(e.type),t||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[Nn]),t=mr(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled.push(t),t}getRecycledBlock(e){let t=-1;for(let r=0;r<this.recycledBlocks.length;r++)if(this.recycledBlocks[r].type===e){t=r;break}return t===-1?void 0:this.recycledBlocks.splice(t,1)[0]}addBlockGap(e,t,r){let l;e.gap?l=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,l=parseInt(e.getAttribute("gap"))),t.push(!l||isNaN(l)?r:l)}addSeparatorGap(e,t,r){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(r)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let r=0,l;l=e[r];r++)this.blockIsRecyclable_(l)?this.recycleBlock(l):l.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const r=this.mats[e];r&&(ic(r),z(r))}this.mats.length=0;for(let r=0,l;l=this.buttons_[r];r++)l.dispose();this.buttons_.length=0;let t;(t=this.workspace_.getPotentialVariableMap())==null||t.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}addBlockListeners_(e,t,r){this.listeners.push(Ge(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(Ge(r,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(st(e,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(st(e,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()})),this.listeners.push(st(r,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(st(r,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()}))}blockMouseDown(e){return t=>{const r=this.targetWorkspace.getGesture(t);r&&(r.setStartBlock(e),r.handleFlyoutStart(t,this))}}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;o.disable$$module$build$src$core$events$utils();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{o.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=vu(this.targetWorkspace,r),Le()){for(o.setGroup$$module$build$src$core$events$utils(!0),r=0;r<e.length;r++){const l=e[r];pe(new(I(te.VAR_CREATE))(l))}pe(new(I(te.BLOCK_CREATE))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}initFlyoutButton_(e,t,r){const l=e.createDom();e.moveTo(t,r),e.show(),this.listeners.push(Ge(l,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,t,r,l,d){return t=le(X.RECT,{"fill-opacity":0,x:t,y:r,height:l.height,width:l.width}),t.tooltip=e,Rl(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[d]=t}moveRectToBlock_(e,t){const r=t.getHeightWidth();e.setAttribute("width",String(r.width)),e.setAttribute("height",String(r.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-r.width:t.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let t=0,r;r=e[t];t++)if(!this.permanentlyDisabled.includes(r)){const l=this.targetWorkspace.isCapacityAvailable($t(r));for(;r;)r.setDisabledReason(!l,_S),r=r.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const r=this.serializeBlock(e);return t.setResizesEnabled(!1),t=Si(r,t),this.positionNewBlock(e,t),t}serializeBlock(e){return On(e)}positionNewBlock(e,t){const r=this.targetWorkspace;var l=r.getOriginOffsetInPixels(),d=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),d=be.sum(d,e),l=be.difference(d,l),l.scale(1/r.scale),t.moveTo(new be(l.x,l.y))}};fg.FlyoutItemType=Ed;var Zm=class extends fg{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),r=t.getScrollMetrics(),l=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(r.top+(r.height-l.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),r=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Ke.LEFT?e.width:r.width-this.width_:this.toolboxPosition_===Ke.LEFT?0:r.width:this.toolboxPosition_===Ke.LEFT?0:r.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const r=this.toolboxPosition_===Ke.RIGHT;var l=e+this.CORNER_RADIUS;l=["M "+(r?l:0)+",0"],l.push("h",r?-e:e),l.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),l.push("v",Math.max(0,t)),l.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),l.push("h",r?e:-e),l.push("z"),this.svgBackground_.setAttribute("d",l.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=Rr(e);if(t.y){const r=this.workspace_.getMetricsManager(),l=r.getScrollMetrics();t=r.getViewMetrics().top-l.top+t.y;let d;(d=this.workspace_.scrollbar)==null||d.setY(t),wi(this.workspace_),Ii()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var r=this.MARGIN;const l=this.RTL?r:r+this.tabWidth_;for(let P=0,ce;ce=e[P];P++)if(ce.type==="block"){var d=ce.block;if(!d)continue;var g=d.getDescendants(!1);for(let Bt=0,Nt;Nt=g[Bt];Bt++)Nt.isInFlyout=!0;g=d.getSvgRoot();const xe=d.getHeightWidth();var y=d.outputConnection?l-this.tabWidth_:l;d.moveBy(y,r),y=this.createRect_(d,this.RTL?y-xe.width:y,r,xe,P),this.addBlockListeners_(g,d,y),r+=xe.height+t[P]}else ce.type==="button"&&(d=ce.button,this.initFlyoutButton_(d,l,r),r+=d.height+t[P])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Ke.LEFT?new ft(-1e9,1e9,-1e9,t+e.width):new ft(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let l=0,d;d=t[l];l++){var r=d.getHeightWidth().width;d.outputConnection&&(r-=this.tabWidth_),e=Math.max(e,r)}for(let l=0,d;d=this.buttons_[l];l++)e=Math.max(e,d.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=Vt.scrollbarThickness,this.width_!==e){for(let l=0,d;d=t[l];l++){if(this.RTL){r=d.getRelativeToSurfaceXY().x;let g=e/this.workspace_.scale-this.MARGIN;d.outputConnection||(g-=this.tabWidth_),d.moveBy(g-r,0)}this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d)}if(this.RTL)for(let l=0,d;d=this.buttons_[l];l++)t=d.getPosition().y,d.moveTo(e/this.workspace_.scale-d.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Ke.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};Zm.registryName="verticalFlyout",a(me.FLYOUTS_VERTICAL_TOOLBOX,Er,Zm);var FT=class extends fg{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),r=t.getScrollMetrics(),l=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(r.left+(r.width-l.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),r=e.getViewMetrics();e=e.getToolboxMetrics();const l=this.toolboxPosition_===Ke.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?l?e.height:r.height-this.height_:l?0:r.height:l?0:r.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const r=this.toolboxPosition_===Ke.TOP,l=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(l.push("h",e+2*this.CORNER_RADIUS),l.push("v",t),l.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),l.push("h",-e),l.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(l.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),l.push("h",e),l.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),l.push("v",t),l.push("h",-e-2*this.CORNER_RADIUS)),l.push("z"),this.svgBackground_.setAttribute("d",l.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=Rr(e);if(t=t.x||t.y){const r=this.workspace_.getMetricsManager(),l=r.getScrollMetrics();t=r.getViewMetrics().left-l.left+t;let d;(d=this.workspace_.scrollbar)==null||d.setX(t),wi(this.workspace_),Ii()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const r=this.MARGIN;let l=r+this.tabWidth_;this.RTL&&(e=e.reverse());for(let P=0,ce;ce=e[P];P++)if(ce.type==="block"){var d=ce.block;if(d==null)continue;var g=d.getDescendants(!1);for(let Bt=0,Nt;Nt=g[Bt];Bt++)Nt.isInFlyout=!0;g=d.getSvgRoot();const xe=d.getHeightWidth();var y=d.outputConnection?this.tabWidth_:0;y=this.RTL?l+xe.width:l-y,d.moveBy(y,r),y=this.createRect_(d,y,r,xe,P),l+=xe.width+t[P],this.addBlockListeners_(g,d,y)}else ce.type==="button"&&(d=ce.button,this.initFlyoutButton_(d,l,r),l+=d.width+t[P])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Ke.TOP?new ft(-1e9,t+e.height,-1e9,1e9):new ft(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let l=0,d;d=t[l];l++)e=Math.max(e,d.getHeightWidth().height);const r=this.buttons_;for(let l=0,d;d=r[l];l++)e=Math.max(e,d.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=Vt.scrollbarThickness,this.height_!==e){for(let l=0,d;d=t[l];l++)this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Ke.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};a(me.FLYOUTS_HORIZONTAL_TOOLBOX,Er,FT);var Pp=class extends Vr{constructor(e,t,r,l,d){super(f.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=Pp.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Ee(0,0),e!==f.SKIP_SETUP&&(d?this.configure_(d):this.setTypes(r,l),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new $;this.variable||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new $;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new $;const r=e.getAttribute("id"),l=e.textContent,d=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=o.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,r,l,d),d!==null&&d!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+Xn(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var t=this.saveLegacyState(Pp);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new $;this.loadLegacyState(Pp,e)||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new $;return t=o.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new $;this.variable=o.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let r=0;r<t.length;r++)if(e===t[r])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,t=""){if(Array.isArray(e)){let r=!1;for(let l=0;l<e.length;l++)e[l]===t&&(r=!0);if(!r)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===Fm){o.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===Um){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Xt(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var r=this.getVariableTypes(),l=0;l<r.length;l++){const d=this.sourceBlock_.workspace.getVariablesOfType(r[l]);t=t.concat(d)}for(t.sort(tu.compareByName),r=[],l=0;l<t.length;l++)r[l]=[t[l].name,t[l].getId()];return r.push([o.Msg$$module$build$src$core$msg.RENAME_VARIABLE,Fm]),o.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&r.push([o.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),Um]),r}};Kn("field_variable",Pp);var e$=class extends dg{constructor(e,t,r,l,d,g){super(f.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==f.SKIP_SETUP&&(g?this.configure_(g):this.setConstraints(t,r,l),this.setValue(e),d&&this.setValidator(d))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,r){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(r),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.includes("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const r=t.indexOf(".");this.decimalPlaces=r===-1?e?0:null:t.length-r-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,_n(e,Yt.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,_n(e,Yt.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Kn("field_number",e$),e$.prototype.DEFAULT_VALUE=0;var UT=class extends Da{constructor(e,t,r){super(String(e??""),t,r),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Xt(e.text),void 0,e)}};Kn("field_label_serializable",UT);var xa=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=xa.CHECK_CHAR,e!==f.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(xa);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();Be(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||xa.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};xa.CHECK_CHAR="✓",Kn("field_checkbox",xa),xa.prototype.DEFAULT_VALUE=!1;var HT=class{constructor(e,t){this.draggable=e,this.workspace=t,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){this.draggable.startDrag(e)}onDrag(e,t){this.moveDraggable(e,t),t=this.getRoot(this.draggable),ar(t)&&t.setDeleteStyle(this.wouldDeleteDraggable(e,t)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const t=this.getRoot(this.draggable);if(this.dragTarget!==e){let r;(r=this.dragTarget)==null||r.onDragExit(t),e==null||e.onDragEnter(t)}e==null||e.onDragOver(t),this.dragTarget=e}moveDraggable(e,t){t=this.pixelsToWorkspaceUnits(t),t=be.sum(this.startLoc,t),this.draggable.drag(t,e)}wouldDeleteDraggable(e,t){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,At.Capability.DELETE_AREA)?e.wouldDelete(t):!1}onDragEnd(e){const t=o.getGroup$$module$build$src$core$events$utils();var r=this.workspace.getDragTarget(e);const l=this.getRoot(this.draggable);if(r){let d;(d=this.dragTarget)==null||d.onDrop(l)}this.shouldReturnToStart(e,l)&&this.draggable.revertDrag(),(r=ar(l)&&this.wouldDeleteDraggable(e,l))&&this.draggable instanceof ji&&$r(this.draggable.getRootBlock()),this.draggable.endDrag(e),r&&ar(l)&&(e=o.getGroup$$module$build$src$core$events$utils(),o.setGroup$$module$build$src$core$events$utils(t),l.dispose(),o.setGroup$$module$build$src$core$events$utils(e))}getRoot(e){return e instanceof ji?e.getRootBlock():e}shouldReturnToStart(e,t){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(t):!1}pixelsToWorkspaceUnits(e){return e=new be(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};a(me.BLOCK_DRAGGER,Er,HT);var Bp={};Bp.BlockDragStrategy=mT,Bp.BubbleDragStrategy=Q_,Bp.CommentDragStrategy=Ye,Bp.Dragger=HT;var t$=class extends Fr{constructor(e,t,r){super(e?e.workspace.id:void 0),this.type=te.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=t,this.blocks=r)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new t$),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};a(me.EVENT,te.BLOCK_DRAG,t$);var n$=class extends Hr{constructor(e,t,r,l){super(e),this.type=te.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=t,this.oldValue=r,this.newValue=l)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new n$),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};a(me.EVENT,te.BLOCK_FIELD_INTERMEDIATE_CHANGE,n$);var r$=class extends Hr{constructor(e){super(e),this.type=te.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new r$),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(r=e.oldCoordinate.split(","),t.oldCoordinate=new be(Number(r[0]),Number(r[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(r=e.newCoordinate.split(","),t.newCoordinate=new be(Number(r[0]),Number(r[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const r=t.getParent();return r?(e.parentId=r.id,(t=r.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&be.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var r=t.getBlockById(this.blockId);if(r){var l=e?this.newParentId:this.oldParentId,d=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,l){var g=t.getBlockById(l);if(!g){console.warn("Can't connect to non-existent block: "+l);return}}if(r.getParent()&&r.unplug(),e)d=r.getRelativeToSurfaceXY(),r.moveBy(e.x-d.x,e.y-d.y,this.reason);else{t=r.outputConnection,(!t||r.previousConnection&&r.previousConnection.isConnected())&&(t=r.previousConnection);let y,P;r=(P=t)==null?void 0:P.type,d?(r=g.getInput(d))&&(y=r.connection):r===Pe.PREVIOUS_STATEMENT&&(y=g.nextConnection),y&&t?t.connect(y):console.warn("Can't connect to non-existent input: "+d)}}else console.warn("Can't move non-existent block: "+this.blockId)}};a(me.EVENT,te.BLOCK_MOVE,r$);var i$=class extends Fr{constructor(e,t,r){super(e?e.workspace.id:void 0),this.type=te.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=r)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new i$),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},o$;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(o$||(o$={})),a(me.EVENT,te.BUBBLE_OPEN,i$);var ss=class extends Gs{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=re())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new ss),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){const r=e.getEventWorkspace_();if(t){if(!e.json)throw Error("Encountered a comment event without proper json");Ao(e.json,r)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=r.getCommentById(e.commentId))?t.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},s$=class extends ss{constructor(e,t,r){super(e),this.type=te.COMMENT_CHANGE,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof r>"u"?"":r)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new s$),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var r=e?this.newContents_:this.oldContents_;if(r===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setText(r)}else console.warn("Can't change non-existent comment: "+this.commentId)}};a(me.EVENT,te.COMMENT_CHANGE,s$);var l$=class extends ss{constructor(e,t){super(e),this.newCollapsed=t,this.type=te.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new l$),t.newCollapsed=e.newCollapsed,t}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=t.getCommentById(this.commentId))?t.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};a(me.EVENT,te.COMMENT_COLLAPSE,l$);var u$=class extends ss{constructor(e){super(e),this.type=te.COMMENT_CREATE,e&&(this.xml=Ds(e),this.json=$s(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Xn(this.xml),e.json=this.json,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new u$),t.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}run(e){ss.CommentCreateDeleteHelper(this,e)}};a(me.EVENT,te.COMMENT_CREATE,u$);var a$=class extends ss{constructor(e){super(e),this.type=te.COMMENT_DELETE,e&&(this.xml=Ds(e),this.json=$s(e,{addCoordinates:!0}))}run(e){ss.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Xn(this.xml),e.json=this.json,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new a$),t.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}};a(me.EVENT,te.COMMENT_DELETE,a$);var c$=class extends Fr{constructor(e,t){super(e?e.workspace.id:void 0),this.type=te.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=t)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new c$),t.isStart=e.isStart,t.commentId=e.commentId,t}};a(me.EVENT,te.COMMENT_DRAG,c$);var d$=class extends ss{constructor(e){super(e),this.type=te.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new d$),r=e.oldCoordinate.split(","),t.oldCoordinate_=new be(Number(r[0]),Number(r[1])),r=e.newCoordinate.split(","),t.newCoordinate_=new be(Number(r[0]),Number(r[1])),t}isNull(){return be.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");t.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};a(me.EVENT,te.COMMENT_MOVE,d$);var h$=class extends ss{constructor(e){super(e),this.type=te.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new h$),t.oldSize=new Ee(e.oldWidth,e.oldHeight),t.newSize=new Ee(e.newWidth,e.newHeight),t}isNull(){return Ee.equals(this.oldSize,this.newSize)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");t.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};a(me.EVENT,te.COMMENT_RESIZE,h$);var p$=class extends Fr{constructor(e,t,r){super(r),this.type=te.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new p$),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};a(me.EVENT,te.TOOLBOX_ITEM_SELECT,p$);var VT=class extends Gs{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=te.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};a(me.EVENT,te.FINISHED_LOADING,VT);var GT,WT,zT,jT,XT,KT,YT,JT,qT,QT,ZT,eE,tE,nE,rE,iE,oE,sE,lE,uE,aE,cE,dE,hE,pE,Me;o.BLOCK_CHANGE$$module$build$src$core$events$events=te.BLOCK_CHANGE,o.BLOCK_CREATE$$module$build$src$core$events$events=te.BLOCK_CREATE,o.BLOCK_DELETE$$module$build$src$core$events$events=te.BLOCK_DELETE,GT=te.BLOCK_DRAG,o.BLOCK_MOVE$$module$build$src$core$events$events=te.BLOCK_MOVE,WT=te.BLOCK_FIELD_INTERMEDIATE_CHANGE,zT=te.BUBBLE_OPEN,jT=te.BLOCK_CHANGE,XT=te.CLICK,KT=te.COMMENT_CHANGE,YT=te.COMMENT_CREATE,JT=te.COMMENT_DELETE,qT=te.COMMENT_MOVE,QT=te.COMMENT_RESIZE,ZT=te.COMMENT_DRAG,eE=te.BLOCK_CREATE,tE=te.BLOCK_DELETE,nE=te.FINISHED_LOADING,rE=te.MARKER_MOVE,iE=te.BLOCK_MOVE,oE=te.SELECTED,sE=te.THEME_CHANGE,lE=te.TOOLBOX_ITEM_SELECT,uE=te.TRASHCAN_OPEN,aE=te.UI,cE=te.VAR_CREATE,dE=te.VAR_DELETE,hE=te.VAR_RENAME,pE=te.VIEWPORT_CHANGE,Me={},Me.Abstract=Gs,Me.BLOCK_CHANGE=o.BLOCK_CHANGE$$module$build$src$core$events$events,Me.BLOCK_CREATE=o.BLOCK_CREATE$$module$build$src$core$events$events,Me.BLOCK_DELETE=o.BLOCK_DELETE$$module$build$src$core$events$events,Me.BLOCK_DRAG=GT,Me.BLOCK_FIELD_INTERMEDIATE_CHANGE=WT,Me.BLOCK_MOVE=o.BLOCK_MOVE$$module$build$src$core$events$events,Me.BUBBLE_OPEN=zT,Me.BUMP_EVENTS=ep,Me.BlockBase=Hr,Me.BlockChange=es,Me.BlockCreate=Cp,Me.BlockDelete=Mm,Me.BlockDrag=t$,Me.BlockFieldIntermediateChange=n$,Me.BlockMove=r$,Me.BubbleOpen=i$,Me.BubbleType=o$,Me.CHANGE=jT,Me.CLICK=XT,Me.COMMENT_CHANGE=KT,Me.COMMENT_CREATE=YT,Me.COMMENT_DELETE=JT,Me.COMMENT_DRAG=ZT,Me.COMMENT_MOVE=qT,Me.COMMENT_RESIZE=QT,Me.CREATE=eE,Me.Click=zc,Me.ClickTarget=aa,Me.CommentBase=ss,Me.CommentChange=s$,Me.CommentCollapse=l$,Me.CommentCreate=u$,Me.CommentDelete=a$,Me.CommentDrag=c$,Me.CommentMove=d$,Me.CommentResize=h$,Me.DELETE=tE,Me.FINISHED_LOADING=nE,Me.FinishedLoading=VT,Me.MARKER_MOVE=rE,Me.MOVE=iE,Me.MarkerMove=xm,Me.SELECTED=oE,Me.Selected=Wm,Me.THEME_CHANGE=sE,Me.TOOLBOX_ITEM_SELECT=lE,Me.TRASHCAN_OPEN=uE,Me.ThemeChange=vm,Me.ToolboxItemSelect=p$,Me.TrashcanOpen=jm,Me.UI=aE,Me.UiBase=Fr,Me.VAR_CREATE=cE,Me.VAR_DELETE=dE,Me.VAR_RENAME=hE,Me.VIEWPORT_CHANGE=pE,Me.VarBase=va,Me.VarCreate=Hi,Me.VarDelete=Hm,Me.VarRename=Vm,Me.ViewportChange=Sm,Me.clearPendingUndo=Ne,Me.disable=o.disable$$module$build$src$core$events$utils,Me.disableOrphans=J,Me.enable=o.enable$$module$build$src$core$events$utils,Me.filter=ke,Me.fire=pe,Me.fromJson=B,Me.get=I,Me.getDescendantIds=j,Me.getGroup=o.getGroup$$module$build$src$core$events$utils,Me.getRecordUndo=re,Me.isEnabled=Le,Me.setGroup=o.setGroup$$module$build$src$core$events$utils,Me.setRecordUndo=o.setRecordUndo$$module$build$src$core$events$utils;var Io={};Io.BottomRow=OT,Io.ConstantProvider=wT,Io.Drawer=kT,Io.MarkerSvg=DT,Io.PathObject=NT,Io.RenderInfo=AT,Io.Renderer=Qm,Io.RightConnectionShape=RT,Io.StatementInput=pg,Io.TopRow=LT,Hc();var xn={};xn.registerCleanup=ta,xn.registerCollapse=Jl,xn.registerCollapseExpandBlock=Tn,xn.registerComment=Fs,xn.registerCommentCreate=Us,xn.registerCommentDelete=Pr,xn.registerCommentDuplicate=cr,xn.registerCommentOptions=Kh,xn.registerDefaultOptions=Hc,xn.registerDelete=sa,xn.registerDeleteAll=an,xn.registerDisable=oa,xn.registerDuplicate=Bs,xn.registerExpand=ra,xn.registerHelp=la,xn.registerInline=Xh,xn.registerRedo=Yl,xn.registerUndo=xt;var gg={};gg.CommentView=Ze,gg.RenderedWorkspaceComment=ot,gg.WorkspaceComment=un;var Fp={};Fp.Bubble=Tt,Fp.MiniWorkspaceBubble=ll,Fp.TextBubble=iT,Fp.TextInputBubble=Z_;var fE=class extends ng{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},gE=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=St(e.xPos,this.info_.startY);for(let t=0,r;r=e.elements[t];t++)G.isLeftSquareCorner(r)?this.steps_+=this.highlightConstants_.START_POINT:G.isLeftRoundedCorner(r)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):G.isPreviousConnection(r)?this.steps_+=this.notchPaths_.pathLeft:G.isHat(r)?this.steps_+=this.startPaths_.path(this.RTL_):G.isSpacer(r)&&r.width!==0&&(this.steps_+=Ae("H",r.xPos+r.width-this.highlightOffset));this.steps_+=Ae("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Ae("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const r=e.height-t.connectionHeight;this.steps_+=en(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ae("v",r)}else this.steps_+=en(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const r=e.height-2*this.insideCornerPaths_.height;this.steps_+=en(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Ae("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+Zr(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=en(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+Zr(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof Dm&&e.followsStatement&&(this.steps_+=Ae("H",t)),this.RTL_&&(this.steps_+=Ae("H",t),e.height>this.highlightOffset&&(this.steps_+=Ae("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=Ae("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];G.isLeftSquareCorner(t)?this.steps_+=en(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):G.isLeftRoundedCorner(t)&&(this.steps_+=en(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=en(this.info_.startX,e):(this.steps_+=en(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=Ae("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,G.isLeftRoundedCorner(e.elements[0])?this.steps_+=Ae("V",this.outsideCornerPaths_.height):this.steps_+=Ae("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,r=e.xPos+e.connectionWidth;var l=e.centerline-e.height/2;const d=e.width-e.connectionWidth,g=l+t;this.RTL_?(l=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=en(r-t,g)+Ae("v",l)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ae("v",e)+Ae("h",d)):this.inlineSteps_+=en(e.xPos+e.width+t,g)+Ae("v",e.height)+Ae("h",-d)+en(r,l+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},mE=class extends rg{constructor(e,t){super(e,t),this.highlighter_=new gE(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=Ae("H",e.xPos+e.width)+Ae("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let r=e.xPos+e.statementEdge+t.notchOffset;r=this.info_.RTL?-1*r:r+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(r,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let r=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),t.connectionModel.setOffsetInBlock(r,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,r=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-r:r)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},$E=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=St(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,r=(1-Math.SQRT1_2)*(e+t)-t,l=St(r,r)+kt("a","0 0,0",e,We(-r-t,e-r)),d=kt("a","0 0,0",e+t,We(e+t,e+t)),g=St(r,-r)+kt("a","0 0,0",e+t,We(e-r,r+t));return{width:e+t,height:e,pathTop(y){return y?l:""},pathBottom(y){return y?d:g}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,r=(1-Math.SQRT1_2)*(e-t)+t,l=St(r,r)+kt("a","0 0,1",e-t,We(e-r,-r+t)),d=St(t,e)+kt("a","0 0,1",e-t,We(e,-e+t)),g=-r,y=St(r,g)+kt("a","0 0,1",e-t,We(-r+t,-g-e));return{height:e,topLeft(P){return P?l:d},bottomLeft(){return y}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,r=St(-2,-t+3.4)+Zr(-.45*e,-2.1),l=Ae("v",2.5)+St(.97*-e,2.5)+Zt("q",[We(.05*-e,10),We(.3*e,9.5)])+St(.67*e,-1.9)+Ae("v",2.5),d=Ae("v",-1.5)+St(-.92*e,-.5)+Zt("q",[We(-.19*e,-5.5),We(0,-11)])+St(.92*e,1),g=St(-5,t-.7)+Zr(.46*e,-2.1);return{width:e,height:t,pathUp(y){return y?r:d},pathDown(y){return y?l:g}}}makeNotch(){return{pathLeft:Ae("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:Zr(5.1,2.6)+St(-10.2,6.8)+Zr(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=St(25,-8.7)+Zt("c",[We(29.7,-6.2),We(57.2,-.5),We(75,8.7)]),r=Zt("c",[We(17.8,-9.2),We(45.3,-14.9),We(75,-8.7)])+en(100.5,e+.5);return{path(l){return l?t:r}}}},_E=class extends Lm{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},TE=class extends Rp{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},EE=class extends Dp{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof gi||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new _E(this.constants_,e)),t.hasInlineInput=!0):e instanceof gi?(t.elements.push(new TE(this.constants_,e)),t.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new tg(this.constants_,e)),t.hasExternalInput=!0):(e instanceof rs||e instanceof hl)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let r=0,l;l=this.rows[r];r++)l.hasExternalInput&&(e=!0);for(let r=0,l;l=this.rows[r];r++){var t=l.elements;if(l.elements=[],l.startsWithElemSpacer()&&l.elements.push(new fi(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let d=0;d<t.length-1;d++){l.elements.push(t[d]);const g=this.getInRowSpacing_(t[d],t[d+1]);l.elements.push(new fi(this.constants_,g))}l.elements.push(t[t.length-1]),l.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&l.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),l.elements.push(new fi(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&G.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&G.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&G.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!G.isInput(e)&&(!t||G.isStatementInput(t)))return G.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:G.isIcon(e)?2*this.constants_.LARGE_PADDING+1:G.isHat(e)?this.constants_.NO_PADDING:G.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:G.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:G.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(G.isInput(e)&&!t){if(G.isExternalInput(e))return this.constants_.NO_PADDING;if(G.isInlineInput(e))return this.constants_.LARGE_PADDING;if(G.isStatementInput(e))return this.constants_.NO_PADDING}if(!G.isInput(e)&&t&&G.isInput(t)){if(G.isField(e)&&e.isEditable){if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(G.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(G.isIcon(e)&&t&&!G.isInput(t))return this.constants_.LARGE_PADDING;if(G.isInlineInput(e)&&t&&G.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(G.isLeftSquareCorner(e)&&t){if(G.isHat(t))return this.constants_.NO_PADDING;if(G.isPreviousConnection(t))return t.notchOffset;if(G.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(G.isLeftRoundedCorner(e)&&t){if(G.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(G.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return G.isField(e)&&t&&G.isField(t)&&e.isEditable===t.isEditable||t&&G.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return G.isTopRow(e)&&G.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:G.isTopRow(e)||G.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(G.isSpacer(t))return e.yPos+t.height/2;if(G.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,G.isNextConnection(t)?e+t.height/2:e-t.height/2;if(G.isTopRow(e))return G.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let r=e.yPos;return G.isField(t)||G.isIcon(t)?(r+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=G.isInlineInput(t)?r+t.height/2:r+e.height/2,r}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,r=null;for(let l=this.rows.length-1,d;d=this.rows[l];l--)t.set(d,e),G.isInputRow(d)&&(d.hasStatement&&this.alignStatementRow_(d),r&&r.hasStatement&&d.width<r.width?t.set(d,r.width):e=d.hasStatement?d.width:Math.max(e,d.width),r=d);e=0;for(let l=0,d;d=this.rows[l];l++)d.hasStatement?e=this.getDesiredRowWidth_(d):G.isSpacer(d)?d.width=Math.max(e,t.get(d)):(r=d.width,e=Math.max(e,t.get(d))-r,0<e&&this.addAlignmentPadding_(d,e),e=d.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let l=0,d;d=this.rows[l];l++){d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var r=t-this.topRow.ascenderHeight;d===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,t+=r),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},bE=class extends ig{constructor(e,t,r){super(e,t,r),this.constants=r,this.colourDark="#000000",this.svgPathDark=le(X.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=le(X.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Qr("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},yE=class extends og{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new fE}makeRenderInfo_(e){return new EE(this,e)}makeDrawer_(e,t){return new mE(e,t)}makePathObject(e,t){return new bE(e,t,this.getConstants())}makeHighlightConstants_(){return new $E(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Di("geras",yE);var ls={};ls.ConstantProvider=fE,ls.Drawer=mE,ls.HighlightConstantProvider=$E,ls.Highlighter=gE,ls.InlineInput=_E,ls.PathObject=bE,ls.RenderInfo=EE,ls.Renderer=yE,ls.StatementInput=TE;var vE=class extends Dp{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const l=this.rows[t];var r=l.elements;if(l.elements=[],l.startsWithElemSpacer()&&l.elements.push(new fi(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let d=0;d<r.length-1;d++){l.elements.push(r[d]);const g=this.getInRowSpacing_(r[d],r[d+1]);l.elements.push(new fi(this.constants_,g))}l.elements.push(r[r.length-1]),l.endsWithElemSpacer()&&(r=this.getInRowSpacing_(r[r.length-1],null),e&&l.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),l.elements.push(new fi(this.constants_,r)))}}}getInRowSpacing_(e,t){if(!e)return t&&G.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&G.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&G.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!G.isInput(e)&&!t)return G.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:G.isIcon(e)?2*this.constants_.LARGE_PADDING+1:G.isHat(e)?this.constants_.NO_PADDING:G.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:G.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:G.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(G.isInput(e)&&!t){if(G.isExternalInput(e))return this.constants_.NO_PADDING;if(G.isInlineInput(e))return this.constants_.LARGE_PADDING;if(G.isStatementInput(e))return this.constants_.NO_PADDING}if(!G.isInput(e)&&t&&G.isInput(t)){if(G.isField(e)&&e.isEditable){if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(G.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(G.isIcon(e)&&t&&!G.isInput(t))return this.constants_.LARGE_PADDING;if(G.isInlineInput(e)&&t&&G.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(G.isLeftSquareCorner(e)&&t){if(G.isHat(t))return this.constants_.NO_PADDING;if(G.isPreviousConnection(t)||G.isNextConnection(t))return t.notchOffset}return G.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:G.isField(e)&&t&&G.isField(t)&&e.isEditable===t.isEditable||t&&G.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return G.isTopRow(e)&&G.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:G.isTopRow(e)||G.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(G.isSpacer(t))return e.yPos+t.height/2;if(G.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,G.isNextConnection(t)?e+t.height/2:e-t.height/2;if(G.isTopRow(e))return G.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let r=e.yPos;return r=G.isField(t)&&e.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):r+e.height/2}finalize_(){let e=0,t=0;for(var r=0;r<this.rows.length;r++){const d=this.rows[r];d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var l=t-this.topRow.ascenderHeight;d===this.bottomRow&&l<this.constants_.MIN_BLOCK_HEIGHT&&(l=this.constants_.MIN_BLOCK_HEIGHT-l,this.bottomRow.height+=l,t+=l),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},SE=class extends og{constructor(e){super(e)}makeRenderInfo_(e){return new vE(this,e)}};Di("thrasos",SE);var f$={};f$.RenderInfo=vE,f$.Renderer=SE;var TS={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},ES={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},bS=new Aa("zelos",TS,ES),yS={Classic:Yf,Zelos:bS},g$=class{constructor(e,t,r){this.id_=e.toolboxitemid||H(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},Co=class extends g${constructor(e,t,r){super(e,t,r),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const r=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(r)}}parseCategoryDef_(e){this.name_="name"in e?Xt(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),Do(this.htmlDiv_,Sr.TREEITEM),_n(this.htmlDiv_,Yt.SELECTED,!1),_n(this.htmlDiv_,Yt.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),Do(this.iconDom_,Sr.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&_n(this.htmlDiv_,Yt.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&Be(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&Be(e,t),t=`${Co.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&Be(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&Be(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&Be(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=Co.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle(t);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=Xt(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=Os(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):ac(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&_(e,t),(t=this.cssConfig_.openicon)&&Be(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&_(e,t),(t=this.cssConfig_.closedicon)&&Be(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const r=this.parseColour(Co.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||r,t&&Be(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&S(this.rowDiv_,t);_n(this.htmlDiv_,Yt.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:$u(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){z(this.htmlDiv_)}};Co.registrationName="category",Co.nestedPadding=19,Co.borderWidth=8,Co.defaultBackgroundColour="#57e",Pn(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),a(me.TOOLBOX_ITEM,Co.registrationName,Co);var Up=class extends g${constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&Be(e,t),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){z(this.htmlDiv)}};Up.registrationName="sep",Pn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),a(me.TOOLBOX_ITEM,Up.registrationName,Up);var bd=class extends Co{constructor(e,t,r){super(e,t,r),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let r=0;r<t.length;r++){const l=t[r];!E(me.TOOLBOX_ITEM,l.kind)||l.kind.toLowerCase()===Up.registrationName&&e?(this.flyoutItems_.push(l),e=!0):(this.createToolboxItem(l),e=!1)}}}}createToolboxItem(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&Tu(e)&&(t=bd.registrationName),e=new(v(me.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),Do(this.subcategoriesDiv_,Sr.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),_n(this.htmlDiv_,Yt.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&Be(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var r=this.cssConfig_.contents;for(r&&Be(t,r),r=0;r<e.length;r++){const l=e[r];l.init();const d=l.getDiv();if(t.appendChild(d),l.getClickTarget){let g;(g=l.getClickTarget())==null||g.setAttribute("id",l.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}_n(this.htmlDiv_,Yt.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let r=0;r<t.length;r++)t[r].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};bd.registrationName="collapsibleCategory",a(me.TOOLBOX_ITEM,bd.registrationName,bd);var IE=class extends lg{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),we(this.flyout.createDom("svg"),t),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[At.Capability.AUTOHIDEABLE,At.Capability.DELETE_AREA,At.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,Do(this.contentsDiv_,Sr.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),Be(e,"blocklyToolboxDiv"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return Be(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=Ge(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=Ge(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(kn(e)||e.target===this.HtmlDiv)Se().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),Se().hideChaff(!0)}Qt()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext();break;case"ArrowUp":t=this.selectPrevious();break;case"ArrowLeft":t=this.selectParent();break;case"ArrowRight":t=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new Gi({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?w(me.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):w(me.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let t=0;t<this.contents_.length;t++){const r=this.contents_[t];r&&r.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let r=0;r<e.length;r++)this.createToolboxItem(e[r],t);this.contentsDiv_.appendChild(t)}createToolboxItem(e,t){var r=e.kind;r.toUpperCase()==="CATEGORY"&&Tu(e)&&(r=bd.registrationName),(r=v(me.TOOLBOX_ITEM,r.toLowerCase()))&&(e=new r(e,this),e.init(),this.addToolboxItem_(e),(r=e.getDiv())&&t.appendChild(r),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&Be(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&S(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,r=t+e.height,l=e.left;return e=l+e.width,this.toolboxPosition===Ke.TOP?new ft(-1e7,r,-1e7,1e7):this.toolboxPosition===Ke.BOTTOM?new ft(t,1e7,-1e7,1e7):this.toolboxPosition===Ke.LEFT?new ft(-1e7,1e7,-1e7,e):new ft(-1e7,1e7,l,1e7)}wouldDelete(e){return e instanceof ji?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(ar(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Ke.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Ke.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Ke.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===Ke.TOP?e.scrollY+t.height:e.scrollY),Qe(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!Qh(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),_n(this.contentsDiv_,Yt.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),_n(this.contentsDiv_,Yt.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout.show(t.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,t){const r=e&&e.getName();let l=t&&t.getName();e===t&&(l=null),e=new(I(te.TOOLBOX_ITEM_SELECT))(r,l,this.workspace_.id),pe(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)it(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),z(this.HtmlDiv))}};Pn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),a(me.TOOLBOX,Er,IE);var vS="11.2.1",SS=Pe.INPUT_VALUE,IS=Pe.OUTPUT_VALUE,CS=Pe.NEXT_STATEMENT,wS=Pe.PREVIOUS_STATEMENT,kS=Ke.TOP,OS=Ke.BOTTOM,RS=Ke.LEFT,LS=Ke.RIGHT;md.prototype.newBlock=function(e,t){return new uu(this,e,t)},zi.prototype.newBlock=function(e,t){return new ji(this,e,t)},md.prototype.newComment=function(e){return new un(this,e)},zi.prototype.newComment=function(e){return new ot(this,e)},zi.newTrashcan=function(e){return new bT(e)},ll.prototype.newWorkspaceSvg=function(e){return new zi(e)},o.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Jn(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],o.Names$$module$build$src$core$names.NameType.PROCEDURE)};var se={};return se.ASTNode=he,se.BasicCursor=Mp,se.Block=uu,se.BlockSvg=ji,se.Blocks=Qn,se.COLLAPSED_FIELD_NAME=Qs,se.COLLAPSED_INPUT_NAME=Ir,se.COLLAPSE_CHARS=pT,se.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator,se.CollapsibleToolboxCategory=bd,se.ComponentManager=At,se.Connection=at,se.ConnectionChecker=fT,se.ConnectionDB=dd,se.ConnectionType=Pe,se.ContextMenu=q,se.ContextMenuItems=xn,se.ContextMenuRegistry=F,se.Css=mp,se.Cursor=zm,se.DELETE_VARIABLE_ID=Um,se.DeleteArea=lg,se.DragTarget=ET,se.DropDownDiv=Wn,se.Events=Me,se.Extensions=vo,se.Field=f,se.FieldCheckbox=xa,se.FieldDropdown=Vr,se.FieldImage=Ma,se.FieldLabel=Da,se.FieldLabelSerializable=UT,se.FieldNumber=e$,se.FieldTextInput=hg,se.FieldVariable=Pp,se.Flyout=fg,se.FlyoutButton=Wi,se.FlyoutMetricsManager=BT,se.Generator=o.CodeGenerator$$module$build$src$core$generator,se.Gesture=sl,se.Grid=Im,se.HorizontalFlyout=FT,se.INPUT_VALUE=SS,se.Input=fd,se.InsertionMarkerManager=So,se.InsertionMarkerPreviewer=MT,se.Marker=$T,se.MarkerManager=il,se.Menu=Ta,se.MenuItem=Jo,se.MetricsManager=qm,se.Msg=o.Msg$$module$build$src$core$msg,se.NEXT_STATEMENT=CS,se.Names=o.Names$$module$build$src$core$names,se.OPPOSITE_TYPE=Na,se.OUTPUT_VALUE=IS,se.Options=Gi,se.PREVIOUS_STATEMENT=wS,se.PROCEDURE_CATEGORY_NAME=eg,se.Procedures=kr,se.RENAME_VARIABLE_ID=Fm,se.RenderedConnection=Gr,se.Scrollbar=Vt,se.ScrollbarPair=Jm,se.ShortcutItems=os,se.ShortcutRegistry=mt,se.TOOLBOX_AT_BOTTOM=OS,se.TOOLBOX_AT_LEFT=RS,se.TOOLBOX_AT_RIGHT=LS,se.TOOLBOX_AT_TOP=kS,se.TabNavigateCursor=_T,se.Theme=Aa,se.ThemeManager=hT,se.Themes=yS,se.Toolbox=IE,se.ToolboxCategory=Co,se.ToolboxItem=g$,se.ToolboxSeparator=Up,se.Tooltip=wr,se.Touch=Xo,se.Trashcan=bT,se.UnattachedFieldError=$,se.VARIABLE_CATEGORY_NAME=Sa,se.VARIABLE_DYNAMIC_CATEGORY_NAME=Bm,se.VERSION=vS,se.VariableMap=Gm,se.VariableModel=tu,se.Variables=rn,se.VariablesDynamic=gd,se.VerticalFlyout=Zm,se.WidgetDiv=De,se.Workspace=md,se.WorkspaceAudio=gT,se.WorkspaceDragger=Y_,se.WorkspaceSvg=zi,se.Xml=Jt,se.ZoomControls=Gf,se.blockAnimations=kp,se.blockRendering=gt,se.browserEvents=go,se.bubbles=Fp,se.bumpObjects=sg,se.clipboard=xp,se.comments=gg,se.common=cn,se.config=o.config$$module$build$src$core$config,se.constants=qo,se.defineBlocksWithJsonArray=yt,se.dialog=Qo,se.dragging=Bp,se.fieldRegistry=Jf,se.geras=ls,se.getMainWorkspace=Se,se.getSelected=Oe,se.hasBubble=xo,se.hideChaff=Zh,se.icons=su,se.inject=Xl,se.inputs=du,se.isCopyable=Gl,se.isDeletable=ar,se.isDraggable=_r,se.isIcon=Oc,se.isObservable=Yn,se.isPaster=Yh,se.isRenderedElement=Jh,se.isSelectable=qh,se.isSerializable=No,se.isVariableBackedParameterModel=yu,se.layers=Xe,se.procedures=kr,se.registry=si,se.renderManagement=el,se.serialization=$S,se.setLocale=ya,se.setParentContainer=qe,se.svgResize=Qe,se.thrasos=f$,se.uiPosition=Ko,se.utils=on,se.zelos=Io,se.__namespace__=o,se})}(Rg)),Rg.exports}var $L=x_();const _L=g_($L),{ASTNode:U0,BasicCursor:H0,Block:V0,BlockSvg:G0,Blocks:W0,COLLAPSED_FIELD_NAME:z0,COLLAPSED_INPUT_NAME:j0,COLLAPSE_CHARS:X0,CodeGenerator:K0,CollapsibleToolboxCategory:Y0,ComponentManager:J0,Connection:q0,ConnectionChecker:Q0,ConnectionDB:Z0,ConnectionType:eD,ContextMenu:tD,ContextMenuItems:nD,ContextMenuRegistry:rD,Css:iD,Cursor:oD,DELETE_VARIABLE_ID:sD,DeleteArea:lD,DragTarget:uD,DropDownDiv:aD,Events:cD,Extensions:dD,Field:hD,FieldCheckbox:pD,FieldDropdown:fD,FieldImage:gD,FieldLabel:mD,FieldLabelSerializable:$D,FieldNumber:_D,FieldTextInput:TD,FieldVariable:ED,Flyout:bD,FlyoutButton:yD,FlyoutMetricsManager:vD,Generator:SD,Gesture:ID,Grid:CD,HorizontalFlyout:wD,INPUT_VALUE:kD,Input:OD,InsertionMarkerManager:RD,InsertionMarkerPreviewer:LD,Marker:AD,MarkerManager:DD,Menu:ND,MenuItem:MD,MetricsManager:xD,Msg:PD,NEXT_STATEMENT:BD,Names:FD,OPPOSITE_TYPE:UD,OUTPUT_VALUE:HD,Options:VD,PREVIOUS_STATEMENT:GD,PROCEDURE_CATEGORY_NAME:WD,Procedures:zD,RENAME_VARIABLE_ID:jD,RenderedConnection:XD,Scrollbar:KD,ScrollbarPair:YD,ShortcutItems:JD,ShortcutRegistry:qD,TOOLBOX_AT_BOTTOM:QD,TOOLBOX_AT_LEFT:ZD,TOOLBOX_AT_RIGHT:eN,TOOLBOX_AT_TOP:tN,TabNavigateCursor:nN,Theme:rN,ThemeManager:iN,Themes:oN,Toolbox:sN,ToolboxCategory:lN,ToolboxItem:uN,ToolboxSeparator:aN,Tooltip:cN,Touch:dN,Trashcan:hN,UnattachedFieldError:pN,VARIABLE_CATEGORY_NAME:fN,VARIABLE_DYNAMIC_CATEGORY_NAME:gN,VERSION:mN,VariableMap:$N,VariableModel:_N,Variables:TN,VariablesDynamic:EN,VerticalFlyout:bN,WidgetDiv:yN,Workspace:vN,WorkspaceAudio:SN,WorkspaceDragger:IN,WorkspaceSvg:CN,Xml:Yp,ZoomControls:wN,blockAnimations:kN,blockRendering:ON,browserEvents:RN,bubbles:LN,bumpObjects:AN,clipboard:DN,comments:NN,common:MN,config:xN,constants:PN,defineBlocksWithJsonArray:BN,dialog:FN,dragging:UN,fieldRegistry:HN,geras:VN,getMainWorkspace:GN,getSelected:WN,hasBubble:zN,hideChaff:jN,icons:XN,inject:TL,inputs:KN,isCopyable:YN,isDeletable:JN,isDraggable:qN,isIcon:QN,isObservable:ZN,isPaster:eM,isRenderedElement:tM,isSelectable:nM,isSerializable:rM,isVariableBackedParameterModel:iM,layers:oM,procedures:sM,registry:lM,renderManagement:uM,serialization:cv,setLocale:aM,setParentContainer:cM,svgResize:dM,thrasos:hM,uiPosition:pM,utils:EL,zelos:fM}=_L;function bL(n,u){var o=null,a=null,h=function(){for(var T=[],E=0;E<arguments.length;E++)T[E]=arguments[E];a=function(){o=null,n.apply(void 0,T)},o!=null&&clearTimeout(o),o=window.setTimeout(a,u)},m=function(){o!=null&&(clearTimeout(o),a&&a())};return[h,m]}var Gg=function(){return Gg=Object.assign||function(n){for(var u,o=1,a=arguments.length;o<a;o++){u=arguments[o];for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(n[h]=u[h])}return n},Gg.apply(this,arguments)};function yL(n,u,o){try{return u.getAllBlocks(!1).length>0?void 0:(Yp.domToWorkspace(EL.xml.textToDom(n),u),!0)}catch(a){return o&&o(a),!1}}function vL(n,u,o){try{return cv.workspaces.load(n,u),!0}catch(a){return o&&o(a),!1}}var SL=function(n){var u=n.ref,o=n.initialXml,a=n.initialJson,h=n.toolboxConfiguration,m=n.workspaceConfiguration,T=n.onWorkspaceChange,E=n.onImportXmlError,v=n.onImportError,C=n.onInject,N=n.onDispose;v=v??E;var w=je.useState(null),k=w[0],H=w[1],x=je.useState(o||null),O=x[0],K=x[1],ee=je.useState(a||null),oe=ee[0],ne=ee[1],ae=je.useState(!1),ge=ae[0],ue=ae[1],re=je.useState(!1),pe=re[0],Fe=re[1],L=je.useRef(m);je.useEffect(function(){L.current=m},[m]);var ve=je.useRef(h);je.useEffect(function(){ve.current=h,h&&k&&!(m!=null&&m.readOnly)&&k.updateToolbox(h)},[h,k,m]);var ke=je.useRef(C),Ne=je.useRef(N);je.useEffect(function(){ke.current=C},[C]),je.useEffect(function(){Ne.current=N},[N]);var Le=je.useCallback(function(Ve){T&&T(Ve)},[T]);return je.useEffect(function(){if(u.current){var Ve=TL(u.current,Gg(Gg({},L.current),{toolbox:ve.current}));H(Ve),ue(!1),Fe(!1),ke.current&&ke.current(Ve);var j=Ne.current;return function(){Ve.dispose(),j&&j(Ve)}}},[u]),je.useEffect(function(){k&&!pe&&Le(k)},[Le,pe,k]),je.useEffect(function(){if(k!=null){var Ve=function(){Le(k)};return k.addChangeListener(Ve),function(){k.removeChangeListener(Ve)}}},[k,Le]),je.useEffect(function(){if(k!=null){var Ve=bL(function(){var I=Yp.domToText(Yp.workspaceToDom(k));if(I!==O){var J=cv.workspaces.save(k);ne(J),K(I)}},200),j=Ve[0],B=Ve[1];return k.addChangeListener(j),function(){k.removeChangeListener(j),B()}}},[k,O]),je.useEffect(function(){if(O&&k&&!ge){var Ve=yL(O,k,v);Ve||K(null),ue(!0)}else if(oe&&k&&!ge){var Ve=vL(oe,k,v);Ve||ne(null);var j=Yp.domToText(Yp.workspaceToDom(k));K(j),ue(!0)}},[oe,O,k,ge,v]),{workspace:k,xml:O,json:oe}},IL={initialXml:Xi.string,initialJson:Xi.object,toolboxConfiguration:Xi.object,workspaceConfiguration:Xi.object,className:Xi.string,onWorkspaceChange:Xi.func,onImportXmlError:Xi.func,onImportError:Xi.func,onXmlChange:Xi.func,onJsonChange:Xi.func,onInject:Xi.func,onDispose:Xi.func};function dv(n){var u=n.initialXml,o=n.initialJson,a=n.toolboxConfiguration,h=n.workspaceConfiguration,m=n.className,T=n.onWorkspaceChange,E=n.onXmlChange,v=n.onJsonChange,C=n.onImportXmlError,N=n.onImportError,w=n.onInject,k=n.onDispose,H=je.useRef(null),x=SL({ref:H,initialXml:u,initialJson:o,toolboxConfiguration:a,workspaceConfiguration:h,onWorkspaceChange:T,onImportXmlError:C,onImportError:N,onInject:w,onDispose:k}),O=x.xml,K=x.json,ee=je.useRef(E);je.useEffect(function(){ee.current=E},[E]);var oe=je.useRef(v);return je.useEffect(function(){oe.current=v},[v]),je.useEffect(function(){ee.current&&O&&ee.current(O),oe.current&&K&&oe.current(K)},[O,K]),U.jsx("div",{className:m,ref:H})}dv.propTypes=IL;var Lg={exports:{}},Ag={exports:{}},CL=Ag.exports,Pb;function wL(){return Pb||(Pb=1,function(n,u){(function(o,a){n.exports=a()})(CL,function(){var o=o||{Msg:Object.create(null)};return o.Msg.ADD_COMMENT="Add Comment",o.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",o.Msg.CHANGE_VALUE_TITLE="Change value:",o.Msg.CLEAN_UP="Clean up Blocks",o.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",o.Msg.COLLAPSE_ALL="Collapse Blocks",o.Msg.COLLAPSE_BLOCK="Collapse Block",o.Msg.COLOUR_BLEND_COLOUR1="colour 1",o.Msg.COLOUR_BLEND_COLOUR2="colour 2",o.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",o.Msg.COLOUR_BLEND_RATIO="ratio",o.Msg.COLOUR_BLEND_TITLE="blend",o.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",o.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",o.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",o.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",o.Msg.COLOUR_RANDOM_TITLE="random colour",o.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",o.Msg.COLOUR_RGB_BLUE="blue",o.Msg.COLOUR_RGB_GREEN="green",o.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",o.Msg.COLOUR_RGB_RED="red",o.Msg.COLOUR_RGB_TITLE="colour with",o.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",o.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",o.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",o.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",o.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",o.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",o.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",o.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",o.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",o.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",o.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",o.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",o.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",o.Msg.CONTROLS_IF_MSG_ELSE="else",o.Msg.CONTROLS_IF_MSG_ELSEIF="else if",o.Msg.CONTROLS_IF_MSG_IF="if",o.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",o.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",o.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",o.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",o.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",o.Msg.CONTROLS_REPEAT_INPUT_DO="do",o.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",o.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",o.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",o.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",o.Msg.DELETE_BLOCK="Delete Block",o.Msg.DELETE_VARIABLE="Delete the '%1' variable",o.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",o.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",o.Msg.DIALOG_CANCEL="Cancel",o.Msg.DIALOG_OK="OK",o.Msg.DISABLE_BLOCK="Disable Block",o.Msg.DUPLICATE_BLOCK="Duplicate",o.Msg.DUPLICATE_COMMENT="Duplicate Comment",o.Msg.ENABLE_BLOCK="Enable Block",o.Msg.EXPAND_ALL="Expand Blocks",o.Msg.EXPAND_BLOCK="Expand Block",o.Msg.EXTERNAL_INPUTS="External Inputs",o.Msg.HELP="Help",o.Msg.INLINE_INPUTS="Inline Inputs",o.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",o.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",o.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",o.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",o.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",o.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",o.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",o.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",o.Msg.LISTS_GET_INDEX_FIRST="first",o.Msg.LISTS_GET_INDEX_FROM_END="# from end",o.Msg.LISTS_GET_INDEX_FROM_START="#",o.Msg.LISTS_GET_INDEX_GET="get",o.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",o.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",o.Msg.LISTS_GET_INDEX_LAST="last",o.Msg.LISTS_GET_INDEX_RANDOM="random",o.Msg.LISTS_GET_INDEX_REMOVE="remove",o.Msg.LISTS_GET_INDEX_TAIL="",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",o.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",o.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",o.Msg.LISTS_GET_SUBLIST_END_LAST="to last",o.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",o.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",o.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",o.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",o.Msg.LISTS_GET_SUBLIST_TAIL="",o.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",o.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",o.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",o.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",o.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",o.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",o.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",o.Msg.LISTS_INLIST="in list",o.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",o.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",o.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",o.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",o.Msg.LISTS_LENGTH_TITLE="length of %1",o.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",o.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",o.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",o.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",o.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",o.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",o.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",o.Msg.LISTS_SET_INDEX_INPUT_TO="as",o.Msg.LISTS_SET_INDEX_INSERT="insert at",o.Msg.LISTS_SET_INDEX_SET="set",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",o.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",o.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",o.Msg.LISTS_SORT_ORDER_DESCENDING="descending",o.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",o.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",o.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",o.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",o.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",o.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",o.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",o.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",o.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",o.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",o.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",o.Msg.LOGIC_BOOLEAN_FALSE="false",o.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",o.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",o.Msg.LOGIC_BOOLEAN_TRUE="true",o.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",o.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",o.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",o.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",o.Msg.LOGIC_NEGATE_TITLE="not %1",o.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",o.Msg.LOGIC_NULL="null",o.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",o.Msg.LOGIC_NULL_TOOLTIP="Returns null.",o.Msg.LOGIC_OPERATION_AND="and",o.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",o.Msg.LOGIC_OPERATION_OR="or",o.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",o.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",o.Msg.LOGIC_TERNARY_CONDITION="test",o.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",o.Msg.LOGIC_TERNARY_IF_FALSE="if false",o.Msg.LOGIC_TERNARY_IF_TRUE="if true",o.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",o.Msg.MATH_ADDITION_SYMBOL="+",o.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",o.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",o.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",o.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",o.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",o.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",o.Msg.MATH_CHANGE_TITLE="change %1 by %2",o.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",o.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",o.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",o.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",o.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",o.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",o.Msg.MATH_DIVISION_SYMBOL="÷",o.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",o.Msg.MATH_IS_EVEN="is even",o.Msg.MATH_IS_NEGATIVE="is negative",o.Msg.MATH_IS_ODD="is odd",o.Msg.MATH_IS_POSITIVE="is positive",o.Msg.MATH_IS_PRIME="is prime",o.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",o.Msg.MATH_IS_WHOLE="is whole",o.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",o.Msg.MATH_MODULO_TITLE="remainder of %1 ÷ %2",o.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",o.Msg.MATH_MULTIPLICATION_SYMBOL="×",o.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",o.Msg.MATH_NUMBER_TOOLTIP="A number.",o.Msg.MATH_ONLIST_HELPURL="",o.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",o.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",o.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",o.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",o.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",o.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",o.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",o.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",o.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",o.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",o.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",o.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",o.Msg.MATH_POWER_SYMBOL="^",o.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",o.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",o.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",o.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",o.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",o.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",o.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",o.Msg.MATH_ROUND_OPERATOR_ROUND="round",o.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",o.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",o.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",o.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",o.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",o.Msg.MATH_SINGLE_OP_ROOT="square root",o.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",o.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",o.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",o.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",o.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",o.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",o.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",o.Msg.MATH_SUBTRACTION_SYMBOL="-",o.Msg.MATH_TRIG_ACOS="acos",o.Msg.MATH_TRIG_ASIN="asin",o.Msg.MATH_TRIG_ATAN="atan",o.Msg.MATH_TRIG_COS="cos",o.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",o.Msg.MATH_TRIG_SIN="sin",o.Msg.MATH_TRIG_TAN="tan",o.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",o.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",o.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",o.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",o.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",o.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",o.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",o.Msg.NEW_NUMBER_VARIABLE="Create number variable...",o.Msg.NEW_STRING_VARIABLE="Create string variable...",o.Msg.NEW_VARIABLE="Create variable...",o.Msg.NEW_VARIABLE_TITLE="New variable name:",o.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",o.Msg.ORDINAL_NUMBER_SUFFIX="",o.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",o.Msg.PROCEDURES_BEFORE_PARAMS="with:",o.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",o.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",o.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",o.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",o.Msg.PROCEDURES_CREATE_DO="Create '%1'",o.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",o.Msg.PROCEDURES_DEFNORETURN_DO="",o.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",o.Msg.PROCEDURES_DEFNORETURN_TITLE="to",o.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",o.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_DEFRETURN_RETURN="return",o.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",o.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",o.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",o.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",o.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",o.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",o.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",o.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",o.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",o.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",o.Msg.REDO="Redo",o.Msg.REMOVE_COMMENT="Remove Comment",o.Msg.RENAME_VARIABLE="Rename variable...",o.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",o.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_APPEND_TITLE="to %1 append text %2",o.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",o.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",o.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",o.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",o.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",o.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",o.Msg.TEXT_CHARAT_FIRST="get first letter",o.Msg.TEXT_CHARAT_FROM_END="get letter # from end",o.Msg.TEXT_CHARAT_FROM_START="get letter #",o.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",o.Msg.TEXT_CHARAT_LAST="get last letter",o.Msg.TEXT_CHARAT_RANDOM="get random letter",o.Msg.TEXT_CHARAT_TAIL="",o.Msg.TEXT_CHARAT_TITLE="in text %1 %2",o.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",o.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",o.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",o.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",o.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",o.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",o.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",o.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",o.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",o.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",o.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",o.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",o.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",o.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",o.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",o.Msg.TEXT_GET_SUBSTRING_TAIL="",o.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",o.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",o.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",o.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",o.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",o.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",o.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",o.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",o.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",o.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",o.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",o.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",o.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_LENGTH_TITLE="length of %1",o.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",o.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",o.Msg.TEXT_PRINT_TITLE="print %1",o.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",o.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",o.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",o.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",o.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",o.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",o.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",o.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",o.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",o.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",o.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",o.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",o.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",o.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",o.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",o.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",o.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",o.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",o.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",o.Msg.TODAY="Today",o.Msg.UNDO="Undo",o.Msg.UNNAMED_KEY="unnamed",o.Msg.VARIABLES_DEFAULT_NAME="item",o.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",o.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",o.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",o.Msg.VARIABLES_SET="set %1 to %2",o.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",o.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",o.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",o.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",o.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",o.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",o.Msg.CONTROLS_FOREACH_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_FOR_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=o.Msg.CONTROLS_IF_MSG_ELSEIF,o.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=o.Msg.CONTROLS_IF_MSG_ELSE,o.Msg.CONTROLS_IF_IF_TITLE_IF=o.Msg.CONTROLS_IF_MSG_IF,o.Msg.CONTROLS_IF_MSG_THEN=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.LISTS_CREATE_WITH_ITEM_TITLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.MATH_CHANGE_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.PROCEDURES_DEFRETURN_COMMENT=o.Msg.PROCEDURES_DEFNORETURN_COMMENT,o.Msg.PROCEDURES_DEFRETURN_DO=o.Msg.PROCEDURES_DEFNORETURN_DO,o.Msg.PROCEDURES_DEFRETURN_PROCEDURE=o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,o.Msg.PROCEDURES_DEFRETURN_TITLE=o.Msg.PROCEDURES_DEFNORETURN_TITLE,o.Msg.TEXT_APPEND_VARIABLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.COLOUR_HUE="20",o.Msg.LISTS_HUE="260",o.Msg.LOGIC_HUE="210",o.Msg.LOOPS_HUE="120",o.Msg.MATH_HUE="230",o.Msg.PROCEDURES_HUE="290",o.Msg.TEXTS_HUE="160",o.Msg.VARIABLES_DYNAMIC_HUE="310",o.Msg.VARIABLES_HUE="330",o.Msg})}(Ag)),Ag.exports}var Dg={exports:{}},kL=Dg.exports,Bb;function OL(){return Bb||(Bb=1,function(n,u){(function(o,a){n.exports=a(x_())})(kL,function(o){var a=o.__namespace__,h=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),m={customContextMenu:function(_){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(W={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:T(this)},z=this.getField("VAR").getText(),z={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",z),enabled:!0,callback:E(this)},_.unshift(W),_.unshift(z));else{if(this.type==="variables_get_dynamic")var S="variables_set_dynamic",W=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else S="variables_get_dynamic",W=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var z=this.getField("VAR");S={type:S,fields:{VAR:z.saveState(!0)}},_.push({enabled:0<this.workspace.remainingCapacity(),text:W.replace("%1",z.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,S)})}},onchange:function(_){_=this.getFieldValue("VAR"),_=a.getVariable$$module$build$src$core$variables(this.workspace,_),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(_.type):this.getInput("VALUE").connection.setCheck(_.type)}},T=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(S,W)}},E=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();S.deleteVariableById(W.getId()),S.refreshToolboxSelection()}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",m),a.defineBlocks$$module$build$src$core$common(h);var v={blocks:h},C=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),N={customContextMenu:function(_){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(W={text:a.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:w(this)},z=this.getField("VAR").getText(),z={text:a.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",z),enabled:!0,callback:k(this)},_.unshift(W),_.unshift(z));else{if(this.type==="variables_get")var S="variables_set",W=a.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else S="variables_get",W=a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var z=this.getField("VAR");S={type:S,fields:{VAR:z.saveState(!0)}},_.push({enabled:0<this.workspace.remainingCapacity(),text:W.replace("%1",z.getText()),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,S)})}}},w=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();a.renameVariable$$module$build$src$core$variables(S,W)}},k=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();S.deleteVariableById(W.getId()),S.refreshToolboxSelection()}};a.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",N),a.defineBlocks$$module$build$src$core$common(C);var H={blocks:C},x=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),O={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const _=S=>{const W=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+S]});return W.setValidator(function(z){const we=this.getValue();z=z==="FROM_START"||z==="FROM_END",z!==(we==="FROM_START"||we==="FROM_END")&&this.getSourceBlock().updateAt_(S,z)}),W};this.appendDummyInput("WHERE1_INPUT").appendField(_(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(_(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");var S=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at1",`${S}`),S=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,_.setAttribute("at2",`${S}`),_},domToMutation:function(_){const S=_.getAttribute("at1")==="true";_=_.getAttribute("at2")==="true",this.updateAt_(1,S),this.updateAt_(2,_)},updateAt_:function(_,S){this.removeInput("AT"+_),this.removeInput("ORDINAL"+_,!0),S?(this.appendValueInput("AT"+_).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+_).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+_),_===2&&a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),_===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};x.text_getSubstring=O,x.text_changeCase={init:function(){const _=[[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},x.text_trim={init:function(){const _=[[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[a.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(a.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},x.text_print={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var K={updateType_:function(_){this.outputConnection.setCheck(_==="NUMBER"?"Number":"String")},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("type",this.getFieldValue("TYPE")),_},domToMutation:function(_){this.updateType_(_.getAttribute("type"))}};x.text_prompt_ext=Object.assign({},K,{init:function(){var _=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(S=>{this.updateType_(S)}),this.appendValueInput("TEXT").appendField(_,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),x.text_prompt=Object.assign({},K,{init:function(){this.mixin(ee);var _=[[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(a.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(S=>{this.updateType_(S)}),this.appendDummyInput().appendField(_,"TYPE").appendField(this.newQuote_(!0)).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:a.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),x.text_count={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},x.text_replace={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},x.text_reverse={init:function(){this.jsonInit({message0:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:a.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var ee={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(_){for(let S=0,W;W=this.inputList[S];S++)for(let z=0,we;we=W.fieldRow[z];z++)if(_===we.name){W.insertFieldAt(z,this.newQuote_(!0)),W.insertFieldAt(z+2,this.newQuote_(!1));return}console.warn('field named "'+_+'" not found in '+this.toDevString())},newQuote_:function(_){return _=this.RTL?!_:_,a.fromJson$$module$build$src$core$field_registry({type:"field_image",src:_?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:_?"“":"”"})}},oe=function(){this.mixin(ee),this.quoteField_("TEXT")},ne={itemCount_:0,mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("items",`${this.itemCount_}`),_},domToMutation:function(_){this.itemCount_=parseInt(_.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(_){this.itemCount_=_.itemCount,this.updateShape_()},decompose:function(_){const S=_.newBlock("text_create_join_container");S.initSvg();let W=S.getInput("STACK").connection;for(let z=0;z<this.itemCount_;z++){const we=_.newBlock("text_create_join_item");we.initSvg(),W.connect(we.previousConnection),W=we.nextConnection}return S},compose:function(_){var S=_.getInputTargetBlock("STACK");for(_=[];S;)S.isInsertionMarker()||_.push(S.valueConnection_),S=S.getNextBlock();for(S=0;S<this.itemCount_;S++){const W=this.getInput("ADD"+S).connection.targetConnection;W&&!_.includes(W)&&W.disconnect()}for(this.itemCount_=_.length,this.updateShape_(),S=0;S<this.itemCount_;S++){let W;(W=_[S])==null||W.reconnect(this,"ADD"+S)}},saveConnections:function(_){_=_.getInputTargetBlock("STACK");let S=0;for(;_;){if(_.isInsertionMarker()){_=_.getNextBlock();continue}const W=this.getInput("ADD"+S);_.valueConnection_=W&&W.connection.targetConnection,_=_.getNextBlock(),S++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var _=0;_<this.itemCount_;_++)if(!this.getInput("ADD"+_)){const S=this.appendValueInput("ADD"+_).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);_===0&&S.appendField(a.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(_=this.itemCount_;this.getInput("ADD"+_);_++)this.removeInput("ADD"+_)}},ae=function(){this.mixin(ee),this.itemCount_=2,this.updateShape_(),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};a.register$$module$build$src$core$extensions("text_append_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var ge=function(){this.setTooltip(()=>a.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},ue={isAt_:!1,mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("at",`${this.isAt_}`),_},domToMutation:function(_){_=_.getAttribute("at")!=="false",this.updateAt_(_)},updateAt_:function(_){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),_&&(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=_}},re=function(){this.getField("WHERE").setValidator(function(_){_=_==="FROM_START"||_==="FROM_END";const S=this.getSourceBlock();_!==S.isAt_&&S.updateAt_(_)}),this.updateAt_(!0),this.setTooltip(()=>{var _=this.getFieldValue("WHERE");let S=a.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(_==="FROM_START"||_==="FROM_END")&&(_=_==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(S+="  "+_.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),S})};a.register$$module$build$src$core$extensions("text_indexOf_tooltip",ge),a.register$$module$build$src$core$extensions("text_quotes",oe),a.registerMixin$$module$build$src$core$extensions("quote_image_mixin",ee),a.registerMutator$$module$build$src$core$extensions("text_join_mutator",ne,ae),a.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",ue,re),a.defineBlocks$$module$build$src$core$common(x);var pe={blocks:x},Fe={},L={setStatements_:function(_){this.hasStatements_!==_&&(_?(this.appendStatementInput("STACK").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=_)},updateParams_:function(){let _="";this.arguments_.length&&(_=a.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),a.disable$$module$build$src$core$events$utils();try{this.setFieldValue(_,"PARAMS")}finally{a.enable$$module$build$src$core$events$utils()}},mutationToDom:function(_){const S=a.createElement$$module$build$src$core$utils$xml("mutation");_&&S.setAttribute("name",this.getFieldValue("NAME"));for(let W=0;W<this.argumentVarModels_.length;W++){const z=a.createElement$$module$build$src$core$utils$xml("arg"),we=this.argumentVarModels_[W];z.setAttribute("name",we.name),z.setAttribute("varid",we.getId()),_&&this.paramIds_&&z.setAttribute("paramId",this.paramIds_[W]),S.appendChild(z)}return this.hasStatements_||S.setAttribute("statements","false"),S},domToMutation:function(_){this.arguments_=[],this.argumentVarModels_=[];for(let W=0,z;z=_.childNodes[W];W++)if(z.nodeName.toLowerCase()==="arg"){var S=z;const we=S.getAttribute("name");S=S.getAttribute("varid")||S.getAttribute("varId"),this.arguments_.push(we),S=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,S,we,""),S!==null?this.argumentVarModels_.push(S):console.log(`Failed to create a variable named "${we}", ignoring.`)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(_.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const _=Object.create(null);if(this.argumentVarModels_.length){_.params=[];for(let S=0;S<this.argumentVarModels_.length;S++)_.params.push({name:this.argumentVarModels_[S].name,id:this.argumentVarModels_[S].getId()})}return this.hasStatements_||(_.hasStatements=!1),_},loadExtraState:function(_){if(this.arguments_=[],this.argumentVarModels_=[],_.params)for(let W=0;W<_.params.length;W++){var S=_.params[W];S=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,S.id,S.name,""),this.arguments_.push(S.name),this.argumentVarModels_.push(S)}this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(_.hasStatements!==!1)},decompose:function(_){const S=a.createElement$$module$build$src$core$utils$xml("block");S.setAttribute("type","procedures_mutatorcontainer");var W=a.createElement$$module$build$src$core$utils$xml("statement");W.setAttribute("name","STACK"),S.appendChild(W);for(let we=0;we<this.arguments_.length;we++){const _t=a.createElement$$module$build$src$core$utils$xml("block");_t.setAttribute("type","procedures_mutatorarg");var z=a.createElement$$module$build$src$core$utils$xml("field");z.setAttribute("name","NAME");const Bn=a.createTextNode$$module$build$src$core$utils$xml(this.arguments_[we]);z.appendChild(Bn),_t.appendChild(z),z=a.createElement$$module$build$src$core$utils$xml("next"),_t.appendChild(z),W.appendChild(_t),W=z}return _=a.domToBlock$$module$build$src$core$xml(S,_),this.type==="procedures_defreturn"?_.setFieldValue(this.hasStatements_,"STATEMENTS"):_.removeInput("STATEMENT_INPUT"),a.mutateCallers$$module$build$src$core$procedures(this),_},compose:function(_){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let S=_.getInputTargetBlock("STACK");for(;S&&!S.isInsertionMarker();){var W=S.getFieldValue("NAME");this.arguments_.push(W),W=this.workspace.getVariable(W,""),this.argumentVarModels_.push(W),this.paramIds_.push(S.id),S=S.nextConnection&&S.nextConnection.targetBlock()}if(this.updateParams_(),a.mutateCallers$$module$build$src$core$procedures(this),_=_.getFieldValue("STATEMENTS"),_!==null&&(_=_==="TRUE",this.hasStatements_!==_))if(_){this.setStatements_(!0);var z;(z=this.statementConnection_)==null||z.reconnect(this,"STACK"),this.statementConnection_=null}else z=this.getInput("STACK").connection,(this.statementConnection_=z.targetConnection)&&(z=z.targetBlock(),z.unplug(),z.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(_,S){var W=this.workspace.getVariableById(_);if(W.type===""){W=W.name,S=this.workspace.getVariableById(S);var z=!1;for(let we=0;we<this.argumentVarModels_.length;we++)this.argumentVarModels_[we].getId()===_&&(this.arguments_[we]=S.name,this.argumentVarModels_[we]=S,z=!0);z&&(this.displayRenamedVar_(W,S.name),a.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(_){const S=_.name;let W=!1,z;for(let we=0;we<this.argumentVarModels_.length;we++)this.argumentVarModels_[we].getId()===_.getId()&&(z=this.arguments_[we],this.arguments_[we]=S,W=!0);W&&(this.displayRenamedVar_(z,S),a.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(_,S){this.updateParams_();var W=this.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(W&&W.bubbleIsVisible()){W=W.getWorkspace().getAllBlocks(!1);for(let z=0,we;we=W[z];z++)we.type==="procedures_mutatorarg"&&a.Names$$module$build$src$core$names.equals(_,we.getFieldValue("NAME"))&&we.setFieldValue(S,"NAME")}},customContextMenu:function(_){if(!this.isInFlyout){var S=this.getFieldValue("NAME"),W={type:this.callType_,extraState:{name:S,params:this.arguments_}};if(_.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",S),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,W)}),!this.isCollapsed())for(S=0;S<this.argumentVarModels_.length;S++){W=this.argumentVarModels_[S];const z={type:"variables_get",fields:{VAR:{name:W.name,id:W.getId(),type:W.type}}};_.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",W.name),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,z)})}}}};Fe.procedures_defnoreturn=Object.assign({},L,{init:function(){var _=a.findLegalName$$module$build$src$core$procedures("",this);_=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:_}),_.setValidator(a.rename$$module$build$src$core$procedures),_.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(_,"NAME").appendField("","PARAMS"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Fe.procedures_defreturn=Object.assign({},L,{init:function(){var _=a.findLegalName$$module$build$src$core$procedures("",this);_=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:_}),_.setValidator(a.rename$$module$build$src$core$procedures),_.setSpellcheck(!1),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(_,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var ve={init:function(){this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(a.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};Fe.procedures_mutatorcontainer=ve;var ke={init:function(){const _=a.fromJson$$module$build$src$core$field_registry({type:"field_input",text:a.DEFAULT_ARG$$module$build$src$core$procedures});_.setValidator(this.validator_),_.oldShowEditorFn_=_.showEditor_,_.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(_,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,_.onFinishEditing_=this.deleteIntermediateVars_,_.createdVariables_=[],_.onFinishEditing_("x")},validator_:function(_){var S=this.getSourceBlock();const W=S.workspace.getRootWorkspace();if(_=_.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!_)return null;const z=(S.workspace.targetWorkspace||S.workspace).getAllBlocks(!1),we=_.toLowerCase();for(let _t=0;_t<z.length;_t++){if(z[_t].id===this.getSourceBlock().id)continue;const Bn=z[_t].getFieldValue("NAME");if(Bn&&Bn.toLowerCase()===we)return null}return S.isInFlyout||((S=W.getVariable(_,""))&&S.name!==_&&W.renameVariableById(S.getId(),_),S||(S=W.createVariable(_,""))&&this.createdVariables_&&this.createdVariables_.push(S)),_},deleteIntermediateVars_:function(_){const S=this.getSourceBlock().workspace.getRootWorkspace();if(S)for(let W=0;W<this.createdVariables_.length;W++){const z=this.createdVariables_[W];z.name!==_&&S.deleteVariableById(z.getId())}}};Fe.procedures_mutatorarg=ke;var Ne="DISABLED_PROCEDURE_DEFINITION",Le={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(_,S){a.Names$$module$build$src$core$names.equals(_,this.getProcedureCall())&&(this.setFieldValue(S,"NAME"),this.setTooltip((this.outputConnection?a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",S)))},setProcedureParameters_:function(_,S){var W=a.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((W=(W=W&&W.getIcon(a.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&W.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),_.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=S;else{if(S.length!==_.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let we=0;we<this.arguments_.length;we++){var z=this.getInput("ARG"+we);z&&(z=z.connection.targetConnection,this.quarkConnections_[this.quarkIds_[we]]=z,W&&z&&!S.includes(this.quarkIds_[we])&&(z.disconnect(),z.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(_),this.argumentVarModels_=[],_=0;_<this.arguments_.length;_++)W=a.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[_],""),this.argumentVarModels_.push(W);if(this.updateShape_(),this.quarkIds_=S){for(S=0;S<this.arguments_.length;S++)if(_=this.quarkIds_[S],_ in this.quarkConnections_){let we;(we=this.quarkConnections_[_])!=null&&we.reconnect(this,"ARG"+S)||delete this.quarkConnections_[_]}}}},updateShape_:function(){for(var _=0;_<this.arguments_.length;_++){var S=this.getField("ARGNAME"+_);if(S){a.disable$$module$build$src$core$events$utils();try{S.setValue(this.arguments_[_])}finally{a.enable$$module$build$src$core$events$utils()}}else S=a.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[_]}),this.appendValueInput("ARG"+_).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT).appendField(S,"ARGNAME"+_)}for(_=this.arguments_.length;this.getInput("ARG"+_);_++)this.removeInput("ARG"+_);(_=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||_.appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&_.removeField("WITH"))},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");_.setAttribute("name",this.getProcedureCall());for(let S=0;S<this.arguments_.length;S++){const W=a.createElement$$module$build$src$core$utils$xml("arg");W.setAttribute("name",this.arguments_[S]),_.appendChild(W)}return _},domToMutation:function(_){var S=_.getAttribute("name");this.renameProcedure(this.getProcedureCall(),S),S=[];const W=[];for(let z=0,we;we=_.childNodes[z];z++)we.nodeName.toLowerCase()==="arg"&&(S.push(we.getAttribute("name")),W.push(we.getAttribute("paramId")));this.setProcedureParameters_(S,W)},saveExtraState:function(){const _=Object.create(null);return _.name=this.getProcedureCall(),this.arguments_.length&&(_.params=this.arguments_),_},loadExtraState:function(_){if(this.renameProcedure(this.getProcedureCall(),_.name),_=_.params){const S=[];S.length=_.length,S.fill(null),this.setProcedureParameters_(_,S)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(_){if(this.workspace&&!this.workspace.isFlyout&&_.recordUndo)if(_.type===a.BLOCK_CREATE$$module$build$src$core$events$events&&_.ids.includes(this.id)){var S=this.getProcedureCall(),W=a.getDefinition$$module$build$src$core$procedures(S,this.workspace);if(!W||W.type===this.defType_&&JSON.stringify(W.getVars())===JSON.stringify(this.arguments_)||(W=null),W)W.isEnabled()||(this.setDisabledReason(!0,Ne),this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",S)));else{a.setGroup$$module$build$src$core$events$utils(_.group),_=a.createElement$$module$build$src$core$utils$xml("xml"),S=a.createElement$$module$build$src$core$utils$xml("block"),S.setAttribute("type",this.defType_),W=this.getRelativeToSurfaceXY();var z=W.y+2*a.config$$module$build$src$core$config.snapRadius;S.setAttribute("x",`${W.x+a.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),S.setAttribute("y",`${z}`),W=this.mutationToDom(),S.appendChild(W),W=a.createElement$$module$build$src$core$utils$xml("field"),W.setAttribute("name","NAME"),z=this.getProcedureCall();const we=a.findLegalName$$module$build$src$core$procedures(z,this);z!==we&&this.renameProcedure(z,we),W.appendChild(a.createTextNode$$module$build$src$core$utils$xml(z)),S.appendChild(W),_.appendChild(S),a.domToWorkspace$$module$build$src$core$xml(_,this.workspace),a.setGroup$$module$build$src$core$events$utils(!1)}}else _.type===a.BLOCK_DELETE$$module$build$src$core$events$events?(S=this.getProcedureCall(),a.getDefinition$$module$build$src$core$procedures(S,this.workspace)||(a.setGroup$$module$build$src$core$events$utils(_.group),this.dispose(!0),a.setGroup$$module$build$src$core$events$utils(!1))):_.type===a.BLOCK_CHANGE$$module$build$src$core$events$events&&_.element==="disabled"&&(S=this.getProcedureCall(),(z=a.getDefinition$$module$build$src$core$procedures(S,this.workspace))&&z.id===_.blockId&&((W=a.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),a.setGroup$$module$build$src$core$events$utils(_.group),_=z.isEnabled(),this.setDisabledReason(!_,Ne),this.setWarningText(_?null:a.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",S)),a.setGroup$$module$build$src$core$events$utils(W)))},customContextMenu:function(_){if(this.workspace.isMovable()){var S=this.getProcedureCall(),W=this.workspace;_.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const z=a.getDefinition$$module$build$src$core$procedures(S,W);z&&(W.centerOnBlock(z.id),a.setSelected$$module$build$src$core$common(z))}})}}};Fe.procedures_callnoreturn=Object.assign({},Le,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),Fe.procedures_callreturn=Object.assign({},Le,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var Ve="UNPARENTED_IFRETURN",j={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("value",String(Number(this.hasReturnValue_))),_},domToMutation:function(_){this.hasReturnValue_=_.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(_){if(!(this.workspace.isDragging&&this.workspace.isDragging()||_.type!==a.BLOCK_MOVE$$module$build$src$core$events$events&&_.type!==a.BLOCK_CREATE$$module$build$src$core$events$events)){_=!1;var S=this;do{if(this.FUNCTION_TYPES.includes(S.type)){_=!0;break}S=S.getSurroundParent()}while(S);if(_?(S.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):S.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(a.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(a.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!_,Ve)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Fe.procedures_ifreturn=j,a.defineBlocks$$module$build$src$core$common(Fe);var B={blocks:Fe},I=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),J={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};a.register$$module$build$src$core$extensions("math_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",J));var Y={mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation"),S=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return _.setAttribute("divisor_input",String(S)),_},domToMutation:function(_){_=_.getAttribute("divisor_input")==="true",this.updateShape_(_)},updateShape_:function(_){const S=this.getInput("DIVISOR");_?S||this.appendValueInput("DIVISOR").setCheck("Number"):S&&this.removeInput("DIVISOR")}},R=function(){this.getField("PROPERTY").setValidator(function(_){_=_==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(_)})};a.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Y,R),a.register$$module$build$src$core$extensions("math_change_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Q={updateType_:function(_){_==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("op",this.getFieldValue("OP")),_},domToMutation:function(_){if(_=_.getAttribute("op"),_===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(_)}},Re=function(){this.getField("OP").setValidator((function(_){this.updateType_(_)}).bind(this))};a.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",Q,Re),a.defineBlocks$$module$build$src$core$common(I);var Se={blocks:I},Ue=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Oe={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};a.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Oe));var Ie={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};a.register$$module$build$src$core$extensions("controls_flow_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",Ie));var qe={customContextMenu:function(_){if(!this.isInFlyout){var S=this.getField("VAR"),W=S.getVariable().name;this.isCollapsed()||W===null||(S={type:"variables_get",fields:{VAR:S.saveState(!0)}},_.push({enabled:!0,text:a.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",W),callback:a.callbackFactory$$module$build$src$core$contextmenu(this,S)}))}}};a.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",qe),a.register$$module$build$src$core$extensions("controls_for_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),a.register$$module$build$src$core$extensions("controls_forEach_tooltip",a.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Qe=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),$t="CONTROL_FLOW_NOT_IN_LOOP",Ct={getSurroundLoop:function(){let _=this;do{if(Qe.has(_.type))return _;_=_.getSurroundParent()}while(_);return null},onchange:function(_){const S=this.workspace;if(S.isDragging&&!S.isDragging()&&(_.type===a.BLOCK_MOVE$$module$build$src$core$events$events||_.type===a.BLOCK_CREATE$$module$build$src$core$events$events)&&(_=!!this.getSurroundLoop(),this.setWarningText(_?null:a.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{a.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!_,$t)}finally{a.setRecordUndo$$module$build$src$core$events$utils(!0)}}};a.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",Ct),a.defineBlocks$$module$build$src$core$common(Ue);var yt={blocks:Ue,loopTypes:Qe},rr=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Zi={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};a.register$$module$build$src$core$extensions("logic_op_tooltip",a.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Zi));var wn={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const _=a.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&_.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&_.setAttribute("else","1"),_},domToMutation:function(_){this.elseifCount_=parseInt(_.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(_.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const _=Object.create(null);return this.elseifCount_&&(_.elseIfCount=this.elseifCount_),this.elseCount_&&(_.hasElse=!0),_},loadExtraState:function(_){this.elseifCount_=_.elseIfCount||0,this.elseCount_=_.hasElse?1:0,this.updateShape_()},decompose:function(_){const S=_.newBlock("controls_if_if");S.initSvg();let W=S.nextConnection;for(let z=1;z<=this.elseifCount_;z++){const we=_.newBlock("controls_if_elseif");we.initSvg(),W.connect(we.previousConnection),W=we.nextConnection}return this.elseCount_&&(_=_.newBlock("controls_if_else"),_.initSvg(),W.connect(_.previousConnection)),S},compose:function(_){_=_.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const S=[null],W=[null];let z=null;for(;_;){if(!_.isInsertionMarker())switch(_.type){case"controls_if_elseif":this.elseifCount_++,S.push(_.valueConnection_),W.push(_.statementConnection_);break;case"controls_if_else":this.elseCount_++,z=_.statementConnection_;break;default:throw TypeError("Unknown block type: "+_.type)}_=_.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(S,W,z)},saveConnections:function(_){_=_.nextConnection.targetBlock();let S=1;for(;_;){if(!_.isInsertionMarker())switch(_.type){case"controls_if_elseif":var W=this.getInput("IF"+S);const z=this.getInput("DO"+S);_.valueConnection_=W&&W.connection.targetConnection,_.statementConnection_=z&&z.connection.targetConnection,S++;break;case"controls_if_else":W=this.getInput("ELSE"),_.statementConnection_=W&&W.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+_.type)}_=_.getNextBlock()}},rebuildShape_:function(){const _=[null],S=[null];let W=null;this.getInput("ELSE")&&(W=this.getInput("ELSE").connection.targetConnection);for(let z=1;this.getInput("IF"+z);z++){const we=this.getInput("IF"+z),_t=this.getInput("DO"+z);_.push(we.connection.targetConnection),S.push(_t.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(_,S,W)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var _=1;this.getInput("IF"+_);_++)this.removeInput("IF"+_),this.removeInput("DO"+_);for(_=1;_<=this.elseifCount_;_++)this.appendValueInput("IF"+_).setCheck("Boolean").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+_).appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(a.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(_,S,W){for(let z=1;z<=this.elseifCount_;z++){let we;(we=_[z])==null||we.reconnect(this,"IF"+z);let _t;(_t=S[z])==null||_t.reconnect(this,"DO"+z)}W==null||W.reconnect(this,"ELSE")}};a.registerMutator$$module$build$src$core$extensions("controls_if_mutator",wn,null,["controls_if_elseif","controls_if_else"]);var Qt=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return a.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};a.register$$module$build$src$core$extensions("controls_if_tooltip",Qt);var Xr={onchange:function(_){this.prevBlocks_||(this.prevBlocks_=[null,null]);var S=this.getInputTargetBlock("A");const W=this.getInputTargetBlock("B");S&&W&&!this.workspace.connectionChecker.doTypeChecks(S.outputConnection,W.outputConnection)&&(a.setGroup$$module$build$src$core$events$utils(_.group),_=this.prevBlocks_[0],_!==S&&(S.unplug(),!_||_.isDisposed()||_.isShadow()||this.getInput("A").connection.connect(_.outputConnection)),S=this.prevBlocks_[1],S!==W&&(W.unplug(),!S||S.isDisposed()||S.isShadow()||this.getInput("B").connection.connect(S.outputConnection)),this.bumpNeighbours(),a.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},pr=function(){this.mixin(Xr)};a.register$$module$build$src$core$extensions("logic_compare",pr);var eo={prevParentConnection_:null,onchange:function(_){const S=this.getInputTargetBlock("THEN"),W=this.getInputTargetBlock("ELSE"),z=this.outputConnection.targetConnection;if((S||W)&&z)for(let we=0;2>we;we++){const _t=we===1?S:W;_t&&!_t.workspace.connectionChecker.doTypeChecks(_t.outputConnection,z)&&(a.setGroup$$module$build$src$core$events$utils(_.group),z===this.prevParentConnection_?(this.unplug(),z.getSourceBlock().bumpNeighbours()):(_t.unplug(),_t.bumpNeighbours()),a.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=z}};a.registerMixin$$module$build$src$core$extensions("logic_ternary",eo),a.defineBlocks$$module$build$src$core$common(rr);var Ge={blocks:rr},st=a.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),it={init:function(){this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new a.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("items",String(this.itemCount_)),_},domToMutation:function(_){if(_=_.getAttribute("items"),!_)throw new TypeError("element did not have items");this.itemCount_=parseInt(_,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(_){this.itemCount_=_.itemCount,this.updateShape_()},decompose:function(_){const S=_.newBlock("lists_create_with_container");S.initSvg();let W=S.getInput("STACK").connection;for(let z=0;z<this.itemCount_;z++){const we=_.newBlock("lists_create_with_item");if(we.initSvg(),!we.previousConnection)throw Error("itemBlock has no previousConnection");W.connect(we.previousConnection),W=we.nextConnection}return S},compose:function(_){var S=_.getInputTargetBlock("STACK");for(_=[];S;)S.isInsertionMarker()||_.push(S.valueConnection_),S=S.getNextBlock();for(S=0;S<this.itemCount_;S++){const W=this.getInput("ADD"+S).connection.targetConnection;W&&!_.includes(W)&&W.disconnect()}for(this.itemCount_=_.length,this.updateShape_(),S=0;S<this.itemCount_;S++){let W;(W=_[S])==null||W.reconnect(this,"ADD"+S)}},saveConnections:function(_){_=_.getInputTargetBlock("STACK");let S=0;for(;_;){if(_.isInsertionMarker()){_=_.getNextBlock();continue}const W=this.getInput("ADD"+S);let z;_.valueConnection_=(z=W)==null?void 0:z.connection.targetConnection,_=_.getNextBlock(),S++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var _=0;_<this.itemCount_;_++)if(!this.getInput("ADD"+_)){const S=this.appendValueInput("ADD"+_).setAlign(a.Align$$module$build$src$core$inputs$align.RIGHT);_===0&&S.appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(_=this.itemCount_;this.getInput("ADD"+_);_++)this.removeInput("ADD"+_)}};st.lists_create_with=it;var Kr={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};st.lists_create_with_container=Kr;var kn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};st.lists_create_with_item=kn;var $n={init:function(){var _=[[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),!_)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(_,"END"),this.setInputsInline(!0),this.setTooltip(()=>a.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};st.lists_indexOf=$n;var Rr={init:function(){var _=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(function(S){S=S==="REMOVE",this.getSourceBlock().updateStatement_(S)}),this.appendValueInput("VALUE").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(_,"MODE").appendField("","SPACE"),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),_.setValidator(function(S){const W=this.getValue();S=S==="FROM_START"||S==="FROM_END",S!==(W==="FROM_START"||W==="FROM_END")&&this.getSourceBlock().updateAt_(S)}),this.appendDummyInput().appendField(_,"WHERE"),this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const S=this.getFieldValue("MODE"),W=this.getFieldValue("WHERE");let z="";switch(S+" "+W){case"GET FROM_START":case"GET FROM_END":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":z=a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(W==="FROM_START"||W==="FROM_END")&&(z+="  "+(W==="FROM_START"?a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),z})},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");_.setAttribute("statement",String(!this.outputConnection));const S=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at",String(S)),_},domToMutation:function(_){const S=_.getAttribute("statement")==="true";this.updateStatement_(S),_=_.getAttribute("at")!=="false",this.updateAt_(_)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(_){_.isStatement?this.updateStatement_(!0):typeof _=="string"&&this.domToMutation(a.textToDom$$module$build$src$core$utils$xml(_))},updateStatement_:function(_){_!==!this.outputConnection&&(this.unplug(!0,!0),_?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(_){this.removeInput("AT"),this.removeInput("ORDINAL",!0),_?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};st.lists_getIndex=Rr;var zt={init:function(){var _=[[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[a.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),this.appendDummyInput().appendField(_,"MODE").appendField("","SPACE"),_=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),_.setValidator(function(S){const W=this.getValue();S=S==="FROM_START"||S==="FROM_END",S!==(W==="FROM_START"||W==="FROM_END")&&this.getSourceBlock().updateAt_(S)}),this.appendDummyInput().appendField(_,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const S=this.getFieldValue("MODE"),W=this.getFieldValue("WHERE");let z="";switch(S+" "+W){case"SET FROM_START":case"SET FROM_END":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":z=a.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(W==="FROM_START"||W==="FROM_END")&&(z+="  "+a.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),z})},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation"),S=this.getInput("AT")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at",String(S)),_},domToMutation:function(_){_=_.getAttribute("at")!=="false",this.updateAt_(_)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(_){this.removeInput("AT"),this.removeInput("ORDINAL",!0),_?(this.appendValueInput("AT").setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};st.lists_setIndex=zt;var Pn={init:function(){this.WHERE_OPTIONS_1=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const _=S=>{const W=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+S]});return W.setValidator(function(z){const we=this.getValue();z=z==="FROM_START"||z==="FROM_END",z!==(we==="FROM_START"||we==="FROM_END")&&this.getSourceBlock().updateAt_(S,z)}),W};this.appendDummyInput("WHERE1_INPUT").appendField(_(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(_(2),"WHERE2"),this.appendDummyInput("AT2"),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");var S=this.getInput("AT1")instanceof a.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at1",String(S)),S=this.getInput("AT2")instanceof a.ValueInput$$module$build$src$core$inputs$value_input,_.setAttribute("at2",String(S)),_},domToMutation:function(_){const S=_.getAttribute("at1")==="true";_=_.getAttribute("at2")==="true",this.updateAt_(1,S),this.updateAt_(2,_)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(_,S){this.removeInput("AT"+_),this.removeInput("ORDINAL"+_,!0),S?(this.appendValueInput("AT"+_).setCheck("Number"),a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+_).appendField(a.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+_),_===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),a.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};st.lists_getSublist=Pn,st.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},st.lists_split={init:function(){const _=a.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!_)throw Error("field_dropdown not found");_.setValidator(S=>{this.updateType_(S)}),this.setHelpUrl(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(_,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(a.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const S=this.getFieldValue("MODE");if(S==="SPLIT")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(S==="JOIN")return a.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+S)})},updateType_:function(_){if(this.getFieldValue("MODE")!==_){const S=this.getInput("INPUT").connection;S.setShadowDom(null);const W=S.targetBlock();W&&(S.disconnect(),W.isShadow()?W.dispose(!1):this.bumpNeighbours())}_==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const _=a.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("mode",this.getFieldValue("MODE")),_},domToMutation:function(_){this.updateType_(_.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},a.defineBlocks$$module$build$src$core$common(st);var ko={blocks:st},le=Object.assign({},st,rr,Ue,I,Fe,x,C,h),Be={blocks:le,lists:ko,logic:Ge,loops:yt,math:Se,procedures:B,texts:pe,variables:H,variablesDynamic:v};return Be.__namespace__=a,Be})}(Dg)),Dg.exports}var RL=Lg.exports,Fb;function LL(){return Fb||(Fb=1,function(n,u){(function(o,a){n.exports=a(x_(),wL(),OL())})(RL,function(o,a,h){return o.setLocale(a),o})}(Lg)),Lg.exports}LL();const AL=`<xml id="toolbox" style="display: none">
  <block type="controls_if"></block>
  <block type="controls_whileUntil"></block>
</xml>`;function DL(){const[n,u]=je.useState();return U.jsxs(Hd,{title:"Playing around with react",date:"2025-01-22",children:[U.jsx("p",{children:"Today I started playing around with react. It's pretty cool!  I made a chessboard:"}),U.jsx(gL,{id:"BasicBoard"}),U.jsx("p",{children:"Also, a blockly coding interface:"}),U.jsx(dv,{className:"width-100",style:{height:400},toolboxConfiguration:AL,initialXml:n,onXmlChange:u})]})}function hv({children:n}){const[u,o]=je.useState(!1);return U.jsxs("div",{children:[U.jsx("button",{onClick:()=>o(!u),children:u?"Show Less":"Show More"}),u&&n]})}var Or=function(){return Or=Object.assign||function(u){for(var o,a=1,h=arguments.length;a<h;a++){o=arguments[a];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(u[m]=o[m])}return u},Or.apply(this,arguments)};function Wg(n,u,o){if(o||arguments.length===2)for(var a=0,h=u.length,m;a<h;a++)(m||!(a in u))&&(m||(m=Array.prototype.slice.call(u,0,a)),m[a]=u[a]);return n.concat(m||Array.prototype.slice.call(u))}var qt="-ms-",ef="-moz-",It="-webkit-",pv="comm",mm="rule",P_="decl",NL="@import",fv="@keyframes",ML="@layer",gv=Math.abs,B_=String.fromCharCode,i_=Object.assign;function xL(n,u){return zn(n,0)^45?(((u<<2^zn(n,0))<<2^zn(n,1))<<2^zn(n,2))<<2^zn(n,3):0}function mv(n){return n.trim()}function fl(n,u){return(n=u.exec(n))?n[0]:n}function nt(n,u,o){return n.replace(u,o)}function Ng(n,u,o){return n.indexOf(u,o)}function zn(n,u){return n.charCodeAt(u)|0}function Md(n,u,o){return n.slice(u,o)}function ds(n){return n.length}function $v(n){return n.length}function Jp(n,u){return u.push(n),n}function PL(n,u){return n.map(u).join("")}function Ub(n,u){return n.filter(function(o){return!fl(o,u)})}var $m=1,xd=1,_v=0,qi=0,Cn=0,Vd="";function _m(n,u,o,a,h,m,T,E){return{value:n,root:u,parent:o,type:a,props:h,children:m,line:$m,column:xd,length:T,return:"",siblings:E}}function hu(n,u){return i_(_m("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},u)}function Od(n){for(;n.root;)n=hu(n.root,{children:[n]});Jp(n,n.siblings)}function BL(){return Cn}function FL(){return Cn=qi>0?zn(Vd,--qi):0,xd--,Cn===10&&(xd=1,$m--),Cn}function wo(){return Cn=qi<_v?zn(Vd,qi++):0,xd++,Cn===10&&(xd=1,$m++),Cn}function Ba(){return zn(Vd,qi)}function Mg(){return qi}function Tm(n,u){return Md(Vd,n,u)}function o_(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UL(n){return $m=xd=1,_v=ds(Vd=n),qi=0,[]}function HL(n){return Vd="",n}function B$(n){return mv(Tm(qi-1,s_(n===91?n+2:n===40?n+1:n)))}function VL(n){for(;(Cn=Ba())&&Cn<33;)wo();return o_(n)>2||o_(Cn)>3?"":" "}function GL(n,u){for(;--u&&wo()&&!(Cn<48||Cn>102||Cn>57&&Cn<65||Cn>70&&Cn<97););return Tm(n,Mg()+(u<6&&Ba()==32&&wo()==32))}function s_(n){for(;wo();)switch(Cn){case n:return qi;case 34:case 39:n!==34&&n!==39&&s_(Cn);break;case 40:n===41&&s_(n);break;case 92:wo();break}return qi}function WL(n,u){for(;wo()&&n+Cn!==57;)if(n+Cn===84&&Ba()===47)break;return"/*"+Tm(u,qi-1)+"*"+B_(n===47?n:wo())}function zL(n){for(;!o_(Ba());)wo();return Tm(n,qi)}function jL(n){return HL(xg("",null,null,null,[""],n=UL(n),0,[0],n))}function xg(n,u,o,a,h,m,T,E,v){for(var C=0,N=0,w=T,k=0,H=0,x=0,O=1,K=1,ee=1,oe=0,ne="",ae=h,ge=m,ue=a,re=ne;K;)switch(x=oe,oe=wo()){case 40:if(x!=108&&zn(re,w-1)==58){Ng(re+=nt(B$(oe),"&","&\f"),"&\f",gv(C?E[C-1]:0))!=-1&&(ee=-1);break}case 34:case 39:case 91:re+=B$(oe);break;case 9:case 10:case 13:case 32:re+=VL(x);break;case 92:re+=GL(Mg()-1,7);continue;case 47:switch(Ba()){case 42:case 47:Jp(XL(WL(wo(),Mg()),u,o,v),v);break;default:re+="/"}break;case 123*O:E[C++]=ds(re)*ee;case 125*O:case 59:case 0:switch(oe){case 0:case 125:K=0;case 59+N:ee==-1&&(re=nt(re,/\f/g,"")),H>0&&ds(re)-w&&Jp(H>32?Vb(re+";",a,o,w-1,v):Vb(nt(re," ","")+";",a,o,w-2,v),v);break;case 59:re+=";";default:if(Jp(ue=Hb(re,u,o,C,N,h,E,ne,ae=[],ge=[],w,m),m),oe===123)if(N===0)xg(re,u,ue,ue,ae,m,w,E,ge);else switch(k===99&&zn(re,3)===110?100:k){case 100:case 108:case 109:case 115:xg(n,ue,ue,a&&Jp(Hb(n,ue,ue,0,0,h,E,ne,h,ae=[],w,ge),ge),h,ge,w,E,a?ae:ge);break;default:xg(re,ue,ue,ue,[""],ge,0,E,ge)}}C=N=H=0,O=ee=1,ne=re="",w=T;break;case 58:w=1+ds(re),H=x;default:if(O<1){if(oe==123)--O;else if(oe==125&&O++==0&&FL()==125)continue}switch(re+=B_(oe),oe*O){case 38:ee=N>0?1:(re+="\f",-1);break;case 44:E[C++]=(ds(re)-1)*ee,ee=1;break;case 64:Ba()===45&&(re+=B$(wo())),k=Ba(),N=w=ds(ne=re+=zL(Mg())),oe++;break;case 45:x===45&&ds(re)==2&&(O=0)}}return m}function Hb(n,u,o,a,h,m,T,E,v,C,N,w){for(var k=h-1,H=h===0?m:[""],x=$v(H),O=0,K=0,ee=0;O<a;++O)for(var oe=0,ne=Md(n,k+1,k=gv(K=T[O])),ae=n;oe<x;++oe)(ae=mv(K>0?H[oe]+" "+ne:nt(ne,/&\f/g,H[oe])))&&(v[ee++]=ae);return _m(n,u,o,h===0?mm:E,v,C,N,w)}function XL(n,u,o,a){return _m(n,u,o,pv,B_(BL()),Md(n,2,-2),0,a)}function Vb(n,u,o,a,h){return _m(n,u,o,P_,Md(n,0,a),Md(n,a+1,-1),a,h)}function Tv(n,u,o){switch(xL(n,u)){case 5103:return It+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+n+n;case 4789:return ef+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return It+n+ef+n+qt+n+n;case 5936:switch(zn(n,u+11)){case 114:return It+n+qt+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return It+n+qt+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return It+n+qt+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return It+n+qt+n+n;case 6165:return It+n+qt+"flex-"+n+n;case 5187:return It+n+nt(n,/(\w+).+(:[^]+)/,It+"box-$1$2"+qt+"flex-$1$2")+n;case 5443:return It+n+qt+"flex-item-"+nt(n,/flex-|-self/g,"")+(fl(n,/flex-|baseline/)?"":qt+"grid-row-"+nt(n,/flex-|-self/g,""))+n;case 4675:return It+n+qt+"flex-line-pack"+nt(n,/align-content|flex-|-self/g,"")+n;case 5548:return It+n+qt+nt(n,"shrink","negative")+n;case 5292:return It+n+qt+nt(n,"basis","preferred-size")+n;case 6060:return It+"box-"+nt(n,"-grow","")+It+n+qt+nt(n,"grow","positive")+n;case 4554:return It+nt(n,/([^-])(transform)/g,"$1"+It+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+n+n;case 4200:if(!fl(n,/flex-|baseline/))return qt+"grid-column-align"+Md(n,u)+n;break;case 2592:case 3360:return qt+nt(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(a,h){return u=h,fl(a.props,/grid-\w+-end/)})?~Ng(n+(o=o[u].value),"span",0)?n:qt+nt(n,"-start","")+n+qt+"grid-row-span:"+(~Ng(o,"span",0)?fl(o,/\d+/):+fl(o,/\d+/)-+fl(n,/\d+/))+";":qt+nt(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(a){return fl(a.props,/grid-\w+-start/)})?n:qt+nt(nt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,It+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ds(n)-1-u>6)switch(zn(n,u+1)){case 109:if(zn(n,u+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+ef+(zn(n,u+3)==108?"$3":"$2-$3"))+n;case 115:return~Ng(n,"stretch",0)?Tv(nt(n,"stretch","fill-available"),u,o)+n:n}break;case 5152:case 5920:return nt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,h,m,T,E,v,C){return qt+h+":"+m+C+(T?qt+h+"-span:"+(E?v:+v-+m)+C:"")+n});case 4949:if(zn(n,u+6)===121)return nt(n,":",":"+It)+n;break;case 6444:switch(zn(n,zn(n,14)===45?18:11)){case 120:return nt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+It+(zn(n,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+qt+"$2box$3")+n;case 100:return nt(n,":",":"+qt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return nt(n,"scroll-","scroll-snap-")+n}return n}function zg(n,u){for(var o="",a=0;a<n.length;a++)o+=u(n[a],a,n,u)||"";return o}function KL(n,u,o,a){switch(n.type){case ML:if(n.children.length)break;case NL:case P_:return n.return=n.return||n.value;case pv:return"";case fv:return n.return=n.value+"{"+zg(n.children,a)+"}";case mm:if(!ds(n.value=n.props.join(",")))return""}return ds(o=zg(n.children,a))?n.return=n.value+"{"+o+"}":""}function YL(n){var u=$v(n);return function(o,a,h,m){for(var T="",E=0;E<u;E++)T+=n[E](o,a,h,m)||"";return T}}function JL(n){return function(u){u.root||(u=u.return)&&n(u)}}function qL(n,u,o,a){if(n.length>-1&&!n.return)switch(n.type){case P_:n.return=Tv(n.value,n.length,o);return;case fv:return zg([hu(n,{value:nt(n.value,"@","@"+It)})],a);case mm:if(n.length)return PL(o=n.props,function(h){switch(fl(h,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Od(hu(n,{props:[nt(h,/:(read-\w+)/,":"+ef+"$1")]})),Od(hu(n,{props:[h]})),i_(n,{props:Ub(o,a)});break;case"::placeholder":Od(hu(n,{props:[nt(h,/:(plac\w+)/,":"+It+"input-$1")]})),Od(hu(n,{props:[nt(h,/:(plac\w+)/,":"+ef+"$1")]})),Od(hu(n,{props:[nt(h,/:(plac\w+)/,qt+"input-$1")]})),Od(hu(n,{props:[h]})),i_(n,{props:Ub(o,a)});break}return""})}}var QL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},mi={},Pd=typeof process<"u"&&mi!==void 0&&(mi.REACT_APP_SC_ATTR||mi.SC_ATTR)||"data-styled",Ev="active",bv="data-styled-version",Em="6.1.14",F_=`/*!sc*/
`,jg=typeof window<"u"&&"HTMLElement"in window,ZL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&mi!==void 0&&mi.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&mi.REACT_APP_SC_DISABLE_SPEEDY!==""?mi.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&mi.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&mi!==void 0&&mi.SC_DISABLE_SPEEDY!==void 0&&mi.SC_DISABLE_SPEEDY!==""&&mi.SC_DISABLE_SPEEDY!=="false"&&mi.SC_DISABLE_SPEEDY),bm=Object.freeze([]),Bd=Object.freeze({});function yv(n,u,o){return o===void 0&&(o=Bd),n.theme!==o.theme&&n.theme||u||o.theme}var vv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),eA=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,tA=/(^-|-$)/g;function Gb(n){return n.replace(eA,"-").replace(tA,"")}var nA=/(a)(d)/gi,yg=52,Wb=function(n){return String.fromCharCode(n+(n>25?39:97))};function l_(n){var u,o="";for(u=Math.abs(n);u>yg;u=u/yg|0)o=Wb(u%yg)+o;return(Wb(u%yg)+o).replace(nA,"$1-$2")}var F$,Sv=5381,Rd=function(n,u){for(var o=u.length;o;)n=33*n^u.charCodeAt(--o);return n},Iv=function(n){return Rd(Sv,n)};function rA(n){return l_(Iv(n)>>>0)}function Cv(n){return n.displayName||n.name||"Component"}function U$(n){return typeof n=="string"&&!0}var wv=typeof Symbol=="function"&&Symbol.for,kv=wv?Symbol.for("react.memo"):60115,iA=wv?Symbol.for("react.forward_ref"):60112,oA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ov={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},lA=((F$={})[iA]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},F$[kv]=Ov,F$);function zb(n){return("type"in(u=n)&&u.type.$$typeof)===kv?Ov:"$$typeof"in n?lA[n.$$typeof]:oA;var u}var uA=Object.defineProperty,aA=Object.getOwnPropertyNames,jb=Object.getOwnPropertySymbols,cA=Object.getOwnPropertyDescriptor,dA=Object.getPrototypeOf,Xb=Object.prototype;function U_(n,u,o){if(typeof u!="string"){if(Xb){var a=dA(u);a&&a!==Xb&&U_(n,a,o)}var h=aA(u);jb&&(h=h.concat(jb(u)));for(var m=zb(n),T=zb(u),E=0;E<h.length;++E){var v=h[E];if(!(v in sA||o&&o[v]||T&&v in T||m&&v in m)){var C=cA(u,v);try{uA(n,v,C)}catch{}}}}return n}function Fd(n){return typeof n=="function"}function H_(n){return typeof n=="object"&&"styledComponentId"in n}function Pa(n,u){return n&&u?"".concat(n," ").concat(u):n||u||""}function Kb(n,u){if(n.length===0)return"";for(var o=n[0],a=1;a<n.length;a++)o+=n[a];return o}function af(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function u_(n,u,o){if(o===void 0&&(o=!1),!o&&!af(n)&&!Array.isArray(n))return u;if(Array.isArray(u))for(var a=0;a<u.length;a++)n[a]=u_(n[a],u[a]);else if(af(u))for(var a in u)n[a]=u_(n[a],u[a]);return n}function V_(n,u){Object.defineProperty(n,"toString",{value:u})}function $f(n){for(var u=[],o=1;o<arguments.length;o++)u[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(u.length>0?" Args: ".concat(u.join(", ")):""))}var hA=function(){function n(u){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=u}return n.prototype.indexOfGroup=function(u){for(var o=0,a=0;a<u;a++)o+=this.groupSizes[a];return o},n.prototype.insertRules=function(u,o){if(u>=this.groupSizes.length){for(var a=this.groupSizes,h=a.length,m=h;u>=m;)if((m<<=1)<0)throw $f(16,"".concat(u));this.groupSizes=new Uint32Array(m),this.groupSizes.set(a),this.length=m;for(var T=h;T<m;T++)this.groupSizes[T]=0}for(var E=this.indexOfGroup(u+1),v=(T=0,o.length);T<v;T++)this.tag.insertRule(E,o[T])&&(this.groupSizes[u]++,E++)},n.prototype.clearGroup=function(u){if(u<this.length){var o=this.groupSizes[u],a=this.indexOfGroup(u),h=a+o;this.groupSizes[u]=0;for(var m=a;m<h;m++)this.tag.deleteRule(a)}},n.prototype.getGroup=function(u){var o="";if(u>=this.length||this.groupSizes[u]===0)return o;for(var a=this.groupSizes[u],h=this.indexOfGroup(u),m=h+a,T=h;T<m;T++)o+="".concat(this.tag.getRule(T)).concat(F_);return o},n}(),Pg=new Map,Xg=new Map,Bg=1,vg=function(n){if(Pg.has(n))return Pg.get(n);for(;Xg.has(Bg);)Bg++;var u=Bg++;return Pg.set(n,u),Xg.set(u,n),u},pA=function(n,u){Bg=u+1,Pg.set(n,u),Xg.set(u,n)},fA="style[".concat(Pd,"][").concat(bv,'="').concat(Em,'"]'),gA=new RegExp("^".concat(Pd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),mA=function(n,u,o){for(var a,h=o.split(","),m=0,T=h.length;m<T;m++)(a=h[m])&&n.registerName(u,a)},$A=function(n,u){for(var o,a=((o=u.textContent)!==null&&o!==void 0?o:"").split(F_),h=[],m=0,T=a.length;m<T;m++){var E=a[m].trim();if(E){var v=E.match(gA);if(v){var C=0|parseInt(v[1],10),N=v[2];C!==0&&(pA(N,C),mA(n,N,v[3]),n.getTag().insertRules(C,h)),h.length=0}else h.push(E)}}},Yb=function(n){for(var u=document.querySelectorAll(fA),o=0,a=u.length;o<a;o++){var h=u[o];h&&h.getAttribute(Pd)!==Ev&&($A(n,h),h.parentNode&&h.parentNode.removeChild(h))}};function _A(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Rv=function(n){var u=document.head,o=n||u,a=document.createElement("style"),h=function(E){var v=Array.from(E.querySelectorAll("style[".concat(Pd,"]")));return v[v.length-1]}(o),m=h!==void 0?h.nextSibling:null;a.setAttribute(Pd,Ev),a.setAttribute(bv,Em);var T=_A();return T&&a.setAttribute("nonce",T),o.insertBefore(a,m),a},TA=function(){function n(u){this.element=Rv(u),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var a=document.styleSheets,h=0,m=a.length;h<m;h++){var T=a[h];if(T.ownerNode===o)return T}throw $f(17)}(this.element),this.length=0}return n.prototype.insertRule=function(u,o){try{return this.sheet.insertRule(o,u),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(u){this.sheet.deleteRule(u),this.length--},n.prototype.getRule=function(u){var o=this.sheet.cssRules[u];return o&&o.cssText?o.cssText:""},n}(),EA=function(){function n(u){this.element=Rv(u),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(u,o){if(u<=this.length&&u>=0){var a=document.createTextNode(o);return this.element.insertBefore(a,this.nodes[u]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(u){this.element.removeChild(this.nodes[u]),this.length--},n.prototype.getRule=function(u){return u<this.length?this.nodes[u].textContent:""},n}(),bA=function(){function n(u){this.rules=[],this.length=0}return n.prototype.insertRule=function(u,o){return u<=this.length&&(this.rules.splice(u,0,o),this.length++,!0)},n.prototype.deleteRule=function(u){this.rules.splice(u,1),this.length--},n.prototype.getRule=function(u){return u<this.length?this.rules[u]:""},n}(),Jb=jg,yA={isServer:!jg,useCSSOMInjection:!ZL},Lv=function(){function n(u,o,a){u===void 0&&(u=Bd),o===void 0&&(o={});var h=this;this.options=Or(Or({},yA),u),this.gs=o,this.names=new Map(a),this.server=!!u.isServer,!this.server&&jg&&Jb&&(Jb=!1,Yb(this)),V_(this,function(){return function(m){for(var T=m.getTag(),E=T.length,v="",C=function(w){var k=function(ee){return Xg.get(ee)}(w);if(k===void 0)return"continue";var H=m.names.get(k),x=T.getGroup(w);if(H===void 0||!H.size||x.length===0)return"continue";var O="".concat(Pd,".g").concat(w,'[id="').concat(k,'"]'),K="";H!==void 0&&H.forEach(function(ee){ee.length>0&&(K+="".concat(ee,","))}),v+="".concat(x).concat(O,'{content:"').concat(K,'"}').concat(F_)},N=0;N<E;N++)C(N);return v}(h)})}return n.registerId=function(u){return vg(u)},n.prototype.rehydrate=function(){!this.server&&jg&&Yb(this)},n.prototype.reconstructWithOptions=function(u,o){return o===void 0&&(o=!0),new n(Or(Or({},this.options),u),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(u){return this.gs[u]=(this.gs[u]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(u=function(o){var a=o.useCSSOMInjection,h=o.target;return o.isServer?new bA(h):a?new TA(h):new EA(h)}(this.options),new hA(u)));var u},n.prototype.hasNameForId=function(u,o){return this.names.has(u)&&this.names.get(u).has(o)},n.prototype.registerName=function(u,o){if(vg(u),this.names.has(u))this.names.get(u).add(o);else{var a=new Set;a.add(o),this.names.set(u,a)}},n.prototype.insertRules=function(u,o,a){this.registerName(u,o),this.getTag().insertRules(vg(u),a)},n.prototype.clearNames=function(u){this.names.has(u)&&this.names.get(u).clear()},n.prototype.clearRules=function(u){this.getTag().clearGroup(vg(u)),this.clearNames(u)},n.prototype.clearTag=function(){this.tag=void 0},n}(),vA=/&/g,SA=/^\s*\/\/.*$/gm;function Av(n,u){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(u," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(u," ")),o.props=o.props.map(function(a){return"".concat(u," ").concat(a)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Av(o.children,u)),o})}function IA(n){var u,o,a,h=Bd,m=h.options,T=m===void 0?Bd:m,E=h.plugins,v=E===void 0?bm:E,C=function(k,H,x){return x.startsWith(o)&&x.endsWith(o)&&x.replaceAll(o,"").length>0?".".concat(u):k},N=v.slice();N.push(function(k){k.type===mm&&k.value.includes("&")&&(k.props[0]=k.props[0].replace(vA,o).replace(a,C))}),T.prefix&&N.push(qL),N.push(KL);var w=function(k,H,x,O){H===void 0&&(H=""),x===void 0&&(x=""),O===void 0&&(O="&"),u=O,o=H,a=new RegExp("\\".concat(o,"\\b"),"g");var K=k.replace(SA,""),ee=jL(x||H?"".concat(x," ").concat(H," { ").concat(K," }"):K);T.namespace&&(ee=Av(ee,T.namespace));var oe=[];return zg(ee,YL(N.concat(JL(function(ne){return oe.push(ne)})))),oe};return w.hash=v.length?v.reduce(function(k,H){return H.name||$f(15),Rd(k,H.name)},Sv).toString():"",w}var CA=new Lv,a_=IA(),Dv=je.createContext({shouldForwardProp:void 0,styleSheet:CA,stylis:a_});Dv.Consumer;je.createContext(void 0);function qb(){return _e.useContext(Dv)}var wA=function(){function n(u,o){var a=this;this.inject=function(h,m){m===void 0&&(m=a_);var T=a.name+m.hash;h.hasNameForId(a.id,T)||h.insertRules(a.id,T,m(a.rules,T,"@keyframes"))},this.name=u,this.id="sc-keyframes-".concat(u),this.rules=o,V_(this,function(){throw $f(12,String(a.name))})}return n.prototype.getName=function(u){return u===void 0&&(u=a_),this.name+u.hash},n}(),kA=function(n){return n>="A"&&n<="Z"};function Qb(n){for(var u="",o=0;o<n.length;o++){var a=n[o];if(o===1&&a==="-"&&n[0]==="-")return n;kA(a)?u+="-"+a.toLowerCase():u+=a}return u.startsWith("ms-")?"-"+u:u}var Nv=function(n){return n==null||n===!1||n===""},Mv=function(n){var u,o,a=[];for(var h in n){var m=n[h];n.hasOwnProperty(h)&&!Nv(m)&&(Array.isArray(m)&&m.isCss||Fd(m)?a.push("".concat(Qb(h),":"),m,";"):af(m)?a.push.apply(a,Wg(Wg(["".concat(h," {")],Mv(m),!1),["}"],!1)):a.push("".concat(Qb(h),": ").concat((u=h,(o=m)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||u in QL||u.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return a};function Fa(n,u,o,a){if(Nv(n))return[];if(H_(n))return[".".concat(n.styledComponentId)];if(Fd(n)){if(!Fd(m=n)||m.prototype&&m.prototype.isReactComponent||!u)return[n];var h=n(u);return Fa(h,u,o,a)}var m;return n instanceof wA?o?(n.inject(o,a),[n.getName(a)]):[n]:af(n)?Mv(n):Array.isArray(n)?Array.prototype.concat.apply(bm,n.map(function(T){return Fa(T,u,o,a)})):[n.toString()]}function OA(n){for(var u=0;u<n.length;u+=1){var o=n[u];if(Fd(o)&&!H_(o))return!1}return!0}var RA=Iv(Em),LA=function(){function n(u,o,a){this.rules=u,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&OA(u),this.componentId=o,this.baseHash=Rd(RA,o),this.baseStyle=a,Lv.registerId(o)}return n.prototype.generateAndInjectStyles=function(u,o,a){var h=this.baseStyle?this.baseStyle.generateAndInjectStyles(u,o,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))h=Pa(h,this.staticRulesId);else{var m=Kb(Fa(this.rules,u,o,a)),T=l_(Rd(this.baseHash,m)>>>0);if(!o.hasNameForId(this.componentId,T)){var E=a(m,".".concat(T),void 0,this.componentId);o.insertRules(this.componentId,T,E)}h=Pa(h,T),this.staticRulesId=T}else{for(var v=Rd(this.baseHash,a.hash),C="",N=0;N<this.rules.length;N++){var w=this.rules[N];if(typeof w=="string")C+=w;else if(w){var k=Kb(Fa(w,u,o,a));v=Rd(v,k+N),C+=k}}if(C){var H=l_(v>>>0);o.hasNameForId(this.componentId,H)||o.insertRules(this.componentId,H,a(C,".".concat(H),void 0,this.componentId)),h=Pa(h,H)}}return h},n}(),G_=je.createContext(void 0);G_.Consumer;var H$={};function AA(n,u,o){var a=H_(n),h=n,m=!U$(n),T=u.attrs,E=T===void 0?bm:T,v=u.componentId,C=v===void 0?function(ae,ge){var ue=typeof ae!="string"?"sc":Gb(ae);H$[ue]=(H$[ue]||0)+1;var re="".concat(ue,"-").concat(rA(Em+ue+H$[ue]));return ge?"".concat(ge,"-").concat(re):re}(u.displayName,u.parentComponentId):v,N=u.displayName,w=N===void 0?function(ae){return U$(ae)?"styled.".concat(ae):"Styled(".concat(Cv(ae),")")}(n):N,k=u.displayName&&u.componentId?"".concat(Gb(u.displayName),"-").concat(u.componentId):u.componentId||C,H=a&&h.attrs?h.attrs.concat(E).filter(Boolean):E,x=u.shouldForwardProp;if(a&&h.shouldForwardProp){var O=h.shouldForwardProp;if(u.shouldForwardProp){var K=u.shouldForwardProp;x=function(ae,ge){return O(ae,ge)&&K(ae,ge)}}else x=O}var ee=new LA(o,k,a?h.componentStyle:void 0);function oe(ae,ge){return function(ue,re,pe){var Fe=ue.attrs,L=ue.componentStyle,ve=ue.defaultProps,ke=ue.foldedComponentIds,Ne=ue.styledComponentId,Le=ue.target,Ve=je.useContext(G_),j=qb(),B=ue.shouldForwardProp||j.shouldForwardProp,I=yv(re,Ve,ve)||Bd,J=function(Ue,Oe,Ie){for(var qe,Qe=Or(Or({},Oe),{className:void 0,theme:Ie}),$t=0;$t<Ue.length;$t+=1){var Ct=Fd(qe=Ue[$t])?qe(Qe):qe;for(var yt in Ct)Qe[yt]=yt==="className"?Pa(Qe[yt],Ct[yt]):yt==="style"?Or(Or({},Qe[yt]),Ct[yt]):Ct[yt]}return Oe.className&&(Qe.className=Pa(Qe.className,Oe.className)),Qe}(Fe,re,I),Y=J.as||Le,R={};for(var Q in J)J[Q]===void 0||Q[0]==="$"||Q==="as"||Q==="theme"&&J.theme===I||(Q==="forwardedAs"?R.as=J.forwardedAs:B&&!B(Q,Y)||(R[Q]=J[Q]));var Re=function(Ue,Oe){var Ie=qb(),qe=Ue.generateAndInjectStyles(Oe,Ie.styleSheet,Ie.stylis);return qe}(L,J),Se=Pa(ke,Ne);return Re&&(Se+=" "+Re),J.className&&(Se+=" "+J.className),R[U$(Y)&&!vv.has(Y)?"class":"className"]=Se,pe&&(R.ref=pe),_e.createElement(Y,R)}(ne,ae,ge)}oe.displayName=w;var ne=je.forwardRef(oe);return ne.attrs=H,ne.componentStyle=ee,ne.displayName=w,ne.shouldForwardProp=x,ne.foldedComponentIds=a?Pa(h.foldedComponentIds,h.styledComponentId):"",ne.styledComponentId=k,ne.target=a?h.target:n,Object.defineProperty(ne,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ae){this._foldedDefaultProps=a?function(ge){for(var ue=[],re=1;re<arguments.length;re++)ue[re-1]=arguments[re];for(var pe=0,Fe=ue;pe<Fe.length;pe++)u_(ge,Fe[pe],!0);return ge}({},h.defaultProps,ae):ae}}),V_(ne,function(){return".".concat(ne.styledComponentId)}),m&&U_(ne,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ne}function Zb(n,u){for(var o=[n[0]],a=0,h=u.length;a<h;a+=1)o.push(u[a],n[a+1]);return o}var ey=function(n){return Object.assign(n,{isCss:!0})};function DA(n){for(var u=[],o=1;o<arguments.length;o++)u[o-1]=arguments[o];if(Fd(n)||af(n))return ey(Fa(Zb(bm,Wg([n],u,!0))));var a=n;return u.length===0&&a.length===1&&typeof a[0]=="string"?Fa(a):ey(Fa(Zb(a,u)))}function c_(n,u,o){if(o===void 0&&(o=Bd),!u)throw $f(1,u);var a=function(h){for(var m=[],T=1;T<arguments.length;T++)m[T-1]=arguments[T];return n(u,o,DA.apply(void 0,Wg([h],m,!1)))};return a.attrs=function(h){return c_(n,u,Or(Or({},o),{attrs:Array.prototype.concat(o.attrs,h).filter(Boolean)}))},a.withConfig=function(h){return c_(n,u,Or(Or({},o),h))},a}var xv=function(n){return c_(AA,n)},ym=xv;vv.forEach(function(n){ym[n]=xv(n)});function NA(n){var u=je.forwardRef(function(o,a){var h=yv(o,je.useContext(G_),n.defaultProps);return je.createElement(n,Or({},o,{theme:h,ref:a}))});return u.displayName="WithTheme(".concat(Cv(n),")"),U_(u,n)}function MA(n,u){if(n==null)return{};var o,a,h=qw(n,u);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(n);for(a=0;a<m.length;a++)o=m[a],u.includes(o)||{}.propertyIsEnumerable.call(n,o)&&(h[o]=n[o])}return h}function d_(n,u){(u==null||u>n.length)&&(u=n.length);for(var o=0,a=Array(u);o<u;o++)a[o]=n[o];return a}function xA(n){if(Array.isArray(n))return d_(n)}function PA(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function BA(n,u){if(n){if(typeof n=="string")return d_(n,u);var o={}.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?d_(n,u):void 0}}function FA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h_(n){return xA(n)||PA(n)||BA(n)||FA()}function fs(n){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},fs(n)}function UA(n,u){if(fs(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var a=o.call(n,u||"default");if(fs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(n)}function Pv(n){var u=UA(n,"string");return fs(u)=="symbol"?u:u+""}function gl(n,u,o){return(u=Pv(u))in n?Object.defineProperty(n,u,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[u]=o,n}function ty(n,u){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);u&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),o.push.apply(o,a)}return o}function Ld(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{};u%2?ty(Object(o),!0).forEach(function(a){gl(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ty(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}function HA(n){var u=n.length;if(u===0||u===1)return n;if(u===2)return[n[0],n[1],"".concat(n[0],".").concat(n[1]),"".concat(n[1],".").concat(n[0])];if(u===3)return[n[0],n[1],n[2],"".concat(n[0],".").concat(n[1]),"".concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[0]),"".concat(n[1],".").concat(n[2]),"".concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[1],".").concat(n[0])];if(u>=4)return[n[0],n[1],n[2],n[3],"".concat(n[0],".").concat(n[1]),"".concat(n[0],".").concat(n[2]),"".concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[0]),"".concat(n[1],".").concat(n[2]),"".concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[1]),"".concat(n[2],".").concat(n[3]),"".concat(n[3],".").concat(n[0]),"".concat(n[3],".").concat(n[1]),"".concat(n[3],".").concat(n[2]),"".concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[1],".").concat(n[3]),"".concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[2],".").concat(n[3]),"".concat(n[0],".").concat(n[3],".").concat(n[1]),"".concat(n[0],".").concat(n[3],".").concat(n[2]),"".concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[1],".").concat(n[2],".").concat(n[3]),"".concat(n[1],".").concat(n[3],".").concat(n[0]),"".concat(n[1],".").concat(n[3],".").concat(n[2]),"".concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[0],".").concat(n[3]),"".concat(n[2],".").concat(n[1],".").concat(n[0]),"".concat(n[2],".").concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[3],".").concat(n[0]),"".concat(n[2],".").concat(n[3],".").concat(n[1]),"".concat(n[3],".").concat(n[0],".").concat(n[1]),"".concat(n[3],".").concat(n[0],".").concat(n[2]),"".concat(n[3],".").concat(n[1],".").concat(n[0]),"".concat(n[3],".").concat(n[1],".").concat(n[2]),"".concat(n[3],".").concat(n[2],".").concat(n[0]),"".concat(n[3],".").concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[1],".").concat(n[2],".").concat(n[3]),"".concat(n[0],".").concat(n[1],".").concat(n[3],".").concat(n[2]),"".concat(n[0],".").concat(n[2],".").concat(n[1],".").concat(n[3]),"".concat(n[0],".").concat(n[2],".").concat(n[3],".").concat(n[1]),"".concat(n[0],".").concat(n[3],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[3],".").concat(n[2],".").concat(n[1]),"".concat(n[1],".").concat(n[0],".").concat(n[2],".").concat(n[3]),"".concat(n[1],".").concat(n[0],".").concat(n[3],".").concat(n[2]),"".concat(n[1],".").concat(n[2],".").concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[2],".").concat(n[3],".").concat(n[0]),"".concat(n[1],".").concat(n[3],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[3],".").concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[0],".").concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[0],".").concat(n[3],".").concat(n[1]),"".concat(n[2],".").concat(n[1],".").concat(n[0],".").concat(n[3]),"".concat(n[2],".").concat(n[1],".").concat(n[3],".").concat(n[0]),"".concat(n[2],".").concat(n[3],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[3],".").concat(n[1],".").concat(n[0]),"".concat(n[3],".").concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[3],".").concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[3],".").concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[3],".").concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[3],".").concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[3],".").concat(n[2],".").concat(n[1],".").concat(n[0])]}var V$={};function VA(n){if(n.length===0||n.length===1)return n;var u=n.join(".");return V$[u]||(V$[u]=HA(n)),V$[u]}function GA(n){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,a=n.filter(function(m){return m!=="token"}),h=VA(a);return h.reduce(function(m,T){return Ld(Ld({},m),o[T])},u)}function ny(n){return n.join(" ")}function WA(n,u){var o=0;return function(a){return o+=1,a.map(function(h,m){return Bv({node:h,stylesheet:n,useInlineStyles:u,key:"code-segment-".concat(o,"-").concat(m)})})}}function Bv(n){var u=n.node,o=n.stylesheet,a=n.style,h=a===void 0?{}:a,m=n.useInlineStyles,T=n.key,E=u.properties,v=u.type,C=u.tagName,N=u.value;if(v==="text")return N;if(C){var w=WA(o,m),k;if(!m)k=Ld(Ld({},E),{},{className:ny(E.className)});else{var H=Object.keys(o).reduce(function(ee,oe){return oe.split(".").forEach(function(ne){ee.includes(ne)||ee.push(ne)}),ee},[]),x=E.className&&E.className.includes("token")?["token"]:[],O=E.className&&x.concat(E.className.filter(function(ee){return!H.includes(ee)}));k=Ld(Ld({},E),{},{className:ny(O)||void 0,style:GA(E.className,Object.assign({},E.style,h),o)})}var K=w(u.children);return je.createElement(C,nf({key:T},k),K)}}const zA=function(n,u){var o=n.listLanguages();return o.indexOf(u)!==-1};var jA=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function ry(n,u){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);u&&(a=a.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),o.push.apply(o,a)}return o}function pu(n){for(var u=1;u<arguments.length;u++){var o=arguments[u]!=null?arguments[u]:{};u%2?ry(Object(o),!0).forEach(function(a){gl(n,a,o[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ry(Object(o)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(o,a))})}return n}var XA=/\n/g;function KA(n){return n.match(XA)}function YA(n){var u=n.lines,o=n.startingLineNumber,a=n.style;return u.map(function(h,m){var T=m+o;return je.createElement("span",{key:"line-".concat(m),className:"react-syntax-highlighter-line-number",style:typeof a=="function"?a(T):a},"".concat(T,`
`))})}function JA(n){var u=n.codeString,o=n.codeStyle,a=n.containerStyle,h=a===void 0?{float:"left",paddingRight:"10px"}:a,m=n.numberStyle,T=m===void 0?{}:m,E=n.startingLineNumber;return je.createElement("code",{style:Object.assign({},o,h)},YA({lines:u.replace(/\n$/,"").split(`
`),style:T,startingLineNumber:E}))}function qA(n){return"".concat(n.toString().length,".25em")}function Fv(n,u){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(n),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:u},children:[{type:"text",value:n}]}}function Uv(n,u,o){var a={display:"inline-block",minWidth:qA(o),paddingRight:"1em",textAlign:"right",userSelect:"none"},h=typeof n=="function"?n(u):n,m=pu(pu({},a),h);return m}function Fg(n){var u=n.children,o=n.lineNumber,a=n.lineNumberStyle,h=n.largestLineNumber,m=n.showInlineLineNumbers,T=n.lineProps,E=T===void 0?{}:T,v=n.className,C=v===void 0?[]:v,N=n.showLineNumbers,w=n.wrapLongLines,k=n.wrapLines,H=k===void 0?!1:k,x=H?pu({},typeof E=="function"?E(o):E):{};if(x.className=x.className?[].concat(h_(x.className.trim().split(/\s+/)),h_(C)):C,o&&m){var O=Uv(a,o,h);u.unshift(Fv(o,O))}return w&N&&(x.style=pu({display:"flex"},x.style)),{type:"element",tagName:"span",properties:x,children:u}}function Hv(n){for(var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=0;a<n.length;a++){var h=n[a];if(h.type==="text")o.push(Fg({children:[h],className:h_(new Set(u))}));else if(h.children){var m=u.concat(h.properties.className);Hv(h.children,m).forEach(function(T){return o.push(T)})}}return o}function QA(n,u,o,a,h,m,T,E,v){var C,N=Hv(n.value),w=[],k=-1,H=0;function x(ge,ue){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Fg({children:ge,lineNumber:ue,lineNumberStyle:E,largestLineNumber:T,showInlineLineNumbers:h,lineProps:o,className:re,showLineNumbers:a,wrapLongLines:v,wrapLines:u})}function O(ge,ue){if(a&&ue&&h){var re=Uv(E,ue,T);ge.unshift(Fv(ue,re))}return ge}function K(ge,ue){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return u||re.length>0?x(ge,ue,re):O(ge,ue)}for(var ee=function(){var ue=N[H],re=ue.children[0].value,pe=KA(re);if(pe){var Fe=re.split(`
`);Fe.forEach(function(L,ve){var ke=a&&w.length+m,Ne={type:"text",value:"".concat(L,`
`)};if(ve===0){var Le=N.slice(k+1,H).concat(Fg({children:[Ne],className:ue.properties.className})),Ve=K(Le,ke);w.push(Ve)}else if(ve===Fe.length-1){var j=N[H+1]&&N[H+1].children&&N[H+1].children[0],B={type:"text",value:"".concat(L)};if(j){var I=Fg({children:[B],className:ue.properties.className});N.splice(H+1,0,I)}else{var J=[B],Y=K(J,ke,ue.properties.className);w.push(Y)}}else{var R=[Ne],Q=K(R,ke,ue.properties.className);w.push(Q)}}),k=H}H++};H<N.length;)ee();if(k!==N.length-1){var oe=N.slice(k+1,N.length);if(oe&&oe.length){var ne=a&&w.length+m,ae=K(oe,ne);w.push(ae)}}return u?w:(C=[]).concat.apply(C,w)}function ZA(n){var u=n.rows,o=n.stylesheet,a=n.useInlineStyles;return u.map(function(h,m){return Bv({node:h,stylesheet:o,useInlineStyles:a,key:"code-segement".concat(m)})})}function Vv(n){return n&&typeof n.highlightAuto<"u"}function e0(n){var u=n.astGenerator,o=n.language,a=n.code,h=n.defaultCodeValue;if(Vv(u)){var m=zA(u,o);return o==="text"?{value:h,language:"text"}:m?u.highlight(o,a):u.highlightAuto(a)}try{return o&&o!=="text"?{value:u.highlight(a,o)}:{value:h}}catch{return{value:h}}}function t0(n,u){return function(a){var h=a.language,m=a.children,T=a.style,E=T===void 0?u:T,v=a.customStyle,C=v===void 0?{}:v,N=a.codeTagProps,w=N===void 0?{className:h?"language-".concat(h):void 0,style:pu(pu({},E['code[class*="language-"]']),E['code[class*="language-'.concat(h,'"]')])}:N,k=a.useInlineStyles,H=k===void 0?!0:k,x=a.showLineNumbers,O=x===void 0?!1:x,K=a.showInlineLineNumbers,ee=K===void 0?!0:K,oe=a.startingLineNumber,ne=oe===void 0?1:oe,ae=a.lineNumberContainerStyle,ge=a.lineNumberStyle,ue=ge===void 0?{}:ge,re=a.wrapLines,pe=a.wrapLongLines,Fe=pe===void 0?!1:pe,L=a.lineProps,ve=L===void 0?{}:L,ke=a.renderer,Ne=a.PreTag,Le=Ne===void 0?"pre":Ne,Ve=a.CodeTag,j=Ve===void 0?"code":Ve,B=a.code,I=B===void 0?(Array.isArray(m)?m[0]:m)||"":B,J=a.astGenerator,Y=MA(a,jA);J=J||n;var R=O?je.createElement(JA,{containerStyle:ae,codeStyle:w.style||{},numberStyle:ue,startingLineNumber:ne,codeString:I}):null,Q=E.hljs||E['pre[class*="language-"]']||{backgroundColor:"#fff"},Re=Vv(J)?"hljs":"prismjs",Se=H?Object.assign({},Y,{style:Object.assign({},Q,C)}):Object.assign({},Y,{className:Y.className?"".concat(Re," ").concat(Y.className):Re,style:Object.assign({},C)});if(Fe?w.style=pu({whiteSpace:"pre-wrap"},w.style):w.style=pu({whiteSpace:"pre"},w.style),!J)return je.createElement(Le,Se,R,je.createElement(j,w,I));(re===void 0&&ke||Fe)&&(re=!0),ke=ke||ZA;var Ue=[{type:"text",value:I}],Oe=e0({astGenerator:J,language:h,code:I,defaultCodeValue:Ue});Oe.language===null&&(Oe.value=Ue);var Ie=Oe.value.length;Ie===1&&Oe.value[0].type==="text"&&(Ie=Oe.value[0].value.split(`
`).length);var qe=Ie+ne,Qe=QA(Oe,re,ve,O,ee,ne,qe,ue,Fe);return je.createElement(Le,Se,je.createElement(j,w,!ee&&R,ke({rows:Qe,stylesheet:E,useInlineStyles:H})))}}const n0="modulepreload",r0=function(n){return"/demo-blog/"+n},iy={},A=function(u,o,a){let h=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const T=document.querySelector("meta[property=csp-nonce]"),E=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));h=Promise.allSettled(o.map(v=>{if(v=r0(v),v in iy)return;iy[v]=!0;const C=v.endsWith(".css"),N=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${N}`))return;const w=document.createElement("link");if(w.rel=C?"stylesheet":n0,C||(w.as="script"),w.crossOrigin="",w.href=v,E&&w.setAttribute("nonce",E),document.head.appendChild(w),C)return new Promise((k,H)=>{w.addEventListener("load",k),w.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${v}`)))})}))}function m(T){const E=new Event("vite:preloadError",{cancelable:!0});if(E.payload=T,window.dispatchEvent(E),!E.defaultPrevented)throw T}return h.then(T=>{for(const E of T||[])E.status==="rejected"&&m(E.reason);return u().catch(m)})};function oy(n,u,o,a,h,m,T){try{var E=n[m](T),v=E.value}catch(C){return void o(C)}E.done?u(v):Promise.resolve(v).then(a,h)}function Gv(n){return function(){var u=this,o=arguments;return new Promise(function(a,h){var m=n.apply(u,o);function T(v){oy(m,a,h,T,E,"next",v)}function E(v){oy(m,a,h,T,E,"throw",v)}T(void 0)})}}function i0(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}function sy(n,u){for(var o=0;o<u.length;o++){var a=u[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,Pv(a.key),a)}}function o0(n,u,o){return sy(n.prototype,u),sy(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function s0(n,u){if(u&&(fs(u)=="object"||typeof u=="function"))return u;if(u!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qw(n)}function Kg(n){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},Kg(n)}function l0(n,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(u&&u.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),u&&q$(n,u)}function p_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p_=function(){return u};var n,u={},o=Object.prototype,a=o.hasOwnProperty,h=Object.defineProperty||function(j,B,I){j[B]=I.value},m=typeof Symbol=="function"?Symbol:{},T=m.iterator||"@@iterator",E=m.asyncIterator||"@@asyncIterator",v=m.toStringTag||"@@toStringTag";function C(j,B,I){return Object.defineProperty(j,B,{value:I,enumerable:!0,configurable:!0,writable:!0}),j[B]}try{C({},"")}catch{C=function(I,J,Y){return I[J]=Y}}function N(j,B,I,J){var Y=B&&B.prototype instanceof ee?B:ee,R=Object.create(Y.prototype),Q=new Le(J||[]);return h(R,"_invoke",{value:L(j,I,Q)}),R}function w(j,B,I){try{return{type:"normal",arg:j.call(B,I)}}catch(J){return{type:"throw",arg:J}}}u.wrap=N;var k="suspendedStart",H="suspendedYield",x="executing",O="completed",K={};function ee(){}function oe(){}function ne(){}var ae={};C(ae,T,function(){return this});var ge=Object.getPrototypeOf,ue=ge&&ge(ge(Ve([])));ue&&ue!==o&&a.call(ue,T)&&(ae=ue);var re=ne.prototype=ee.prototype=Object.create(ae);function pe(j){["next","throw","return"].forEach(function(B){C(j,B,function(I){return this._invoke(B,I)})})}function Fe(j,B){function I(Y,R,Q,Re){var Se=w(j[Y],j,R);if(Se.type!=="throw"){var Ue=Se.arg,Oe=Ue.value;return Oe&&fs(Oe)=="object"&&a.call(Oe,"__await")?B.resolve(Oe.__await).then(function(Ie){I("next",Ie,Q,Re)},function(Ie){I("throw",Ie,Q,Re)}):B.resolve(Oe).then(function(Ie){Ue.value=Ie,Q(Ue)},function(Ie){return I("throw",Ie,Q,Re)})}Re(Se.arg)}var J;h(this,"_invoke",{value:function(R,Q){function Re(){return new B(function(Se,Ue){I(R,Q,Se,Ue)})}return J=J?J.then(Re,Re):Re()}})}function L(j,B,I){var J=k;return function(Y,R){if(J===x)throw Error("Generator is already running");if(J===O){if(Y==="throw")throw R;return{value:n,done:!0}}for(I.method=Y,I.arg=R;;){var Q=I.delegate;if(Q){var Re=ve(Q,I);if(Re){if(Re===K)continue;return Re}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(J===k)throw J=O,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);J=x;var Se=w(j,B,I);if(Se.type==="normal"){if(J=I.done?O:H,Se.arg===K)continue;return{value:Se.arg,done:I.done}}Se.type==="throw"&&(J=O,I.method="throw",I.arg=Se.arg)}}}function ve(j,B){var I=B.method,J=j.iterator[I];if(J===n)return B.delegate=null,I==="throw"&&j.iterator.return&&(B.method="return",B.arg=n,ve(j,B),B.method==="throw")||I!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+I+"' method")),K;var Y=w(J,j.iterator,B.arg);if(Y.type==="throw")return B.method="throw",B.arg=Y.arg,B.delegate=null,K;var R=Y.arg;return R?R.done?(B[j.resultName]=R.value,B.next=j.nextLoc,B.method!=="return"&&(B.method="next",B.arg=n),B.delegate=null,K):R:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,K)}function ke(j){var B={tryLoc:j[0]};1 in j&&(B.catchLoc=j[1]),2 in j&&(B.finallyLoc=j[2],B.afterLoc=j[3]),this.tryEntries.push(B)}function Ne(j){var B=j.completion||{};B.type="normal",delete B.arg,j.completion=B}function Le(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(ke,this),this.reset(!0)}function Ve(j){if(j||j===""){var B=j[T];if(B)return B.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var I=-1,J=function Y(){for(;++I<j.length;)if(a.call(j,I))return Y.value=j[I],Y.done=!1,Y;return Y.value=n,Y.done=!0,Y};return J.next=J}}throw new TypeError(fs(j)+" is not iterable")}return oe.prototype=ne,h(re,"constructor",{value:ne,configurable:!0}),h(ne,"constructor",{value:oe,configurable:!0}),oe.displayName=C(ne,v,"GeneratorFunction"),u.isGeneratorFunction=function(j){var B=typeof j=="function"&&j.constructor;return!!B&&(B===oe||(B.displayName||B.name)==="GeneratorFunction")},u.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,ne):(j.__proto__=ne,C(j,v,"GeneratorFunction")),j.prototype=Object.create(re),j},u.awrap=function(j){return{__await:j}},pe(Fe.prototype),C(Fe.prototype,E,function(){return this}),u.AsyncIterator=Fe,u.async=function(j,B,I,J,Y){Y===void 0&&(Y=Promise);var R=new Fe(N(j,B,I,J),Y);return u.isGeneratorFunction(B)?R:R.next().then(function(Q){return Q.done?Q.value:R.next()})},pe(re),C(re,v,"Generator"),C(re,T,function(){return this}),C(re,"toString",function(){return"[object Generator]"}),u.keys=function(j){var B=Object(j),I=[];for(var J in B)I.push(J);return I.reverse(),function Y(){for(;I.length;){var R=I.pop();if(R in B)return Y.value=R,Y.done=!1,Y}return Y.done=!0,Y}},u.values=Ve,Le.prototype={constructor:Le,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Ne),!B)for(var I in this)I.charAt(0)==="t"&&a.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=n)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var I=this;function J(Ue,Oe){return Q.type="throw",Q.arg=B,I.next=Ue,Oe&&(I.method="next",I.arg=n),!!Oe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var R=this.tryEntries[Y],Q=R.completion;if(R.tryLoc==="root")return J("end");if(R.tryLoc<=this.prev){var Re=a.call(R,"catchLoc"),Se=a.call(R,"finallyLoc");if(Re&&Se){if(this.prev<R.catchLoc)return J(R.catchLoc,!0);if(this.prev<R.finallyLoc)return J(R.finallyLoc)}else if(Re){if(this.prev<R.catchLoc)return J(R.catchLoc,!0)}else{if(!Se)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return J(R.finallyLoc)}}}},abrupt:function(B,I){for(var J=this.tryEntries.length-1;J>=0;--J){var Y=this.tryEntries[J];if(Y.tryLoc<=this.prev&&a.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var R=Y;break}}R&&(B==="break"||B==="continue")&&R.tryLoc<=I&&I<=R.finallyLoc&&(R=null);var Q=R?R.completion:{};return Q.type=B,Q.arg=I,R?(this.method="next",this.next=R.finallyLoc,K):this.complete(Q)},complete:function(B,I){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&I&&(this.next=I),K},finish:function(B){for(var I=this.tryEntries.length-1;I>=0;--I){var J=this.tryEntries[I];if(J.finallyLoc===B)return this.complete(J.completion,J.afterLoc),Ne(J),K}},catch:function(B){for(var I=this.tryEntries.length-1;I>=0;--I){var J=this.tryEntries[I];if(J.tryLoc===B){var Y=J.completion;if(Y.type==="throw"){var R=Y.arg;Ne(J)}return R}}throw Error("illegal catch attempt")},delegateYield:function(B,I,J){return this.delegate={iterator:Ve(B),resultName:I,nextLoc:J},this.method==="next"&&(this.arg=n),K}},u}function u0(n,u,o){return u=Kg(u),s0(n,Wv()?Reflect.construct(u,o||[],Kg(n).constructor):u.apply(n,o))}function Wv(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wv=function(){return!!n})()}const a0=function(n){var u,o=n.loader,a=n.isLanguageRegistered,h=n.registerLanguage,m=n.languageLoaders,T=n.noAsyncLoadingLanguages,E=function(v){function C(){return i0(this,C),u0(this,C,arguments)}return l0(C,v),o0(C,[{key:"componentDidUpdate",value:function(){!C.isRegistered(this.props.language)&&m&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var w=this;C.astGeneratorPromise||C.loadAstGenerator(),C.astGenerator||C.astGeneratorPromise.then(function(){w.forceUpdate()}),!C.isRegistered(this.props.language)&&m&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var w=this,k=this.props.language;k!=="text"&&C.loadLanguage(k).then(function(){return w.forceUpdate()}).catch(function(){})}},{key:"normalizeLanguage",value:function(w){return C.isSupportedLanguage(w)?w:"text"}},{key:"render",value:function(){return je.createElement(C.highlightInstance,nf({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:C.astGenerator}))}}],[{key:"preload",value:function(){return C.loadAstGenerator()}},{key:"loadLanguage",value:function(){var N=Gv(p_().mark(function k(H){var x;return p_().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(x=m[H],typeof x!="function"){K.next=5;break}return K.abrupt("return",x(C.registerLanguage));case 5:throw new Error("Language ".concat(H," not supported"));case 6:case"end":return K.stop()}},k)}));function w(k){return N.apply(this,arguments)}return w}()},{key:"isSupportedLanguage",value:function(w){return C.isRegistered(w)||typeof m[w]=="function"}},{key:"loadAstGenerator",value:function(){return C.astGeneratorPromise=o().then(function(w){C.astGenerator=w,h&&C.languages.forEach(function(k,H){return h(w,H,k)})}),C.astGeneratorPromise}}])}(je.PureComponent);return u=E,gl(E,"astGenerator",null),gl(E,"highlightInstance",t0(null,{})),gl(E,"astGeneratorPromise",null),gl(E,"languages",new Map),gl(E,"supportedLanguages",n.supportedLanguages||Object.keys(m||{})),gl(E,"isRegistered",function(v){if(T)return!0;if(!h)throw new Error("Current syntax highlighter doesn't support registration of languages");return u.astGenerator?a(u.astGenerator,v):u.languages.has(v)}),gl(E,"registerLanguage",function(v,C){if(!h)throw new Error("Current syntax highlighter doesn't support registration of languages");if(u.astGenerator)return h(u.astGenerator,v,C);u.languages.set(v,C)}),E};function f_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */f_=function(){return u};var n,u={},o=Object.prototype,a=o.hasOwnProperty,h=Object.defineProperty||function(j,B,I){j[B]=I.value},m=typeof Symbol=="function"?Symbol:{},T=m.iterator||"@@iterator",E=m.asyncIterator||"@@asyncIterator",v=m.toStringTag||"@@toStringTag";function C(j,B,I){return Object.defineProperty(j,B,{value:I,enumerable:!0,configurable:!0,writable:!0}),j[B]}try{C({},"")}catch{C=function(I,J,Y){return I[J]=Y}}function N(j,B,I,J){var Y=B&&B.prototype instanceof ee?B:ee,R=Object.create(Y.prototype),Q=new Le(J||[]);return h(R,"_invoke",{value:L(j,I,Q)}),R}function w(j,B,I){try{return{type:"normal",arg:j.call(B,I)}}catch(J){return{type:"throw",arg:J}}}u.wrap=N;var k="suspendedStart",H="suspendedYield",x="executing",O="completed",K={};function ee(){}function oe(){}function ne(){}var ae={};C(ae,T,function(){return this});var ge=Object.getPrototypeOf,ue=ge&&ge(ge(Ve([])));ue&&ue!==o&&a.call(ue,T)&&(ae=ue);var re=ne.prototype=ee.prototype=Object.create(ae);function pe(j){["next","throw","return"].forEach(function(B){C(j,B,function(I){return this._invoke(B,I)})})}function Fe(j,B){function I(Y,R,Q,Re){var Se=w(j[Y],j,R);if(Se.type!=="throw"){var Ue=Se.arg,Oe=Ue.value;return Oe&&fs(Oe)=="object"&&a.call(Oe,"__await")?B.resolve(Oe.__await).then(function(Ie){I("next",Ie,Q,Re)},function(Ie){I("throw",Ie,Q,Re)}):B.resolve(Oe).then(function(Ie){Ue.value=Ie,Q(Ue)},function(Ie){return I("throw",Ie,Q,Re)})}Re(Se.arg)}var J;h(this,"_invoke",{value:function(R,Q){function Re(){return new B(function(Se,Ue){I(R,Q,Se,Ue)})}return J=J?J.then(Re,Re):Re()}})}function L(j,B,I){var J=k;return function(Y,R){if(J===x)throw Error("Generator is already running");if(J===O){if(Y==="throw")throw R;return{value:n,done:!0}}for(I.method=Y,I.arg=R;;){var Q=I.delegate;if(Q){var Re=ve(Q,I);if(Re){if(Re===K)continue;return Re}}if(I.method==="next")I.sent=I._sent=I.arg;else if(I.method==="throw"){if(J===k)throw J=O,I.arg;I.dispatchException(I.arg)}else I.method==="return"&&I.abrupt("return",I.arg);J=x;var Se=w(j,B,I);if(Se.type==="normal"){if(J=I.done?O:H,Se.arg===K)continue;return{value:Se.arg,done:I.done}}Se.type==="throw"&&(J=O,I.method="throw",I.arg=Se.arg)}}}function ve(j,B){var I=B.method,J=j.iterator[I];if(J===n)return B.delegate=null,I==="throw"&&j.iterator.return&&(B.method="return",B.arg=n,ve(j,B),B.method==="throw")||I!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+I+"' method")),K;var Y=w(J,j.iterator,B.arg);if(Y.type==="throw")return B.method="throw",B.arg=Y.arg,B.delegate=null,K;var R=Y.arg;return R?R.done?(B[j.resultName]=R.value,B.next=j.nextLoc,B.method!=="return"&&(B.method="next",B.arg=n),B.delegate=null,K):R:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,K)}function ke(j){var B={tryLoc:j[0]};1 in j&&(B.catchLoc=j[1]),2 in j&&(B.finallyLoc=j[2],B.afterLoc=j[3]),this.tryEntries.push(B)}function Ne(j){var B=j.completion||{};B.type="normal",delete B.arg,j.completion=B}function Le(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(ke,this),this.reset(!0)}function Ve(j){if(j||j===""){var B=j[T];if(B)return B.call(j);if(typeof j.next=="function")return j;if(!isNaN(j.length)){var I=-1,J=function Y(){for(;++I<j.length;)if(a.call(j,I))return Y.value=j[I],Y.done=!1,Y;return Y.value=n,Y.done=!0,Y};return J.next=J}}throw new TypeError(fs(j)+" is not iterable")}return oe.prototype=ne,h(re,"constructor",{value:ne,configurable:!0}),h(ne,"constructor",{value:oe,configurable:!0}),oe.displayName=C(ne,v,"GeneratorFunction"),u.isGeneratorFunction=function(j){var B=typeof j=="function"&&j.constructor;return!!B&&(B===oe||(B.displayName||B.name)==="GeneratorFunction")},u.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,ne):(j.__proto__=ne,C(j,v,"GeneratorFunction")),j.prototype=Object.create(re),j},u.awrap=function(j){return{__await:j}},pe(Fe.prototype),C(Fe.prototype,E,function(){return this}),u.AsyncIterator=Fe,u.async=function(j,B,I,J,Y){Y===void 0&&(Y=Promise);var R=new Fe(N(j,B,I,J),Y);return u.isGeneratorFunction(B)?R:R.next().then(function(Q){return Q.done?Q.value:R.next()})},pe(re),C(re,v,"Generator"),C(re,T,function(){return this}),C(re,"toString",function(){return"[object Generator]"}),u.keys=function(j){var B=Object(j),I=[];for(var J in B)I.push(J);return I.reverse(),function Y(){for(;I.length;){var R=I.pop();if(R in B)return Y.value=R,Y.done=!1,Y}return Y.done=!0,Y}},u.values=Ve,Le.prototype={constructor:Le,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Ne),!B)for(var I in this)I.charAt(0)==="t"&&a.call(this,I)&&!isNaN(+I.slice(1))&&(this[I]=n)},stop:function(){this.done=!0;var B=this.tryEntries[0].completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var I=this;function J(Ue,Oe){return Q.type="throw",Q.arg=B,I.next=Ue,Oe&&(I.method="next",I.arg=n),!!Oe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var R=this.tryEntries[Y],Q=R.completion;if(R.tryLoc==="root")return J("end");if(R.tryLoc<=this.prev){var Re=a.call(R,"catchLoc"),Se=a.call(R,"finallyLoc");if(Re&&Se){if(this.prev<R.catchLoc)return J(R.catchLoc,!0);if(this.prev<R.finallyLoc)return J(R.finallyLoc)}else if(Re){if(this.prev<R.catchLoc)return J(R.catchLoc,!0)}else{if(!Se)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return J(R.finallyLoc)}}}},abrupt:function(B,I){for(var J=this.tryEntries.length-1;J>=0;--J){var Y=this.tryEntries[J];if(Y.tryLoc<=this.prev&&a.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var R=Y;break}}R&&(B==="break"||B==="continue")&&R.tryLoc<=I&&I<=R.finallyLoc&&(R=null);var Q=R?R.completion:{};return Q.type=B,Q.arg=I,R?(this.method="next",this.next=R.finallyLoc,K):this.complete(Q)},complete:function(B,I){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&I&&(this.next=I),K},finish:function(B){for(var I=this.tryEntries.length-1;I>=0;--I){var J=this.tryEntries[I];if(J.finallyLoc===B)return this.complete(J.completion,J.afterLoc),Ne(J),K}},catch:function(B){for(var I=this.tryEntries.length-1;I>=0;--I){var J=this.tryEntries[I];if(J.tryLoc===B){var Y=J.completion;if(Y.type==="throw"){var R=Y.arg;Ne(J)}return R}}throw Error("illegal catch attempt")},delegateYield:function(B,I,J){return this.delegate={iterator:Ve(B),resultName:I,nextLoc:J},this.method==="next"&&(this.arg=n),K}},u}const D=function(n,u){return function(){var o=Gv(f_().mark(function a(h){var m;return f_().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,u();case 2:m=E.sent,h(n,m.default||m);case 4:case"end":return E.stop()}},a)}));return function(a){return o.apply(this,arguments)}}()},c0={abap:D("abap",function(){return A(()=>import("./abap-yvNE_est.js").then(n=>n.a),[])}),abnf:D("abnf",function(){return A(()=>import("./abnf-C3_vqelR.js").then(n=>n.a),[])}),actionscript:D("actionscript",function(){return A(()=>import("./actionscript-DqMrQjW2.js").then(n=>n.a),[])}),ada:D("ada",function(){return A(()=>import("./ada-Y-1_QVJt.js").then(n=>n.a),[])}),agda:D("agda",function(){return A(()=>import("./agda-tb1RjF3l.js").then(n=>n.a),[])}),al:D("al",function(){return A(()=>import("./al-CC3MpF7Y.js").then(n=>n.a),[])}),antlr4:D("antlr4",function(){return A(()=>import("./antlr4-Bxc-eBo_.js").then(n=>n.a),[])}),apacheconf:D("apacheconf",function(){return A(()=>import("./apacheconf-pttaL2uR.js").then(n=>n.a),[])}),apex:D("apex",function(){return A(()=>import("./apex-CI7oPk0G.js").then(n=>n.a),__vite__mapDeps([0,1]))}),apl:D("apl",function(){return A(()=>import("./apl-CXwCqVnx.js").then(n=>n.a),[])}),applescript:D("applescript",function(){return A(()=>import("./applescript-B3cXQNP2.js").then(n=>n.a),[])}),aql:D("aql",function(){return A(()=>import("./aql-DoDnNG3l.js").then(n=>n.a),[])}),arduino:D("arduino",function(){return A(()=>import("./arduino-BdFUaR0W.js").then(n=>n.a),__vite__mapDeps([2,3,4]))}),arff:D("arff",function(){return A(()=>import("./arff-CGTK5fL9.js").then(n=>n.a),[])}),asciidoc:D("asciidoc",function(){return A(()=>import("./asciidoc-Cz6fMJ65.js").then(n=>n.a),[])}),asm6502:D("asm6502",function(){return A(()=>import("./asm6502-D32huNbo.js").then(n=>n.a),[])}),asmatmel:D("asmatmel",function(){return A(()=>import("./asmatmel-S-lHzy6L.js").then(n=>n.a),[])}),aspnet:D("aspnet",function(){return A(()=>import("./aspnet-CrOVQF4R.js").then(n=>n.a),__vite__mapDeps([5,6]))}),autohotkey:D("autohotkey",function(){return A(()=>import("./autohotkey-BBjz27v3.js").then(n=>n.a),[])}),autoit:D("autoit",function(){return A(()=>import("./autoit-B8g_k9GM.js").then(n=>n.a),[])}),avisynth:D("avisynth",function(){return A(()=>import("./avisynth-Dxb0awQo.js").then(n=>n.a),[])}),avroIdl:D("avroIdl",function(){return A(()=>import("./avro-idl-BENFeebQ.js").then(n=>n.a),[])}),bash:D("bash",function(){return A(()=>import("./bash-CdnQ2vFh.js").then(n=>n.b),__vite__mapDeps([7,8]))}),basic:D("basic",function(){return A(()=>import("./basic-qXcg5o1g.js").then(n=>n.b),__vite__mapDeps([9,10]))}),batch:D("batch",function(){return A(()=>import("./batch-BgJIuPNH.js").then(n=>n.b),[])}),bbcode:D("bbcode",function(){return A(()=>import("./bbcode-oTDYhrdF.js").then(n=>n.b),[])}),bicep:D("bicep",function(){return A(()=>import("./bicep-C4qbKnKi.js").then(n=>n.b),[])}),birb:D("birb",function(){return A(()=>import("./birb-CtVHm_aI.js").then(n=>n.b),[])}),bison:D("bison",function(){return A(()=>import("./bison-66xE4dAi.js").then(n=>n.b),__vite__mapDeps([11,4]))}),bnf:D("bnf",function(){return A(()=>import("./bnf-B5lDb_ae.js").then(n=>n.b),[])}),brainfuck:D("brainfuck",function(){return A(()=>import("./brainfuck-B1EXpqxj.js").then(n=>n.b),[])}),brightscript:D("brightscript",function(){return A(()=>import("./brightscript-D1XvmaXZ.js").then(n=>n.b),[])}),bro:D("bro",function(){return A(()=>import("./bro-Ck7SFOVk.js").then(n=>n.b),[])}),bsl:D("bsl",function(){return A(()=>import("./bsl-B6mosF8a.js").then(n=>n.b),[])}),c:D("c",function(){return A(()=>import("./c-Cth3iDFc.js").then(n=>n.c),__vite__mapDeps([12,4]))}),cfscript:D("cfscript",function(){return A(()=>import("./cfscript-zrTHMfoj.js").then(n=>n.c),[])}),chaiscript:D("chaiscript",function(){return A(()=>import("./chaiscript-D2OWFCp_.js").then(n=>n.c),__vite__mapDeps([13,3,4]))}),cil:D("cil",function(){return A(()=>import("./cil-BvsPuhFW.js").then(n=>n.c),[])}),clike:D("clike",function(){return A(()=>import("./clike-Cuedwn1N.js").then(n=>n.c),__vite__mapDeps([14,15]))}),clojure:D("clojure",function(){return A(()=>import("./clojure-DxYl7ljr.js").then(n=>n.c),[])}),cmake:D("cmake",function(){return A(()=>import("./cmake-Ca928cve.js").then(n=>n.c),[])}),cobol:D("cobol",function(){return A(()=>import("./cobol-C9RQpY8a.js").then(n=>n.c),[])}),coffeescript:D("coffeescript",function(){return A(()=>import("./coffeescript-73s4gmZP.js").then(n=>n.c),[])}),concurnas:D("concurnas",function(){return A(()=>import("./concurnas-Bp16-SBy.js").then(n=>n.c),[])}),coq:D("coq",function(){return A(()=>import("./coq-DJz9LuTB.js").then(n=>n.c),[])}),cpp:D("cpp",function(){return A(()=>import("./cpp-BCjjq4nr.js").then(n=>n.c),__vite__mapDeps([16,3,4]))}),crystal:D("crystal",function(){return A(()=>import("./crystal-DvF8GubG.js").then(n=>n.c),__vite__mapDeps([17,18]))}),csharp:D("csharp",function(){return A(()=>import("./csharp-DoxdYmvF.js").then(n=>n.c),__vite__mapDeps([19,6]))}),cshtml:D("cshtml",function(){return A(()=>import("./cshtml-CqINOCTr.js").then(n=>n.c),__vite__mapDeps([20,6]))}),csp:D("csp",function(){return A(()=>import("./csp-pbUNLUAD.js").then(n=>n.c),[])}),cssExtras:D("cssExtras",function(){return A(()=>import("./css-extras-q_0JwoOX.js").then(n=>n.c),[])}),css:D("css",function(){return A(()=>import("./css-SSXhJCSP.js").then(n=>n.c),__vite__mapDeps([21,22]))}),csv:D("csv",function(){return A(()=>import("./csv-CeUMpmSd.js").then(n=>n.c),[])}),cypher:D("cypher",function(){return A(()=>import("./cypher-BK7fjw05.js").then(n=>n.c),[])}),d:D("d",function(){return A(()=>import("./d-CfUhfs_3.js").then(n=>n.d),[])}),dart:D("dart",function(){return A(()=>import("./dart-C5LffYNU.js").then(n=>n.d),[])}),dataweave:D("dataweave",function(){return A(()=>import("./dataweave-9RsDQJoq.js").then(n=>n.d),[])}),dax:D("dax",function(){return A(()=>import("./dax-DZsXwb-S.js").then(n=>n.d),[])}),dhall:D("dhall",function(){return A(()=>import("./dhall-BlKObEo4.js").then(n=>n.d),[])}),diff:D("diff",function(){return A(()=>import("./diff-Bnw9udns.js").then(n=>n.d),[])}),django:D("django",function(){return A(()=>import("./django-BeD48nOq.js").then(n=>n.d),__vite__mapDeps([23,24]))}),dnsZoneFile:D("dnsZoneFile",function(){return A(()=>import("./dns-zone-file-5pGPO24h.js").then(n=>n.d),[])}),docker:D("docker",function(){return A(()=>import("./docker-Dh0ZtQrU.js").then(n=>n.d),[])}),dot:D("dot",function(){return A(()=>import("./dot-t-C2tRog.js").then(n=>n.d),[])}),ebnf:D("ebnf",function(){return A(()=>import("./ebnf-BbaUuktQ.js").then(n=>n.e),[])}),editorconfig:D("editorconfig",function(){return A(()=>import("./editorconfig-BIHakcfA.js").then(n=>n.e),[])}),eiffel:D("eiffel",function(){return A(()=>import("./eiffel-OpoTQF3S.js").then(n=>n.e),[])}),ejs:D("ejs",function(){return A(()=>import("./ejs-CXFtL1aw.js").then(n=>n.e),__vite__mapDeps([25,24]))}),elixir:D("elixir",function(){return A(()=>import("./elixir-YXtE03Gl.js").then(n=>n.e),[])}),elm:D("elm",function(){return A(()=>import("./elm-DEgijI1l.js").then(n=>n.e),[])}),erb:D("erb",function(){return A(()=>import("./erb-DYNmI-Lh.js").then(n=>n.e),__vite__mapDeps([26,18,24]))}),erlang:D("erlang",function(){return A(()=>import("./erlang-CRktm9_b.js").then(n=>n.e),[])}),etlua:D("etlua",function(){return A(()=>import("./etlua-51RvRyyW.js").then(n=>n.e),__vite__mapDeps([27,28,24]))}),excelFormula:D("excelFormula",function(){return A(()=>import("./excel-formula-YeTu_RBY.js").then(n=>n.e),[])}),factor:D("factor",function(){return A(()=>import("./factor-CciN9863.js").then(n=>n.f),[])}),falselang:D("falselang",function(){return A(()=>import("./false-Drfk3yFH.js").then(n=>n._),[])}),firestoreSecurityRules:D("firestoreSecurityRules",function(){return A(()=>import("./firestore-security-rules-6h1gLGd6.js").then(n=>n.f),[])}),flow:D("flow",function(){return A(()=>import("./flow-B7AcHCDU.js").then(n=>n.f),[])}),fortran:D("fortran",function(){return A(()=>import("./fortran-DxD6n_8Y.js").then(n=>n.f),[])}),fsharp:D("fsharp",function(){return A(()=>import("./fsharp-X8ZczblZ.js").then(n=>n.f),[])}),ftl:D("ftl",function(){return A(()=>import("./ftl-BzrHRLHi.js").then(n=>n.f),__vite__mapDeps([29,24]))}),gap:D("gap",function(){return A(()=>import("./gap-C4gt79zj.js").then(n=>n.g),[])}),gcode:D("gcode",function(){return A(()=>import("./gcode-D8IH2IR1.js").then(n=>n.g),[])}),gdscript:D("gdscript",function(){return A(()=>import("./gdscript-Rcv97g1f.js").then(n=>n.g),[])}),gedcom:D("gedcom",function(){return A(()=>import("./gedcom-Bj_Qu4z4.js").then(n=>n.g),[])}),gherkin:D("gherkin",function(){return A(()=>import("./gherkin-COnSkZTi.js").then(n=>n.g),[])}),git:D("git",function(){return A(()=>import("./git-B05nnmpn.js").then(n=>n.g),[])}),glsl:D("glsl",function(){return A(()=>import("./glsl-BtSXr9ge.js").then(n=>n.g),__vite__mapDeps([30,4]))}),gml:D("gml",function(){return A(()=>import("./gml-DHkGKYcd.js").then(n=>n.g),[])}),gn:D("gn",function(){return A(()=>import("./gn-CVlGxajd.js").then(n=>n.g),[])}),goModule:D("goModule",function(){return A(()=>import("./go-module-BtATsyoC.js").then(n=>n.g),[])}),go:D("go",function(){return A(()=>import("./go-BwQSeNgM.js").then(n=>n.g),[])}),graphql:D("graphql",function(){return A(()=>import("./graphql-DbYa3-tV.js").then(n=>n.g),[])}),groovy:D("groovy",function(){return A(()=>import("./groovy-CUL0KirB.js").then(n=>n.g),[])}),haml:D("haml",function(){return A(()=>import("./haml-CxBQr8Aa.js").then(n=>n.h),__vite__mapDeps([31,18]))}),handlebars:D("handlebars",function(){return A(()=>import("./handlebars-COxX9khz.js").then(n=>n.h),__vite__mapDeps([32,24]))}),haskell:D("haskell",function(){return A(()=>import("./haskell-BH_FuWRz.js").then(n=>n.h),__vite__mapDeps([33,34]))}),haxe:D("haxe",function(){return A(()=>import("./haxe-CIXy2nPf.js").then(n=>n.h),[])}),hcl:D("hcl",function(){return A(()=>import("./hcl-BNoZ0YdI.js").then(n=>n.h),[])}),hlsl:D("hlsl",function(){return A(()=>import("./hlsl-Dm8DNtfE.js").then(n=>n.h),__vite__mapDeps([35,4]))}),hoon:D("hoon",function(){return A(()=>import("./hoon-CLnBSG8S.js").then(n=>n.h),[])}),hpkp:D("hpkp",function(){return A(()=>import("./hpkp-OhXw_ehX.js").then(n=>n.h),[])}),hsts:D("hsts",function(){return A(()=>import("./hsts-DmEryVa5.js").then(n=>n.h),[])}),http:D("http",function(){return A(()=>import("./http-DJvDYWeg.js").then(n=>n.h),[])}),ichigojam:D("ichigojam",function(){return A(()=>import("./ichigojam-BM3otCuU.js").then(n=>n.i),[])}),icon:D("icon",function(){return A(()=>import("./icon-DRjqOkcG.js").then(n=>n.i),[])}),icuMessageFormat:D("icuMessageFormat",function(){return A(()=>import("./icu-message-format-CXKzxcLt.js").then(n=>n.i),[])}),idris:D("idris",function(){return A(()=>import("./idris-C_loEgcc.js").then(n=>n.i),__vite__mapDeps([36,34]))}),iecst:D("iecst",function(){return A(()=>import("./iecst-CeGAlxSa.js").then(n=>n.i),[])}),ignore:D("ignore",function(){return A(()=>import("./ignore-CNQxSdIi.js").then(n=>n.i),[])}),inform7:D("inform7",function(){return A(()=>import("./inform7-Dr8U2Yy8.js").then(n=>n.i),[])}),ini:D("ini",function(){return A(()=>import("./ini-D-dEDC_h.js").then(n=>n.i),[])}),io:D("io",function(){return A(()=>import("./io-D5etWUfL.js").then(n=>n.i),[])}),j:D("j",function(){return A(()=>import("./j-CLi3u3ls.js").then(n=>n.j),[])}),java:D("java",function(){return A(()=>import("./java-B-ga2dXN.js").then(n=>n.j),__vite__mapDeps([37,38]))}),javadoc:D("javadoc",function(){return A(()=>import("./javadoc-Bxcabbs6.js").then(n=>n.j),__vite__mapDeps([39,38,40]))}),javadoclike:D("javadoclike",function(){return A(()=>import("./javadoclike-D889GNyK.js").then(n=>n.j),__vite__mapDeps([41,40]))}),javascript:D("javascript",function(){return A(()=>import("./javascript-DFeEVRMX.js").then(n=>n.j),__vite__mapDeps([42,43]))}),javastacktrace:D("javastacktrace",function(){return A(()=>import("./javastacktrace-BRogRDsQ.js").then(n=>n.j),[])}),jexl:D("jexl",function(){return A(()=>import("./jexl-CBpwwvDT.js").then(n=>n.j),[])}),jolie:D("jolie",function(){return A(()=>import("./jolie-I7rls6FS.js").then(n=>n.j),[])}),jq:D("jq",function(){return A(()=>import("./jq-8hvJ0Xph.js").then(n=>n.j),[])}),jsExtras:D("jsExtras",function(){return A(()=>import("./js-extras-D20NLMyv.js").then(n=>n.j),[])}),jsTemplates:D("jsTemplates",function(){return A(()=>import("./js-templates-Cocgehxa.js").then(n=>n.j),[])}),jsdoc:D("jsdoc",function(){return A(()=>import("./jsdoc-CErfq6gH.js").then(n=>n.j),__vite__mapDeps([44,40,45]))}),json:D("json",function(){return A(()=>import("./json-BsZXHG-5.js").then(n=>n.j),__vite__mapDeps([46,47]))}),json5:D("json5",function(){return A(()=>import("./json5-BfPU-Jc-.js").then(n=>n.j),__vite__mapDeps([48,47]))}),jsonp:D("jsonp",function(){return A(()=>import("./jsonp-DslxPkgX.js").then(n=>n.j),__vite__mapDeps([49,47]))}),jsstacktrace:D("jsstacktrace",function(){return A(()=>import("./jsstacktrace-DCgYpOEu.js").then(n=>n.j),[])}),jsx:D("jsx",function(){return A(()=>import("./jsx-sYNdSVkc.js").then(n=>n.j),__vite__mapDeps([50,51]))}),julia:D("julia",function(){return A(()=>import("./julia-B_u27SR4.js").then(n=>n.j),[])}),keepalived:D("keepalived",function(){return A(()=>import("./keepalived-BSNz7_Fx.js").then(n=>n.k),[])}),keyman:D("keyman",function(){return A(()=>import("./keyman-CwSdF6fN.js").then(n=>n.k),[])}),kotlin:D("kotlin",function(){return A(()=>import("./kotlin-CIY44z5H.js").then(n=>n.k),[])}),kumir:D("kumir",function(){return A(()=>import("./kumir-BNpJHgYQ.js").then(n=>n.k),[])}),kusto:D("kusto",function(){return A(()=>import("./kusto-DCttWqOX.js").then(n=>n.k),[])}),latex:D("latex",function(){return A(()=>import("./latex-CwaraoOn.js").then(n=>n.l),[])}),latte:D("latte",function(){return A(()=>import("./latte-BwOtT6y4.js").then(n=>n.l),__vite__mapDeps([52,24,53]))}),less:D("less",function(){return A(()=>import("./less-CdfZvZHq.js").then(n=>n.l),[])}),lilypond:D("lilypond",function(){return A(()=>import("./lilypond-CTGB-Wxm.js").then(n=>n.l),__vite__mapDeps([54,55]))}),liquid:D("liquid",function(){return A(()=>import("./liquid-BWvwQojZ.js").then(n=>n.l),__vite__mapDeps([56,24]))}),lisp:D("lisp",function(){return A(()=>import("./lisp-C3WTJZzR.js").then(n=>n.l),[])}),livescript:D("livescript",function(){return A(()=>import("./livescript-E-k5soEI.js").then(n=>n.l),[])}),llvm:D("llvm",function(){return A(()=>import("./llvm-DxOdS74i.js").then(n=>n.l),[])}),log:D("log",function(){return A(()=>import("./log-4u7BAwdE.js").then(n=>n.l),[])}),lolcode:D("lolcode",function(){return A(()=>import("./lolcode-ulkHrvNy.js").then(n=>n.l),[])}),lua:D("lua",function(){return A(()=>import("./lua-CXzceKXm.js").then(n=>n.l),__vite__mapDeps([57,28]))}),magma:D("magma",function(){return A(()=>import("./magma-DLtHsrxA.js").then(n=>n.m),[])}),makefile:D("makefile",function(){return A(()=>import("./makefile-f-lTigeR.js").then(n=>n.m),[])}),markdown:D("markdown",function(){return A(()=>import("./markdown-Wlkfn5hP.js").then(n=>n.m),[])}),markupTemplating:D("markupTemplating",function(){return A(()=>import("./markup-templating-wZBqyh73.js").then(n=>n.m),__vite__mapDeps([58,24]))}),markup:D("markup",function(){return A(()=>import("./markup-C45bFSPM.js").then(n=>n.m),__vite__mapDeps([59,60]))}),matlab:D("matlab",function(){return A(()=>import("./matlab-DQVNvM25.js").then(n=>n.m),[])}),maxscript:D("maxscript",function(){return A(()=>import("./maxscript-lkrDLUiA.js").then(n=>n.m),[])}),mel:D("mel",function(){return A(()=>import("./mel-BwBAlA9L.js").then(n=>n.m),[])}),mermaid:D("mermaid",function(){return A(()=>import("./mermaid-V-5q7cWI.js").then(n=>n.m),[])}),mizar:D("mizar",function(){return A(()=>import("./mizar-CYTkph-Z.js").then(n=>n.m),[])}),mongodb:D("mongodb",function(){return A(()=>import("./mongodb-D09NcZ8e.js").then(n=>n.m),[])}),monkey:D("monkey",function(){return A(()=>import("./monkey-C26EPyQj.js").then(n=>n.m),[])}),moonscript:D("moonscript",function(){return A(()=>import("./moonscript-zy2_xpJ4.js").then(n=>n.m),[])}),n1ql:D("n1ql",function(){return A(()=>import("./n1ql-BsmDresb.js").then(n=>n.n),[])}),n4js:D("n4js",function(){return A(()=>import("./n4js-B93Iw6aw.js").then(n=>n.n),[])}),nand2tetrisHdl:D("nand2tetrisHdl",function(){return A(()=>import("./nand2tetris-hdl-DdBUiY4C.js").then(n=>n.n),[])}),naniscript:D("naniscript",function(){return A(()=>import("./naniscript-CCzdchq1.js").then(n=>n.n),[])}),nasm:D("nasm",function(){return A(()=>import("./nasm-QyakPmEQ.js").then(n=>n.n),[])}),neon:D("neon",function(){return A(()=>import("./neon-CzmpYydN.js").then(n=>n.n),[])}),nevod:D("nevod",function(){return A(()=>import("./nevod-DAN2Fu1m.js").then(n=>n.n),[])}),nginx:D("nginx",function(){return A(()=>import("./nginx-BNnhcidR.js").then(n=>n.n),[])}),nim:D("nim",function(){return A(()=>import("./nim--iC11TpV.js").then(n=>n.n),[])}),nix:D("nix",function(){return A(()=>import("./nix-CdPNR9g0.js").then(n=>n.n),[])}),nsis:D("nsis",function(){return A(()=>import("./nsis-r0ocorsu.js").then(n=>n.n),[])}),objectivec:D("objectivec",function(){return A(()=>import("./objectivec-DGEyafaZ.js").then(n=>n.o),__vite__mapDeps([61,4]))}),ocaml:D("ocaml",function(){return A(()=>import("./ocaml-Fc_9F6_q.js").then(n=>n.o),[])}),opencl:D("opencl",function(){return A(()=>import("./opencl-DJn4sCok.js").then(n=>n.o),__vite__mapDeps([62,4]))}),openqasm:D("openqasm",function(){return A(()=>import("./openqasm-Dr6G_4yx.js").then(n=>n.o),[])}),oz:D("oz",function(){return A(()=>import("./oz-CxubCM6O.js").then(n=>n.o),[])}),parigp:D("parigp",function(){return A(()=>import("./parigp-25vnR1ay.js").then(n=>n.p),[])}),parser:D("parser",function(){return A(()=>import("./parser-CLVmqRbj.js").then(n=>n.p),[])}),pascal:D("pascal",function(){return A(()=>import("./pascal-g3Z8XNVw.js").then(n=>n.p),[])}),pascaligo:D("pascaligo",function(){return A(()=>import("./pascaligo-D_kk2Fsx.js").then(n=>n.p),[])}),pcaxis:D("pcaxis",function(){return A(()=>import("./pcaxis-CwnKcSyF.js").then(n=>n.p),[])}),peoplecode:D("peoplecode",function(){return A(()=>import("./peoplecode-NlznuHZf.js").then(n=>n.p),[])}),perl:D("perl",function(){return A(()=>import("./perl-FBlXdKmO.js").then(n=>n.p),[])}),phpExtras:D("phpExtras",function(){return A(()=>import("./php-extras-BI3j3uq0.js").then(n=>n.p),__vite__mapDeps([63,53,24]))}),php:D("php",function(){return A(()=>import("./php-BctXq3gY.js").then(n=>n.p),__vite__mapDeps([64,53,24]))}),phpdoc:D("phpdoc",function(){return A(()=>import("./phpdoc-CV5Oazv8.js").then(n=>n.p),__vite__mapDeps([65,53,24,40]))}),plsql:D("plsql",function(){return A(()=>import("./plsql-BtfPgNND.js").then(n=>n.p),__vite__mapDeps([66,1]))}),powerquery:D("powerquery",function(){return A(()=>import("./powerquery-Dbu8L6mA.js").then(n=>n.p),[])}),powershell:D("powershell",function(){return A(()=>import("./powershell-S6AFmXsf.js").then(n=>n.p),[])}),processing:D("processing",function(){return A(()=>import("./processing-C0t2H2G2.js").then(n=>n.p),[])}),prolog:D("prolog",function(){return A(()=>import("./prolog-DORIDQvZ.js").then(n=>n.p),[])}),promql:D("promql",function(){return A(()=>import("./promql-BIxcASCs.js").then(n=>n.p),[])}),properties:D("properties",function(){return A(()=>import("./properties-DGDB2_Zb.js").then(n=>n.p),[])}),protobuf:D("protobuf",function(){return A(()=>import("./protobuf-C1i4S4Ol.js").then(n=>n.p),[])}),psl:D("psl",function(){return A(()=>import("./psl-BrXJ6DEU.js").then(n=>n.p),[])}),pug:D("pug",function(){return A(()=>import("./pug-D7mknrg3.js").then(n=>n.p),[])}),puppet:D("puppet",function(){return A(()=>import("./puppet-BnGNn6ze.js").then(n=>n.p),[])}),pure:D("pure",function(){return A(()=>import("./pure-CQwKhIWJ.js").then(n=>n.p),[])}),purebasic:D("purebasic",function(){return A(()=>import("./purebasic-C9nFNDJW.js").then(n=>n.p),[])}),purescript:D("purescript",function(){return A(()=>import("./purescript-BBY--fZN.js").then(n=>n.p),__vite__mapDeps([67,34]))}),python:D("python",function(){return A(()=>import("./python-DVYyUILS.js").then(n=>n.p),[])}),q:D("q",function(){return A(()=>import("./q-C3K_xc0a.js").then(n=>n.q),[])}),qml:D("qml",function(){return A(()=>import("./qml-DktS6BDr.js").then(n=>n.q),[])}),qore:D("qore",function(){return A(()=>import("./qore-BDbzvRy4.js").then(n=>n.q),[])}),qsharp:D("qsharp",function(){return A(()=>import("./qsharp-BcCa6Glb.js").then(n=>n.q),[])}),r:D("r",function(){return A(()=>import("./r-CmO_fwHW.js").then(n=>n.r),[])}),racket:D("racket",function(){return A(()=>import("./racket-BoP-yuKa.js").then(n=>n.r),__vite__mapDeps([68,55]))}),reason:D("reason",function(){return A(()=>import("./reason-B00GlRLI.js").then(n=>n.r),[])}),regex:D("regex",function(){return A(()=>import("./regex-JX220q89.js").then(n=>n.r),[])}),rego:D("rego",function(){return A(()=>import("./rego-Dg6t4aU-.js").then(n=>n.r),[])}),renpy:D("renpy",function(){return A(()=>import("./renpy-D2ea5K3o.js").then(n=>n.r),[])}),rest:D("rest",function(){return A(()=>import("./rest-CEuXpRrw.js").then(n=>n.r),[])}),rip:D("rip",function(){return A(()=>import("./rip-n_Vg43Po.js").then(n=>n.r),[])}),roboconf:D("roboconf",function(){return A(()=>import("./roboconf-C31Ov8Ct.js").then(n=>n.r),[])}),robotframework:D("robotframework",function(){return A(()=>import("./robotframework-B90Vmyi6.js").then(n=>n.r),[])}),ruby:D("ruby",function(){return A(()=>import("./ruby-CGbKMVBu.js").then(n=>n.r),__vite__mapDeps([69,18]))}),rust:D("rust",function(){return A(()=>import("./rust-BxPtPfcT.js").then(n=>n.r),[])}),sas:D("sas",function(){return A(()=>import("./sas-BjvDp5Qz.js").then(n=>n.s),[])}),sass:D("sass",function(){return A(()=>import("./sass-DpKSposc.js").then(n=>n.s),[])}),scala:D("scala",function(){return A(()=>import("./scala-BYNwowcL.js").then(n=>n.s),__vite__mapDeps([70,38]))}),scheme:D("scheme",function(){return A(()=>import("./scheme-BJqvpVCI.js").then(n=>n.s),__vite__mapDeps([71,55]))}),scss:D("scss",function(){return A(()=>import("./scss-CCR-TPtH.js").then(n=>n.s),[])}),shellSession:D("shellSession",function(){return A(()=>import("./shell-session-DAfXTxTs.js").then(n=>n.s),__vite__mapDeps([72,8]))}),smali:D("smali",function(){return A(()=>import("./smali-Cp5Xb8ib.js").then(n=>n.s),[])}),smalltalk:D("smalltalk",function(){return A(()=>import("./smalltalk-B6pwECdx.js").then(n=>n.s),[])}),smarty:D("smarty",function(){return A(()=>import("./smarty-D_zFMl30.js").then(n=>n.s),__vite__mapDeps([73,24]))}),sml:D("sml",function(){return A(()=>import("./sml-DoBDSavF.js").then(n=>n.s),[])}),solidity:D("solidity",function(){return A(()=>import("./solidity-BYFH6YcS.js").then(n=>n.s),[])}),solutionFile:D("solutionFile",function(){return A(()=>import("./solution-file-8lH4pwRU.js").then(n=>n.s),[])}),soy:D("soy",function(){return A(()=>import("./soy-BcJefRRp.js").then(n=>n.s),__vite__mapDeps([74,24]))}),sparql:D("sparql",function(){return A(()=>import("./sparql-D8ba9vfJ.js").then(n=>n.s),__vite__mapDeps([75,76]))}),splunkSpl:D("splunkSpl",function(){return A(()=>import("./splunk-spl-wCHC6cyr.js").then(n=>n.s),[])}),sqf:D("sqf",function(){return A(()=>import("./sqf-CK7-_A9l.js").then(n=>n.s),[])}),sql:D("sql",function(){return A(()=>import("./sql-BXXKKY8q.js").then(n=>n.s),__vite__mapDeps([77,1]))}),squirrel:D("squirrel",function(){return A(()=>import("./squirrel-DEzIH9xM.js").then(n=>n.s),[])}),stan:D("stan",function(){return A(()=>import("./stan-Ct2KpEWd.js").then(n=>n.s),[])}),stylus:D("stylus",function(){return A(()=>import("./stylus-BAj0vDkW.js").then(n=>n.s),[])}),swift:D("swift",function(){return A(()=>import("./swift-BXSecTVG.js").then(n=>n.s),[])}),systemd:D("systemd",function(){return A(()=>import("./systemd-CpZctqDZ.js").then(n=>n.s),[])}),t4Cs:D("t4Cs",function(){return A(()=>import("./t4-cs-DzgPQVzR.js").then(n=>n.t),__vite__mapDeps([78,79,6]))}),t4Templating:D("t4Templating",function(){return A(()=>import("./t4-templating-Cgvq_ggC.js").then(n=>n.t),__vite__mapDeps([80,79]))}),t4Vb:D("t4Vb",function(){return A(()=>import("./t4-vb-Bav4xOSt.js").then(n=>n.t),__vite__mapDeps([81,79,82,10]))}),tap:D("tap",function(){return A(()=>import("./tap-CXiINnyE.js").then(n=>n.t),__vite__mapDeps([83,84]))}),tcl:D("tcl",function(){return A(()=>import("./tcl-CnB9sdNA.js").then(n=>n.t),[])}),textile:D("textile",function(){return A(()=>import("./textile-CsignC31.js").then(n=>n.t),[])}),toml:D("toml",function(){return A(()=>import("./toml-DdVp_s9X.js").then(n=>n.t),[])}),tremor:D("tremor",function(){return A(()=>import("./tremor-2rXl7Znw.js").then(n=>n.t),[])}),tsx:D("tsx",function(){return A(()=>import("./tsx-CVGIZcPO.js").then(n=>n.t),__vite__mapDeps([85,51,45]))}),tt2:D("tt2",function(){return A(()=>import("./tt2-BgR1fUOL.js").then(n=>n.t),__vite__mapDeps([86,24]))}),turtle:D("turtle",function(){return A(()=>import("./turtle-BvrQMDNI.js").then(n=>n.t),__vite__mapDeps([87,76]))}),twig:D("twig",function(){return A(()=>import("./twig-CA9hIHGi.js").then(n=>n.t),__vite__mapDeps([88,24]))}),typescript:D("typescript",function(){return A(()=>import("./typescript-4IfgU1f1.js").then(n=>n.t),__vite__mapDeps([89,45]))}),typoscript:D("typoscript",function(){return A(()=>import("./typoscript-CesBGVbO.js").then(n=>n.t),[])}),unrealscript:D("unrealscript",function(){return A(()=>import("./unrealscript-CrCZDVSB.js").then(n=>n.u),[])}),uorazor:D("uorazor",function(){return A(()=>import("./uorazor-DXY9rGz0.js").then(n=>n.u),[])}),uri:D("uri",function(){return A(()=>import("./uri-CUcek4GO.js").then(n=>n.u),[])}),v:D("v",function(){return A(()=>import("./v-DyGTXf6q.js").then(n=>n.v),[])}),vala:D("vala",function(){return A(()=>import("./vala-ClFqoU3_.js").then(n=>n.v),[])}),vbnet:D("vbnet",function(){return A(()=>import("./vbnet-CkALXSmc.js").then(n=>n.v),__vite__mapDeps([90,82,10]))}),velocity:D("velocity",function(){return A(()=>import("./velocity-BJ653Onh.js").then(n=>n.v),[])}),verilog:D("verilog",function(){return A(()=>import("./verilog-CwpZR6tz.js").then(n=>n.v),[])}),vhdl:D("vhdl",function(){return A(()=>import("./vhdl-9C-uSgLH.js").then(n=>n.v),[])}),vim:D("vim",function(){return A(()=>import("./vim-BcQOeHGt.js").then(n=>n.v),[])}),visualBasic:D("visualBasic",function(){return A(()=>import("./visual-basic-DuXM4Wd8.js").then(n=>n.v),[])}),warpscript:D("warpscript",function(){return A(()=>import("./warpscript-CPEC8gSr.js").then(n=>n.w),[])}),wasm:D("wasm",function(){return A(()=>import("./wasm-DnpqSRkR.js").then(n=>n.w),[])}),webIdl:D("webIdl",function(){return A(()=>import("./web-idl-CZNqggXQ.js").then(n=>n.w),[])}),wiki:D("wiki",function(){return A(()=>import("./wiki-B02N5iBa.js").then(n=>n.w),[])}),wolfram:D("wolfram",function(){return A(()=>import("./wolfram-DuOZIpQ_.js").then(n=>n.w),[])}),wren:D("wren",function(){return A(()=>import("./wren-CkT1lOef.js").then(n=>n.w),[])}),xeora:D("xeora",function(){return A(()=>import("./xeora-8CLg8v-g.js").then(n=>n.x),[])}),xmlDoc:D("xmlDoc",function(){return A(()=>import("./xml-doc-BxNy3x4B.js").then(n=>n.x),[])}),xojo:D("xojo",function(){return A(()=>import("./xojo-i0oY35Dt.js").then(n=>n.x),[])}),xquery:D("xquery",function(){return A(()=>import("./xquery-CLvFwDQp.js").then(n=>n.x),[])}),yaml:D("yaml",function(){return A(()=>import("./yaml-CqHvJDSo.js").then(n=>n.y),__vite__mapDeps([91,84]))}),yang:D("yang",function(){return A(()=>import("./yang-BA3x66bq.js").then(n=>n.y),[])}),zig:D("zig",function(){return A(()=>import("./zig-DzSa3ltB.js").then(n=>n.z),[])})},d0=a0({loader:function(){return A(()=>import("./core-Ds73-Vrz.js").then(u=>u.c),__vite__mapDeps([92,60,22,15,43])).then(function(u){return u.default||u})},isLanguageRegistered:function(u,o){return u.registered(o)},languageLoaders:c0,registerLanguage:function(u,o,a){return u.register(a)}}),h0="light";function p0(n){return{mode:h0,...n==null?void 0:n.theme}}function dt(n){var u=n;return function(o){var a=p0(o);let h=a.mode;return u[h]}}const f0=n=>{const u={theme:n};return{lineNumberColor:dt({light:"#383a42",dark:"#abb2bf"})(u),lineNumberBgColor:dt({light:"#fafafa",dark:"#282c34"})(u),backgroundColor:dt({light:"#fafafa",dark:"#282c34"})(u),textColor:dt({light:"#383a42",dark:"#abb2bf"})(u),substringColor:dt({light:"#e45649",dark:"#e06c75"})(u),keywordColor:dt({light:"#a626a4",dark:"#c678dd"})(u),attributeColor:dt({light:"#50a14f",dark:"#98c379"})(u),selectorAttributeColor:dt({light:"#e45649",dark:"#e06c75"})(u),docTagColor:dt({light:"#a626a4",dark:"#c678dd"})(u),nameColor:dt({light:"#e45649",dark:"#e06c75"})(u),builtInColor:dt({light:"#c18401",dark:"#e6c07b"})(u),literalColor:dt({light:"#0184bb",dark:"#56b6c2"})(u),bulletColor:dt({light:"#4078f2",dark:"#61aeee"})(u),codeColor:dt({light:"#383a42",dark:"#abb2bf"})(u),additionColor:dt({light:"#50a14f",dark:"#98c379"})(u),regexpColor:dt({light:"#50a14f",dark:"#98c379"})(u),symbolColor:dt({light:"#4078f2",dark:"#61aeee"})(u),variableColor:dt({light:"#986801",dark:"#d19a66"})(u),templateVariableColor:dt({light:"#986801",dark:"#d19a66"})(u),linkColor:dt({light:"#4078f2",dark:"#61aeee"})(u),selectorClassColor:dt({light:"#986801",dark:"#d19a66"})(u),typeColor:dt({light:"#986801",dark:"#d19a66"})(u),stringColor:dt({light:"#50a14f",dark:"#98c379"})(u),selectorIdColor:dt({light:"#4078f2",dark:"#61aeee"})(u),quoteColor:dt({light:"#a0a1a7",dark:"#5c6370"})(u),templateTagColor:dt({light:"#383a42",dark:"#abb2bf"})(u),deletionColor:dt({light:"#e45649",dark:"#e06c75"})(u),titleColor:dt({light:"#4078f2",dark:"#61aeee"})(u),sectionColor:dt({light:"#e45649",dark:"#e06c75"})(u),commentColor:dt({light:"#a0a1a7",dark:"#5c6370"})(u),metaKeywordColor:dt({light:"#383a42",dark:"#abb2bf"})(u),metaColor:dt({light:"#4078f2",dark:"#61aeee"})(u),functionColor:dt({light:"#383a42",dark:"#abb2bf"})(u),numberColor:dt({light:"#986801",dark:"#d19a66"})(u)}},Yg="inherit",W_="inherit",g0={fontSize:W_,fontFamily:Yg,lineHeight:20/12,padding:8},m0=n=>({fontSize:W_,lineHeight:20/14,color:n.lineNumberColor,backgroundColor:n.lineNumberBgColor,flexShrink:0,padding:8,textAlign:"right",userSelect:"none"}),zv=n=>({key:{color:n.keywordColor,fontWeight:"bolder"},keyword:{color:n.keywordColor,fontWeight:"bolder"},"attr-name":{color:n.attributeColor},selector:{color:n.selectorTagColor},comment:{color:n.commentColor,fontFamily:Yg,fontStyle:"italic"},"block-comment":{color:n.commentColor,fontFamily:Yg,fontStyle:"italic"},"function-name":{color:n.sectionColor},"class-name":{color:n.sectionColor},doctype:{color:n.docTagColor},substr:{color:n.substringColor},namespace:{color:n.nameColor},builtin:{color:n.builtInColor},entity:{color:n.literalColor},bullet:{color:n.bulletColor},code:{color:n.codeColor},addition:{color:n.additionColor},regex:{color:n.regexpColor},symbol:{color:n.symbolColor},variable:{color:n.variableColor},url:{color:n.linkColor},"selector-attr":{color:n.selectorAttributeColor},"selector-pseudo":{color:n.selectorPseudoColor},type:{color:n.typeColor},string:{color:n.stringColor},quote:{color:n.quoteColor},tag:{color:n.templateTagColor},deletion:{color:n.deletionColor},title:{color:n.titleColor},section:{color:n.sectionColor},"meta-keyword":{color:n.metaKeywordColor},meta:{color:n.metaColor},italic:{fontStyle:"italic"},bold:{fontWeight:"bolder"},function:{color:n.functionColor},number:{color:n.numberColor}}),jv=n=>({fontSize:W_,fontFamily:Yg,background:n.backgroundColor,color:n.textColor,borderRadius:3,display:"flex",lineHeight:20/14,overflowX:"auto",whiteSpace:"pre"}),$0=n=>({'pre[class*="language-"]':jv(n),...zv(n)}),_0=n=>({'pre[class*="language-"]':{...jv(n),padding:"2px 4px",display:"inline",whiteSpace:"pre-wrap"},...zv(n)});function Xv(n={mode:"light"}){const u={...f0(n),...n};return{lineNumberContainerStyle:m0(u),codeBlockStyle:$0(u),inlineCodeStyle:_0(u),codeContainerStyle:g0}}const T0=Object.freeze([{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#","cs"],value:"csharp"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"XML",alias:["xml"],value:"xml"},{name:"HTML",alias:["html","htm"],value:"markup"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","sh","ksh","zsh"],value:"bash"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"],value:"delphi"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts","tsx"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"ObjectPascal",alias:["objectpascal"],value:"delphi"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"],value:"vbnet"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql","gql"],value:"graphql"}]),E0=n=>{if(!n)return"";const u=T0.find(o=>o.name===n||o.alias.includes(n));return u?u.value:n||"text"};class z_ extends _e.PureComponent{constructor(){super(...arguments),this._isMounted=!1}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}getLineOpacity(u){if(!this.props.highlight)return 1;const o=this.props.highlight.split(",").map(a=>{if(a.indexOf("-")>0){const[h,m]=a.split("-").map(Number).sort();return Array(m+1).fill(void 0).map((T,E)=>E).slice(h,m+1)}return Number(a)}).reduce((a,h)=>a.concat(h),[]);return o.length===0||o.includes(u)?1:.3}render(){const{inlineCodeStyle:u}=Xv(this.props.theme),a={language:E0(this.props.language),PreTag:this.props.preTag,style:this.props.codeStyle||u,showLineNumbers:this.props.showLineNumbers,startingLineNumber:this.props.startingLineNumber,codeTagProps:this.props.codeTagProps,wrapLongLines:this.props.wrapLongLines};return je.createElement(d0,Object.assign({},a,{wrapLines:!!this.props.highlight,customStyle:this.props.customStyle,lineProps:h=>({style:{opacity:this.getLineOpacity(h),...this.props.lineNumberContainerStyle}})}),this.props.text)}}z_.defaultProps={theme:{},showLineNumbers:!1,wrapLongLines:!1,startingLineNumber:1,lineNumberContainerStyle:{},codeTagProps:{},preTag:"span",highlight:"",customStyle:{}};const Kv="text";class j_ extends _e.PureComponent{constructor(){super(...arguments),this._isMounted=!1,this.handleCopy=u=>{const o=u.nativeEvent.clipboardData;if(o){u.preventDefault();const a=window.getSelection();if(a===null)return;const h=a.toString(),m=`<!doctype html><html><head></head><body><pre>${h}</pre></body></html>`;o.clearData(),o.setData("text/html",m),o.setData("text/plain",h)}}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){var u,o,a,h;const{lineNumberContainerStyle:m,codeBlockStyle:T,codeContainerStyle:E}=Xv(this.props.theme),v={language:this.props.language||Kv,codeStyle:{...T,...(u=this.props)===null||u===void 0?void 0:u.codeBlockStyle},customStyle:(o=this.props)===null||o===void 0?void 0:o.customStyle,showLineNumbers:this.props.showLineNumbers,startingLineNumber:this.props.startingLineNumber,codeTagProps:{style:{...E,...(a=this.props)===null||a===void 0?void 0:a.codeContainerStyle}},lineNumberContainerStyle:{...m,...(h=this.props)===null||h===void 0?void 0:h.lineNumberContainerStyle},text:this.props.text.toString(),highlight:this.props.highlight,wrapLongLines:this.props.wrapLongLines};return je.createElement(z_,Object.assign({},v))}}j_.displayName="CodeBlock";j_.defaultProps={text:"",showLineNumbers:!0,wrapLongLines:!1,startingLineNumber:1,language:Kv,theme:{},highlight:"",lineNumberContainerStyle:{},customStyle:{},codeBlockStyle:{}};const X_=({size:n,color:u,...o})=>je.createElement("svg",Object.assign({},o,{viewBox:"0 0 384 512",width:n,height:n,fill:u}),je.createElement("path",{d:"M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"}));X_.displayName="ClipboardListIcon";X_.defaultProps={size:"16pt",color:"currentcolor"};const K_=({size:n,color:u,...o})=>je.createElement("svg",Object.assign({},o,{viewBox:"0 0 384 512",width:n,height:n,fill:u}),je.createElement("path",{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}));K_.displayName="ClipboardCheckIcon";K_.defaultProps={size:"16pt",color:"currentcolor"};function b0({size:n,color:u,copied:o,...a}){return o?je.createElement(K_,Object.assign({},{color:u,size:n},a)):je.createElement(X_,Object.assign({},{color:u,size:n},a))}const y0=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),v0=()=>{const[n,u]=_e.useState(!1);return _e.useEffect(()=>{u(y0())},[]),{isBrowser:n,isServer:!n}},S0=()=>Math.random().toString(32).slice(2,10),ly=n=>{const u=document.createElement("div");return u.setAttribute("id",n),u},I0=(n=S0())=>{const u=`zeit-ui-${n}`,{isBrowser:o}=v0(),[a,h]=_e.useState(o?ly(u):null);return _e.useEffect(()=>{const m=document.querySelector(`#${u}`),T=m||ly(u);m||document.body.appendChild(T),h(T)},[]),a},uy={},C0=(n,u)=>{const a=`[Zeit UI]${` [${u}]`}: ${n}`;typeof console>"u"||uy[a]||(uy[a]=!0,console.warn(a))},w0={onError:()=>C0("Failed to copy.","use-clipboard")},k0=(n=w0)=>{const u=I0("clipboard"),o=(h,m)=>{if(!h||!m)return;const T=window.getSelection();if(!T)return;h.style.whiteSpace="pre",h.textContent=m;const E=window.document.createRange();T.removeAllRanges(),E.selectNode(h),T.addRange(E);try{window.document.execCommand("copy")}catch{n.onError&&n.onError()}T.removeAllRanges(),h&&(h.textContent="")};return{copy:_e.useCallback(h=>{o(u,h)},[u])}},O0=ym.button`
  position: absolute;
  top: 0.5em;
  right: 0.75em;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  background: ${n=>n.theme.backgroundColor};
  margin-top: 0.15rem;
  border-radius: 0.25rem;
  max-height: 2rem;
  max-width: 2rem;
  padding: 0.25rem;
  &:hover {
    opacity: ${n=>n.copied?1:.5};
  }
  &:focus {
    outline: none;
    opacity: 1;
  }
  .icon {
    width: 1rem;
    height: 1rem;
  }
`,R0=ym.div`
  position: relative;
  background: ${n=>n.theme.backgroundColor};
  border-radius: 0.25rem;
  padding: ${n=>n.codeBlock?"0.25rem 0.5rem 0.25rem 0.25rem":"0.25rem"};
`;function L0({theme:n,text:u,codeBlock:o=!1,customStyle:a={},onCopy:h,copied:m,...T}){const[E,v]=_e.useState(!!m),{copy:C}=k0(),N=w=>{C(u),h?h(w):v(!E)};return je.createElement(R0,Object.assign({},{codeBlock:o},{style:a,theme:n}),o?je.createElement(j_,Object.assign({text:u,theme:n},T)):je.createElement(z_,Object.assign({text:u,theme:n},T)),je.createElement(O0,Object.assign({"aria-label":"Copy Code",type:"button",onClick:N},{theme:n,copied:E}),je.createElement(b0,{color:E?n==null?void 0:n.stringColor:n==null?void 0:n.textColor,copied:E,className:"icon",size:"16pt"})))}var Jg=NA(L0);ym.div`
    position: relative;
    width: ${({width:n})=>n||"auto"};
    max-width: 100%;
    padding: 8pt;
    padding-right: calc(2 * 16pt);
    color: ${({style:n})=>n.color};
    background-color: ${({style:n})=>n.bgColor};
    border: 1px solid ${({style:n})=>n.border};
    border-radius: 5px;
  pre {
    margin: 0;
    padding: 0;
    border: none;
    background-color: transparent;
    color: ${({style:n})=>n.color};
    font-size: 0.8125rem;
  }
  pre::before {
    content: '$ ';
    user-select: none;
  }
  pre :global(*) {
    margin: 0;
    padding: 0;
    font-size: inherit;
    color: inherit;
  }
  .copy {
    position: absolute;
    right: 0;
    top: -2px;
    transform: translateY(50%);
    background-color: ${({style:n})=>n.bgColor};
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: calc(2 * 16pt);
    color: inherit;
    transition: opacity 0.2s ease 0s;
    border-radius: 5px;
    cursor: pointer;
    user-select: none;
  }
  .copy:hover {
    opacity: 0.7;
  }
`;function A0(){return U.jsxs(Hd,{title:"Moving back to state and props",date:"2025-01-22",children:[U.jsx("p",{children:"State and props, yay!  Here's a component that shows more if you click the button:"}),U.jsxs(hv,{children:[U.jsx("p",{children:"Check it out, here's the code for the component you just interacted with!!!"}),U.jsx(Jg,{text:`function ShowMore({children}) {
  const [show, setShow] = React.useState(false);

  return (
    <div>
      <button onClick={() => setShow(!show)}>
        {show ? 'Show Less' : 'Show More'}
      </button>
      {show && children}
    </div>
  ); 
}`,language:"jsx",showLineNumbers:!1,wrapLines:!0}),U.jsx("p",{children:"Cool syntax highlighting, right??"}),U.jsx("p",{children:"And here's how you would render it:"}),U.jsx(Jg,{text:`<ShowMore>
  <p>Content to show</p>
</ShowMore>`,language:"jsx",showLineNumbers:!1,wrapLines:!0})]})]})}function D0(){return U.jsx(Hd,{title:"Day Off",date:"2025-01-24",children:U.jsx("p",{children:"Today I took a day off to relax and unwind. It was a much-needed break!"})})}function N0(){return U.jsxs(Hd,{title:"Demoing React Component that fetches data",date:"2025-01-27",children:[U.jsx("p",{children:"Today, I introduced the idea of fetching JSON into a React component.  Here's the code we wrote."}),U.jsx(Jg,{text:`function WeatherFetcher() {
  const [weather, setWeather] = React.useState(null);

  React.useEffect(() => {
    fetch('https://api.weather.gov/gridpoints/TOP/31,80/forecast')
      .then(response => response.json())
      .then(json => {
        console.log(json)
        setWeather(json)
      })
  }, []);

  return <>
    <h2>Weather Forecast</h2>
    <p>{
      weather === null
        ? 'Loading...'
        :
        weather.properties.periods.map((period, i) => <div>
          <img src={period.icon} alt={period.shortForecast} />
          <b>{period.name}</b>: {period.temperature}°F
        </div>)
    }</p>
  </>
}
        `}),U.jsx("p",{children:"And here's what it does!"}),U.jsx(M0,{})]})}function M0(){const[n,u]=je.useState(null);return je.useEffect(()=>{fetch("https://api.weather.gov/gridpoints/TOP/31,80/forecast").then(o=>o.json()).then(o=>{console.log(o),u(o)})},[]),U.jsxs(U.Fragment,{children:[U.jsx("h2",{children:"Weather Forecast"}),U.jsx("p",{children:n===null?"Loading...":n.properties.periods.map((o,a)=>U.jsxs("div",{children:[U.jsx("img",{src:o.icon,alt:o.shortForecast}),U.jsx("b",{children:o.name}),": ",o.temperature,"°F"]}))})]})}function x0(){return U.jsxs(Hd,{title:"Another component that fetches JSON",date:"2025-01-28",children:[U.jsx("p",{children:"Here's the code for a SpellBook component"}),U.jsx(Jg,{text:`function SpellBook() {
  const [spells, setSpells] = React.useState([])

  React.useEffect(() => {
    fetch("https://www.dnd5eapi.co/api/spells")
      .then((response) => {
        return response.json();
      })
      .then((data) => {
        setSpells(data.results)
      })
  }, [])

  return <>
    <p>Click below to see a list of DnD spells</p>
    <ShowMore>
    {
      spells.map((spell) => <div>{ spell.name }</div>)
    }
    </ShowMore>
  </>
}
        `}),U.jsx("p",{children:"And here's what it does when rendered!"}),U.jsx(P0,{})]})}function P0(){const[n,u]=je.useState([]);return je.useEffect(()=>{fetch("https://www.dnd5eapi.co/api/spells").then(o=>o.json()).then(o=>{u(o.results)})},[]),U.jsxs(U.Fragment,{children:[U.jsx("p",{children:"Click below to see a list of DnD spells"}),U.jsx(hv,{children:n.map(o=>U.jsx("div",{children:o.name}))})]})}function B0(){return U.jsx(fb,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:U.jsxs(fb,{display:"flex",flexDirection:"column",alignItems:"center",p:2,children:[U.jsx("h1",{children:"My Blog"}),U.jsx(x0,{}),U.jsx(N0,{}),U.jsx(D0,{}),U.jsx(A0,{}),U.jsx(DL,{}),U.jsx(yk,{})]})})}GS.createRoot(document.getElementById("root")).render(U.jsx(_e.StrictMode,{children:U.jsx(B0,{})}));export{RE as c,g_ as g};
