const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/apex-DklXjLla.js","assets/sql-CJATM1Qp.js","assets/arduino-BZAb2px0.js","assets/cpp-PR_WB-PF.js","assets/c-kgVuzdLE.js","assets/aspnet-OH6oTUBb.js","assets/csharp-Cd5Udg29.js","assets/bash-Di3j9rGj.js","assets/bash-CefCgV5_.js","assets/basic-DEDeC-qL.js","assets/basic-DBS9NaGG.js","assets/bison-LL5HgOvM.js","assets/c-Bda8LCSz.js","assets/chaiscript-qq_GTG7t.js","assets/clike-C5bRDEoJ.js","assets/clike-B5tY_8Hg.js","assets/cpp-CrY2NHJU.js","assets/crystal-DHkHuG1a.js","assets/ruby-DYsn9XfW.js","assets/csharp-BB8NoAQN.js","assets/cshtml-D4HELg4Q.js","assets/css-D3W2BVTk.js","assets/css-CF9HHZb0.js","assets/django-BxHwQDYO.js","assets/markup-templating-BxAVv-bL.js","assets/ejs-D5bAXa5L.js","assets/erb-D2XAsGSH.js","assets/etlua-D2jJ3csN.js","assets/lua-DER4jxlW.js","assets/ftl-B88ftCxL.js","assets/glsl-DrA_l47U.js","assets/haml-bnl41UBV.js","assets/handlebars-BSK9ZQue.js","assets/haskell-BOl56y3_.js","assets/haskell-Ds42Eazu.js","assets/hlsl-BakH9EY9.js","assets/idris-DZdSl2Ez.js","assets/java-Cb2aAmKq.js","assets/java-BxMbkJZ_.js","assets/javadoc-DOvEPGeh.js","assets/javadoclike-myFApC35.js","assets/javadoclike-CgA6owBo.js","assets/javascript-aHlDw0ek.js","assets/javascript-D8vYUPHd.js","assets/jsdoc-2_ggKAkb.js","assets/typescript-CVO-8GEc.js","assets/json-BifMIUpV.js","assets/json-BESjz4hO.js","assets/json5-B69z_FAd.js","assets/jsonp-BR7Q6n4z.js","assets/jsx-BjlucYoA.js","assets/jsx-CWP8P1mH.js","assets/latte-WbvEmGL1.js","assets/php-DWsP2mkx.js","assets/lilypond-DbStNEjV.js","assets/scheme-Cscf027c.js","assets/liquid-cmXy_I2Y.js","assets/lua-kh782c5P.js","assets/markup-templating-e6oYMTsg.js","assets/markup-rDWlxVzE.js","assets/markup-BONeskWm.js","assets/objectivec-4eXpOmj7.js","assets/opencl-Gw-SagW5.js","assets/php-extras-CDz1xDKN.js","assets/php-CveM7V1j.js","assets/phpdoc-BAa_UkZe.js","assets/plsql-G99VdEo1.js","assets/purescript-DtVWqwLr.js","assets/racket-Cw5uFthc.js","assets/ruby-ylutRSFt.js","assets/scala-SahayJYt.js","assets/scheme--JzlL52-.js","assets/shell-session-dXUEtq60.js","assets/smarty-Cjy_flFS.js","assets/soy-BOpNhSuZ.js","assets/sparql-3paWA0Lq.js","assets/turtle-Ro1R6Je7.js","assets/sql-wcRbA4LZ.js","assets/t4-cs-C5mS7E82.js","assets/t4-templating-B5EzSFYT.js","assets/t4-templating-orLIBLve.js","assets/t4-vb-_-rcs3gZ.js","assets/vbnet-BhrUc4aD.js","assets/tap-_35mzlA4.js","assets/yaml-pHjxJgpq.js","assets/tsx-BDOl6gPz.js","assets/tt2-DPiAW0d5.js","assets/turtle-L0hjfXqO.js","assets/twig-D_GxnbWV.js","assets/typescript-T0LSKpS5.js","assets/vbnet-BsA2DUsi.js","assets/yaml-BLIZDLgz.js","assets/core-Dicg7Vd2.js"])))=>i.map(i=>d[i]);
function FS(n,l){for(var o=0;o<l.length;o++){const c=l[o];if(typeof c!="string"&&!Array.isArray(c)){for(const h in c)if(h!=="default"&&!(h in n)){const m=Object.getOwnPropertyDescriptor(c,h);m&&Object.defineProperty(n,h,m.get?m:{enumerable:!0,get:()=>c[h]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))c(h);new MutationObserver(h=>{for(const m of h)if(m.type==="childList")for(const T of m.addedNodes)T.tagName==="LINK"&&T.rel==="modulepreload"&&c(T)}).observe(document,{childList:!0,subtree:!0});function o(h){const m={};return h.integrity&&(m.integrity=h.integrity),h.referrerPolicy&&(m.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?m.credentials="include":h.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(h){if(h.ep)return;h.ep=!0;const m=o(h);fetch(h.href,m)}})();var NE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var E$={exports:{}},zp={},b$={exports:{}},rt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function US(){if(ME)return rt;ME=1;var n=Symbol.for("react.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),w=Symbol.iterator;function k(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,O={};function z(R,Q,Re){this.props=R,this.context=Q,this.refs=O,this.updater=Re||H}z.prototype.isReactComponent={},z.prototype.setState=function(R,Q){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Q,"setState")},z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ee(){}ee.prototype=z.prototype;function oe(R,Q,Re){this.props=R,this.context=Q,this.refs=O,this.updater=Re||H}var ne=oe.prototype=new ee;ne.constructor=oe,P(ne,z.prototype),ne.isPureReactComponent=!0;var ue=Array.isArray,ge=Object.prototype.hasOwnProperty,ce={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function pe(R,Q,Re){var Se,Ue={},Oe=null,Ie=null;if(Q!=null)for(Se in Q.ref!==void 0&&(Ie=Q.ref),Q.key!==void 0&&(Oe=""+Q.key),Q)ge.call(Q,Se)&&!re.hasOwnProperty(Se)&&(Ue[Se]=Q[Se]);var qe=arguments.length-2;if(qe===1)Ue.children=Re;else if(1<qe){for(var Qe=Array(qe),$t=0;$t<qe;$t++)Qe[$t]=arguments[$t+2];Ue.children=Qe}if(R&&R.defaultProps)for(Se in qe=R.defaultProps,qe)Ue[Se]===void 0&&(Ue[Se]=qe[Se]);return{$$typeof:n,type:R,key:Oe,ref:Ie,props:Ue,_owner:ce.current}}function Fe(R,Q){return{$$typeof:n,type:R.type,key:Q,ref:R.ref,props:R.props,_owner:R._owner}}function L(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function ve(R){var Q={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(Re){return Q[Re]})}var ke=/\/+/g;function Ne(R,Q){return typeof R=="object"&&R!==null&&R.key!=null?ve(""+R.key):Q.toString(36)}function Le(R,Q,Re,Se,Ue){var Oe=typeof R;(Oe==="undefined"||Oe==="boolean")&&(R=null);var Ie=!1;if(R===null)Ie=!0;else switch(Oe){case"string":case"number":Ie=!0;break;case"object":switch(R.$$typeof){case n:case l:Ie=!0}}if(Ie)return Ie=R,Ue=Ue(Ie),R=Se===""?"."+Ne(Ie,0):Se,ue(Ue)?(Re="",R!=null&&(Re=R.replace(ke,"$&/")+"/"),Le(Ue,Q,Re,"",function($t){return $t})):Ue!=null&&(L(Ue)&&(Ue=Fe(Ue,Re+(!Ue.key||Ie&&Ie.key===Ue.key?"":(""+Ue.key).replace(ke,"$&/")+"/")+R)),Q.push(Ue)),1;if(Ie=0,Se=Se===""?".":Se+":",ue(R))for(var qe=0;qe<R.length;qe++){Oe=R[qe];var Qe=Se+Ne(Oe,qe);Ie+=Le(Oe,Q,Re,Qe,Ue)}else if(Qe=k(R),typeof Qe=="function")for(R=Qe.call(R),qe=0;!(Oe=R.next()).done;)Oe=Oe.value,Qe=Se+Ne(Oe,qe++),Ie+=Le(Oe,Q,Re,Qe,Ue);else if(Oe==="object")throw Q=String(R),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Ve(R,Q,Re){if(R==null)return R;var Se=[],Ue=0;return Le(R,Se,"","",function(Oe){return Q.call(Re,Oe,Ue++)}),Se}function X(R){if(R._status===-1){var Q=R._result;Q=Q(),Q.then(function(Re){(R._status===0||R._status===-1)&&(R._status=1,R._result=Re)},function(Re){(R._status===0||R._status===-1)&&(R._status=2,R._result=Re)}),R._status===-1&&(R._status=0,R._result=Q)}if(R._status===1)return R._result.default;throw R._result}var F={current:null},C={transition:null},J={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:C,ReactCurrentOwner:ce};function Y(){throw Error("act(...) is not supported in production builds of React.")}return rt.Children={map:Ve,forEach:function(R,Q,Re){Ve(R,function(){Q.apply(this,arguments)},Re)},count:function(R){var Q=0;return Ve(R,function(){Q++}),Q},toArray:function(R){return Ve(R,function(Q){return Q})||[]},only:function(R){if(!L(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},rt.Component=z,rt.Fragment=o,rt.Profiler=h,rt.PureComponent=oe,rt.StrictMode=c,rt.Suspense=v,rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J,rt.act=Y,rt.cloneElement=function(R,Q,Re){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var Se=P({},R.props),Ue=R.key,Oe=R.ref,Ie=R._owner;if(Q!=null){if(Q.ref!==void 0&&(Oe=Q.ref,Ie=ce.current),Q.key!==void 0&&(Ue=""+Q.key),R.type&&R.type.defaultProps)var qe=R.type.defaultProps;for(Qe in Q)ge.call(Q,Qe)&&!re.hasOwnProperty(Qe)&&(Se[Qe]=Q[Qe]===void 0&&qe!==void 0?qe[Qe]:Q[Qe])}var Qe=arguments.length-2;if(Qe===1)Se.children=Re;else if(1<Qe){qe=Array(Qe);for(var $t=0;$t<Qe;$t++)qe[$t]=arguments[$t+2];Se.children=qe}return{$$typeof:n,type:R.type,key:Ue,ref:Oe,props:Se,_owner:Ie}},rt.createContext=function(R){return R={$$typeof:T,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:m,_context:R},R.Consumer=R},rt.createElement=pe,rt.createFactory=function(R){var Q=pe.bind(null,R);return Q.type=R,Q},rt.createRef=function(){return{current:null}},rt.forwardRef=function(R){return{$$typeof:E,render:R}},rt.isValidElement=L,rt.lazy=function(R){return{$$typeof:M,_payload:{_status:-1,_result:R},_init:X}},rt.memo=function(R,Q){return{$$typeof:I,type:R,compare:Q===void 0?null:Q}},rt.startTransition=function(R){var Q=C.transition;C.transition={};try{R()}finally{C.transition=Q}},rt.unstable_act=Y,rt.useCallback=function(R,Q){return F.current.useCallback(R,Q)},rt.useContext=function(R){return F.current.useContext(R)},rt.useDebugValue=function(){},rt.useDeferredValue=function(R){return F.current.useDeferredValue(R)},rt.useEffect=function(R,Q){return F.current.useEffect(R,Q)},rt.useId=function(){return F.current.useId()},rt.useImperativeHandle=function(R,Q,Re){return F.current.useImperativeHandle(R,Q,Re)},rt.useInsertionEffect=function(R,Q){return F.current.useInsertionEffect(R,Q)},rt.useLayoutEffect=function(R,Q){return F.current.useLayoutEffect(R,Q)},rt.useMemo=function(R,Q){return F.current.useMemo(R,Q)},rt.useReducer=function(R,Q,Re){return F.current.useReducer(R,Q,Re)},rt.useRef=function(R){return F.current.useRef(R)},rt.useState=function(R){return F.current.useState(R)},rt.useSyncExternalStore=function(R,Q,Re){return F.current.useSyncExternalStore(R,Q,Re)},rt.useTransition=function(){return F.current.useTransition()},rt.version="18.3.1",rt}var xE;function E_(){return xE||(xE=1,b$.exports=US()),b$.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function HS(){if(PE)return zp;PE=1;var n=E_(),l=Symbol.for("react.element"),o=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,h=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m={key:!0,ref:!0,__self:!0,__source:!0};function T(E,v,I){var M,w={},k=null,H=null;I!==void 0&&(k=""+I),v.key!==void 0&&(k=""+v.key),v.ref!==void 0&&(H=v.ref);for(M in v)c.call(v,M)&&!m.hasOwnProperty(M)&&(w[M]=v[M]);if(E&&E.defaultProps)for(M in v=E.defaultProps,v)w[M]===void 0&&(w[M]=v[M]);return{$$typeof:l,type:E,key:k,ref:H,props:w,_owner:h.current}}return zp.Fragment=o,zp.jsx=T,zp.jsxs=T,zp}var BE;function VS(){return BE||(BE=1,E$.exports=HS()),E$.exports}var N=VS(),me=E_();const ze=T_(me),FE=FS({__proto__:null,default:ze},[me]);var _g={},y$={exports:{}},zr={},v$={exports:{}},S$={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function GS(){return UE||(UE=1,function(n){function l(C,J){var Y=C.length;C.push(J);e:for(;0<Y;){var R=Y-1>>>1,Q=C[R];if(0<h(Q,J))C[R]=J,C[Y]=Q,Y=R;else break e}}function o(C){return C.length===0?null:C[0]}function c(C){if(C.length===0)return null;var J=C[0],Y=C.pop();if(Y!==J){C[0]=Y;e:for(var R=0,Q=C.length,Re=Q>>>1;R<Re;){var Se=2*(R+1)-1,Ue=C[Se],Oe=Se+1,Ie=C[Oe];if(0>h(Ue,Y))Oe<Q&&0>h(Ie,Ue)?(C[R]=Ie,C[Oe]=Y,R=Oe):(C[R]=Ue,C[Se]=Y,R=Se);else if(Oe<Q&&0>h(Ie,Y))C[R]=Ie,C[Oe]=Y,R=Oe;else break e}}return J}function h(C,J){var Y=C.sortIndex-J.sortIndex;return Y!==0?Y:C.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var m=performance;n.unstable_now=function(){return m.now()}}else{var T=Date,E=T.now();n.unstable_now=function(){return T.now()-E}}var v=[],I=[],M=1,w=null,k=3,H=!1,P=!1,O=!1,z=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(C){for(var J=o(I);J!==null;){if(J.callback===null)c(I);else if(J.startTime<=C)c(I),J.sortIndex=J.expirationTime,l(v,J);else break;J=o(I)}}function ue(C){if(O=!1,ne(C),!P)if(o(v)!==null)P=!0,X(ge);else{var J=o(I);J!==null&&F(ue,J.startTime-C)}}function ge(C,J){P=!1,O&&(O=!1,ee(pe),pe=-1),H=!0;var Y=k;try{for(ne(J),w=o(v);w!==null&&(!(w.expirationTime>J)||C&&!ve());){var R=w.callback;if(typeof R=="function"){w.callback=null,k=w.priorityLevel;var Q=R(w.expirationTime<=J);J=n.unstable_now(),typeof Q=="function"?w.callback=Q:w===o(v)&&c(v),ne(J)}else c(v);w=o(v)}if(w!==null)var Re=!0;else{var Se=o(I);Se!==null&&F(ue,Se.startTime-J),Re=!1}return Re}finally{w=null,k=Y,H=!1}}var ce=!1,re=null,pe=-1,Fe=5,L=-1;function ve(){return!(n.unstable_now()-L<Fe)}function ke(){if(re!==null){var C=n.unstable_now();L=C;var J=!0;try{J=re(!0,C)}finally{J?Ne():(ce=!1,re=null)}}else ce=!1}var Ne;if(typeof oe=="function")Ne=function(){oe(ke)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ve=Le.port2;Le.port1.onmessage=ke,Ne=function(){Ve.postMessage(null)}}else Ne=function(){z(ke,0)};function X(C){re=C,ce||(ce=!0,Ne())}function F(C,J){pe=z(function(){C(n.unstable_now())},J)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(C){C.callback=null},n.unstable_continueExecution=function(){P||H||(P=!0,X(ge))},n.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Fe=0<C?Math.floor(1e3/C):5},n.unstable_getCurrentPriorityLevel=function(){return k},n.unstable_getFirstCallbackNode=function(){return o(v)},n.unstable_next=function(C){switch(k){case 1:case 2:case 3:var J=3;break;default:J=k}var Y=k;k=J;try{return C()}finally{k=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(C,J){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var Y=k;k=C;try{return J()}finally{k=Y}},n.unstable_scheduleCallback=function(C,J,Y){var R=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?R+Y:R):Y=R,C){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=Y+Q,C={id:M++,callback:J,priorityLevel:C,startTime:Y,expirationTime:Q,sortIndex:-1},Y>R?(C.sortIndex=Y,l(I,C),o(v)===null&&C===o(I)&&(O?(ee(pe),pe=-1):O=!0,F(ue,Y-R))):(C.sortIndex=Q,l(v,C),P||H||(P=!0,X(ge))),C},n.unstable_shouldYield=ve,n.unstable_wrapCallback=function(C){var J=k;return function(){var Y=k;k=J;try{return C.apply(this,arguments)}finally{k=Y}}}}(S$)),S$}var HE;function WS(){return HE||(HE=1,v$.exports=GS()),v$.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function jS(){if(VE)return zr;VE=1;var n=E_(),l=WS();function o(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,h={};function m(i,s){T(i,s),T(i+"Capture",s)}function T(i,s){for(h[i]=s,i=0;i<s.length;i++)c.add(s[i])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M={},w={};function k(i){return v.call(w,i)?!0:v.call(M,i)?!1:I.test(i)?w[i]=!0:(M[i]=!0,!1)}function H(i,s,a,p){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:a!==null?!a.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function P(i,s,a,p){if(s===null||typeof s>"u"||H(i,s,a,p))return!0;if(p)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(i,s,a,p,f,$,b){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=i,this.type=s,this.sanitizeURL=$,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){z[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];z[s]=new O(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){z[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){z[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){z[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){z[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){z[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){z[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){z[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function oe(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(ee,oe);z[s]=new O(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(ee,oe);z[s]=new O(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(ee,oe);z[s]=new O(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){z[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),z.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){z[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function ne(i,s,a,p){var f=z.hasOwnProperty(s)?z[s]:null;(f!==null?f.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,a,f,p)&&(a=null),p||f===null?k(s)&&(a===null?i.removeAttribute(s):i.setAttribute(s,""+a)):f.mustUseProperty?i[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,p=f.attributeNamespace,a===null?i.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,p?i.setAttributeNS(p,s,a):i.setAttribute(s,a))))}var ue=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),ce=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),pe=Symbol.for("react.strict_mode"),Fe=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),ve=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),Ne=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Ve=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),C=Symbol.iterator;function J(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var Y=Object.assign,R;function Q(i){if(R===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);R=s&&s[1]||""}return`
`+R+i}var Re=!1;function Se(i,s){if(!i||Re)return"";Re=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ie){var p=ie}Reflect.construct(i,[],s)}else{try{s.call()}catch(ie){p=ie}i.call(s.prototype)}else{try{throw Error()}catch(ie){p=ie}i()}}catch(ie){if(ie&&p&&typeof ie.stack=="string"){for(var f=ie.stack.split(`
`),$=p.stack.split(`
`),b=f.length-1,x=$.length-1;1<=b&&0<=x&&f[b]!==$[x];)x--;for(;1<=b&&0<=x;b--,x--)if(f[b]!==$[x]){if(b!==1||x!==1)do if(b--,x--,0>x||f[b]!==$[x]){var V=`
`+f[b].replace(" at new "," at ");return i.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",i.displayName)),V}while(1<=b&&0<=x);break}}}finally{Re=!1,Error.prepareStackTrace=a}return(i=i?i.displayName||i.name:"")?Q(i):""}function Ue(i){switch(i.tag){case 5:return Q(i.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return i=Se(i.type,!1),i;case 11:return i=Se(i.type.render,!1),i;case 1:return i=Se(i.type,!0),i;default:return""}}function Oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case re:return"Fragment";case ce:return"Portal";case Fe:return"Profiler";case pe:return"StrictMode";case Ne:return"Suspense";case Le:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ve:return(i.displayName||"Context")+".Consumer";case L:return(i._context.displayName||"Context")+".Provider";case ke:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Ve:return s=i.displayName||null,s!==null?s:Oe(i.type)||"Memo";case X:s=i._payload,i=i._init;try{return Oe(i(s))}catch{}}return null}function Ie(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===pe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function qe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Qe(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function $t(i){var s=Qe(i)?"checked":"value",a=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,$=a.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){p=""+b,$.call(this,b)}}),Object.defineProperty(i,s,{enumerable:a.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Ct(i){i._valueTracker||(i._valueTracker=$t(i))}function yt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),p="";return i&&(p=Qe(i)?i.checked?"true":"false":i.value),i=p,i!==a?(s.setValue(i),!0):!1}function rr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Zi(i,s){var a=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??i._wrapperState.initialChecked})}function wn(i,s){var a=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;a=qe(s.value!=null?s.value:a),i._wrapperState={initialChecked:p,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Qt(i,s){s=s.checked,s!=null&&ne(i,"checked",s,!1)}function Kr(i,s){Qt(i,s);var a=qe(s.value),p=s.type;if(a!=null)p==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+a):i.value!==""+a&&(i.value=""+a);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?eo(i,s.type,a):s.hasOwnProperty("defaultValue")&&eo(i,s.type,qe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function pr(i,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,a||s===i.value||(i.value=s),i.defaultValue=s}a=i.name,a!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,a!==""&&(i.name=a)}function eo(i,s,a){(s!=="number"||rr(i.ownerDocument)!==i)&&(a==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+a&&(i.defaultValue=""+a))}var Ge=Array.isArray;function st(i,s,a,p){if(i=i.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<i.length;a++)f=s.hasOwnProperty("$"+i[a].value),i[a].selected!==f&&(i[a].selected=f),f&&p&&(i[a].defaultSelected=!0)}else{for(a=""+qe(a),s=null,f=0;f<i.length;f++){if(i[f].value===a){i[f].selected=!0,p&&(i[f].defaultSelected=!0);return}s!==null||i[f].disabled||(s=i[f])}s!==null&&(s.selected=!0)}}function it(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(o(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Yr(i,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(o(92));if(Ge(a)){if(1<a.length)throw Error(o(93));a=a[0]}s=a}s==null&&(s=""),a=s}i._wrapperState={initialValue:qe(a)}}function kn(i,s){var a=qe(s.value),p=qe(s.defaultValue);a!=null&&(a=""+a,a!==i.value&&(i.value=a),s.defaultValue==null&&i.defaultValue!==a&&(i.defaultValue=a)),p!=null&&(i.defaultValue=""+p)}function $n(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Lr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jt(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Lr(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Pn,Oo=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,p,f){MSApp.execUnsafeLocalFunction(function(){return i(s,a,p,f)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Pn=Pn||document.createElement("div"),Pn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Pn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function le(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var Be={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["Webkit","ms","Moz","O"];Object.keys(Be).forEach(function(i){_.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Be[s]=Be[i]})});function S(i,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Be.hasOwnProperty(i)&&Be[i]?(""+s).trim():s+"px"}function W(i,s){i=i.style;for(var a in s)if(s.hasOwnProperty(a)){var p=a.indexOf("--")===0,f=S(a,s[a],p);a==="float"&&(a="cssFloat"),p?i.setProperty(a,f):i[a]=f}}var j=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function we(i,s){if(s){if(j[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(o(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(o(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(o(61))}if(s.style!=null&&typeof s.style!="object")throw Error(o(62))}}function _t(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bn=null;function Jr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var to=null,Ar=null,qr=null;function ms(i){if(i=Tr(i)){if(typeof to!="function")throw Error(o(280));var s=i.stateNode;s&&(s=Wu(s),to(i.stateNode,i.type,s))}}function Ro(i){Ar?qr?qr.push(i):qr=[i]:Ar=i}function $s(){if(Ar){var i=Ar,s=qr;if(qr=Ar=null,ms(i),s)for(i=0;i<s.length;i++)ms(s[i])}}function _l(i,s){return i(s)}function Fn(){}var ir=!1;function Tl(i,s,a){if(ir)return i(s,a);ir=!0;try{return _l(i,s,a)}finally{ir=!1,(Ar!==null||qr!==null)&&(Fn(),$s())}}function no(i,s){var a=i.stateNode;if(a===null)return null;var p=Wu(a);if(p===null)return null;a=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var El=!1;if(E)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){El=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{El=!1}function pt(i,s,a,p,f,$,b,x,V){var ie=Array.prototype.slice.call(arguments,3);try{s.apply(a,ie)}catch(Te){this.onError(Te)}}var ht=!1,fn=null,Ht=!1,fr=null,or={onError:function(i){ht=!0,fn=i}};function zc(i,s,a,p,f,$,b,x,V){ht=!1,fn=null,pt.apply(or,arguments)}function bl(i,s,a,p,f,$,b,x,V){if(zc.apply(this,arguments),ht){if(ht){var ie=fn;ht=!1,fn=null}else throw Error(o(198));Ht||(Ht=!0,fr=ie)}}function Lo(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function mu(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xd(i){if(Lo(i)!==i)throw Error(o(188))}function $u(i){var s=i.alternate;if(!s){if(s=Lo(i),s===null)throw Error(o(188));return s!==i?null:i}for(var a=i,p=s;;){var f=a.return;if(f===null)break;var $=f.alternate;if($===null){if(p=f.return,p!==null){a=p;continue}break}if(f.child===$.child){for($=f.child;$;){if($===a)return Xd(f),i;if($===p)return Xd(f),s;$=$.sibling}throw Error(o(188))}if(a.return!==p.return)a=f,p=$;else{for(var b=!1,x=f.child;x;){if(x===a){b=!0,a=f,p=$;break}if(x===p){b=!0,p=f,a=$;break}x=x.sibling}if(!b){for(x=$.child;x;){if(x===a){b=!0,a=$,p=f;break}if(x===p){b=!0,p=$,a=f;break}x=x.sibling}if(!b)throw Error(o(189))}}if(a.alternate!==p)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?i:s}function _u(i){return i=$u(i),i!==null?Kd(i):null}function Kd(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Kd(i);if(s!==null)return s;i=i.sibling}return null}var Tu=l.unstable_scheduleCallback,Yd=l.unstable_cancelCallback,Xc=l.unstable_shouldYield,Jd=l.unstable_requestPaint,zt=l.unstable_now,Kc=l.unstable_getCurrentPriorityLevel,yl=l.unstable_ImmediatePriority,Eu=l.unstable_UserBlockingPriority,Ao=l.unstable_NormalPriority,Ef=l.unstable_LowPriority,_s=l.unstable_IdlePriority,Do=null,gr=null;function bf(i){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(Do,i,void 0,(i.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:_n,yf=Math.log,No=Math.LN2;function _n(i){return i>>>=0,i===0?32:31-(yf(i)/No|0)|0}var Mo=64,vl=4194304;function zn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Nr(i,s){var a=i.pendingLanes;if(a===0)return 0;var p=0,f=i.suspendedLanes,$=i.pingedLanes,b=a&268435455;if(b!==0){var x=b&~f;x!==0?p=zn(x):($&=b,$!==0&&(p=zn($)))}else b=a&~f,b!==0?p=zn(b):$!==0&&(p=zn($));if(p===0)return 0;if(s!==0&&s!==p&&!(s&f)&&(f=p&-p,$=s&-s,f>=$||f===16&&($&4194240)!==0))return s;if(p&4&&(p|=a&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)a=31-Dr(s),f=1<<a,p|=i[a],s&=~f;return p}function vf(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qd(i,s){for(var a=i.suspendedLanes,p=i.pingedLanes,f=i.expirationTimes,$=i.pendingLanes;0<$;){var b=31-Dr($),x=1<<b,V=f[b];V===-1?(!(x&a)||x&p)&&(f[b]=vf(x,s)):V<=s&&(i.expiredLanes|=x),$&=~x}}function Sl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Yc(){var i=Mo;return Mo<<=1,!(Mo&4194240)&&(Mo=64),i}function Jc(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function Ts(i,s,a){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Dr(s),i[s]=a}function bu(i,s){var a=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<a;){var f=31-Dr(a),$=1<<f;s[f]=0,p[f]=-1,i[f]=-1,a&=~$}}function qc(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var p=31-Dr(a),f=1<<p;f&s|i[p]&s&&(i[p]|=s),a&=~f}}var at=0;function Qd(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Zd,Il,eh,Es,th,yu=!1,bs=[],Ei=null,bi=null,io=null,xo=new Map,yi=new Map,Qr=[],Sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(i,s){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":xo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(s.pointerId)}}function ys(i,s,a,p,f,$){return i===null||i.nativeEvent!==$?(i={blockedOn:s,domEventName:a,eventSystemFlags:p,nativeEvent:$,targetContainers:[f]},s!==null&&(s=Tr(s),s!==null&&Il(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),i)}function If(i,s,a,p,f){switch(s){case"focusin":return Ei=ys(Ei,i,s,a,p,f),!0;case"dragenter":return bi=ys(bi,i,s,a,p,f),!0;case"mouseover":return io=ys(io,i,s,a,p,f),!0;case"pointerover":var $=f.pointerId;return xo.set($,ys(xo.get($)||null,i,s,a,p,f)),!0;case"gotpointercapture":return $=f.pointerId,yi.set($,ys(yi.get($)||null,i,s,a,p,f)),!0}return!1}function nh(i){var s=_r(i.target);if(s!==null){var a=Lo(s);if(a!==null){if(s=a.tag,s===13){if(s=mu(a),s!==null){i.blockedOn=s,th(i.priority,function(){eh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vi(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=Cu(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(a===null){a=i.nativeEvent;var p=new a.constructor(a.type,a);Bn=p,a.target.dispatchEvent(p),Bn=null}else return s=Tr(a),s!==null&&Il(s),i.blockedOn=a,!1;s.shift()}return!0}function rh(i,s,a){vi(i)&&a.delete(s)}function vu(){yu=!1,Ei!==null&&vi(Ei)&&(Ei=null),bi!==null&&vi(bi)&&(bi=null),io!==null&&vi(io)&&(io=null),xo.forEach(rh),yi.forEach(rh)}function On(i,s){i.blockedOn===s&&(i.blockedOn=null,yu||(yu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,vu)))}function Cl(i){function s(f){return On(f,i)}if(0<bs.length){On(bs[0],i);for(var a=1;a<bs.length;a++){var p=bs[a];p.blockedOn===i&&(p.blockedOn=null)}}for(Ei!==null&&On(Ei,i),bi!==null&&On(bi,i),io!==null&&On(io,i),xo.forEach(s),yi.forEach(s),a=0;a<Qr.length;a++)p=Qr[a],p.blockedOn===i&&(p.blockedOn=null);for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)nh(a),a.blockedOn===null&&Qr.shift()}var vs=ue.ReactCurrentBatchConfig,Su=!0;function Cf(i,s,a,p){var f=at,$=vs.transition;vs.transition=null;try{at=1,Zc(i,s,a,p)}finally{at=f,vs.transition=$}}function wf(i,s,a,p){var f=at,$=vs.transition;vs.transition=null;try{at=4,Zc(i,s,a,p)}finally{at=f,vs.transition=$}}function Zc(i,s,a,p){if(Su){var f=Cu(i,s,a,p);if(f===null)Ea(i,s,p,Iu,a),Qc(i,p);else if(If(f,i,s,a,p))p.stopPropagation();else if(Qc(i,p),s&4&&-1<Sf.indexOf(i)){for(;f!==null;){var $=Tr(f);if($!==null&&Zd($),$=Cu(i,s,a,p),$===null&&Ea(i,s,p,Iu,a),$===f)break;f=$}f!==null&&p.stopPropagation()}else Ea(i,s,p,null,a)}}var Iu=null;function Cu(i,s,a,p){if(Iu=null,i=Jr(p),i=_r(i),i!==null)if(s=Lo(i),s===null)i=null;else if(a=s.tag,a===13){if(i=mu(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Iu=i,null}function Si(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kc()){case yl:return 1;case Eu:return 4;case Ao:case Ef:return 16;case _s:return 536870912;default:return 16}default:return 16}}var mr=null,wu=null,ku=null;function ih(){if(ku)return ku;var i,s=wu,a=s.length,p,f="value"in mr?mr.value:mr.textContent,$=f.length;for(i=0;i<a&&s[i]===f[i];i++);var b=a-i;for(p=1;p<=b&&s[a-p]===f[$-p];p++);return ku=f.slice(i,1<p?1-p:void 0)}function Ou(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ru(){return!0}function oh(){return!1}function sr(i){function s(a,p,f,$,b){this._reactName=a,this._targetInst=f,this.type=p,this.nativeEvent=$,this.target=b,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(a=i[x],this[x]=a?a($):$[x]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Ru:oh,this.isPropagationStopped=oh,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),s}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=sr(Ss),wl=Y({},Ss,{view:0,detail:0}),sh=sr(wl),ta,Po,Bo,Lu=Y({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ia,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Bo&&(Bo&&i.type==="mousemove"?(ta=i.screenX-Bo.screenX,Po=i.screenY-Bo.screenY):Po=ta=0,Bo=i),ta)},movementY:function(i){return"movementY"in i?i.movementY:Po}}),Is=sr(Lu),lh=Y({},Lu,{dataTransfer:0}),uh=sr(lh),ch=Y({},wl,{relatedTarget:0}),kl=sr(ch),na=Y({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),ah=sr(na),kf=Y({},Ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dh=sr(kf),hh=Y({},Ss,{data:0}),ra=sr(hh),ph={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=gh[i])?!!s[i]:!1}function ia(){return mh}var Au=Y({},wl,{key:function(i){if(i.key){var s=ph[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Ou(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ia,charCode:function(i){return i.type==="keypress"?Ou(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ou(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$h=sr(Au),oa=Y({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Du=sr(oa),Ii=Y({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ia}),_h=sr(Ii),Th=Y({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nu=sr(Th),Eh=Y({},Lu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),bh=sr(Eh),Of=[9,13,27,32],Ol=E&&"CompositionEvent"in window,Cs=null;E&&"documentMode"in document&&(Cs=document.documentMode);var Rf=E&&"TextEvent"in window&&!Cs,yh=E&&(!Ol||Cs&&8<Cs&&11>=Cs),vh=" ",Sh=!1;function Ih(i,s){switch(i){case"keyup":return Of.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ws(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Fo=!1;function Ch(i,s){switch(i){case"compositionend":return ws(s);case"keypress":return s.which!==32?null:(Sh=!0,vh);case"textInput":return i=s.data,i===vh&&Sh?null:i;default:return null}}function Rl(i,s){if(Fo)return i==="compositionend"||!Ol&&Ih(i,s)?(i=ih(),ku=wu=mr=null,Fo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return yh&&s.locale!=="ko"?null:s.data;default:return null}}var sa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wh(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!sa[i.type]:s==="textarea"}function kh(i,s,a,p){Ro(p),s=Ml(s,"onChange"),0<s.length&&(a=new ea("onChange","change",null,a,p),i.push({event:a,listeners:s}))}var ks=null,Os=null;function oo(i){Vu(i,0)}function Ll(i){var s=Kn(i);if(yt(s))return i}function Oh(i,s){if(i==="change")return s}var Rh=!1;if(E){var la;if(E){var ua="oninput"in document;if(!ua){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),ua=typeof Lh.oninput=="function"}la=ua}else la=!1;Rh=la&&(!document.documentMode||9<document.documentMode)}function ca(){ks&&(ks.detachEvent("onpropertychange",Ah),Os=ks=null)}function Ah(i){if(i.propertyName==="value"&&Ll(Os)){var s=[];kh(s,Os,i,Jr(i)),Tl(oo,s)}}function Dh(i,s,a){i==="focusin"?(ca(),ks=s,Os=a,ks.attachEvent("onpropertychange",Ah)):i==="focusout"&&ca()}function Lf(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ll(Os)}function Rs(i,s){if(i==="click")return Ll(s)}function Mu(i,s){if(i==="input"||i==="change")return Ll(s)}function aa(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var lr=typeof Object.is=="function"?Object.is:aa;function Zr(i,s){if(lr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),p=Object.keys(s);if(a.length!==p.length)return!1;for(p=0;p<a.length;p++){var f=a[p];if(!v.call(s,f)||!lr(i[f],s[f]))return!1}return!0}function da(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xu(i,s){var a=da(i);i=0;for(var p;a;){if(a.nodeType===3){if(p=i+a.textContent.length,i<=s&&p>=s)return{node:a,offset:s-i};i=p}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=da(a)}}function ha(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ha(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Xt(){for(var i=window,s=rr();s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=rr(i.document)}return s}function pa(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Al(i){var s=Xt(),a=i.focusedElem,p=i.selectionRange;if(s!==a&&a&&a.ownerDocument&&ha(a.ownerDocument.documentElement,a)){if(p!==null&&pa(a)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(i,a.value.length);else if(i=(s=a.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var f=a.textContent.length,$=Math.min(p.start,f);p=p.end===void 0?$:Math.min(p.end,f),!i.extend&&$>p&&(f=p,p=$,$=f),f=xu(a,$);var b=xu(a,p);f&&b&&(i.rangeCount!==1||i.anchorNode!==f.node||i.anchorOffset!==f.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),i.removeAllRanges(),$>p?(i.addRange(s),i.extend(b.node,b.offset)):(s.setEnd(b.node,b.offset),i.addRange(s)))}}for(s=[],i=a;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)i=s[a],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ls=E&&"documentMode"in document&&11>=document.documentMode,As=null,Pu=null,Uo=null,Ho=!1;function fa(i,s,a){var p=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ho||As==null||As!==rr(p)||(p=As,"selectionStart"in p&&pa(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Uo&&Zr(Uo,p)||(Uo=p,p=Ml(Pu,"onSelect"),0<p.length&&(s=new ea("onSelect","select",null,s,a),i.push({event:s,listeners:p}),s.target=As)))}function Ci(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var wi={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionend:Ci("Transition","TransitionEnd")},Bu={},ga={};E&&(ga=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function Fu(i){if(Bu[i])return Bu[i];if(!wi[i])return i;var s=wi[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in ga)return Bu[i]=s[a];return i}var Nh=Fu("animationend"),Mh=Fu("animationiteration"),ma=Fu("animationstart"),xh=Fu("transitionend"),$a=new Map,Dl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function so(i,s){$a.set(i,s),m(s,[i])}for(var _a=0;_a<Dl.length;_a++){var Ta=Dl[_a],Af=Ta.toLowerCase(),Uu=Ta[0].toUpperCase()+Ta.slice(1);so(Af,"on"+Uu)}so(Nh,"onAnimationEnd"),so(Mh,"onAnimationIteration"),so(ma,"onAnimationStart"),so("dblclick","onDoubleClick"),so("focusin","onFocus"),so("focusout","onBlur"),so(xh,"onTransitionEnd"),T("onMouseEnter",["mouseout","mouseover"]),T("onMouseLeave",["mouseout","mouseover"]),T("onPointerEnter",["pointerout","pointerover"]),T("onPointerLeave",["pointerout","pointerover"]),m("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),m("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),m("onBeforeInput",["compositionend","keypress","textInput","paste"]),m("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),m("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ph=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ds));function Hu(i,s,a){var p=i.type||"unknown-event";i.currentTarget=a,bl(p,s,void 0,i),i.currentTarget=null}function Vu(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var p=i[a],f=p.event;p=p.listeners;e:{var $=void 0;if(s)for(var b=p.length-1;0<=b;b--){var x=p[b],V=x.instance,ie=x.currentTarget;if(x=x.listener,V!==$&&f.isPropagationStopped())break e;Hu(f,x,ie),$=V}else for(b=0;b<p.length;b++){if(x=p[b],V=x.instance,ie=x.currentTarget,x=x.listener,V!==$&&f.isPropagationStopped())break e;Hu(f,x,ie),$=V}}}if(Ht)throw i=fr,Ht=!1,fr=null,i}function Rt(i,s){var a=s[Gu];a===void 0&&(a=s[Gu]=new Set);var p=i+"__bubble";a.has(p)||(Bh(s,i,2,!1),a.add(p))}function Ns(i,s,a){var p=0;s&&(p|=4),Bh(a,i,p,s)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function lo(i){if(!i[Nl]){i[Nl]=!0,c.forEach(function(a){a!=="selectionchange"&&(Ph.has(a)||Ns(a,!1,i),Ns(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[Nl]||(s[Nl]=!0,Ns("selectionchange",!1,s))}}function Bh(i,s,a,p){switch(Si(s)){case 1:var f=Cf;break;case 4:f=wf;break;default:f=Zc}a=f.bind(null,s,a,i),f=void 0,!El||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),p?f!==void 0?i.addEventListener(s,a,{capture:!0,passive:f}):i.addEventListener(s,a,!0):f!==void 0?i.addEventListener(s,a,{passive:f}):i.addEventListener(s,a,!1)}function Ea(i,s,a,p,f){var $=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var x=p.stateNode.containerInfo;if(x===f||x.nodeType===8&&x.parentNode===f)break;if(b===4)for(b=p.return;b!==null;){var V=b.tag;if((V===3||V===4)&&(V=b.stateNode.containerInfo,V===f||V.nodeType===8&&V.parentNode===f))return;b=b.return}for(;x!==null;){if(b=_r(x),b===null)return;if(V=b.tag,V===5||V===6){p=$=b;continue e}x=x.parentNode}}p=p.return}Tl(function(){var ie=$,Te=Jr(a),ye=[];e:{var _e=$a.get(i);if(_e!==void 0){var De=ea,He=i;switch(i){case"keypress":if(Ou(a)===0)break e;case"keydown":case"keyup":De=$h;break;case"focusin":He="focus",De=kl;break;case"focusout":He="blur",De=kl;break;case"beforeblur":case"afterblur":De=kl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=Is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=_h;break;case Nh:case Mh:case ma:De=ah;break;case xh:De=Nu;break;case"scroll":De=sh;break;case"wheel":De=bh;break;case"copy":case"cut":case"paste":De=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=Du}var je=(s&4)!==0,Wt=!je&&i==="scroll",q=je?_e!==null?_e+"Capture":null:_e;je=[];for(var U=ie,Z;U!==null;){Z=U;var Ce=Z.stateNode;if(Z.tag===5&&Ce!==null&&(Z=Ce,q!==null&&(Ce=no(U,q),Ce!=null&&je.push(Mr(U,Ce,Z)))),Wt)break;U=U.return}0<je.length&&(_e=new De(_e,He,null,a,Te),ye.push({event:_e,listeners:je}))}}if(!(s&7)){e:{if(_e=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",_e&&a!==Bn&&(He=a.relatedTarget||a.fromElement)&&(_r(He)||He[xr]))break e;if((De||_e)&&(_e=Te.window===Te?Te:(_e=Te.ownerDocument)?_e.defaultView||_e.parentWindow:window,De?(He=a.relatedTarget||a.toElement,De=ie,He=He?_r(He):null,He!==null&&(Wt=Lo(He),He!==Wt||He.tag!==5&&He.tag!==6)&&(He=null)):(De=null,He=ie),De!==He)){if(je=Is,Ce="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(je=Du,Ce="onPointerLeave",q="onPointerEnter",U="pointer"),Wt=De==null?_e:Kn(De),Z=He==null?_e:Kn(He),_e=new je(Ce,U+"leave",De,a,Te),_e.target=Wt,_e.relatedTarget=Z,Ce=null,_r(Te)===ie&&(je=new je(q,U+"enter",He,a,Te),je.target=Z,je.relatedTarget=Wt,Ce=je),Wt=Ce,De&&He)t:{for(je=De,q=He,U=0,Z=je;Z;Z=Xn(Z))U++;for(Z=0,Ce=q;Ce;Ce=Xn(Ce))Z++;for(;0<U-Z;)je=Xn(je),U--;for(;0<Z-U;)q=Xn(q),Z--;for(;U--;){if(je===q||q!==null&&je===q.alternate)break t;je=Xn(je),q=Xn(q)}je=null}else je=null;De!==null&&Fh(ye,_e,De,je,!1),He!==null&&Wt!==null&&Fh(ye,Wt,He,je,!0)}}e:{if(_e=ie?Kn(ie):window,De=_e.nodeName&&_e.nodeName.toLowerCase(),De==="select"||De==="input"&&_e.type==="file")var Xe=Oh;else if(wh(_e))if(Rh)Xe=Mu;else{Xe=Lf;var Ye=Dh}else(De=_e.nodeName)&&De.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Xe=Rs);if(Xe&&(Xe=Xe(i,ie))){kh(ye,Xe,a,Te);break e}Ye&&Ye(i,_e,ie),i==="focusout"&&(Ye=_e._wrapperState)&&Ye.controlled&&_e.type==="number"&&eo(_e,"number",_e.value)}switch(Ye=ie?Kn(ie):window,i){case"focusin":(wh(Ye)||Ye.contentEditable==="true")&&(As=Ye,Pu=ie,Uo=null);break;case"focusout":Uo=Pu=As=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,fa(ye,a,Te);break;case"selectionchange":if(Ls)break;case"keydown":case"keyup":fa(ye,a,Te)}var Je;if(Ol)e:{switch(i){case"compositionstart":var Ze="onCompositionStart";break e;case"compositionend":Ze="onCompositionEnd";break e;case"compositionupdate":Ze="onCompositionUpdate";break e}Ze=void 0}else Fo?Ih(i,a)&&(Ze="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Ze="onCompositionStart");Ze&&(yh&&a.locale!=="ko"&&(Fo||Ze!=="onCompositionStart"?Ze==="onCompositionEnd"&&Fo&&(Je=ih()):(mr=Te,wu="value"in mr?mr.value:mr.textContent,Fo=!0)),Ye=Ml(ie,Ze),0<Ye.length&&(Ze=new ra(Ze,i,null,a,Te),ye.push({event:Ze,listeners:Ye}),Je?Ze.data=Je:(Je=ws(a),Je!==null&&(Ze.data=Je)))),(Je=Rf?Ch(i,a):Rl(i,a))&&(ie=Ml(ie,"onBeforeInput"),0<ie.length&&(Te=new ra("onBeforeInput","beforeinput",null,a,Te),ye.push({event:Te,listeners:ie}),Te.data=Je))}Vu(ye,s)})}function Mr(i,s,a){return{instance:i,listener:s,currentTarget:a}}function Ml(i,s){for(var a=s+"Capture",p=[];i!==null;){var f=i,$=f.stateNode;f.tag===5&&$!==null&&(f=$,$=no(i,a),$!=null&&p.unshift(Mr(i,$,f)),$=no(i,s),$!=null&&p.push(Mr(i,$,f))),i=i.return}return p}function Xn(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Fh(i,s,a,p,f){for(var $=s._reactName,b=[];a!==null&&a!==p;){var x=a,V=x.alternate,ie=x.stateNode;if(V!==null&&V===p)break;x.tag===5&&ie!==null&&(x=ie,f?(V=no(a,$),V!=null&&b.unshift(Mr(a,V,x))):f||(V=no(a,$),V!=null&&b.push(Mr(a,V,x)))),a=a.return}b.length!==0&&i.push({event:s,listeners:b})}var Df=/\r\n?/g,Uh=/\u0000|\uFFFD/g;function Hh(i){return(typeof i=="string"?i:""+i).replace(Df,`
`).replace(Uh,"")}function ki(i,s,a){if(s=Hh(s),Hh(i)!==s&&a)throw Error(o(425))}function xl(){}var ba=null,ya=null;function va(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sa=typeof setTimeout=="function"?setTimeout:void 0,Nf=typeof clearTimeout=="function"?clearTimeout:void 0,Ia=typeof Promise=="function"?Promise:void 0,Mf=typeof queueMicrotask=="function"?queueMicrotask:typeof Ia<"u"?function(i){return Ia.resolve(null).then(i).catch(xf)}:Sa;function xf(i){setTimeout(function(){throw i})}function Pl(i,s){var a=s,p=0;do{var f=a.nextSibling;if(i.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(p===0){i.removeChild(f),Cl(s);return}p--}else a!=="$"&&a!=="$?"&&a!=="$!"||p++;a=f}while(a);Cl(s)}function uo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function Vh(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return i;s--}else a==="/$"&&s++}i=i.previousSibling}return null}var Vo=Math.random().toString(36).slice(2),$r="__reactFiber$"+Vo,Ms="__reactProps$"+Vo,xr="__reactContainer$"+Vo,Gu="__reactEvents$"+Vo,Gh="__reactListeners$"+Vo,Bl="__reactHandles$"+Vo;function _r(i){var s=i[$r];if(s)return s;for(var a=i.parentNode;a;){if(s=a[xr]||a[$r]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Vh(i);i!==null;){if(a=i[$r])return a;i=Vh(i)}return s}i=a,a=i.parentNode}return null}function Tr(i){return i=i[$r]||i[xr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Kn(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(o(33))}function Wu(i){return i[Ms]||null}var Ca=[],xs=-1;function Oi(i){return{current:i}}function vt(i){0>xs||(i.current=Ca[xs],Ca[xs]=null,xs--)}function wt(i,s){xs++,Ca[xs]=i.current,i.current=s}var co={},Rn=Oi(co),Un=Oi(!1),Ri=co;function Go(i,s){var a=i.type.contextTypes;if(!a)return co;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var f={},$;for($ in a)f[$]=s[$];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function Ln(i){return i=i.childContextTypes,i!=null}function ju(){vt(Un),vt(Rn)}function Wh(i,s,a){if(Rn.current!==co)throw Error(o(168));wt(Rn,s),wt(Un,a)}function jh(i,s,a){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return a;p=p.getChildContext();for(var f in p)if(!(f in s))throw Error(o(108,Ie(i)||"Unknown",f));return Y({},a,p)}function zu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||co,Ri=Rn.current,wt(Rn,i),wt(Un,Un.current),!0}function We(i,s,a){var p=i.stateNode;if(!p)throw Error(o(169));a?(i=jh(i,s,Ri),p.__reactInternalMemoizedMergedChildContext=i,vt(Un),vt(Rn),wt(Rn,i)):vt(Un),wt(Un,a)}var Zt=null,en=!1,St=!1;function ei(i){Zt===null?Zt=[i]:Zt.push(i)}function Fl(i){en=!0,ei(i)}function Ae(){if(!St&&Zt!==null){St=!0;var i=0,s=at;try{var a=Zt;for(at=1;i<a.length;i++){var p=a[i];do p=p(!0);while(p!==null)}Zt=null,en=!1}catch(f){throw Zt!==null&&(Zt=Zt.slice(i+1)),Tu(yl,Ae),f}finally{at=s,St=!1}}return null}var kt=[],Wo=0,Xu=null,ti=0,Yn=[],Jn=0,ao=null,Li=1,ni="";function Ai(i,s){kt[Wo++]=ti,kt[Wo++]=Xu,Xu=i,ti=s}function wa(i,s,a){Yn[Jn++]=Li,Yn[Jn++]=ni,Yn[Jn++]=ao,ao=i;var p=Li;i=ni;var f=32-Dr(p)-1;p&=~(1<<f),a+=1;var $=32-Dr(s)+f;if(30<$){var b=f-f%5;$=(p&(1<<b)-1).toString(32),p>>=b,f-=b,Li=1<<32-Dr(s)+f|a<<f|p,ni=$+i}else Li=1<<$|a<<f|p,ni=i}function Ku(i){i.return!==null&&(Ai(i,1),wa(i,1,0))}function ka(i){for(;i===Xu;)Xu=kt[--Wo],kt[Wo]=null,ti=kt[--Wo],kt[Wo]=null;for(;i===ao;)ao=Yn[--Jn],Yn[Jn]=null,ni=Yn[--Jn],Yn[Jn]=null,Li=Yn[--Jn],Yn[Jn]=null}var qn=null,ur=null,Ot=!1,Pr=null;function zh(i,s){var a=Mn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=i,s=i.deletions,s===null?(i.deletions=[a],i.flags|=16):s.push(a)}function Xh(i,s){switch(i.tag){case 5:var a=i.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,qn=i,ur=uo(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,qn=i,ur=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ao!==null?{id:Li,overflow:ni}:null,i.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Mn(18,null,null,0),a.stateNode=s,a.return=i,i.child=a,qn=i,ur=null,!0):!1;default:return!1}}function Oa(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Ra(i){if(Ot){var s=ur;if(s){var a=s;if(!Xh(i,s)){if(Oa(i))throw Error(o(418));s=uo(a.nextSibling);var p=qn;s&&Xh(i,s)?zh(p,a):(i.flags=i.flags&-4097|2,Ot=!1,qn=i)}}else{if(Oa(i))throw Error(o(418));i.flags=i.flags&-4097|2,Ot=!1,qn=i}}}function La(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;qn=i}function Yu(i){if(i!==qn)return!1;if(!Ot)return La(i),Ot=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!va(i.type,i.memoizedProps)),s&&(s=ur)){if(Oa(i))throw Ul(),Error(o(418));for(;s;)zh(i,s),s=uo(s.nextSibling)}if(La(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"){if(s===0){ur=uo(i.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}i=i.nextSibling}ur=null}}else ur=qn?uo(i.stateNode.nextSibling):null;return!0}function Ul(){for(var i=ur;i;)i=uo(i.nextSibling)}function Di(){ur=qn=null,Ot=!1}function Aa(i){Pr===null?Pr=[i]:Pr.push(i)}var Kh=ue.ReactCurrentBatchConfig;function Ps(i,s,a){if(i=a.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(o(309));var p=a.stateNode}if(!p)throw Error(o(147,i));var f=p,$=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===$?s.ref:(s=function(b){var x=f.refs;b===null?delete x[$]:x[$]=b},s._stringRef=$,s)}if(typeof i!="string")throw Error(o(284));if(!a._owner)throw Error(o(290,i))}return i}function Hl(i,s){throw i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Da(i){var s=i._init;return s(i._payload)}function Ju(i){function s(q,U){if(i){var Z=q.deletions;Z===null?(q.deletions=[U],q.flags|=16):Z.push(U)}}function a(q,U){if(!i)return null;for(;U!==null;)s(q,U),U=U.sibling;return null}function p(q,U){for(q=new Map;U!==null;)U.key!==null?q.set(U.key,U):q.set(U.index,U),U=U.sibling;return q}function f(q,U){return q=Cr(q,U),q.index=0,q.sibling=null,q}function $(q,U,Z){return q.index=Z,i?(Z=q.alternate,Z!==null?(Z=Z.index,Z<U?(q.flags|=2,U):Z):(q.flags|=2,U)):(q.flags|=1048576,U)}function b(q){return i&&q.alternate===null&&(q.flags|=2),q}function x(q,U,Z,Ce){return U===null||U.tag!==6?(U=cd(Z,q.mode,Ce),U.return=q,U):(U=f(U,Z),U.return=q,U)}function V(q,U,Z,Ce){var Xe=Z.type;return Xe===re?Te(q,U,Z.props.children,Ce,Z.key):U!==null&&(U.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===X&&Da(Xe)===U.type)?(Ce=f(U,Z.props),Ce.ref=Ps(q,U,Z),Ce.return=q,Ce):(Ce=Vi(Z.type,Z.key,Z.props,null,q.mode,Ce),Ce.ref=Ps(q,U,Z),Ce.return=q,Ce)}function ie(q,U,Z,Ce){return U===null||U.tag!==4||U.stateNode.containerInfo!==Z.containerInfo||U.stateNode.implementation!==Z.implementation?(U=wc(Z,q.mode,Ce),U.return=q,U):(U=f(U,Z.children||[]),U.return=q,U)}function Te(q,U,Z,Ce,Xe){return U===null||U.tag!==7?(U=Eo(Z,q.mode,Ce,Xe),U.return=q,U):(U=f(U,Z),U.return=q,U)}function ye(q,U,Z){if(typeof U=="string"&&U!==""||typeof U=="number")return U=cd(""+U,q.mode,Z),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ge:return Z=Vi(U.type,U.key,U.props,null,q.mode,Z),Z.ref=Ps(q,null,U),Z.return=q,Z;case ce:return U=wc(U,q.mode,Z),U.return=q,U;case X:var Ce=U._init;return ye(q,Ce(U._payload),Z)}if(Ge(U)||J(U))return U=Eo(U,q.mode,Z,null),U.return=q,U;Hl(q,U)}return null}function _e(q,U,Z,Ce){var Xe=U!==null?U.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Xe!==null?null:x(q,U,""+Z,Ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ge:return Z.key===Xe?V(q,U,Z,Ce):null;case ce:return Z.key===Xe?ie(q,U,Z,Ce):null;case X:return Xe=Z._init,_e(q,U,Xe(Z._payload),Ce)}if(Ge(Z)||J(Z))return Xe!==null?null:Te(q,U,Z,Ce,null);Hl(q,Z)}return null}function De(q,U,Z,Ce,Xe){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return q=q.get(Z)||null,x(U,q,""+Ce,Xe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case ge:return q=q.get(Ce.key===null?Z:Ce.key)||null,V(U,q,Ce,Xe);case ce:return q=q.get(Ce.key===null?Z:Ce.key)||null,ie(U,q,Ce,Xe);case X:var Ye=Ce._init;return De(q,U,Z,Ye(Ce._payload),Xe)}if(Ge(Ce)||J(Ce))return q=q.get(Z)||null,Te(U,q,Ce,Xe,null);Hl(U,Ce)}return null}function He(q,U,Z,Ce){for(var Xe=null,Ye=null,Je=U,Ze=U=0,un=null;Je!==null&&Ze<Z.length;Ze++){Je.index>Ze?(un=Je,Je=null):un=Je.sibling;var ot=_e(q,Je,Z[Ze],Ce);if(ot===null){Je===null&&(Je=un);break}i&&Je&&ot.alternate===null&&s(q,Je),U=$(ot,U,Ze),Ye===null?Xe=ot:Ye.sibling=ot,Ye=ot,Je=un}if(Ze===Z.length)return a(q,Je),Ot&&Ai(q,Ze),Xe;if(Je===null){for(;Ze<Z.length;Ze++)Je=ye(q,Z[Ze],Ce),Je!==null&&(U=$(Je,U,Ze),Ye===null?Xe=Je:Ye.sibling=Je,Ye=Je);return Ot&&Ai(q,Ze),Xe}for(Je=p(q,Je);Ze<Z.length;Ze++)un=De(Je,q,Ze,Z[Ze],Ce),un!==null&&(i&&un.alternate!==null&&Je.delete(un.key===null?Ze:un.key),U=$(un,U,Ze),Ye===null?Xe=un:Ye.sibling=un,Ye=un);return i&&Je.forEach(function(Jt){return s(q,Jt)}),Ot&&Ai(q,Ze),Xe}function je(q,U,Z,Ce){var Xe=J(Z);if(typeof Xe!="function")throw Error(o(150));if(Z=Xe.call(Z),Z==null)throw Error(o(151));for(var Ye=Xe=null,Je=U,Ze=U=0,un=null,ot=Z.next();Je!==null&&!ot.done;Ze++,ot=Z.next()){Je.index>Ze?(un=Je,Je=null):un=Je.sibling;var Jt=_e(q,Je,ot.value,Ce);if(Jt===null){Je===null&&(Je=un);break}i&&Je&&Jt.alternate===null&&s(q,Je),U=$(Jt,U,Ze),Ye===null?Xe=Jt:Ye.sibling=Jt,Ye=Jt,Je=un}if(ot.done)return a(q,Je),Ot&&Ai(q,Ze),Xe;if(Je===null){for(;!ot.done;Ze++,ot=Z.next())ot=ye(q,ot.value,Ce),ot!==null&&(U=$(ot,U,Ze),Ye===null?Xe=ot:Ye.sibling=ot,Ye=ot);return Ot&&Ai(q,Ze),Xe}for(Je=p(q,Je);!ot.done;Ze++,ot=Z.next())ot=De(Je,q,Ze,ot.value,Ce),ot!==null&&(i&&ot.alternate!==null&&Je.delete(ot.key===null?Ze:ot.key),U=$(ot,U,Ze),Ye===null?Xe=ot:Ye.sibling=ot,Ye=ot);return i&&Je.forEach(function(Rp){return s(q,Rp)}),Ot&&Ai(q,Ze),Xe}function Wt(q,U,Z,Ce){if(typeof Z=="object"&&Z!==null&&Z.type===re&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ge:e:{for(var Xe=Z.key,Ye=U;Ye!==null;){if(Ye.key===Xe){if(Xe=Z.type,Xe===re){if(Ye.tag===7){a(q,Ye.sibling),U=f(Ye,Z.props.children),U.return=q,q=U;break e}}else if(Ye.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===X&&Da(Xe)===Ye.type){a(q,Ye.sibling),U=f(Ye,Z.props),U.ref=Ps(q,Ye,Z),U.return=q,q=U;break e}a(q,Ye);break}else s(q,Ye);Ye=Ye.sibling}Z.type===re?(U=Eo(Z.props.children,q.mode,Ce,Z.key),U.return=q,q=U):(Ce=Vi(Z.type,Z.key,Z.props,null,q.mode,Ce),Ce.ref=Ps(q,U,Z),Ce.return=q,q=Ce)}return b(q);case ce:e:{for(Ye=Z.key;U!==null;){if(U.key===Ye)if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){a(q,U.sibling),U=f(U,Z.children||[]),U.return=q,q=U;break e}else{a(q,U);break}else s(q,U);U=U.sibling}U=wc(Z,q.mode,Ce),U.return=q,q=U}return b(q);case X:return Ye=Z._init,Wt(q,U,Ye(Z._payload),Ce)}if(Ge(Z))return He(q,U,Z,Ce);if(J(Z))return je(q,U,Z,Ce);Hl(q,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,U!==null&&U.tag===6?(a(q,U.sibling),U=f(U,Z),U.return=q,q=U):(a(q,U),U=cd(Z,q.mode,Ce),U.return=q,q=U),b(q)):a(q,U)}return Wt}var jo=Ju(!0),Yh=Ju(!1),qu=Oi(null),Qu=null,ri=null,Zu=null;function Na(){Zu=ri=Qu=null}function Vl(i){var s=qu.current;vt(qu),i._currentValue=s}function cr(i,s,a){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===a)break;i=i.return}}function Bs(i,s){Qu=i,Zu=ri=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(An=!0),i.firstContext=null)}function gn(i){var s=i._currentValue;if(Zu!==i)if(i={context:i,memoizedValue:s,next:null},ri===null){if(Qu===null)throw Error(o(308));ri=i,Qu.dependencies={lanes:0,firstContext:i}}else ri=ri.next=i;return s}var ho=null;function Ma(i){ho===null?ho=[i]:ho.push(i)}function Gl(i,s,a,p){var f=s.interleaved;return f===null?(a.next=a,Ma(s)):(a.next=f.next,f.next=a),s.interleaved=a,ii(i,p)}function ii(i,s){i.lanes|=s;var a=i.alternate;for(a!==null&&(a.lanes|=s),a=i,i=i.return;i!==null;)i.childLanes|=s,a=i.alternate,a!==null&&(a.childLanes|=s),a=i,i=i.return;return a.tag===3?a.stateNode:null}var Ni=!1;function ec(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xa(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function oi(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Mi(i,s,a){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,lt&2){var f=p.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),p.pending=s,ii(i,a)}return f=p.interleaved,f===null?(s.next=s,Ma(p)):(s.next=f.next,f.next=s),p.interleaved=s,ii(i,a)}function Wl(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,a|=p,s.lanes=a,qc(i,a)}}function Pa(i,s){var a=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,a===p)){var f=null,$=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};$===null?f=$=b:$=$.next=b,a=a.next}while(a!==null);$===null?f=$=s:$=$.next=s}else f=$=s;a={baseState:p.baseState,firstBaseUpdate:f,lastBaseUpdate:$,shared:p.shared,effects:p.effects},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}function jl(i,s,a,p){var f=i.updateQueue;Ni=!1;var $=f.firstBaseUpdate,b=f.lastBaseUpdate,x=f.shared.pending;if(x!==null){f.shared.pending=null;var V=x,ie=V.next;V.next=null,b===null?$=ie:b.next=ie,b=V;var Te=i.alternate;Te!==null&&(Te=Te.updateQueue,x=Te.lastBaseUpdate,x!==b&&(x===null?Te.firstBaseUpdate=ie:x.next=ie,Te.lastBaseUpdate=V))}if($!==null){var ye=f.baseState;b=0,Te=ie=V=null,x=$;do{var _e=x.lane,De=x.eventTime;if((p&_e)===_e){Te!==null&&(Te=Te.next={eventTime:De,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var He=i,je=x;switch(_e=s,De=a,je.tag){case 1:if(He=je.payload,typeof He=="function"){ye=He.call(De,ye,_e);break e}ye=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=je.payload,_e=typeof He=="function"?He.call(De,ye,_e):He,_e==null)break e;ye=Y({},ye,_e);break e;case 2:Ni=!0}}x.callback!==null&&x.lane!==0&&(i.flags|=64,_e=f.effects,_e===null?f.effects=[x]:_e.push(x))}else De={eventTime:De,lane:_e,tag:x.tag,payload:x.payload,callback:x.callback,next:null},Te===null?(ie=Te=De,V=ye):Te=Te.next=De,b|=_e;if(x=x.next,x===null){if(x=f.shared.pending,x===null)break;_e=x,x=_e.next,_e.next=null,f.lastBaseUpdate=_e,f.shared.pending=null}}while(!0);if(Te===null&&(V=ye),f.baseState=V,f.firstBaseUpdate=ie,f.lastBaseUpdate=Te,s=f.shared.interleaved,s!==null){f=s;do b|=f.lane,f=f.next;while(f!==s)}else $===null&&(f.shared.lanes=0);Qs|=b,i.lanes=b,i.memoizedState=ye}}function Ba(i,s,a){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],f=p.callback;if(f!==null){if(p.callback=null,p=a,typeof f!="function")throw Error(o(191,f));f.call(p)}}}var zl={},si=Oi(zl),Xl=Oi(zl),Kl=Oi(zl);function zo(i){if(i===zl)throw Error(o(174));return i}function Fa(i,s){switch(wt(Kl,s),wt(Xl,i),wt(si,zl),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:jt(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=jt(s,i)}vt(si),wt(si,s)}function po(){vt(si),vt(Xl),vt(Kl)}function Jh(i){zo(Kl.current);var s=zo(si.current),a=jt(s,i.type);s!==a&&(wt(Xl,i),wt(si,a))}function Ua(i){Xl.current===i&&(vt(si),vt(Xl))}var xt=Oi(0);function Yl(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var tc=[];function nc(){for(var i=0;i<tc.length;i++)tc[i]._workInProgressVersionPrimary=null;tc.length=0}var Jl=ue.ReactCurrentDispatcher,rc=ue.ReactCurrentBatchConfig,fo=0,Lt=null,Kt=null,cn=null,ic=!1,Fs=!1,Us=0,qh=0;function Tn(){throw Error(o(321))}function oc(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!lr(i[a],s[a]))return!1;return!0}function sc(i,s,a,p,f,$){if(fo=$,Lt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jl.current=i===null||i.memoizedState===null?Ff:Gs,i=a(p,f),Fs){$=0;do{if(Fs=!1,Us=0,25<=$)throw Error(o(301));$+=1,cn=Kt=null,s.updateQueue=null,Jl.current=Uf,i=a(p,f)}while(Fs)}if(Jl.current=Xo,s=Kt!==null&&Kt.next!==null,fo=0,cn=Kt=Lt=null,ic=!1,s)throw Error(o(300));return i}function lc(){var i=Us!==0;return Us=0,i}function Br(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return cn===null?Lt.memoizedState=cn=i:cn=cn.next=i,cn}function ar(){if(Kt===null){var i=Lt.alternate;i=i!==null?i.memoizedState:null}else i=Kt.next;var s=cn===null?Lt.memoizedState:cn.next;if(s!==null)cn=s,Kt=i;else{if(i===null)throw Error(o(310));Kt=i,i={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},cn===null?Lt.memoizedState=cn=i:cn=cn.next=i}return cn}function Hs(i,s){return typeof s=="function"?s(i):s}function Ha(i){var s=ar(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=i;var p=Kt,f=p.baseQueue,$=a.pending;if($!==null){if(f!==null){var b=f.next;f.next=$.next,$.next=b}p.baseQueue=f=$,a.pending=null}if(f!==null){$=f.next,p=p.baseState;var x=b=null,V=null,ie=$;do{var Te=ie.lane;if((fo&Te)===Te)V!==null&&(V=V.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),p=ie.hasEagerState?ie.eagerState:i(p,ie.action);else{var ye={lane:Te,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};V===null?(x=V=ye,b=p):V=V.next=ye,Lt.lanes|=Te,Qs|=Te}ie=ie.next}while(ie!==null&&ie!==$);V===null?b=p:V.next=x,lr(p,s.memoizedState)||(An=!0),s.memoizedState=p,s.baseState=b,s.baseQueue=V,a.lastRenderedState=p}if(i=a.interleaved,i!==null){f=i;do $=f.lane,Lt.lanes|=$,Qs|=$,f=f.next;while(f!==i)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Va(i){var s=ar(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=i;var p=a.dispatch,f=a.pending,$=s.memoizedState;if(f!==null){a.pending=null;var b=f=f.next;do $=i($,b.action),b=b.next;while(b!==f);lr($,s.memoizedState)||(An=!0),s.memoizedState=$,s.baseQueue===null&&(s.baseState=$),a.lastRenderedState=$}return[$,p]}function Qh(){}function Ga(i,s){var a=Lt,p=ar(),f=s(),$=!lr(p.memoizedState,f);if($&&(p.memoizedState=f,An=!0),p=p.queue,li(tp.bind(null,a,p,i),[i]),p.getSnapshot!==s||$||cn!==null&&cn.memoizedState.tag&1){if(a.flags|=2048,Fr(9,ep.bind(null,a,p,f,s),void 0,null),yn===null)throw Error(o(349));fo&30||Zh(a,s,f)}return f}function Zh(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function ep(i,s,a,p){s.value=a,s.getSnapshot=p,np(s)&&rp(i)}function tp(i,s,a){return a(function(){np(s)&&rp(i)})}function np(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!lr(i,a)}catch{return!0}}function rp(i){var s=ii(i,1);s!==null&&Hr(s,i,1,-1)}function fe(i){var s=Br();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hs,lastRenderedState:i},s.queue=i,i=i.dispatch=ap.bind(null,Lt,i),[s.memoizedState,i]}function Fr(i,s,a,p){return i={tag:i,create:s,destroy:a,deps:p,next:null},s=Lt.updateQueue,s===null?(s={lastEffect:null,stores:null},Lt.updateQueue=s,s.lastEffect=i.next=i):(a=s.lastEffect,a===null?s.lastEffect=i.next=i:(p=a.next,a.next=i,i.next=p,s.lastEffect=i)),i}function Pf(){return ar().memoizedState}function Vs(i,s,a,p){var f=Br();Lt.flags|=i,f.memoizedState=Fr(1|s,a,void 0,p===void 0?null:p)}function Er(i,s,a,p){var f=ar();p=p===void 0?null:p;var $=void 0;if(Kt!==null){var b=Kt.memoizedState;if($=b.destroy,p!==null&&oc(p,b.deps)){f.memoizedState=Fr(s,a,$,p);return}}Lt.flags|=i,f.memoizedState=Fr(1|s,a,$,p)}function $e(i,s){return Vs(8390656,8,i,s)}function li(i,s){return Er(2048,8,i,s)}function Qn(i,s){return Er(4,2,i,s)}function te(i,s){return Er(4,4,i,s)}function ip(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function op(i,s,a){return a=a!=null?a.concat([i]):null,Er(4,4,ip.bind(null,s,i),a)}function Wa(){}function sp(i,s){var a=ar();s=s===void 0?null:s;var p=a.memoizedState;return p!==null&&s!==null&&oc(s,p[1])?p[0]:(a.memoizedState=[i,s],i)}function lp(i,s){var a=ar();s=s===void 0?null:s;var p=a.memoizedState;return p!==null&&s!==null&&oc(s,p[1])?p[0]:(i=i(),a.memoizedState=[i,s],i)}function Bf(i,s,a){return fo&21?(lr(a,s)||(a=Yc(),Lt.lanes|=a,Qs|=a,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,An=!0),i.memoizedState=a)}function up(i,s){var a=at;at=a!==0&&4>a?a:4,i(!0);var p=rc.transition;rc.transition={};try{i(!1),s()}finally{at=a,rc.transition=p}}function cp(){return ar().memoizedState}function uc(i,s,a){var p=_o(i);if(a={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null},ja(i))xi(s,a);else if(a=Gl(i,s,a,p),a!==null){var f=Gn();Hr(a,i,p,f),dp(a,s,p)}}function ap(i,s,a){var p=_o(i),f={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null};if(ja(i))xi(s,f);else{var $=i.alternate;if(i.lanes===0&&($===null||$.lanes===0)&&($=s.lastRenderedReducer,$!==null))try{var b=s.lastRenderedState,x=$(b,a);if(f.hasEagerState=!0,f.eagerState=x,lr(x,b)){var V=s.interleaved;V===null?(f.next=f,Ma(s)):(f.next=V.next,V.next=f),s.interleaved=f;return}}catch{}finally{}a=Gl(i,s,f,p),a!==null&&(f=Gn(),Hr(a,i,p,f),dp(a,s,p))}}function ja(i){var s=i.alternate;return i===Lt||s!==null&&s===Lt}function xi(i,s){Fs=ic=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function dp(i,s,a){if(a&4194240){var p=s.lanes;p&=i.pendingLanes,a|=p,s.lanes=a,qc(i,a)}}var Xo={readContext:gn,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Ff={readContext:gn,useCallback:function(i,s){return Br().memoizedState=[i,s===void 0?null:s],i},useContext:gn,useEffect:$e,useImperativeHandle:function(i,s,a){return a=a!=null?a.concat([i]):null,Vs(4194308,4,ip.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Vs(4194308,4,i,s)},useInsertionEffect:function(i,s){return Vs(4,2,i,s)},useMemo:function(i,s){var a=Br();return s=s===void 0?null:s,i=i(),a.memoizedState=[i,s],i},useReducer:function(i,s,a){var p=Br();return s=a!==void 0?a(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=uc.bind(null,Lt,i),[p.memoizedState,i]},useRef:function(i){var s=Br();return i={current:i},s.memoizedState=i},useState:fe,useDebugValue:Wa,useDeferredValue:function(i){return Br().memoizedState=i},useTransition:function(){var i=fe(!1),s=i[0];return i=up.bind(null,i[1]),Br().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,a){var p=Lt,f=Br();if(Ot){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),yn===null)throw Error(o(349));fo&30||Zh(p,s,a)}f.memoizedState=a;var $={value:a,getSnapshot:s};return f.queue=$,$e(tp.bind(null,p,$,i),[i]),p.flags|=2048,Fr(9,ep.bind(null,p,$,a,s),void 0,null),a},useId:function(){var i=Br(),s=yn.identifierPrefix;if(Ot){var a=ni,p=Li;a=(p&~(1<<32-Dr(p)-1)).toString(32)+a,s=":"+s+"R"+a,a=Us++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=qh++,s=":"+s+"r"+a.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Gs={readContext:gn,useCallback:sp,useContext:gn,useEffect:li,useImperativeHandle:op,useInsertionEffect:Qn,useLayoutEffect:te,useMemo:lp,useReducer:Ha,useRef:Pf,useState:function(){return Ha(Hs)},useDebugValue:Wa,useDeferredValue:function(i){var s=ar();return Bf(s,Kt.memoizedState,i)},useTransition:function(){var i=Ha(Hs)[0],s=ar().memoizedState;return[i,s]},useMutableSource:Qh,useSyncExternalStore:Ga,useId:cp,unstable_isNewReconciler:!1},Uf={readContext:gn,useCallback:sp,useContext:gn,useEffect:li,useImperativeHandle:op,useInsertionEffect:Qn,useLayoutEffect:te,useMemo:lp,useReducer:Va,useRef:Pf,useState:function(){return Va(Hs)},useDebugValue:Wa,useDeferredValue:function(i){var s=ar();return Kt===null?s.memoizedState=i:Bf(s,Kt.memoizedState,i)},useTransition:function(){var i=Va(Hs)[0],s=ar().memoizedState;return[i,s]},useMutableSource:Qh,useSyncExternalStore:Ga,useId:cp,unstable_isNewReconciler:!1};function Zn(i,s){if(i&&i.defaultProps){s=Y({},s),i=i.defaultProps;for(var a in i)s[a]===void 0&&(s[a]=i[a]);return s}return s}function za(i,s,a,p){s=i.memoizedState,a=a(p,s),a=a==null?s:Y({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var an={isMounted:function(i){return(i=i._reactInternals)?Lo(i)===i:!1},enqueueSetState:function(i,s,a){i=i._reactInternals;var p=Gn(),f=_o(i),$=oi(p,f);$.payload=s,a!=null&&($.callback=a),s=Mi(i,$,f),s!==null&&(Hr(s,i,f,p),Wl(s,i,f))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var p=Gn(),f=_o(i),$=oi(p,f);$.tag=1,$.payload=s,a!=null&&($.callback=a),s=Mi(i,$,f),s!==null&&(Hr(s,i,f,p),Wl(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=Gn(),p=_o(i),f=oi(a,p);f.tag=2,s!=null&&(f.callback=s),s=Mi(i,f,p),s!==null&&(Hr(s,i,p,a),Wl(s,i,p))}};function Ws(i,s,a,p,f,$,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,$,b):s.prototype&&s.prototype.isPureReactComponent?!Zr(a,p)||!Zr(f,$):!0}function Ur(i,s,a){var p=!1,f=co,$=s.contextType;return typeof $=="object"&&$!==null?$=gn($):(f=Ln(s)?Ri:Rn.current,p=s.contextTypes,$=(p=p!=null)?Go(i,f):co),s=new s(a,$),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=an,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=$),s}function Xa(i,s,a,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,p),s.state!==i&&an.enqueueReplaceState(s,s.state,null)}function cc(i,s,a,p){var f=i.stateNode;f.props=a,f.state=i.memoizedState,f.refs={},ec(i);var $=s.contextType;typeof $=="object"&&$!==null?f.context=gn($):($=Ln(s)?Ri:Rn.current,f.context=Go(i,$)),f.state=i.memoizedState,$=s.getDerivedStateFromProps,typeof $=="function"&&(za(i,s,$,a),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&an.enqueueReplaceState(f,f.state,null),jl(i,a,f,p),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function ql(i,s){try{var a="",p=s;do a+=Ue(p),p=p.return;while(p);var f=a}catch($){f=`
Error generating stack: `+$.message+`
`+$.stack}return{value:i,source:s,stack:f,digest:null}}function Ka(i,s,a){return{value:i,source:null,stack:a??null,digest:s??null}}function Ql(i,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var js=typeof WeakMap=="function"?WeakMap:Map;function ac(i,s,a){a=oi(-1,a),a.tag=3,a.payload={element:null};var p=s.value;return a.callback=function(){Zs||(Zs=!0,Nn=p),Ql(i,s)},a}function Ko(i,s,a){a=oi(-1,a),a.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var f=s.value;a.payload=function(){return p(f)},a.callback=function(){Ql(i,s)}}var $=i.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(a.callback=function(){Ql(i,s),typeof p!="function"&&(Qo===null?Qo=new Set([this]):Qo.add(this));var b=s.stack;this.componentDidCatch(s.value,{componentStack:b!==null?b:""})}),a}function Ya(i,s,a){var p=i.pingCache;if(p===null){p=i.pingCache=new js;var f=new Set;p.set(s,f)}else f=p.get(s),f===void 0&&(f=new Set,p.set(s,f));f.has(a)||(f.add(a),i=ld.bind(null,i,s,a),s.then(i,i))}function hp(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function pp(i,s,a,p,f){return i.mode&1?(i.flags|=65536,i.lanes=f,i):(i===s?i.flags|=65536:(i.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=oi(-1,1),s.tag=2,Mi(a,s,1))),a.lanes|=1),i)}var Hf=ue.ReactCurrentOwner,An=!1;function En(i,s,a,p){s.child=i===null?Yh(s,null,a,p):jo(s,i.child,a,p)}function Ja(i,s,a,p,f){a=a.render;var $=s.ref;return Bs(s,f),p=sc(i,s,a,p,$,f),a=lc(),i!==null&&!An?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,ci(i,s,f)):(Ot&&a&&Ku(s),s.flags|=1,En(i,s,p,f),s.child)}function fp(i,s,a,p,f){if(i===null){var $=a.type;return typeof $=="function"&&!ns($)&&$.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=$,gp(i,s,$,p,f)):(i=Vi(a.type,null,p,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if($=i.child,!(i.lanes&f)){var b=$.memoizedProps;if(a=a.compare,a=a!==null?a:Zr,a(b,p)&&i.ref===s.ref)return ci(i,s,f)}return s.flags|=1,i=Cr($,p),i.ref=s.ref,i.return=s,s.child=i}function gp(i,s,a,p,f){if(i!==null){var $=i.memoizedProps;if(Zr($,p)&&i.ref===s.ref)if(An=!1,s.pendingProps=p=$,(i.lanes&f)!==0)i.flags&131072&&(An=!0);else return s.lanes=i.lanes,ci(i,s,f)}return qa(i,s,a,p,f)}function mp(i,s,a){var p=s.pendingProps,f=p.children,$=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Jo,Vn),Vn|=a;else{if(!(a&1073741824))return i=$!==null?$.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,wt(Jo,Vn),Vn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=$!==null?$.baseLanes:a,wt(Jo,Vn),Vn|=p}else $!==null?(p=$.baseLanes|a,s.memoizedState=null):p=a,wt(Jo,Vn),Vn|=p;return En(i,s,f,a),s.child}function Vf(i,s){var a=s.ref;(i===null&&a!==null||i!==null&&i.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function qa(i,s,a,p,f){var $=Ln(a)?Ri:Rn.current;return $=Go(s,$),Bs(s,f),a=sc(i,s,a,p,$,f),p=lc(),i!==null&&!An?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,ci(i,s,f)):(Ot&&p&&Ku(s),s.flags|=1,En(i,s,a,f),s.child)}function $p(i,s,a,p,f){if(Ln(a)){var $=!0;zu(s)}else $=!1;if(Bs(s,f),s.stateNode===null)Zl(i,s),Ur(s,a,p),cc(s,a,p,f),p=!0;else if(i===null){var b=s.stateNode,x=s.memoizedProps;b.props=x;var V=b.context,ie=a.contextType;typeof ie=="object"&&ie!==null?ie=gn(ie):(ie=Ln(a)?Ri:Rn.current,ie=Go(s,ie));var Te=a.getDerivedStateFromProps,ye=typeof Te=="function"||typeof b.getSnapshotBeforeUpdate=="function";ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==p||V!==ie)&&Xa(s,b,p,ie),Ni=!1;var _e=s.memoizedState;b.state=_e,jl(s,p,b,f),V=s.memoizedState,x!==p||_e!==V||Un.current||Ni?(typeof Te=="function"&&(za(s,a,Te,p),V=s.memoizedState),(x=Ni||Ws(s,a,x,p,_e,V,ie))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=V),b.props=p,b.state=V,b.context=ie,p=x):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{b=s.stateNode,xa(i,s),x=s.memoizedProps,ie=s.type===s.elementType?x:Zn(s.type,x),b.props=ie,ye=s.pendingProps,_e=b.context,V=a.contextType,typeof V=="object"&&V!==null?V=gn(V):(V=Ln(a)?Ri:Rn.current,V=Go(s,V));var De=a.getDerivedStateFromProps;(Te=typeof De=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(x!==ye||_e!==V)&&Xa(s,b,p,V),Ni=!1,_e=s.memoizedState,b.state=_e,jl(s,p,b,f);var He=s.memoizedState;x!==ye||_e!==He||Un.current||Ni?(typeof De=="function"&&(za(s,a,De,p),He=s.memoizedState),(ie=Ni||Ws(s,a,ie,p,_e,He,V)||!1)?(Te||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,He,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,He,V)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||x===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=He),b.props=p,b.state=He,b.context=V,p=ie):(typeof b.componentDidUpdate!="function"||x===i.memoizedProps&&_e===i.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||x===i.memoizedProps&&_e===i.memoizedState||(s.flags|=1024),p=!1)}return dc(i,s,a,p,$,f)}function dc(i,s,a,p,f,$){Vf(i,s);var b=(s.flags&128)!==0;if(!p&&!b)return f&&We(s,a,!1),ci(i,s,$);p=s.stateNode,Hf.current=s;var x=b&&typeof a.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&b?(s.child=jo(s,i.child,null,$),s.child=jo(s,null,x,$)):En(i,s,x,$),s.memoizedState=p.state,f&&We(s,a,!0),s.child}function hc(i){var s=i.stateNode;s.pendingContext?Wh(i,s.pendingContext,s.pendingContext!==s.context):s.context&&Wh(i,s.context,!1),Fa(i,s.containerInfo)}function _p(i,s,a,p,f){return Di(),Aa(f),s.flags|=256,En(i,s,a,p),s.child}var pc={dehydrated:null,treeContext:null,retryLane:0};function Qa(i){return{baseLanes:i,cachePool:null,transitions:null}}function Gf(i,s,a){var p=s.pendingProps,f=xt.current,$=!1,b=(s.flags&128)!==0,x;if((x=b)||(x=i!==null&&i.memoizedState===null?!1:(f&2)!==0),x?($=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),wt(xt,f&1),i===null)return Ra(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(b=p.children,i=p.fallback,$?(p=s.mode,$=s.child,b={mode:"hidden",children:b},!(p&1)&&$!==null?($.childLanes=0,$.pendingProps=b):$=pi(b,p,0,null),i=Eo(i,p,a,null),$.return=s,i.return=s,$.sibling=i,s.child=$,s.child.memoizedState=Qa(a),s.memoizedState=pc,i):Za(s,b));if(f=i.memoizedState,f!==null&&(x=f.dehydrated,x!==null))return go(i,s,b,p,x,f,a);if($){$=p.fallback,b=s.mode,f=i.child,x=f.sibling;var V={mode:"hidden",children:p.children};return!(b&1)&&s.child!==f?(p=s.child,p.childLanes=0,p.pendingProps=V,s.deletions=null):(p=Cr(f,V),p.subtreeFlags=f.subtreeFlags&14680064),x!==null?$=Cr(x,$):($=Eo($,b,a,null),$.flags|=2),$.return=s,p.return=s,p.sibling=$,s.child=p,p=$,$=s.child,b=i.child.memoizedState,b=b===null?Qa(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},$.memoizedState=b,$.childLanes=i.childLanes&~a,s.memoizedState=pc,p}return $=i.child,i=$.sibling,p=Cr($,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=a),p.return=s,p.sibling=null,i!==null&&(a=s.deletions,a===null?(s.deletions=[i],s.flags|=16):a.push(i)),s.child=p,s.memoizedState=null,p}function Za(i,s){return s=pi({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function fc(i,s,a,p){return p!==null&&Aa(p),jo(s,i.child,null,a),i=Za(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function go(i,s,a,p,f,$,b){if(a)return s.flags&256?(s.flags&=-257,p=Ka(Error(o(422))),fc(i,s,b,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):($=p.fallback,f=s.mode,p=pi({mode:"visible",children:p.children},f,0,null),$=Eo($,f,b,null),$.flags|=2,p.return=s,$.return=s,p.sibling=$,s.child=p,s.mode&1&&jo(s,i.child,null,b),s.child.memoizedState=Qa(b),s.memoizedState=pc,$);if(!(s.mode&1))return fc(i,s,b,null);if(f.data==="$!"){if(p=f.nextSibling&&f.nextSibling.dataset,p)var x=p.dgst;return p=x,$=Error(o(419)),p=Ka($,p,void 0),fc(i,s,b,p)}if(x=(b&i.childLanes)!==0,An||x){if(p=yn,p!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(p.suspendedLanes|b)?0:f,f!==0&&f!==$.retryLane&&($.retryLane=f,ii(i,f),Hr(p,i,f,-1))}return rl(),p=Ka(Error(o(421))),fc(i,s,b,p)}return f.data==="$?"?(s.flags|=128,s.child=i.child,s=Kf.bind(null,i),f._reactRetry=s,null):(i=$.treeContext,ur=uo(f.nextSibling),qn=s,Ot=!0,Pr=null,i!==null&&(Yn[Jn++]=Li,Yn[Jn++]=ni,Yn[Jn++]=ao,Li=i.id,ni=i.overflow,ao=s),s=Za(s,p.children),s.flags|=4096,s)}function Tp(i,s,a){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),cr(i.return,s,a)}function ui(i,s,a,p,f){var $=i.memoizedState;$===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:a,tailMode:f}:($.isBackwards=s,$.rendering=null,$.renderingStartTime=0,$.last=p,$.tail=a,$.tailMode=f)}function At(i,s,a){var p=s.pendingProps,f=p.revealOrder,$=p.tail;if(En(i,s,p.children,a),p=xt.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Tp(i,a,s);else if(i.tag===19)Tp(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(wt(xt,p),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)i=a.alternate,i!==null&&Yl(i)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),ui(s,!1,f,a,$);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Yl(i)===null){s.child=f;break}i=f.sibling,f.sibling=a,a=f,f=i}ui(s,!0,a,null,$);break;case"together":ui(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zl(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ci(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Qs|=s.lanes,!(a&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,a=Cr(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Cr(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function Ep(i,s,a){switch(s.tag){case 3:hc(s),Di();break;case 5:Jh(s);break;case 1:Ln(s.type)&&zu(s);break;case 4:Fa(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,f=s.memoizedProps.value;wt(qu,p._currentValue),p._currentValue=f;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(wt(xt,xt.current&1),s.flags|=128,null):a&s.child.childLanes?Gf(i,s,a):(wt(xt,xt.current&1),i=ci(i,s,a),i!==null?i.sibling:null);wt(xt,xt.current&1);break;case 19:if(p=(a&s.childLanes)!==0,i.flags&128){if(p)return At(i,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),wt(xt,xt.current),p)break;return null;case 22:case 23:return s.lanes=0,mp(i,s,a)}return ci(i,s,a)}var be,zs,ai,dr;be=function(i,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},zs=function(){},ai=function(i,s,a,p){var f=i.memoizedProps;if(f!==p){i=s.stateNode,zo(si.current);var $=null;switch(a){case"input":f=Zi(i,f),p=Zi(i,p),$=[];break;case"select":f=Y({},f,{value:void 0}),p=Y({},p,{value:void 0}),$=[];break;case"textarea":f=it(i,f),p=it(i,p),$=[];break;default:typeof f.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=xl)}we(a,p);var b;a=null;for(ie in f)if(!p.hasOwnProperty(ie)&&f.hasOwnProperty(ie)&&f[ie]!=null)if(ie==="style"){var x=f[ie];for(b in x)x.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(h.hasOwnProperty(ie)?$||($=[]):($=$||[]).push(ie,null));for(ie in p){var V=p[ie];if(x=f!=null?f[ie]:void 0,p.hasOwnProperty(ie)&&V!==x&&(V!=null||x!=null))if(ie==="style")if(x){for(b in x)!x.hasOwnProperty(b)||V&&V.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in V)V.hasOwnProperty(b)&&x[b]!==V[b]&&(a||(a={}),a[b]=V[b])}else a||($||($=[]),$.push(ie,a)),a=V;else ie==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,x=x?x.__html:void 0,V!=null&&x!==V&&($=$||[]).push(ie,V)):ie==="children"?typeof V!="string"&&typeof V!="number"||($=$||[]).push(ie,""+V):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(h.hasOwnProperty(ie)?(V!=null&&ie==="onScroll"&&Rt("scroll",i),$||x===V||($=[])):($=$||[]).push(ie,V))}a&&($=$||[]).push("style",a);var ie=$;(s.updateQueue=ie)&&(s.flags|=4)}},dr=function(i,s,a,p){a!==p&&(s.flags|=4)};function br(i,s){if(!Ot)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Dt(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,p=0;if(s)for(var f=i.child;f!==null;)a|=f.lanes|f.childLanes,p|=f.subtreeFlags&14680064,p|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)a|=f.lanes|f.childLanes,p|=f.subtreeFlags,p|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=p,i.childLanes=a,s}function bp(i,s,a){var p=s.pendingProps;switch(ka(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(s),null;case 1:return Ln(s.type)&&ju(),Dt(s),null;case 3:return p=s.stateNode,po(),vt(Un),vt(Rn),nc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Yu(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Pr!==null&&(od(Pr),Pr=null))),zs(i,s),Dt(s),null;case 5:Ua(s);var f=zo(Kl.current);if(a=s.type,i!==null&&s.stateNode!=null)ai(i,s,a,p,f),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(o(166));return Dt(s),null}if(i=zo(si.current),Yu(s)){p=s.stateNode,a=s.type;var $=s.memoizedProps;switch(p[$r]=s,p[Ms]=$,i=(s.mode&1)!==0,a){case"dialog":Rt("cancel",p),Rt("close",p);break;case"iframe":case"object":case"embed":Rt("load",p);break;case"video":case"audio":for(f=0;f<Ds.length;f++)Rt(Ds[f],p);break;case"source":Rt("error",p);break;case"img":case"image":case"link":Rt("error",p),Rt("load",p);break;case"details":Rt("toggle",p);break;case"input":wn(p,$),Rt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!$.multiple},Rt("invalid",p);break;case"textarea":Yr(p,$),Rt("invalid",p)}we(a,$),f=null;for(var b in $)if($.hasOwnProperty(b)){var x=$[b];b==="children"?typeof x=="string"?p.textContent!==x&&($.suppressHydrationWarning!==!0&&ki(p.textContent,x,i),f=["children",x]):typeof x=="number"&&p.textContent!==""+x&&($.suppressHydrationWarning!==!0&&ki(p.textContent,x,i),f=["children",""+x]):h.hasOwnProperty(b)&&x!=null&&b==="onScroll"&&Rt("scroll",p)}switch(a){case"input":Ct(p),pr(p,$,!0);break;case"textarea":Ct(p),$n(p);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(p.onclick=xl)}p=f,s.updateQueue=p,p!==null&&(s.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Lr(a)),i==="http://www.w3.org/1999/xhtml"?a==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=b.createElement(a,{is:p.is}):(i=b.createElement(a),a==="select"&&(b=i,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):i=b.createElementNS(i,a),i[$r]=s,i[Ms]=p,be(i,s,!1,!1),s.stateNode=i;e:{switch(b=_t(a,p),a){case"dialog":Rt("cancel",i),Rt("close",i),f=p;break;case"iframe":case"object":case"embed":Rt("load",i),f=p;break;case"video":case"audio":for(f=0;f<Ds.length;f++)Rt(Ds[f],i);f=p;break;case"source":Rt("error",i),f=p;break;case"img":case"image":case"link":Rt("error",i),Rt("load",i),f=p;break;case"details":Rt("toggle",i),f=p;break;case"input":wn(i,p),f=Zi(i,p),Rt("invalid",i);break;case"option":f=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},f=Y({},p,{value:void 0}),Rt("invalid",i);break;case"textarea":Yr(i,p),f=it(i,p),Rt("invalid",i);break;default:f=p}we(a,f),x=f;for($ in x)if(x.hasOwnProperty($)){var V=x[$];$==="style"?W(i,V):$==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Oo(i,V)):$==="children"?typeof V=="string"?(a!=="textarea"||V!=="")&&le(i,V):typeof V=="number"&&le(i,""+V):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(h.hasOwnProperty($)?V!=null&&$==="onScroll"&&Rt("scroll",i):V!=null&&ne(i,$,V,b))}switch(a){case"input":Ct(i),pr(i,p,!1);break;case"textarea":Ct(i),$n(i);break;case"option":p.value!=null&&i.setAttribute("value",""+qe(p.value));break;case"select":i.multiple=!!p.multiple,$=p.value,$!=null?st(i,!!p.multiple,$,!1):p.defaultValue!=null&&st(i,!!p.multiple,p.defaultValue,!0);break;default:typeof f.onClick=="function"&&(i.onclick=xl)}switch(a){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Dt(s),null;case 6:if(i&&s.stateNode!=null)dr(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(o(166));if(a=zo(Kl.current),zo(si.current),Yu(s)){if(p=s.stateNode,a=s.memoizedProps,p[$r]=s,($=p.nodeValue!==a)&&(i=qn,i!==null))switch(i.tag){case 3:ki(p.nodeValue,a,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ki(p.nodeValue,a,(i.mode&1)!==0)}$&&(s.flags|=4)}else p=(a.nodeType===9?a:a.ownerDocument).createTextNode(p),p[$r]=s,s.stateNode=p}return Dt(s),null;case 13:if(vt(xt),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ot&&ur!==null&&s.mode&1&&!(s.flags&128))Ul(),Di(),s.flags|=98560,$=!1;else if($=Yu(s),p!==null&&p.dehydrated!==null){if(i===null){if(!$)throw Error(o(318));if($=s.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(o(317));$[$r]=s}else Di(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Dt(s),$=!1}else Pr!==null&&(od(Pr),Pr=null),$=!0;if(!$)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||xt.current&1?nn===0&&(nn=3):rl())),s.updateQueue!==null&&(s.flags|=4),Dt(s),null);case 4:return po(),zs(i,s),i===null&&lo(s.stateNode.containerInfo),Dt(s),null;case 10:return Vl(s.type._context),Dt(s),null;case 17:return Ln(s.type)&&ju(),Dt(s),null;case 19:if(vt(xt),$=s.memoizedState,$===null)return Dt(s),null;if(p=(s.flags&128)!==0,b=$.rendering,b===null)if(p)br($,!1);else{if(nn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(b=Yl(i),b!==null){for(s.flags|=128,br($,!1),p=b.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=a,a=s.child;a!==null;)$=a,i=p,$.flags&=14680066,b=$.alternate,b===null?($.childLanes=0,$.lanes=i,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=b.childLanes,$.lanes=b.lanes,$.child=b.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=b.memoizedProps,$.memoizedState=b.memoizedState,$.updateQueue=b.updateQueue,$.type=b.type,i=b.dependencies,$.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a=a.sibling;return wt(xt,xt.current&1|2),s.child}i=i.sibling}$.tail!==null&&zt()>qo&&(s.flags|=128,p=!0,br($,!1),s.lanes=4194304)}else{if(!p)if(i=Yl(b),i!==null){if(s.flags|=128,p=!0,a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),br($,!0),$.tail===null&&$.tailMode==="hidden"&&!b.alternate&&!Ot)return Dt(s),null}else 2*zt()-$.renderingStartTime>qo&&a!==1073741824&&(s.flags|=128,p=!0,br($,!1),s.lanes=4194304);$.isBackwards?(b.sibling=s.child,s.child=b):(a=$.last,a!==null?a.sibling=b:s.child=b,$.last=b)}return $.tail!==null?(s=$.tail,$.rendering=s,$.tail=s.sibling,$.renderingStartTime=zt(),s.sibling=null,a=xt.current,wt(xt,p?a&1|2:a&1),s):(Dt(s),null);case 22:case 23:return sd(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?Vn&1073741824&&(Dt(s),s.subtreeFlags&6&&(s.flags|=8192)):Dt(s),null;case 24:return null;case 25:return null}throw Error(o(156,s.tag))}function ed(i,s){switch(ka(s),s.tag){case 1:return Ln(s.type)&&ju(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return po(),vt(Un),vt(Rn),nc(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Ua(s),null;case 13:if(vt(xt),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Di()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return vt(xt),null;case 4:return po(),null;case 10:return Vl(s.type._context),null;case 22:case 23:return sd(),null;case 24:return null;default:return null}}var ln=!1,K=!1,ft=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Xs(i,s){var a=i.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(p){Pt(i,s,p)}else a.current=null}function Pi(i,s,a){try{a()}catch(p){Pt(i,s,p)}}var yp=!1;function Wf(i,s){if(ba=Su,i=Xt(),pa(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var p=a.getSelection&&a.getSelection();if(p&&p.rangeCount!==0){a=p.anchorNode;var f=p.anchorOffset,$=p.focusNode;p=p.focusOffset;try{a.nodeType,$.nodeType}catch{a=null;break e}var b=0,x=-1,V=-1,ie=0,Te=0,ye=i,_e=null;t:for(;;){for(var De;ye!==a||f!==0&&ye.nodeType!==3||(x=b+f),ye!==$||p!==0&&ye.nodeType!==3||(V=b+p),ye.nodeType===3&&(b+=ye.nodeValue.length),(De=ye.firstChild)!==null;)_e=ye,ye=De;for(;;){if(ye===i)break t;if(_e===a&&++ie===f&&(x=b),_e===$&&++Te===p&&(V=b),(De=ye.nextSibling)!==null)break;ye=_e,_e=ye.parentNode}ye=De}a=x===-1||V===-1?null:{start:x,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(ya={focusedElem:i,selectionRange:a},Su=!1,Ee=s;Ee!==null;)if(s=Ee,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ee=i;else for(;Ee!==null;){s=Ee;try{var He=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(He!==null){var je=He.memoizedProps,Wt=He.memoizedState,q=s.stateNode,U=q.getSnapshotBeforeUpdate(s.elementType===s.type?je:Zn(s.type,je),Wt);q.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var Z=s.stateNode.containerInfo;Z.nodeType===1?Z.textContent="":Z.nodeType===9&&Z.documentElement&&Z.removeChild(Z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){Pt(s,s.return,Ce)}if(i=s.sibling,i!==null){i.return=s.return,Ee=i;break}Ee=s.return}return He=yp,yp=!1,He}function gc(i,s,a){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var f=p=p.next;do{if((f.tag&i)===i){var $=f.destroy;f.destroy=void 0,$!==void 0&&Pi(s,a,$)}f=f.next}while(f!==p)}}function Bi(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&i)===i){var p=a.create;a.destroy=p()}a=a.next}while(a!==s)}}function Vt(i){var s=i.ref;if(s!==null){var a=i.stateNode;switch(i.tag){case 5:i=a;break;default:i=a}typeof s=="function"?s(i):s.current=i}}function mc(i){var s=i.alternate;s!==null&&(i.alternate=null,mc(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[$r],delete s[Ms],delete s[Gu],delete s[Gh],delete s[Bl])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function td(i){return i.tag===5||i.tag===3||i.tag===4}function $c(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||td(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ks(i,s,a){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(i,s):a.insertBefore(i,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(i,a)):(s=a,s.appendChild(i)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=xl));else if(p!==4&&(i=i.child,i!==null))for(Ks(i,s,a),i=i.sibling;i!==null;)Ks(i,s,a),i=i.sibling}function Ys(i,s,a){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Ys(i,s,a),i=i.sibling;i!==null;)Ys(i,s,a),i=i.sibling}var bn=null,di=!1;function yr(i,s,a){for(a=a.child;a!==null;)nd(i,s,a),a=a.sibling}function nd(i,s,a){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(Do,a)}catch{}switch(a.tag){case 5:K||Xs(a,s);case 6:var p=bn,f=di;bn=null,yr(i,s,a),bn=p,di=f,bn!==null&&(di?(i=bn,a=a.stateNode,i.nodeType===8?i.parentNode.removeChild(a):i.removeChild(a)):bn.removeChild(a.stateNode));break;case 18:bn!==null&&(di?(i=bn,a=a.stateNode,i.nodeType===8?Pl(i.parentNode,a):i.nodeType===1&&Pl(i,a),Cl(i)):Pl(bn,a.stateNode));break;case 4:p=bn,f=di,bn=a.stateNode.containerInfo,di=!0,yr(i,s,a),bn=p,di=f;break;case 0:case 11:case 14:case 15:if(!K&&(p=a.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){f=p=p.next;do{var $=f,b=$.destroy;$=$.tag,b!==void 0&&($&2||$&4)&&Pi(a,s,b),f=f.next}while(f!==p)}yr(i,s,a);break;case 1:if(!K&&(Xs(a,s),p=a.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=a.memoizedProps,p.state=a.memoizedState,p.componentWillUnmount()}catch(x){Pt(a,s,x)}yr(i,s,a);break;case 21:yr(i,s,a);break;case 22:a.mode&1?(K=(p=K)||a.memoizedState!==null,yr(i,s,a),K=p):yr(i,s,a);break;default:yr(i,s,a)}}function vp(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var a=i.stateNode;a===null&&(a=i.stateNode=new ft),s.forEach(function(p){var f=kp.bind(null,i,p);a.has(p)||(a.add(p),p.then(f,f))})}}function Ke(i,s){var a=s.deletions;if(a!==null)for(var p=0;p<a.length;p++){var f=a[p];try{var $=i,b=s,x=b;e:for(;x!==null;){switch(x.tag){case 5:bn=x.stateNode,di=!1;break e;case 3:bn=x.stateNode.containerInfo,di=!0;break e;case 4:bn=x.stateNode.containerInfo,di=!0;break e}x=x.return}if(bn===null)throw Error(o(160));nd($,b,f),bn=null,di=!1;var V=f.alternate;V!==null&&(V.return=null),f.return=null}catch(ie){Pt(f,s,ie)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Sp(s,i),s=s.sibling}function Sp(i,s){var a=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ke(s,i),Dn(i),p&4){try{gc(3,i,i.return),Bi(3,i)}catch(je){Pt(i,i.return,je)}try{gc(5,i,i.return)}catch(je){Pt(i,i.return,je)}}break;case 1:Ke(s,i),Dn(i),p&512&&a!==null&&Xs(a,a.return);break;case 5:if(Ke(s,i),Dn(i),p&512&&a!==null&&Xs(a,a.return),i.flags&32){var f=i.stateNode;try{le(f,"")}catch(je){Pt(i,i.return,je)}}if(p&4&&(f=i.stateNode,f!=null)){var $=i.memoizedProps,b=a!==null?a.memoizedProps:$,x=i.type,V=i.updateQueue;if(i.updateQueue=null,V!==null)try{x==="input"&&$.type==="radio"&&$.name!=null&&Qt(f,$),_t(x,b);var ie=_t(x,$);for(b=0;b<V.length;b+=2){var Te=V[b],ye=V[b+1];Te==="style"?W(f,ye):Te==="dangerouslySetInnerHTML"?Oo(f,ye):Te==="children"?le(f,ye):ne(f,Te,ye,ie)}switch(x){case"input":Kr(f,$);break;case"textarea":kn(f,$);break;case"select":var _e=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!$.multiple;var De=$.value;De!=null?st(f,!!$.multiple,De,!1):_e!==!!$.multiple&&($.defaultValue!=null?st(f,!!$.multiple,$.defaultValue,!0):st(f,!!$.multiple,$.multiple?[]:"",!1))}f[Ms]=$}catch(je){Pt(i,i.return,je)}}break;case 6:if(Ke(s,i),Dn(i),p&4){if(i.stateNode===null)throw Error(o(162));f=i.stateNode,$=i.memoizedProps;try{f.nodeValue=$}catch(je){Pt(i,i.return,je)}}break;case 3:if(Ke(s,i),Dn(i),p&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(s.containerInfo)}catch(je){Pt(i,i.return,je)}break;case 4:Ke(s,i),Dn(i);break;case 13:Ke(s,i),Dn(i),f=i.child,f.flags&8192&&($=f.memoizedState!==null,f.stateNode.isHidden=$,!$||f.alternate!==null&&f.alternate.memoizedState!==null||(Tc=zt())),p&4&&vp(i);break;case 22:if(Te=a!==null&&a.memoizedState!==null,i.mode&1?(K=(ie=K)||Te,Ke(s,i),K=ie):Ke(s,i),Dn(i),p&8192){if(ie=i.memoizedState!==null,(i.stateNode.isHidden=ie)&&!Te&&i.mode&1)for(Ee=i,Te=i.child;Te!==null;){for(ye=Ee=Te;Ee!==null;){switch(_e=Ee,De=_e.child,_e.tag){case 0:case 11:case 14:case 15:gc(4,_e,_e.return);break;case 1:Xs(_e,_e.return);var He=_e.stateNode;if(typeof He.componentWillUnmount=="function"){p=_e,a=_e.return;try{s=p,He.props=s.memoizedProps,He.state=s.memoizedState,He.componentWillUnmount()}catch(je){Pt(p,a,je)}}break;case 5:Xs(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Yo(ye);continue}}De!==null?(De.return=_e,Ee=De):Yo(ye)}Te=Te.sibling}e:for(Te=null,ye=i;;){if(ye.tag===5){if(Te===null){Te=ye;try{f=ye.stateNode,ie?($=f.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(x=ye.stateNode,V=ye.memoizedProps.style,b=V!=null&&V.hasOwnProperty("display")?V.display:null,x.style.display=S("display",b))}catch(je){Pt(i,i.return,je)}}}else if(ye.tag===6){if(Te===null)try{ye.stateNode.nodeValue=ie?"":ye.memoizedProps}catch(je){Pt(i,i.return,je)}}else if((ye.tag!==22&&ye.tag!==23||ye.memoizedState===null||ye===i)&&ye.child!==null){ye.child.return=ye,ye=ye.child;continue}if(ye===i)break e;for(;ye.sibling===null;){if(ye.return===null||ye.return===i)break e;Te===ye&&(Te=null),ye=ye.return}Te===ye&&(Te=null),ye.sibling.return=ye.return,ye=ye.sibling}}break;case 19:Ke(s,i),Dn(i),p&4&&vp(i);break;case 21:break;default:Ke(s,i),Dn(i)}}function Dn(i){var s=i.flags;if(s&2){try{e:{for(var a=i.return;a!==null;){if(td(a)){var p=a;break e}a=a.return}throw Error(o(160))}switch(p.tag){case 5:var f=p.stateNode;p.flags&32&&(le(f,""),p.flags&=-33);var $=$c(i);Ys(i,$,f);break;case 3:case 4:var b=p.stateNode.containerInfo,x=$c(i);Ks(i,x,b);break;default:throw Error(o(161))}}catch(V){Pt(i,i.return,V)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function mo(i,s,a){Ee=i,Js(i)}function Js(i,s,a){for(var p=(i.mode&1)!==0;Ee!==null;){var f=Ee,$=f.child;if(f.tag===22&&p){var b=f.memoizedState!==null||ln;if(!b){var x=f.alternate,V=x!==null&&x.memoizedState!==null||K;x=ln;var ie=K;if(ln=b,(K=V)&&!ie)for(Ee=f;Ee!==null;)b=Ee,V=b.child,b.tag===22&&b.memoizedState!==null?Hn(f):V!==null?(V.return=b,Ee=V):Hn(f);for(;$!==null;)Ee=$,Js($),$=$.sibling;Ee=f,ln=x,K=ie}$o(i)}else f.subtreeFlags&8772&&$!==null?($.return=f,Ee=$):$o(i)}}function $o(i){for(;Ee!==null;){var s=Ee;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:K||Bi(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!K)if(a===null)p.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Zn(s.type,a.memoizedProps);p.componentDidUpdate(f,a.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var $=s.updateQueue;$!==null&&Ba(s,$,p);break;case 3:var b=s.updateQueue;if(b!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Ba(s,b,a)}break;case 5:var x=s.stateNode;if(a===null&&s.flags&4){a=x;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&a.focus();break;case"img":V.src&&(a.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ie=s.alternate;if(ie!==null){var Te=ie.memoizedState;if(Te!==null){var ye=Te.dehydrated;ye!==null&&Cl(ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}K||s.flags&512&&Vt(s)}catch(_e){Pt(s,s.return,_e)}}if(s===i){Ee=null;break}if(a=s.sibling,a!==null){a.return=s.return,Ee=a;break}Ee=s.return}}function Yo(i){for(;Ee!==null;){var s=Ee;if(s===i){Ee=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Ee=a;break}Ee=s.return}}function Hn(i){for(;Ee!==null;){var s=Ee;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Bi(4,s)}catch(V){Pt(s,a,V)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var f=s.return;try{p.componentDidMount()}catch(V){Pt(s,f,V)}}var $=s.return;try{Vt(s)}catch(V){Pt(s,$,V)}break;case 5:var b=s.return;try{Vt(s)}catch(V){Pt(s,b,V)}}}catch(V){Pt(s,s.return,V)}if(s===i){Ee=null;break}var x=s.sibling;if(x!==null){x.return=s.return,Ee=x;break}Ee=s.return}}var jf=Math.ceil,_c=ue.ReactCurrentDispatcher,rd=ue.ReactCurrentOwner,vr=ue.ReactCurrentBatchConfig,lt=0,yn=null,tn=null,vn=0,Vn=0,Jo=Oi(0),nn=0,qs=null,Qs=0,id=0,Sr=0,Yt=null,Sn=null,Tc=0,qo=1/0,Ir=null,Zs=!1,Nn=null,Qo=null,el=!1,Fi=null,eu=0,Ui=0,Ec=null,bc=-1,tl=0;function Gn(){return lt&6?zt():bc!==-1?bc:bc=zt()}function _o(i){return i.mode&1?lt&2&&vn!==0?vn&-vn:Kh.transition!==null?(tl===0&&(tl=Yc()),tl):(i=at,i!==0||(i=window.event,i=i===void 0?16:Si(i.type)),i):1}function Hr(i,s,a,p){if(50<Ui)throw Ui=0,Ec=null,Error(o(185));Ts(i,a,p),(!(lt&2)||i!==yn)&&(i===yn&&(!(lt&2)&&(id|=a),nn===4&&Hi(i,vn)),er(i,p),a===1&&lt===0&&!(s.mode&1)&&(qo=zt()+500,en&&Ae()))}function er(i,s){var a=i.callbackNode;qd(i,s);var p=Nr(i,i===yn?vn:0);if(p===0)a!==null&&Yd(a),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(a!=null&&Yd(a),s===1)i.tag===0?Fl(tu.bind(null,i)):ei(tu.bind(null,i)),Mf(function(){!(lt&6)&&Ae()}),a=null;else{switch(Qd(p)){case 1:a=yl;break;case 4:a=Eu;break;case 16:a=Ao;break;case 536870912:a=_s;break;default:a=Ao}a=ud(a,Zo.bind(null,i))}i.callbackPriority=s,i.callbackNode=a}}function Zo(i,s){if(bc=-1,tl=0,lt&6)throw Error(o(327));var a=i.callbackNode;if(Vr()&&i.callbackNode!==a)return null;var p=Nr(i,i===yn?vn:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=Ic(i,p);else{s=p;var f=lt;lt|=2;var $=Ip();(yn!==i||vn!==s)&&(Ir=null,qo=zt()+500,rn(i,s));do try{Xf();break}catch(x){nl(i,x)}while(!0);Na(),_c.current=$,lt=f,tn!==null?s=0:(yn=null,vn=0,s=nn)}if(s!==0){if(s===2&&(f=Sl(i),f!==0&&(p=f,s=yc(i,f))),s===1)throw a=qs,rn(i,0),Hi(i,p),er(i,zt()),a;if(s===6)Hi(i,p);else{if(f=i.current.alternate,!(p&30)&&!vc(f)&&(s=Ic(i,p),s===2&&($=Sl(i),$!==0&&(p=$,s=yc(i,$))),s===1))throw a=qs,rn(i,0),Hi(i,p),er(i,zt()),a;switch(i.finishedWork=f,i.finishedLanes=p,s){case 0:case 1:throw Error(o(345));case 2:hi(i,Sn,Ir);break;case 3:if(Hi(i,p),(p&130023424)===p&&(s=Tc+500-zt(),10<s)){if(Nr(i,0)!==0)break;if(f=i.suspendedLanes,(f&p)!==p){Gn(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=Sa(hi.bind(null,i,Sn,Ir),s);break}hi(i,Sn,Ir);break;case 4:if(Hi(i,p),(p&4194240)===p)break;for(s=i.eventTimes,f=-1;0<p;){var b=31-Dr(p);$=1<<b,b=s[b],b>f&&(f=b),p&=~$}if(p=f,p=zt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*jf(p/1960))-p,10<p){i.timeoutHandle=Sa(hi.bind(null,i,Sn,Ir),p);break}hi(i,Sn,Ir);break;case 5:hi(i,Sn,Ir);break;default:throw Error(o(329))}}}return er(i,zt()),i.callbackNode===a?Zo.bind(null,i):null}function yc(i,s){var a=Yt;return i.current.memoizedState.isDehydrated&&(rn(i,s).flags|=256),i=Ic(i,s),i!==2&&(s=Sn,Sn=a,s!==null&&od(s)),i}function od(i){Sn===null?Sn=i:Sn.push.apply(Sn,i)}function vc(i){for(var s=i;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var p=0;p<a.length;p++){var f=a[p],$=f.getSnapshot;f=f.value;try{if(!lr($(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hi(i,s){for(s&=~Sr,s&=~id,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var a=31-Dr(s),p=1<<a;i[a]=-1,s&=~p}}function tu(i){if(lt&6)throw Error(o(327));Vr();var s=Nr(i,0);if(!(s&1))return er(i,zt()),null;var a=Ic(i,s);if(i.tag!==0&&a===2){var p=Sl(i);p!==0&&(s=p,a=yc(i,p))}if(a===1)throw a=qs,rn(i,0),Hi(i,s),er(i,zt()),a;if(a===6)throw Error(o(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,hi(i,Sn,Ir),er(i,zt()),null}function Sc(i,s){var a=lt;lt|=1;try{return i(s)}finally{lt=a,lt===0&&(qo=zt()+500,en&&Ae())}}function To(i){Fi!==null&&Fi.tag===0&&!(lt&6)&&Vr();var s=lt;lt|=1;var a=vr.transition,p=at;try{if(vr.transition=null,at=1,i)return i()}finally{at=p,vr.transition=a,lt=s,!(lt&6)&&Ae()}}function sd(){Vn=Jo.current,vt(Jo)}function rn(i,s){i.finishedWork=null,i.finishedLanes=0;var a=i.timeoutHandle;if(a!==-1&&(i.timeoutHandle=-1,Nf(a)),tn!==null)for(a=tn.return;a!==null;){var p=a;switch(ka(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&ju();break;case 3:po(),vt(Un),vt(Rn),nc();break;case 5:Ua(p);break;case 4:po();break;case 13:vt(xt);break;case 19:vt(xt);break;case 10:Vl(p.type._context);break;case 22:case 23:sd()}a=a.return}if(yn=i,tn=i=Cr(i.current,null),vn=Vn=s,nn=0,qs=null,Sr=id=Qs=0,Sn=Yt=null,ho!==null){for(s=0;s<ho.length;s++)if(a=ho[s],p=a.interleaved,p!==null){a.interleaved=null;var f=p.next,$=a.pending;if($!==null){var b=$.next;$.next=f,p.next=b}a.pending=p}ho=null}return i}function nl(i,s){do{var a=tn;try{if(Na(),Jl.current=Xo,ic){for(var p=Lt.memoizedState;p!==null;){var f=p.queue;f!==null&&(f.pending=null),p=p.next}ic=!1}if(fo=0,cn=Kt=Lt=null,Fs=!1,Us=0,rd.current=null,a===null||a.return===null){nn=1,qs=s,tn=null;break}e:{var $=i,b=a.return,x=a,V=s;if(s=vn,x.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var ie=V,Te=x,ye=Te.tag;if(!(Te.mode&1)&&(ye===0||ye===11||ye===15)){var _e=Te.alternate;_e?(Te.updateQueue=_e.updateQueue,Te.memoizedState=_e.memoizedState,Te.lanes=_e.lanes):(Te.updateQueue=null,Te.memoizedState=null)}var De=hp(b);if(De!==null){De.flags&=-257,pp(De,b,x,$,s),De.mode&1&&Ya($,ie,s),s=De,V=ie;var He=s.updateQueue;if(He===null){var je=new Set;je.add(V),s.updateQueue=je}else He.add(V);break e}else{if(!(s&1)){Ya($,ie,s),rl();break e}V=Error(o(426))}}else if(Ot&&x.mode&1){var Wt=hp(b);if(Wt!==null){!(Wt.flags&65536)&&(Wt.flags|=256),pp(Wt,b,x,$,s),Aa(ql(V,x));break e}}$=V=ql(V,x),nn!==4&&(nn=2),Yt===null?Yt=[$]:Yt.push($),$=b;do{switch($.tag){case 3:$.flags|=65536,s&=-s,$.lanes|=s;var q=ac($,V,s);Pa($,q);break e;case 1:x=V;var U=$.type,Z=$.stateNode;if(!($.flags&128)&&(typeof U.getDerivedStateFromError=="function"||Z!==null&&typeof Z.componentDidCatch=="function"&&(Qo===null||!Qo.has(Z)))){$.flags|=65536,s&=-s,$.lanes|=s;var Ce=Ko($,x,s);Pa($,Ce);break e}}$=$.return}while($!==null)}Cp(a)}catch(Xe){s=Xe,tn===a&&a!==null&&(tn=a=a.return);continue}break}while(!0)}function Ip(){var i=_c.current;return _c.current=Xo,i===null?Xo:i}function rl(){(nn===0||nn===3||nn===2)&&(nn=4),yn===null||!(Qs&268435455)&&!(id&268435455)||Hi(yn,vn)}function Ic(i,s){var a=lt;lt|=2;var p=Ip();(yn!==i||vn!==s)&&(Ir=null,rn(i,s));do try{zf();break}catch(f){nl(i,f)}while(!0);if(Na(),lt=a,_c.current=p,tn!==null)throw Error(o(261));return yn=null,vn=0,nn}function zf(){for(;tn!==null;)es(tn)}function Xf(){for(;tn!==null&&!Xc();)es(tn)}function es(i){var s=Cc(i.alternate,i,Vn);i.memoizedProps=i.pendingProps,s===null?Cp(i):tn=s,rd.current=null}function Cp(i){var s=i;do{var a=s.alternate;if(i=s.return,s.flags&32768){if(a=ed(a,s),a!==null){a.flags&=32767,tn=a;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{nn=6,tn=null;return}}else if(a=bp(a,s,Vn),a!==null){tn=a;return}if(s=s.sibling,s!==null){tn=s;return}tn=s=i}while(s!==null);nn===0&&(nn=5)}function hi(i,s,a){var p=at,f=vr.transition;try{vr.transition=null,at=1,dn(i,s,a,p)}finally{vr.transition=f,at=p}return null}function dn(i,s,a,p){do Vr();while(Fi!==null);if(lt&6)throw Error(o(327));a=i.finishedWork;var f=i.finishedLanes;if(a===null)return null;if(i.finishedWork=null,i.finishedLanes=0,a===i.current)throw Error(o(177));i.callbackNode=null,i.callbackPriority=0;var $=a.lanes|a.childLanes;if(bu(i,$),i===yn&&(tn=yn=null,vn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||el||(el=!0,ud(Ao,function(){return Vr(),null})),$=(a.flags&15990)!==0,a.subtreeFlags&15990||$){$=vr.transition,vr.transition=null;var b=at;at=1;var x=lt;lt|=4,rd.current=null,Wf(i,a),Sp(a,i),Al(ya),Su=!!ba,ya=ba=null,i.current=a,mo(a),Jd(),lt=x,at=b,vr.transition=$}else i.current=a;if(el&&(el=!1,Fi=i,eu=f),$=i.pendingLanes,$===0&&(Qo=null),bf(a.stateNode),er(i,zt()),s!==null)for(p=i.onRecoverableError,a=0;a<s.length;a++)f=s[a],p(f.value,{componentStack:f.stack,digest:f.digest});if(Zs)throw Zs=!1,i=Nn,Nn=null,i;return eu&1&&i.tag!==0&&Vr(),$=i.pendingLanes,$&1?i===Ec?Ui++:(Ui=0,Ec=i):Ui=0,Ae(),null}function Vr(){if(Fi!==null){var i=Qd(eu),s=vr.transition,a=at;try{if(vr.transition=null,at=16>i?16:i,Fi===null)var p=!1;else{if(i=Fi,Fi=null,eu=0,lt&6)throw Error(o(331));var f=lt;for(lt|=4,Ee=i.current;Ee!==null;){var $=Ee,b=$.child;if(Ee.flags&16){var x=$.deletions;if(x!==null){for(var V=0;V<x.length;V++){var ie=x[V];for(Ee=ie;Ee!==null;){var Te=Ee;switch(Te.tag){case 0:case 11:case 15:gc(8,Te,$)}var ye=Te.child;if(ye!==null)ye.return=Te,Ee=ye;else for(;Ee!==null;){Te=Ee;var _e=Te.sibling,De=Te.return;if(mc(Te),Te===ie){Ee=null;break}if(_e!==null){_e.return=De,Ee=_e;break}Ee=De}}}var He=$.alternate;if(He!==null){var je=He.child;if(je!==null){He.child=null;do{var Wt=je.sibling;je.sibling=null,je=Wt}while(je!==null)}}Ee=$}}if($.subtreeFlags&2064&&b!==null)b.return=$,Ee=b;else e:for(;Ee!==null;){if($=Ee,$.flags&2048)switch($.tag){case 0:case 11:case 15:gc(9,$,$.return)}var q=$.sibling;if(q!==null){q.return=$.return,Ee=q;break e}Ee=$.return}}var U=i.current;for(Ee=U;Ee!==null;){b=Ee;var Z=b.child;if(b.subtreeFlags&2064&&Z!==null)Z.return=b,Ee=Z;else e:for(b=U;Ee!==null;){if(x=Ee,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:Bi(9,x)}}catch(Xe){Pt(x,x.return,Xe)}if(x===b){Ee=null;break e}var Ce=x.sibling;if(Ce!==null){Ce.return=x.return,Ee=Ce;break e}Ee=x.return}}if(lt=f,Ae(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(Do,i)}catch{}p=!0}return p}finally{at=a,vr.transition=s}}return!1}function ts(i,s,a){s=ql(a,s),s=ac(i,s,1),i=Mi(i,s,1),s=Gn(),i!==null&&(Ts(i,1,s),er(i,s))}function Pt(i,s,a){if(i.tag===3)ts(i,i,a);else for(;s!==null;){if(s.tag===3){ts(s,i,a);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Qo===null||!Qo.has(p))){i=ql(a,i),i=Ko(s,i,1),s=Mi(s,i,1),i=Gn(),s!==null&&(Ts(s,1,i),er(s,i));break}}s=s.return}}function ld(i,s,a){var p=i.pingCache;p!==null&&p.delete(s),s=Gn(),i.pingedLanes|=i.suspendedLanes&a,yn===i&&(vn&a)===a&&(nn===4||nn===3&&(vn&130023424)===vn&&500>zt()-Tc?rn(i,0):Sr|=a),er(i,s)}function wp(i,s){s===0&&(i.mode&1?(s=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):s=1);var a=Gn();i=ii(i,s),i!==null&&(Ts(i,s,a),er(i,a))}function Kf(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),wp(i,a)}function kp(i,s){var a=0;switch(i.tag){case 13:var p=i.stateNode,f=i.memoizedState;f!==null&&(a=f.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(o(314))}p!==null&&p.delete(s),wp(i,a)}var Cc;Cc=function(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps||Un.current)An=!0;else{if(!(i.lanes&a)&&!(s.flags&128))return An=!1,Ep(i,s,a);An=!!(i.flags&131072)}else An=!1,Ot&&s.flags&1048576&&wa(s,ti,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Zl(i,s),i=s.pendingProps;var f=Go(s,Rn.current);Bs(s,a),f=sc(null,s,p,i,f,a);var $=lc();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ln(p)?($=!0,zu(s)):$=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,ec(s),f.updater=an,s.stateNode=f,f._reactInternals=s,cc(s,p,i,a),s=dc(null,s,p,!0,$,a)):(s.tag=0,Ot&&$&&Ku(s),En(null,s,f,a),s=s.child),s;case 16:p=s.elementType;e:{switch(Zl(i,s),i=s.pendingProps,f=p._init,p=f(p._payload),s.type=p,f=s.tag=ut(p),i=Zn(p,i),f){case 0:s=qa(null,s,p,i,a);break e;case 1:s=$p(null,s,p,i,a);break e;case 11:s=Ja(null,s,p,i,a);break e;case 14:s=fp(null,s,p,Zn(p.type,i),a);break e}throw Error(o(306,p,""))}return s;case 0:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),qa(i,s,p,f,a);case 1:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),$p(i,s,p,f,a);case 3:e:{if(hc(s),i===null)throw Error(o(387));p=s.pendingProps,$=s.memoizedState,f=$.element,xa(i,s),jl(s,p,null,a);var b=s.memoizedState;if(p=b.element,$.isDehydrated)if($={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},s.updateQueue.baseState=$,s.memoizedState=$,s.flags&256){f=ql(Error(o(423)),s),s=_p(i,s,p,a,f);break e}else if(p!==f){f=ql(Error(o(424)),s),s=_p(i,s,p,a,f);break e}else for(ur=uo(s.stateNode.containerInfo.firstChild),qn=s,Ot=!0,Pr=null,a=Yh(s,null,p,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Di(),p===f){s=ci(i,s,a);break e}En(i,s,p,a)}s=s.child}return s;case 5:return Jh(s),i===null&&Ra(s),p=s.type,f=s.pendingProps,$=i!==null?i.memoizedProps:null,b=f.children,va(p,f)?b=null:$!==null&&va(p,$)&&(s.flags|=32),Vf(i,s),En(i,s,b,a),s.child;case 6:return i===null&&Ra(s),null;case 13:return Gf(i,s,a);case 4:return Fa(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=jo(s,null,p,a):En(i,s,p,a),s.child;case 11:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),Ja(i,s,p,f,a);case 7:return En(i,s,s.pendingProps,a),s.child;case 8:return En(i,s,s.pendingProps.children,a),s.child;case 12:return En(i,s,s.pendingProps.children,a),s.child;case 10:e:{if(p=s.type._context,f=s.pendingProps,$=s.memoizedProps,b=f.value,wt(qu,p._currentValue),p._currentValue=b,$!==null)if(lr($.value,b)){if($.children===f.children&&!Un.current){s=ci(i,s,a);break e}}else for($=s.child,$!==null&&($.return=s);$!==null;){var x=$.dependencies;if(x!==null){b=$.child;for(var V=x.firstContext;V!==null;){if(V.context===p){if($.tag===1){V=oi(-1,a&-a),V.tag=2;var ie=$.updateQueue;if(ie!==null){ie=ie.shared;var Te=ie.pending;Te===null?V.next=V:(V.next=Te.next,Te.next=V),ie.pending=V}}$.lanes|=a,V=$.alternate,V!==null&&(V.lanes|=a),cr($.return,a,s),x.lanes|=a;break}V=V.next}}else if($.tag===10)b=$.type===s.type?null:$.child;else if($.tag===18){if(b=$.return,b===null)throw Error(o(341));b.lanes|=a,x=b.alternate,x!==null&&(x.lanes|=a),cr(b,a,s),b=$.sibling}else b=$.child;if(b!==null)b.return=$;else for(b=$;b!==null;){if(b===s){b=null;break}if($=b.sibling,$!==null){$.return=b.return,b=$;break}b=b.return}$=b}En(i,s,f.children,a),s=s.child}return s;case 9:return f=s.type,p=s.pendingProps.children,Bs(s,a),f=gn(f),p=p(f),s.flags|=1,En(i,s,p,a),s.child;case 14:return p=s.type,f=Zn(p,s.pendingProps),f=Zn(p.type,f),fp(i,s,p,f,a);case 15:return gp(i,s,s.type,s.pendingProps,a);case 17:return p=s.type,f=s.pendingProps,f=s.elementType===p?f:Zn(p,f),Zl(i,s),s.tag=1,Ln(p)?(i=!0,zu(s)):i=!1,Bs(s,a),Ur(s,p,f),cc(s,p,f,a),dc(null,s,p,!0,i,a);case 19:return At(i,s,a);case 22:return mp(i,s,a)}throw Error(o(156,s.tag))};function ud(i,s){return Tu(i,s)}function il(i,s,a,p){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(i,s,a,p){return new il(i,s,a,p)}function ns(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ut(i){if(typeof i=="function")return ns(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ke)return 11;if(i===Ve)return 14}return 2}function Cr(i,s){var a=i.alternate;return a===null?(a=Mn(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&14680064,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a}function Vi(i,s,a,p,f,$){var b=2;if(p=i,typeof i=="function")ns(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case re:return Eo(a.children,f,$,s);case pe:b=8,f|=8;break;case Fe:return i=Mn(12,a,s,f|2),i.elementType=Fe,i.lanes=$,i;case Ne:return i=Mn(13,a,s,f),i.elementType=Ne,i.lanes=$,i;case Le:return i=Mn(19,a,s,f),i.elementType=Le,i.lanes=$,i;case F:return pi(a,f,$,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:b=10;break e;case ve:b=9;break e;case ke:b=11;break e;case Ve:b=14;break e;case X:b=16,p=null;break e}throw Error(o(130,i==null?i:typeof i,""))}return s=Mn(b,a,s,f),s.elementType=i,s.type=p,s.lanes=$,s}function Eo(i,s,a,p){return i=Mn(7,i,p,s),i.lanes=a,i}function pi(i,s,a,p){return i=Mn(22,i,p,s),i.elementType=F,i.lanes=a,i.stateNode={isHidden:!1},i}function cd(i,s,a){return i=Mn(6,i,null,s),i.lanes=a,i}function wc(i,s,a){return s=Mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Wn(i,s,a,p,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jc(0),this.expirationTimes=Jc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jc(0),this.identifierPrefix=p,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function ol(i,s,a,p,f,$,b,x,V){return i=new Wn(i,s,a,x,V),s===1?(s=1,$===!0&&(s|=8)):s=0,$=Mn(3,null,null,s),i.current=$,$.stateNode=i,$.memoizedState={element:p,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ec($),i}function nu(i,s,a){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:p==null?null:""+p,children:i,containerInfo:s,implementation:a}}function kc(i){if(!i)return co;i=i._reactInternals;e:{if(Lo(i)!==i||i.tag!==1)throw Error(o(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ln(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(o(171))}if(i.tag===1){var a=i.type;if(Ln(a))return jh(i,a,s)}return s}function ru(i,s,a,p,f,$,b,x,V){return i=ol(a,p,!0,i,f,$,b,x,V),i.context=kc(null),a=i.current,p=Gn(),f=_o(a),$=oi(p,f),$.callback=s??null,Mi(a,$,f),i.current.lanes=f,Ts(i,f,p),er(i,p),i}function bo(i,s,a,p){var f=s.current,$=Gn(),b=_o(f);return a=kc(a),s.context===null?s.context=a:s.pendingContext=a,s=oi($,b),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Mi(f,s,b),i!==null&&(Hr(i,f,b,$),Wl(i,f,b)),b}function Oc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Op(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function yo(i,s){Op(i,s),(i=i.alternate)&&Op(i,s)}var ad=typeof reportError=="function"?reportError:function(i){console.error(i)};function Rc(i){this._internalRoot=i}tr.prototype.render=Rc.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));bo(i,s,null,null)},tr.prototype.unmount=Rc.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;To(function(){bo(null,i,null,null)}),s[xr]=null}};function tr(i){this._internalRoot=i}tr.prototype.unstable_scheduleHydration=function(i){if(i){var s=Es();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Qr.length&&s!==0&&s<Qr[a].priority;a++);Qr.splice(a,0,i),a===0&&nh(i)}};function sl(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function iu(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function dd(){}function Yf(i,s,a,p,f){if(f){if(typeof p=="function"){var $=p;p=function(){var ie=Oc(b);$.call(ie)}}var b=ru(s,p,i,0,null,!1,!1,"",dd);return i._reactRootContainer=b,i[xr]=b.current,lo(i.nodeType===8?i.parentNode:i),To(),b}for(;f=i.lastChild;)i.removeChild(f);if(typeof p=="function"){var x=p;p=function(){var ie=Oc(V);x.call(ie)}}var V=ol(i,0,!1,null,null,!1,!1,"",dd);return i._reactRootContainer=V,i[xr]=V.current,lo(i.nodeType===8?i.parentNode:i),To(function(){bo(s,V,a,p)}),V}function Lc(i,s,a,p,f){var $=a._reactRootContainer;if($){var b=$;if(typeof f=="function"){var x=f;f=function(){var V=Oc(b);x.call(V)}}bo(s,b,i,f)}else b=Yf(a,s,i,f,p);return Oc(b)}Zd=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var a=zn(s.pendingLanes);a!==0&&(qc(s,a|1),er(s,zt()),!(lt&6)&&(qo=zt()+500,Ae()))}break;case 13:To(function(){var p=ii(i,1);if(p!==null){var f=Gn();Hr(p,i,1,f)}}),yo(i,1)}},Il=function(i){if(i.tag===13){var s=ii(i,134217728);if(s!==null){var a=Gn();Hr(s,i,134217728,a)}yo(i,134217728)}},eh=function(i){if(i.tag===13){var s=_o(i),a=ii(i,s);if(a!==null){var p=Gn();Hr(a,i,s,p)}yo(i,s)}},Es=function(){return at},th=function(i,s){var a=at;try{return at=i,s()}finally{at=a}},to=function(i,s,a){switch(s){case"input":if(Kr(i,a),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var p=a[s];if(p!==i&&p.form===i.form){var f=Wu(p);if(!f)throw Error(o(90));yt(p),Kr(p,f)}}}break;case"textarea":kn(i,a);break;case"select":s=a.value,s!=null&&st(i,!!a.multiple,s,!1)}},_l=Sc,Fn=To;var hd={usingClientEntryPoint:!1,Events:[Tr,Kn,Wu,Ro,$s,Sc]},Gt={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wr={bundleType:Gt.bundleType,version:Gt.version,rendererPackageName:Gt.rendererPackageName,rendererConfig:Gt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=_u(i),i===null?null:i.stateNode},findFiberByHostInstance:Gt.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{Do=ou.inject(wr),gr=ou}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hd,zr.createPortal=function(i,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sl(s))throw Error(o(200));return nu(i,s,null,a)},zr.createRoot=function(i,s){if(!sl(i))throw Error(o(299));var a=!1,p="",f=ad;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=ol(i,1,!1,null,null,a,!1,p,f),i[xr]=s.current,lo(i.nodeType===8?i.parentNode:i),new Rc(s)},zr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=_u(s),i=i===null?null:i.stateNode,i},zr.flushSync=function(i){return To(i)},zr.hydrate=function(i,s,a){if(!iu(s))throw Error(o(200));return Lc(null,i,s,!0,a)},zr.hydrateRoot=function(i,s,a){if(!sl(i))throw Error(o(405));var p=a!=null&&a.hydratedSources||null,f=!1,$="",b=ad;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&($=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),s=ru(s,null,i,1,a??null,f,!1,$,b),i[xr]=s.current,lo(i),p)for(i=0;i<p.length;i++)a=p[i],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new tr(s)},zr.render=function(i,s,a){if(!iu(s))throw Error(o(200));return Lc(null,i,s,!1,a)},zr.unmountComponentAtNode=function(i){if(!iu(i))throw Error(o(40));return i._reactRootContainer?(To(function(){Lc(null,null,i,!1,function(){i._reactRootContainer=null,i[xr]=null})}),!0):!1},zr.unstable_batchedUpdates=Sc,zr.unstable_renderSubtreeIntoContainer=function(i,s,a,p){if(!iu(a))throw Error(o(200));if(i==null||i._reactInternals===void 0)throw Error(o(38));return Lc(i,s,a,!1,p)},zr.version="18.3.1-next-f1338f8080-20240426",zr}var GE;function zS(){if(GE)return y$.exports;GE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),y$.exports=jS(),y$.exports}var WE;function XS(){if(WE)return _g;WE=1;var n=zS();return _g.createRoot=n.createRoot,_g.hydrateRoot=n.hydrateRoot,_g}var KS=XS();const sf={black:"#000",white:"#fff"},Id={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Cd={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},wd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},kd={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Od={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xp={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},YS={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Uc(n,...l){const o=new URL(`https://mui.com/production-error/?code=${n}`);return l.forEach(c=>o.searchParams.append("args[]",c)),`Minified MUI error #${n}; visit ${o} for the full message.`}const b_="$$material";function lf(){return lf=Object.assign?Object.assign.bind():function(n){for(var l=1;l<arguments.length;l++){var o=arguments[l];for(var c in o)({}).hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},lf.apply(null,arguments)}function JS(n){if(n.sheet)return n.sheet;for(var l=0;l<document.styleSheets.length;l++)if(document.styleSheets[l].ownerNode===n)return document.styleSheets[l]}function qS(n){var l=document.createElement("style");return l.setAttribute("data-emotion",n.key),n.nonce!==void 0&&l.setAttribute("nonce",n.nonce),l.appendChild(document.createTextNode("")),l.setAttribute("data-s",""),l}var QS=function(){function n(o){var c=this;this._insertTag=function(h){var m;c.tags.length===0?c.insertionPoint?m=c.insertionPoint.nextSibling:c.prepend?m=c.container.firstChild:m=c.before:m=c.tags[c.tags.length-1].nextSibling,c.container.insertBefore(h,m),c.tags.push(h)},this.isSpeedy=o.speedy===void 0?!0:o.speedy,this.tags=[],this.ctr=0,this.nonce=o.nonce,this.key=o.key,this.container=o.container,this.prepend=o.prepend,this.insertionPoint=o.insertionPoint,this.before=null}var l=n.prototype;return l.hydrate=function(c){c.forEach(this._insertTag)},l.insert=function(c){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qS(this));var h=this.tags[this.tags.length-1];if(this.isSpeedy){var m=JS(h);try{m.insertRule(c,m.cssRules.length)}catch{}}else h.appendChild(document.createTextNode(c));this.ctr++},l.flush=function(){this.tags.forEach(function(c){var h;return(h=c.parentNode)==null?void 0:h.removeChild(c)}),this.tags=[],this.ctr=0},n}(),hr="-ms-",Vg="-moz-",Et="-webkit-",fy="comm",y_="rule",v_="decl",ZS="@import",gy="@keyframes",eI="@layer",tI=Math.abs,Zg=String.fromCharCode,nI=Object.assign;function rI(n,l){return nr(n,0)^45?(((l<<2^nr(n,0))<<2^nr(n,1))<<2^nr(n,2))<<2^nr(n,3):0}function my(n){return n.trim()}function iI(n,l){return(n=l.exec(n))?n[0]:n}function bt(n,l,o){return n.replace(l,o)}function X$(n,l){return n.indexOf(l)}function nr(n,l){return n.charCodeAt(l)|0}function uf(n,l,o){return n.slice(l,o)}function as(n){return n.length}function S_(n){return n.length}function Tg(n,l){return l.push(n),n}function oI(n,l){return n.map(l).join("")}var em=1,xd=1,$y=0,Xr=0,In=0,Gd="";function tm(n,l,o,c,h,m,T){return{value:n,root:l,parent:o,type:c,props:h,children:m,line:em,column:xd,length:T,return:""}}function Kp(n,l){return nI(tm("",null,null,"",null,null,0),n,{length:-n.length},l)}function sI(){return In}function lI(){return In=Xr>0?nr(Gd,--Xr):0,xd--,In===10&&(xd=1,em--),In}function Ti(){return In=Xr<$y?nr(Gd,Xr++):0,xd++,In===10&&(xd=1,em++),In}function fs(){return nr(Gd,Xr)}function Cg(){return Xr}function ff(n,l){return uf(Gd,n,l)}function cf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _y(n){return em=xd=1,$y=as(Gd=n),Xr=0,[]}function Ty(n){return Gd="",n}function wg(n){return my(ff(Xr-1,K$(n===91?n+2:n===40?n+1:n)))}function uI(n){for(;(In=fs())&&In<33;)Ti();return cf(n)>2||cf(In)>3?"":" "}function cI(n,l){for(;--l&&Ti()&&!(In<48||In>102||In>57&&In<65||In>70&&In<97););return ff(n,Cg()+(l<6&&fs()==32&&Ti()==32))}function K$(n){for(;Ti();)switch(In){case n:return Xr;case 34:case 39:n!==34&&n!==39&&K$(In);break;case 40:n===41&&K$(n);break;case 92:Ti();break}return Xr}function aI(n,l){for(;Ti()&&n+In!==57;)if(n+In===84&&fs()===47)break;return"/*"+ff(l,Xr-1)+"*"+Zg(n===47?n:Ti())}function dI(n){for(;!cf(fs());)Ti();return ff(n,Xr)}function hI(n){return Ty(kg("",null,null,null,[""],n=_y(n),0,[0],n))}function kg(n,l,o,c,h,m,T,E,v){for(var I=0,M=0,w=T,k=0,H=0,P=0,O=1,z=1,ee=1,oe=0,ne="",ue=h,ge=m,ce=c,re=ne;z;)switch(P=oe,oe=Ti()){case 40:if(P!=108&&nr(re,w-1)==58){X$(re+=bt(wg(oe),"&","&\f"),"&\f")!=-1&&(ee=-1);break}case 34:case 39:case 91:re+=wg(oe);break;case 9:case 10:case 13:case 32:re+=uI(P);break;case 92:re+=cI(Cg()-1,7);continue;case 47:switch(fs()){case 42:case 47:Tg(pI(aI(Ti(),Cg()),l,o),v);break;default:re+="/"}break;case 123*O:E[I++]=as(re)*ee;case 125*O:case 59:case 0:switch(oe){case 0:case 125:z=0;case 59+M:ee==-1&&(re=bt(re,/\f/g,"")),H>0&&as(re)-w&&Tg(H>32?zE(re+";",c,o,w-1):zE(bt(re," ","")+";",c,o,w-2),v);break;case 59:re+=";";default:if(Tg(ce=jE(re,l,o,I,M,h,E,ne,ue=[],ge=[],w),m),oe===123)if(M===0)kg(re,l,ce,ce,ue,m,w,E,ge);else switch(k===99&&nr(re,3)===110?100:k){case 100:case 108:case 109:case 115:kg(n,ce,ce,c&&Tg(jE(n,ce,ce,0,0,h,E,ne,h,ue=[],w),ge),h,ge,w,E,c?ue:ge);break;default:kg(re,ce,ce,ce,[""],ge,0,E,ge)}}I=M=H=0,O=ee=1,ne=re="",w=T;break;case 58:w=1+as(re),H=P;default:if(O<1){if(oe==123)--O;else if(oe==125&&O++==0&&lI()==125)continue}switch(re+=Zg(oe),oe*O){case 38:ee=M>0?1:(re+="\f",-1);break;case 44:E[I++]=(as(re)-1)*ee,ee=1;break;case 64:fs()===45&&(re+=wg(Ti())),k=fs(),M=w=as(ne=re+=dI(Cg())),oe++;break;case 45:P===45&&as(re)==2&&(O=0)}}return m}function jE(n,l,o,c,h,m,T,E,v,I,M){for(var w=h-1,k=h===0?m:[""],H=S_(k),P=0,O=0,z=0;P<c;++P)for(var ee=0,oe=uf(n,w+1,w=tI(O=T[P])),ne=n;ee<H;++ee)(ne=my(O>0?k[ee]+" "+oe:bt(oe,/&\f/g,k[ee])))&&(v[z++]=ne);return tm(n,l,o,h===0?y_:E,v,I,M)}function pI(n,l,o){return tm(n,l,o,fy,Zg(sI()),uf(n,2,-2),0)}function zE(n,l,o,c){return tm(n,l,o,v_,uf(n,0,c),uf(n,c+1,-1),c)}function Nd(n,l){for(var o="",c=S_(n),h=0;h<c;h++)o+=l(n[h],h,n,l)||"";return o}function fI(n,l,o,c){switch(n.type){case eI:if(n.children.length)break;case ZS:case v_:return n.return=n.return||n.value;case fy:return"";case gy:return n.return=n.value+"{"+Nd(n.children,c)+"}";case y_:n.value=n.props.join(",")}return as(o=Nd(n.children,c))?n.return=n.value+"{"+o+"}":""}function gI(n){var l=S_(n);return function(o,c,h,m){for(var T="",E=0;E<l;E++)T+=n[E](o,c,h,m)||"";return T}}function mI(n){return function(l){l.root||(l=l.return)&&n(l)}}function Ey(n){var l=Object.create(null);return function(o){return l[o]===void 0&&(l[o]=n(o)),l[o]}}var $I=function(l,o,c){for(var h=0,m=0;h=m,m=fs(),h===38&&m===12&&(o[c]=1),!cf(m);)Ti();return ff(l,Xr)},_I=function(l,o){var c=-1,h=44;do switch(cf(h)){case 0:h===38&&fs()===12&&(o[c]=1),l[c]+=$I(Xr-1,o,c);break;case 2:l[c]+=wg(h);break;case 4:if(h===44){l[++c]=fs()===58?"&\f":"",o[c]=l[c].length;break}default:l[c]+=Zg(h)}while(h=Ti());return l},TI=function(l,o){return Ty(_I(_y(l),o))},XE=new WeakMap,EI=function(l){if(!(l.type!=="rule"||!l.parent||l.length<1)){for(var o=l.value,c=l.parent,h=l.column===c.column&&l.line===c.line;c.type!=="rule";)if(c=c.parent,!c)return;if(!(l.props.length===1&&o.charCodeAt(0)!==58&&!XE.get(c))&&!h){XE.set(l,!0);for(var m=[],T=TI(o,m),E=c.props,v=0,I=0;v<T.length;v++)for(var M=0;M<E.length;M++,I++)l.props[I]=m[v]?T[v].replace(/&\f/g,E[M]):E[M]+" "+T[v]}}},bI=function(l){if(l.type==="decl"){var o=l.value;o.charCodeAt(0)===108&&o.charCodeAt(2)===98&&(l.return="",l.value="")}};function by(n,l){switch(rI(n,l)){case 5103:return Et+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Et+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Et+n+Vg+n+hr+n+n;case 6828:case 4268:return Et+n+hr+n+n;case 6165:return Et+n+hr+"flex-"+n+n;case 5187:return Et+n+bt(n,/(\w+).+(:[^]+)/,Et+"box-$1$2"+hr+"flex-$1$2")+n;case 5443:return Et+n+hr+"flex-item-"+bt(n,/flex-|-self/,"")+n;case 4675:return Et+n+hr+"flex-line-pack"+bt(n,/align-content|flex-|-self/,"")+n;case 5548:return Et+n+hr+bt(n,"shrink","negative")+n;case 5292:return Et+n+hr+bt(n,"basis","preferred-size")+n;case 6060:return Et+"box-"+bt(n,"-grow","")+Et+n+hr+bt(n,"grow","positive")+n;case 4554:return Et+bt(n,/([^-])(transform)/g,"$1"+Et+"$2")+n;case 6187:return bt(bt(bt(n,/(zoom-|grab)/,Et+"$1"),/(image-set)/,Et+"$1"),n,"")+n;case 5495:case 3959:return bt(n,/(image-set\([^]*)/,Et+"$1$`$1");case 4968:return bt(bt(n,/(.+:)(flex-)?(.*)/,Et+"box-pack:$3"+hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Et+n+n;case 4095:case 3583:case 4068:case 2532:return bt(n,/(.+)-inline(.+)/,Et+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(as(n)-1-l>6)switch(nr(n,l+1)){case 109:if(nr(n,l+4)!==45)break;case 102:return bt(n,/(.+:)(.+)-([^]+)/,"$1"+Et+"$2-$3$1"+Vg+(nr(n,l+3)==108?"$3":"$2-$3"))+n;case 115:return~X$(n,"stretch")?by(bt(n,"stretch","fill-available"),l)+n:n}break;case 4949:if(nr(n,l+1)!==115)break;case 6444:switch(nr(n,as(n)-3-(~X$(n,"!important")&&10))){case 107:return bt(n,":",":"+Et)+n;case 101:return bt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Et+(nr(n,14)===45?"inline-":"")+"box$3$1"+Et+"$2$3$1"+hr+"$2box$3")+n}break;case 5936:switch(nr(n,l+11)){case 114:return Et+n+hr+bt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Et+n+hr+bt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Et+n+hr+bt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Et+n+hr+n+n}return n}var yI=function(l,o,c,h){if(l.length>-1&&!l.return)switch(l.type){case v_:l.return=by(l.value,l.length);break;case gy:return Nd([Kp(l,{value:bt(l.value,"@","@"+Et)})],h);case y_:if(l.length)return oI(l.props,function(m){switch(iI(m,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nd([Kp(l,{props:[bt(m,/:(read-\w+)/,":"+Vg+"$1")]})],h);case"::placeholder":return Nd([Kp(l,{props:[bt(m,/:(plac\w+)/,":"+Et+"input-$1")]}),Kp(l,{props:[bt(m,/:(plac\w+)/,":"+Vg+"$1")]}),Kp(l,{props:[bt(m,/:(plac\w+)/,hr+"input-$1")]})],h)}return""})}},vI=[yI],SI=function(l){var o=l.key;if(o==="css"){var c=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(c,function(O){var z=O.getAttribute("data-emotion");z.indexOf(" ")!==-1&&(document.head.appendChild(O),O.setAttribute("data-s",""))})}var h=l.stylisPlugins||vI,m={},T,E=[];T=l.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+o+' "]'),function(O){for(var z=O.getAttribute("data-emotion").split(" "),ee=1;ee<z.length;ee++)m[z[ee]]=!0;E.push(O)});var v,I=[EI,bI];{var M,w=[fI,mI(function(O){M.insert(O)})],k=gI(I.concat(h,w)),H=function(z){return Nd(hI(z),k)};v=function(z,ee,oe,ne){M=oe,H(z?z+"{"+ee.styles+"}":ee.styles),ne&&(P.inserted[ee.name]=!0)}}var P={key:o,sheet:new QS({key:o,container:T,nonce:l.nonce,speedy:l.speedy,prepend:l.prepend,insertionPoint:l.insertionPoint}),nonce:l.nonce,inserted:m,registered:{},insert:v};return P.sheet.hydrate(E),P},II=!0;function CI(n,l,o){var c="";return o.split(" ").forEach(function(h){n[h]!==void 0?l.push(n[h]+";"):h&&(c+=h+" ")}),c}var yy=function(l,o,c){var h=l.key+"-"+o.name;(c===!1||II===!1)&&l.registered[h]===void 0&&(l.registered[h]=o.styles)},wI=function(l,o,c){yy(l,o,c);var h=l.key+"-"+o.name;if(l.inserted[o.name]===void 0){var m=o;do l.insert(o===m?"."+h:"",m,l.sheet,!0),m=m.next;while(m!==void 0)}};function kI(n){for(var l=0,o,c=0,h=n.length;h>=4;++c,h-=4)o=n.charCodeAt(c)&255|(n.charCodeAt(++c)&255)<<8|(n.charCodeAt(++c)&255)<<16|(n.charCodeAt(++c)&255)<<24,o=(o&65535)*1540483477+((o>>>16)*59797<<16),o^=o>>>24,l=(o&65535)*1540483477+((o>>>16)*59797<<16)^(l&65535)*1540483477+((l>>>16)*59797<<16);switch(h){case 3:l^=(n.charCodeAt(c+2)&255)<<16;case 2:l^=(n.charCodeAt(c+1)&255)<<8;case 1:l^=n.charCodeAt(c)&255,l=(l&65535)*1540483477+((l>>>16)*59797<<16)}return l^=l>>>13,l=(l&65535)*1540483477+((l>>>16)*59797<<16),((l^l>>>15)>>>0).toString(36)}var OI={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},RI=/[A-Z]|^ms/g,LI=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vy=function(l){return l.charCodeAt(1)===45},KE=function(l){return l!=null&&typeof l!="boolean"},I$=Ey(function(n){return vy(n)?n:n.replace(RI,"-$&").toLowerCase()}),YE=function(l,o){switch(l){case"animation":case"animationName":if(typeof o=="string")return o.replace(LI,function(c,h,m){return ds={name:h,styles:m,next:ds},h})}return OI[l]!==1&&!vy(l)&&typeof o=="number"&&o!==0?o+"px":o};function af(n,l,o){if(o==null)return"";var c=o;if(c.__emotion_styles!==void 0)return c;switch(typeof o){case"boolean":return"";case"object":{var h=o;if(h.anim===1)return ds={name:h.name,styles:h.styles,next:ds},h.name;var m=o;if(m.styles!==void 0){var T=m.next;if(T!==void 0)for(;T!==void 0;)ds={name:T.name,styles:T.styles,next:ds},T=T.next;var E=m.styles+";";return E}return AI(n,l,o)}case"function":{if(n!==void 0){var v=ds,I=o(n);return ds=v,af(n,l,I)}break}}var M=o;if(l==null)return M;var w=l[M];return w!==void 0?w:M}function AI(n,l,o){var c="";if(Array.isArray(o))for(var h=0;h<o.length;h++)c+=af(n,l,o[h])+";";else for(var m in o){var T=o[m];if(typeof T!="object"){var E=T;l!=null&&l[E]!==void 0?c+=m+"{"+l[E]+"}":KE(E)&&(c+=I$(m)+":"+YE(m,E)+";")}else if(Array.isArray(T)&&typeof T[0]=="string"&&(l==null||l[T[0]]===void 0))for(var v=0;v<T.length;v++)KE(T[v])&&(c+=I$(m)+":"+YE(m,T[v])+";");else{var I=af(n,l,T);switch(m){case"animation":case"animationName":{c+=I$(m)+":"+I+";";break}default:c+=m+"{"+I+"}"}}}return c}var JE=/label:\s*([^\s;{]+)\s*(;|$)/g,ds;function Sy(n,l,o){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var c=!0,h="";ds=void 0;var m=n[0];if(m==null||m.raw===void 0)c=!1,h+=af(o,l,m);else{var T=m;h+=T[0]}for(var E=1;E<n.length;E++)if(h+=af(o,l,n[E]),c){var v=m;h+=v[E]}JE.lastIndex=0;for(var I="",M;(M=JE.exec(h))!==null;)I+="-"+M[1];var w=kI(h)+I;return{name:w,styles:h,next:ds}}var DI=function(l){return l()},NI=FE.useInsertionEffect?FE.useInsertionEffect:!1,MI=NI||DI,Iy=me.createContext(typeof HTMLElement<"u"?SI({key:"css"}):null);Iy.Provider;var xI=function(l){return me.forwardRef(function(o,c){var h=me.useContext(Iy);return l(o,h,c)})},Cy=me.createContext({}),PI=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,BI=Ey(function(n){return PI.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),FI=BI,UI=function(l){return l!=="theme"},qE=function(l){return typeof l=="string"&&l.charCodeAt(0)>96?FI:UI},QE=function(l,o,c){var h;if(o){var m=o.shouldForwardProp;h=l.__emotion_forwardProp&&m?function(T){return l.__emotion_forwardProp(T)&&m(T)}:m}return typeof h!="function"&&c&&(h=l.__emotion_forwardProp),h},HI=function(l){var o=l.cache,c=l.serialized,h=l.isStringTag;return yy(o,c,h),MI(function(){return wI(o,c,h)}),null},VI=function n(l,o){var c=l.__emotion_real===l,h=c&&l.__emotion_base||l,m,T;o!==void 0&&(m=o.label,T=o.target);var E=QE(l,o,c),v=E||qE(h),I=!v("as");return function(){var M=arguments,w=c&&l.__emotion_styles!==void 0?l.__emotion_styles.slice(0):[];if(m!==void 0&&w.push("label:"+m+";"),M[0]==null||M[0].raw===void 0)w.push.apply(w,M);else{var k=M[0];w.push(k[0]);for(var H=M.length,P=1;P<H;P++)w.push(M[P],k[P])}var O=xI(function(z,ee,oe){var ne=I&&z.as||h,ue="",ge=[],ce=z;if(z.theme==null){ce={};for(var re in z)ce[re]=z[re];ce.theme=me.useContext(Cy)}typeof z.className=="string"?ue=CI(ee.registered,ge,z.className):z.className!=null&&(ue=z.className+" ");var pe=Sy(w.concat(ge),ee.registered,ce);ue+=ee.key+"-"+pe.name,T!==void 0&&(ue+=" "+T);var Fe=I&&E===void 0?qE(ne):v,L={};for(var ve in z)I&&ve==="as"||Fe(ve)&&(L[ve]=z[ve]);return L.className=ue,oe&&(L.ref=oe),me.createElement(me.Fragment,null,me.createElement(HI,{cache:ee,serialized:pe,isStringTag:typeof ne=="string"}),me.createElement(ne,L))});return O.displayName=m!==void 0?m:"Styled("+(typeof h=="string"?h:h.displayName||h.name||"Component")+")",O.defaultProps=l.defaultProps,O.__emotion_real=O,O.__emotion_base=h,O.__emotion_styles=w,O.__emotion_forwardProp=E,Object.defineProperty(O,"toString",{value:function(){return"."+T}}),O.withComponent=function(z,ee){var oe=n(z,lf({},o,ee,{shouldForwardProp:QE(O,ee,!0)}));return oe.apply(void 0,w)},O}},GI=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Y$=VI.bind(null);GI.forEach(function(n){Y$[n]=Y$(n)});var C$={exports:{}},w$,ZE;function WI(){if(ZE)return w$;ZE=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w$=n,w$}var k$,eb;function jI(){if(eb)return k$;eb=1;var n=WI();function l(){}function o(){}return o.resetWarningCache=l,k$=function(){function c(T,E,v,I,M,w){if(w!==n){var k=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw k.name="Invariant Violation",k}}c.isRequired=c;function h(){return c}var m={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:h,element:c,elementType:c,instanceOf:h,node:c,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:o,resetWarningCache:l};return m.PropTypes=m,m},k$}var tb;function zI(){return tb||(tb=1,C$.exports=jI()()),C$.exports}var XI=zI();const Xi=T_(XI);/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function wy(n,l){return Y$(n,l)}function KI(n,l){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=l(n.__emotion_styles))}const nb=[];function rb(n){return nb[0]=n,Sy(nb)}var O$={exports:{}},Mt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ib;function YI(){if(ib)return Mt;ib=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),T=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),H=Symbol.for("react.client.reference");function P(O){if(typeof O=="object"&&O!==null){var z=O.$$typeof;switch(z){case n:switch(O=O.type,O){case o:case h:case c:case v:case I:return O;default:switch(O=O&&O.$$typeof,O){case T:case E:case w:case M:return O;case m:return O;default:return z}}case l:return z}}}return Mt.ContextConsumer=m,Mt.ContextProvider=T,Mt.Element=n,Mt.ForwardRef=E,Mt.Fragment=o,Mt.Lazy=w,Mt.Memo=M,Mt.Portal=l,Mt.Profiler=h,Mt.StrictMode=c,Mt.Suspense=v,Mt.SuspenseList=I,Mt.isContextConsumer=function(O){return P(O)===m},Mt.isContextProvider=function(O){return P(O)===T},Mt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===n},Mt.isForwardRef=function(O){return P(O)===E},Mt.isFragment=function(O){return P(O)===o},Mt.isLazy=function(O){return P(O)===w},Mt.isMemo=function(O){return P(O)===M},Mt.isPortal=function(O){return P(O)===l},Mt.isProfiler=function(O){return P(O)===h},Mt.isStrictMode=function(O){return P(O)===c},Mt.isSuspense=function(O){return P(O)===v},Mt.isSuspenseList=function(O){return P(O)===I},Mt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===o||O===h||O===c||O===v||O===I||O===k||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===M||O.$$typeof===T||O.$$typeof===m||O.$$typeof===E||O.$$typeof===H||O.getModuleId!==void 0)},Mt.typeOf=P,Mt}var ob;function JI(){return ob||(ob=1,O$.exports=YI()),O$.exports}var ky=JI();function ps(n){if(typeof n!="object"||n===null)return!1;const l=Object.getPrototypeOf(n);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Oy(n){if(me.isValidElement(n)||ky.isValidElementType(n)||!ps(n))return n;const l={};return Object.keys(n).forEach(o=>{l[o]=Oy(n[o])}),l}function Rr(n,l,o={clone:!0}){const c=o.clone?{...n}:n;return ps(n)&&ps(l)&&Object.keys(l).forEach(h=>{me.isValidElement(l[h])||ky.isValidElementType(l[h])?c[h]=l[h]:ps(l[h])&&Object.prototype.hasOwnProperty.call(n,h)&&ps(n[h])?c[h]=Rr(n[h],l[h],o):o.clone?c[h]=ps(l[h])?Oy(l[h]):l[h]:c[h]=l[h]}),c}const qI=n=>{const l=Object.keys(n).map(o=>({key:o,val:n[o]}))||[];return l.sort((o,c)=>o.val-c.val),l.reduce((o,c)=>({...o,[c.key]:c.val}),{})};function QI(n){const{values:l={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:o="px",step:c=5,...h}=n,m=qI(l),T=Object.keys(m);function E(k){return`@media (min-width:${typeof l[k]=="number"?l[k]:k}${o})`}function v(k){return`@media (max-width:${(typeof l[k]=="number"?l[k]:k)-c/100}${o})`}function I(k,H){const P=T.indexOf(H);return`@media (min-width:${typeof l[k]=="number"?l[k]:k}${o}) and (max-width:${(P!==-1&&typeof l[T[P]]=="number"?l[T[P]]:H)-c/100}${o})`}function M(k){return T.indexOf(k)+1<T.length?I(k,T[T.indexOf(k)+1]):E(k)}function w(k){const H=T.indexOf(k);return H===0?E(T[1]):H===T.length-1?v(T[H]):I(k,T[T.indexOf(k)+1]).replace("@media","@media not all and")}return{keys:T,values:m,up:E,down:v,between:I,only:M,not:w,unit:o,...h}}function ZI(n,l){if(!n.containerQueries)return l;const o=Object.keys(l).filter(c=>c.startsWith("@container")).sort((c,h)=>{var T,E;const m=/min-width:\s*([0-9.]+)/;return+(((T=c.match(m))==null?void 0:T[1])||0)-+(((E=h.match(m))==null?void 0:E[1])||0)});return o.length?o.reduce((c,h)=>{const m=l[h];return delete c[h],c[h]=m,c},{...l}):l}function eC(n,l){return l==="@"||l.startsWith("@")&&(n.some(o=>l.startsWith(`@${o}`))||!!l.match(/^@\d/))}function tC(n,l){const o=l.match(/^@([^/]+)?\/?(.+)?$/);if(!o)return null;const[,c,h]=o,m=Number.isNaN(+c)?c||0:+c;return n.containerQueries(h).up(m)}function nC(n){const l=(m,T)=>m.replace("@media",T?`@container ${T}`:"@container");function o(m,T){m.up=(...E)=>l(n.breakpoints.up(...E),T),m.down=(...E)=>l(n.breakpoints.down(...E),T),m.between=(...E)=>l(n.breakpoints.between(...E),T),m.only=(...E)=>l(n.breakpoints.only(...E),T),m.not=(...E)=>{const v=l(n.breakpoints.not(...E),T);return v.includes("not all and")?v.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):v}}const c={},h=m=>(o(c,m),c);return o(h),{...n,containerQueries:h}}const rC={borderRadius:4};function tf(n,l){return l?Rr(n,l,{clone:!1}):n}const nm={xs:0,sm:600,md:900,lg:1200,xl:1536},sb={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${nm[n]}px)`},iC={containerQueries:n=>({up:l=>{let o=typeof l=="number"?l:nm[l]||l;return typeof o=="number"&&(o=`${o}px`),n?`@container ${n} (min-width:${o})`:`@container (min-width:${o})`}})};function ko(n,l,o){const c=n.theme||{};if(Array.isArray(l)){const m=c.breakpoints||sb;return l.reduce((T,E,v)=>(T[m.up(m.keys[v])]=o(l[v]),T),{})}if(typeof l=="object"){const m=c.breakpoints||sb;return Object.keys(l).reduce((T,E)=>{if(eC(m.keys,E)){const v=tC(c.containerQueries?c:iC,E);v&&(T[v]=o(l[E],E))}else if(Object.keys(m.values||nm).includes(E)){const v=m.up(E);T[v]=o(l[E],E)}else{const v=E;T[v]=l[v]}return T},{})}return o(l)}function Ry(n={}){var o;return((o=n.keys)==null?void 0:o.reduce((c,h)=>{const m=n.up(h);return c[m]={},c},{}))||{}}function Ly(n,l){return n.reduce((o,c)=>{const h=o[c];return(!h||Object.keys(h).length===0)&&delete o[c],o},l)}function oC(n,...l){const o=Ry(n),c=[o,...l].reduce((h,m)=>Rr(h,m),{});return Ly(Object.keys(o),c)}function sC(n,l){if(typeof n!="object")return{};const o={},c=Object.keys(l);return Array.isArray(n)?c.forEach((h,m)=>{m<n.length&&(o[h]=!0)}):c.forEach(h=>{n[h]!=null&&(o[h]=!0)}),o}function R$({values:n,breakpoints:l,base:o}){const c=o||sC(n,l),h=Object.keys(c);if(h.length===0)return n;let m;return h.reduce((T,E,v)=>(Array.isArray(n)?(T[E]=n[v]!=null?n[v]:n[m],m=v):typeof n=="object"?(T[E]=n[E]!=null?n[E]:n[m],m=E):T[E]=n,T),{})}function df(n){if(typeof n!="string")throw new Error(Uc(7));return n.charAt(0).toUpperCase()+n.slice(1)}function rm(n,l,o=!0){if(!l||typeof l!="string")return null;if(n&&n.vars&&o){const c=`vars.${l}`.split(".").reduce((h,m)=>h&&h[m]?h[m]:null,n);if(c!=null)return c}return l.split(".").reduce((c,h)=>c&&c[h]!=null?c[h]:null,n)}function Gg(n,l,o,c=o){let h;return typeof n=="function"?h=n(o):Array.isArray(n)?h=n[o]||c:h=rm(n,o)||c,l&&(h=l(h,c,n)),h}function mn(n){const{prop:l,cssProperty:o=n.prop,themeKey:c,transform:h}=n,m=T=>{if(T[l]==null)return null;const E=T[l],v=T.theme,I=rm(v,c)||{};return ko(T,E,w=>{let k=Gg(I,h,w);return w===k&&typeof w=="string"&&(k=Gg(I,h,`${l}${w==="default"?"":df(w)}`,w)),o===!1?k:{[o]:k}})};return m.propTypes={},m.filterProps=[l],m}function lC(n){const l={};return o=>(l[o]===void 0&&(l[o]=n(o)),l[o])}const uC={m:"margin",p:"padding"},cC={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},lb={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},aC=lC(n=>{if(n.length>2)if(lb[n])n=lb[n];else return[n];const[l,o]=n.split(""),c=uC[l],h=cC[o]||"";return Array.isArray(h)?h.map(m=>c+m):[c+h]}),I_=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],C_=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...I_,...C_];function gf(n,l,o,c){const h=rm(n,l,!0)??o;return typeof h=="number"||typeof h=="string"?m=>typeof m=="string"?m:typeof h=="string"?`calc(${m} * ${h})`:h*m:Array.isArray(h)?m=>{if(typeof m=="string")return m;const T=Math.abs(m),E=h[T];return m>=0?E:typeof E=="number"?-E:`-${E}`}:typeof h=="function"?h:()=>{}}function im(n){return gf(n,"spacing",8)}function Hc(n,l){return typeof l=="string"||l==null?l:n(l)}function dC(n,l){return o=>n.reduce((c,h)=>(c[h]=Hc(l,o),c),{})}function hC(n,l,o,c){if(!l.includes(o))return null;const h=aC(o),m=dC(h,c),T=n[o];return ko(n,T,m)}function Ay(n,l){const o=im(n.theme);return Object.keys(n).map(c=>hC(n,l,c,o)).reduce(tf,{})}function hn(n){return Ay(n,I_)}hn.propTypes={};hn.filterProps=I_;function pn(n){return Ay(n,C_)}pn.propTypes={};pn.filterProps=C_;function Dy(n=8,l=im({spacing:n})){if(n.mui)return n;const o=(...c)=>(c.length===0?[1]:c).map(m=>{const T=l(m);return typeof T=="number"?`${T}px`:T}).join(" ");return o.mui=!0,o}function om(...n){const l=n.reduce((c,h)=>(h.filterProps.forEach(m=>{c[m]=h}),c),{}),o=c=>Object.keys(c).reduce((h,m)=>l[m]?tf(h,l[m](c)):h,{});return o.propTypes={},o.filterProps=n.reduce((c,h)=>c.concat(h.filterProps),[]),o}function Yi(n){return typeof n!="number"?n:`${n}px solid`}function Qi(n,l){return mn({prop:n,themeKey:"borders",transform:l})}const pC=Qi("border",Yi),fC=Qi("borderTop",Yi),gC=Qi("borderRight",Yi),mC=Qi("borderBottom",Yi),$C=Qi("borderLeft",Yi),_C=Qi("borderColor"),TC=Qi("borderTopColor"),EC=Qi("borderRightColor"),bC=Qi("borderBottomColor"),yC=Qi("borderLeftColor"),vC=Qi("outline",Yi),SC=Qi("outlineColor"),sm=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const l=gf(n.theme,"shape.borderRadius",4),o=c=>({borderRadius:Hc(l,c)});return ko(n,n.borderRadius,o)}return null};sm.propTypes={};sm.filterProps=["borderRadius"];om(pC,fC,gC,mC,$C,_C,TC,EC,bC,yC,sm,vC,SC);const lm=n=>{if(n.gap!==void 0&&n.gap!==null){const l=gf(n.theme,"spacing",8),o=c=>({gap:Hc(l,c)});return ko(n,n.gap,o)}return null};lm.propTypes={};lm.filterProps=["gap"];const um=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const l=gf(n.theme,"spacing",8),o=c=>({columnGap:Hc(l,c)});return ko(n,n.columnGap,o)}return null};um.propTypes={};um.filterProps=["columnGap"];const cm=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const l=gf(n.theme,"spacing",8),o=c=>({rowGap:Hc(l,c)});return ko(n,n.rowGap,o)}return null};cm.propTypes={};cm.filterProps=["rowGap"];const IC=mn({prop:"gridColumn"}),CC=mn({prop:"gridRow"}),wC=mn({prop:"gridAutoFlow"}),kC=mn({prop:"gridAutoColumns"}),OC=mn({prop:"gridAutoRows"}),RC=mn({prop:"gridTemplateColumns"}),LC=mn({prop:"gridTemplateRows"}),AC=mn({prop:"gridTemplateAreas"}),DC=mn({prop:"gridArea"});om(lm,um,cm,IC,CC,wC,kC,OC,RC,LC,AC,DC);function Md(n,l){return l==="grey"?l:n}const NC=mn({prop:"color",themeKey:"palette",transform:Md}),MC=mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Md}),xC=mn({prop:"backgroundColor",themeKey:"palette",transform:Md});om(NC,MC,xC);function _i(n){return n<=1&&n!==0?`${n*100}%`:n}const PC=mn({prop:"width",transform:_i}),w_=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const l=o=>{var h,m,T,E,v;const c=((T=(m=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:m.values)==null?void 0:T[o])||nm[o];return c?((v=(E=n.theme)==null?void 0:E.breakpoints)==null?void 0:v.unit)!=="px"?{maxWidth:`${c}${n.theme.breakpoints.unit}`}:{maxWidth:c}:{maxWidth:_i(o)}};return ko(n,n.maxWidth,l)}return null};w_.filterProps=["maxWidth"];const BC=mn({prop:"minWidth",transform:_i}),FC=mn({prop:"height",transform:_i}),UC=mn({prop:"maxHeight",transform:_i}),HC=mn({prop:"minHeight",transform:_i});mn({prop:"size",cssProperty:"width",transform:_i});mn({prop:"size",cssProperty:"height",transform:_i});const VC=mn({prop:"boxSizing"});om(PC,w_,BC,FC,UC,HC,VC);const mf={border:{themeKey:"borders",transform:Yi},borderTop:{themeKey:"borders",transform:Yi},borderRight:{themeKey:"borders",transform:Yi},borderBottom:{themeKey:"borders",transform:Yi},borderLeft:{themeKey:"borders",transform:Yi},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yi},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:sm},color:{themeKey:"palette",transform:Md},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Md},backgroundColor:{themeKey:"palette",transform:Md},p:{style:pn},pt:{style:pn},pr:{style:pn},pb:{style:pn},pl:{style:pn},px:{style:pn},py:{style:pn},padding:{style:pn},paddingTop:{style:pn},paddingRight:{style:pn},paddingBottom:{style:pn},paddingLeft:{style:pn},paddingX:{style:pn},paddingY:{style:pn},paddingInline:{style:pn},paddingInlineStart:{style:pn},paddingInlineEnd:{style:pn},paddingBlock:{style:pn},paddingBlockStart:{style:pn},paddingBlockEnd:{style:pn},m:{style:hn},mt:{style:hn},mr:{style:hn},mb:{style:hn},ml:{style:hn},mx:{style:hn},my:{style:hn},margin:{style:hn},marginTop:{style:hn},marginRight:{style:hn},marginBottom:{style:hn},marginLeft:{style:hn},marginX:{style:hn},marginY:{style:hn},marginInline:{style:hn},marginInlineStart:{style:hn},marginInlineEnd:{style:hn},marginBlock:{style:hn},marginBlockStart:{style:hn},marginBlockEnd:{style:hn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:lm},rowGap:{style:cm},columnGap:{style:um},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:_i},maxWidth:{style:w_},minWidth:{transform:_i},height:{transform:_i},maxHeight:{transform:_i},minHeight:{transform:_i},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function GC(...n){const l=n.reduce((c,h)=>c.concat(Object.keys(h)),[]),o=new Set(l);return n.every(c=>o.size===Object.keys(c).length)}function WC(n,l){return typeof n=="function"?n(l):n}function jC(){function n(o,c,h,m){const T={[o]:c,theme:h},E=m[o];if(!E)return{[o]:c};const{cssProperty:v=o,themeKey:I,transform:M,style:w}=E;if(c==null)return null;if(I==="typography"&&c==="inherit")return{[o]:c};const k=rm(h,I)||{};return w?w(T):ko(T,c,P=>{let O=Gg(k,M,P);return P===O&&typeof P=="string"&&(O=Gg(k,M,`${o}${P==="default"?"":df(P)}`,P)),v===!1?O:{[v]:O}})}function l(o){const{sx:c,theme:h={}}=o||{};if(!c)return null;const m=h.unstable_sxConfig??mf;function T(E){let v=E;if(typeof E=="function")v=E(h);else if(typeof E!="object")return E;if(!v)return null;const I=Ry(h.breakpoints),M=Object.keys(I);let w=I;return Object.keys(v).forEach(k=>{const H=WC(v[k],h);if(H!=null)if(typeof H=="object")if(m[k])w=tf(w,n(k,H,h,m));else{const P=ko({theme:h},H,O=>({[k]:O}));GC(P,H)?w[k]=l({sx:H,theme:h}):w=tf(w,P)}else w=tf(w,n(k,H,h,m))}),ZI(h,Ly(M,w))}return Array.isArray(c)?c.map(T):T(c)}return l}const Vc=jC();Vc.filterProps=["sx"];function zC(n,l){var c;const o=this;if(o.vars){if(!((c=o.colorSchemes)!=null&&c[n])||typeof o.getColorSchemeSelector!="function")return{};let h=o.getColorSchemeSelector(n);return h==="&"?l:((h.includes("data-")||h.includes("."))&&(h=`*:where(${h.replace(/\s*&$/,"")}) &`),{[h]:l})}return o.palette.mode===n?l:{}}function am(n={},...l){const{breakpoints:o={},palette:c={},spacing:h,shape:m={},...T}=n,E=QI(o),v=Dy(h);let I=Rr({breakpoints:E,direction:"ltr",components:{},palette:{mode:"light",...c},spacing:v,shape:{...rC,...m}},T);return I=nC(I),I.applyStyles=zC,I=l.reduce((M,w)=>Rr(M,w),I),I.unstable_sxConfig={...mf,...T==null?void 0:T.unstable_sxConfig},I.unstable_sx=function(w){return Vc({sx:w,theme:this})},I}function XC(n){return Object.keys(n).length===0}function KC(n=null){const l=me.useContext(Cy);return!l||XC(l)?n:l}const YC=am();function k_(n=YC){return KC(n)}const JC=n=>{var c;const l={systemProps:{},otherProps:{}},o=((c=n==null?void 0:n.theme)==null?void 0:c.unstable_sxConfig)??mf;return Object.keys(n).forEach(h=>{o[h]?l.systemProps[h]=n[h]:l.otherProps[h]=n[h]}),l};function O_(n){const{sx:l,...o}=n,{systemProps:c,otherProps:h}=JC(o);let m;return Array.isArray(l)?m=[c,...l]:typeof l=="function"?m=(...T)=>{const E=l(...T);return ps(E)?{...c,...E}:c}:m={...c,...l},{...h,sx:m}}const ub=n=>n,qC=()=>{let n=ub;return{configure(l){n=l},generate(l){return n(l)},reset(){n=ub}}},Ny=qC();function My(n){var l,o,c="";if(typeof n=="string"||typeof n=="number")c+=n;else if(typeof n=="object")if(Array.isArray(n)){var h=n.length;for(l=0;l<h;l++)n[l]&&(o=My(n[l]))&&(c&&(c+=" "),c+=o)}else for(o in n)n[o]&&(c&&(c+=" "),c+=o);return c}function Wd(){for(var n,l,o=0,c="",h=arguments.length;o<h;o++)(n=arguments[o])&&(l=My(n))&&(c&&(c+=" "),c+=l);return c}function QC(n={}){const{themeId:l,defaultTheme:o,defaultClassName:c="MuiBox-root",generateClassName:h}=n,m=wy("div",{shouldForwardProp:E=>E!=="theme"&&E!=="sx"&&E!=="as"})(Vc);return me.forwardRef(function(v,I){const M=k_(o),{className:w,component:k="div",...H}=O_(v);return N.jsx(m,{as:k,ref:I,className:Wd(w,h?h(c):c),theme:l&&M[l]||M,...H})})}const ZC={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function jd(n,l,o="Mui"){const c=ZC[l];return c?`${o}-${c}`:`${Ny.generate(n)}-${l}`}function $f(n,l,o="Mui"){const c={};return l.forEach(h=>{c[h]=jd(n,h,o)}),c}function xy(n){const{variants:l,...o}=n,c={variants:l,style:rb(o),isProcessed:!0};return c.style===o||l&&l.forEach(h=>{typeof h.style!="function"&&(h.style=rb(h.style))}),c}const ew=am();function L$(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function tw(n){return n?(l,o)=>o[n]:null}function nw(n,l,o){n.theme=iw(n.theme)?o:n.theme[l]||n.theme}function Og(n,l){const o=typeof l=="function"?l(n):l;if(Array.isArray(o))return o.flatMap(c=>Og(n,c));if(Array.isArray(o==null?void 0:o.variants)){let c;if(o.isProcessed)c=o.style;else{const{variants:h,...m}=o;c=m}return Py(n,o.variants,[c])}return o!=null&&o.isProcessed?o.style:o}function Py(n,l,o=[]){var h;let c;e:for(let m=0;m<l.length;m+=1){const T=l[m];if(typeof T.props=="function"){if(c??(c={...n,...n.ownerState,ownerState:n.ownerState}),!T.props(c))continue}else for(const E in T.props)if(n[E]!==T.props[E]&&((h=n.ownerState)==null?void 0:h[E])!==T.props[E])continue e;typeof T.style=="function"?(c??(c={...n,...n.ownerState,ownerState:n.ownerState}),o.push(T.style(c))):o.push(T.style)}return o}function By(n={}){const{themeId:l,defaultTheme:o=ew,rootShouldForwardProp:c=L$,slotShouldForwardProp:h=L$}=n;function m(E){nw(E,l,o)}return(E,v={})=>{KI(E,ge=>ge.filter(ce=>ce!==Vc));const{name:I,slot:M,skipVariantsResolver:w,skipSx:k,overridesResolver:H=tw(sw(M)),...P}=v,O=w!==void 0?w:M&&M!=="Root"&&M!=="root"||!1,z=k||!1;let ee=L$;M==="Root"||M==="root"?ee=c:M?ee=h:ow(E)&&(ee=void 0);const oe=wy(E,{shouldForwardProp:ee,label:rw(),...P}),ne=ge=>{if(typeof ge=="function"&&ge.__emotion_real!==ge)return function(re){return Og(re,ge)};if(ps(ge)){const ce=xy(ge);return ce.variants?function(pe){return Og(pe,ce)}:ce.style}return ge},ue=(...ge)=>{const ce=[],re=ge.map(ne),pe=[];if(ce.push(m),I&&H&&pe.push(function(ke){var X,F;const Le=(F=(X=ke.theme.components)==null?void 0:X[I])==null?void 0:F.styleOverrides;if(!Le)return null;const Ve={};for(const C in Le)Ve[C]=Og(ke,Le[C]);return H(ke,Ve)}),I&&!O&&pe.push(function(ke){var Ve,X;const Ne=ke.theme,Le=(X=(Ve=Ne==null?void 0:Ne.components)==null?void 0:Ve[I])==null?void 0:X.variants;return Le?Py(ke,Le):null}),z||pe.push(Vc),Array.isArray(re[0])){const ve=re.shift(),ke=new Array(ce.length).fill(""),Ne=new Array(pe.length).fill("");let Le;Le=[...ke,...ve,...Ne],Le.raw=[...ke,...ve.raw,...Ne],ce.unshift(Le)}const Fe=[...ce,...re,...pe],L=oe(...Fe);return E.muiName&&(L.muiName=E.muiName),L};return oe.withConfig&&(ue.withConfig=oe.withConfig),ue}}function rw(n,l){return void 0}function iw(n){for(const l in n)return!1;return!0}function ow(n){return typeof n=="string"&&n.charCodeAt(0)>96}function sw(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const lw=By();function Wg(n,l){const o={...l};for(const c in n)if(Object.prototype.hasOwnProperty.call(n,c)){const h=c;if(h==="components"||h==="slots")o[h]={...n[h],...o[h]};else if(h==="componentsProps"||h==="slotProps"){const m=n[h],T=l[h];if(!T)o[h]=m||{};else if(!m)o[h]=T;else{o[h]={...T};for(const E in m)if(Object.prototype.hasOwnProperty.call(m,E)){const v=E;o[h][v]=Wg(m[v],T[v])}}}else o[h]===void 0&&(o[h]=n[h])}return o}function uw(n){const{theme:l,name:o,props:c}=n;return!l||!l.components||!l.components[o]||!l.components[o].defaultProps?c:Wg(l.components[o].defaultProps,c)}function cw({props:n,name:l,defaultTheme:o,themeId:c}){let h=k_(o);return c&&(h=h[c]||h),uw({theme:h,name:l,props:n})}function aw(n,l=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER){return Math.max(l,Math.min(n,o))}function R_(n,l=0,o=1){return aw(n,l,o)}function dw(n){n=n.slice(1);const l=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let o=n.match(l);return o&&o[0].length===1&&(o=o.map(c=>c+c)),o?`rgb${o.length===4?"a":""}(${o.map((c,h)=>h<3?parseInt(c,16):Math.round(parseInt(c,16)/255*1e3)/1e3).join(", ")})`:""}function gu(n){if(n.type)return n;if(n.charAt(0)==="#")return gu(dw(n));const l=n.indexOf("("),o=n.substring(0,l);if(!["rgb","rgba","hsl","hsla","color"].includes(o))throw new Error(Uc(9,n));let c=n.substring(l+1,n.length-1),h;if(o==="color"){if(c=c.split(" "),h=c.shift(),c.length===4&&c[3].charAt(0)==="/"&&(c[3]=c[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(h))throw new Error(Uc(10,h))}else c=c.split(",");return c=c.map(m=>parseFloat(m)),{type:o,values:c,colorSpace:h}}const hw=n=>{const l=gu(n);return l.values.slice(0,3).map((o,c)=>l.type.includes("hsl")&&c!==0?`${o}%`:o).join(" ")},qp=(n,l)=>{try{return hw(n)}catch{return n}};function dm(n){const{type:l,colorSpace:o}=n;let{values:c}=n;return l.includes("rgb")?c=c.map((h,m)=>m<3?parseInt(h,10):h):l.includes("hsl")&&(c[1]=`${c[1]}%`,c[2]=`${c[2]}%`),l.includes("color")?c=`${o} ${c.join(" ")}`:c=`${c.join(", ")}`,`${l}(${c})`}function Fy(n){n=gu(n);const{values:l}=n,o=l[0],c=l[1]/100,h=l[2]/100,m=c*Math.min(h,1-h),T=(I,M=(I+o/30)%12)=>h-m*Math.max(Math.min(M-3,9-M,1),-1);let E="rgb";const v=[Math.round(T(0)*255),Math.round(T(8)*255),Math.round(T(4)*255)];return n.type==="hsla"&&(E+="a",v.push(l[3])),dm({type:E,values:v})}function J$(n){n=gu(n);let l=n.type==="hsl"||n.type==="hsla"?gu(Fy(n)).values:n.values;return l=l.map(o=>(n.type!=="color"&&(o/=255),o<=.03928?o/12.92:((o+.055)/1.055)**2.4)),Number((.2126*l[0]+.7152*l[1]+.0722*l[2]).toFixed(3))}function pw(n,l){const o=J$(n),c=J$(l);return(Math.max(o,c)+.05)/(Math.min(o,c)+.05)}function q$(n,l){return n=gu(n),l=R_(l),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${l}`:n.values[3]=l,dm(n)}function Eg(n,l,o){try{return q$(n,l)}catch{return n}}function L_(n,l){if(n=gu(n),l=R_(l),n.type.includes("hsl"))n.values[2]*=1-l;else if(n.type.includes("rgb")||n.type.includes("color"))for(let o=0;o<3;o+=1)n.values[o]*=1-l;return dm(n)}function Ft(n,l,o){try{return L_(n,l)}catch{return n}}function A_(n,l){if(n=gu(n),l=R_(l),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*l;else if(n.type.includes("rgb"))for(let o=0;o<3;o+=1)n.values[o]+=(255-n.values[o])*l;else if(n.type.includes("color"))for(let o=0;o<3;o+=1)n.values[o]+=(1-n.values[o])*l;return dm(n)}function Ut(n,l,o){try{return A_(n,l)}catch{return n}}function fw(n,l=.15){return J$(n)>.5?L_(n,l):A_(n,l)}function bg(n,l,o){try{return fw(n,l)}catch{return n}}function _f(n,l,o=void 0){const c={};for(const h in n){const m=n[h];let T="",E=!0;for(let v=0;v<m.length;v+=1){const I=m[v];I&&(T+=(E===!0?"":" ")+l(I),E=!1,o&&o[I]&&(T+=" "+o[I]))}c[h]=T}return c}const gw=me.createContext(void 0);function mw(n){const{theme:l,name:o,props:c}=n;if(!l||!l.components||!l.components[o])return c;const h=l.components[o];return h.defaultProps?Wg(h.defaultProps,c):!h.styleOverrides&&!h.variants?Wg(h,c):c}function $w({props:n,name:l}){const o=me.useContext(gw);return mw({props:n,name:l,theme:{components:o}})}const cb={theme:void 0};function _w(n){let l,o;return function(h){let m=l;return(m===void 0||h.theme!==o)&&(cb.theme=h.theme,m=xy(n(cb)),l=m,o=h.theme),m}}function Tw(n=""){function l(...c){if(!c.length)return"";const h=c[0];return typeof h=="string"&&!h.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${h}${l(...c.slice(1))})`:`, ${h}`}return(c,...h)=>`var(--${n?`${n}-`:""}${c}${l(...h)})`}const ab=(n,l,o,c=[])=>{let h=n;l.forEach((m,T)=>{T===l.length-1?Array.isArray(h)?h[Number(m)]=o:h&&typeof h=="object"&&(h[m]=o):h&&typeof h=="object"&&(h[m]||(h[m]=c.includes(m)?[]:{}),h=h[m])})},Ew=(n,l,o)=>{function c(h,m=[],T=[]){Object.entries(h).forEach(([E,v])=>{(!o||!o([...m,E]))&&v!=null&&(typeof v=="object"&&Object.keys(v).length>0?c(v,[...m,E],Array.isArray(v)?[...T,E]:T):l([...m,E],v,T))})}c(n)},bw=(n,l)=>typeof l=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(c=>n.includes(c))||n[n.length-1].toLowerCase().includes("opacity")?l:`${l}px`:l;function A$(n,l){const{prefix:o,shouldSkipGeneratingVar:c}=l||{},h={},m={},T={};return Ew(n,(E,v,I)=>{if((typeof v=="string"||typeof v=="number")&&(!c||!c(E,v))){const M=`--${o?`${o}-`:""}${E.join("-")}`,w=bw(E,v);Object.assign(h,{[M]:w}),ab(m,E,`var(${M})`,I),ab(T,E,`var(${M}, ${w})`,I)}},E=>E[0]==="vars"),{css:h,vars:m,varsWithDefaults:T}}function yw(n,l={}){const{getSelector:o=z,disableCssColorScheme:c,colorSchemeSelector:h}=l,{colorSchemes:m={},components:T,defaultColorScheme:E="light",...v}=n,{vars:I,css:M,varsWithDefaults:w}=A$(v,l);let k=w;const H={},{[E]:P,...O}=m;if(Object.entries(O||{}).forEach(([ne,ue])=>{const{vars:ge,css:ce,varsWithDefaults:re}=A$(ue,l);k=Rr(k,re),H[ne]={css:ce,vars:ge}}),P){const{css:ne,vars:ue,varsWithDefaults:ge}=A$(P,l);k=Rr(k,ge),H[E]={css:ne,vars:ue}}function z(ne,ue){var ce,re;let ge=h;if(h==="class"&&(ge=".%s"),h==="data"&&(ge="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(ge=`[${h}="%s"]`),ne){if(ge==="media")return n.defaultColorScheme===ne?":root":{[`@media (prefers-color-scheme: ${((re=(ce=m[ne])==null?void 0:ce.palette)==null?void 0:re.mode)||ne})`]:{":root":ue}};if(ge)return n.defaultColorScheme===ne?`:root, ${ge.replace("%s",String(ne))}`:ge.replace("%s",String(ne))}return":root"}return{vars:k,generateThemeVars:()=>{let ne={...I};return Object.entries(H).forEach(([,{vars:ue}])=>{ne=Rr(ne,ue)}),ne},generateStyleSheets:()=>{var pe,Fe;const ne=[],ue=n.defaultColorScheme||"light";function ge(L,ve){Object.keys(ve).length&&ne.push(typeof L=="string"?{[L]:{...ve}}:L)}ge(o(void 0,{...M}),M);const{[ue]:ce,...re}=H;if(ce){const{css:L}=ce,ve=(Fe=(pe=m[ue])==null?void 0:pe.palette)==null?void 0:Fe.mode,ke=!c&&ve?{colorScheme:ve,...L}:{...L};ge(o(ue,{...ke}),ke)}return Object.entries(re).forEach(([L,{css:ve}])=>{var Le,Ve;const ke=(Ve=(Le=m[L])==null?void 0:Le.palette)==null?void 0:Ve.mode,Ne=!c&&ke?{colorScheme:ke,...ve}:{...ve};ge(o(L,{...Ne}),Ne)}),ne}}}function vw(n){return function(o){return n==="media"?`@media (prefers-color-scheme: ${o})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${o}"] &`:n==="class"?`.${o} &`:n==="data"?`[data-${o}] &`:`${n.replace("%s",o)} &`:"&"}}const Sw=am(),Iw=lw("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,l)=>l.root});function Cw(n){return cw({props:n,name:"MuiStack",defaultTheme:Sw})}function ww(n,l){const o=me.Children.toArray(n).filter(Boolean);return o.reduce((c,h,m)=>(c.push(h),m<o.length-1&&c.push(me.cloneElement(l,{key:`separator-${m}`})),c),[])}const kw=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],Ow=({ownerState:n,theme:l})=>{let o={display:"flex",flexDirection:"column",...ko({theme:l},R$({values:n.direction,breakpoints:l.breakpoints.values}),c=>({flexDirection:c}))};if(n.spacing){const c=im(l),h=Object.keys(l.breakpoints.values).reduce((v,I)=>((typeof n.spacing=="object"&&n.spacing[I]!=null||typeof n.direction=="object"&&n.direction[I]!=null)&&(v[I]=!0),v),{}),m=R$({values:n.direction,base:h}),T=R$({values:n.spacing,base:h});typeof m=="object"&&Object.keys(m).forEach((v,I,M)=>{if(!m[v]){const k=I>0?m[M[I-1]]:"column";m[v]=k}}),o=Rr(o,ko({theme:l},T,(v,I)=>n.useFlexGap?{gap:Hc(c,v)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${kw(I?m[I]:n.direction)}`]:Hc(c,v)}}))}return o=oC(l.breakpoints,o),o};function Rw(n={}){const{createStyledComponent:l=Iw,useThemeProps:o=Cw,componentName:c="MuiStack"}=n,h=()=>_f({root:["root"]},v=>jd(c,v),{}),m=l(Ow);return me.forwardRef(function(v,I){const M=o(v),w=O_(M),{component:k="div",direction:H="column",spacing:P=0,divider:O,children:z,className:ee,useFlexGap:oe=!1,...ne}=w,ue={direction:H,spacing:P,useFlexGap:oe},ge=h();return N.jsx(m,{as:k,ownerState:ue,ref:I,className:Wd(ge.root,ee),...ne,children:O?ww(z,O):z})})}const Lw=Rw();function Uy(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:sf.white,default:sf.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Aw=Uy();function Hy(){return{text:{primary:sf.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:sf.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const db=Hy();function hb(n,l,o,c){const h=c.light||c,m=c.dark||c*1.5;n[l]||(n.hasOwnProperty(o)?n[l]=n[o]:l==="light"?n.light=A_(n.main,h):l==="dark"&&(n.dark=L_(n.main,m)))}function Dw(n="light"){return n==="dark"?{main:wd[200],light:wd[50],dark:wd[400]}:{main:wd[700],light:wd[400],dark:wd[800]}}function Nw(n="light"){return n==="dark"?{main:Cd[200],light:Cd[50],dark:Cd[400]}:{main:Cd[500],light:Cd[300],dark:Cd[700]}}function Mw(n="light"){return n==="dark"?{main:Id[500],light:Id[300],dark:Id[700]}:{main:Id[700],light:Id[400],dark:Id[800]}}function xw(n="light"){return n==="dark"?{main:kd[400],light:kd[300],dark:kd[700]}:{main:kd[700],light:kd[500],dark:kd[900]}}function Pw(n="light"){return n==="dark"?{main:Od[400],light:Od[300],dark:Od[700]}:{main:Od[800],light:Od[500],dark:Od[900]}}function Bw(n="light"){return n==="dark"?{main:Xp[400],light:Xp[300],dark:Xp[700]}:{main:"#ed6c02",light:Xp[500],dark:Xp[900]}}function D_(n){const{mode:l="light",contrastThreshold:o=3,tonalOffset:c=.2,...h}=n,m=n.primary||Dw(l),T=n.secondary||Nw(l),E=n.error||Mw(l),v=n.info||xw(l),I=n.success||Pw(l),M=n.warning||Bw(l);function w(O){return pw(O,db.text.primary)>=o?db.text.primary:Aw.text.primary}const k=({color:O,name:z,mainShade:ee=500,lightShade:oe=300,darkShade:ne=700})=>{if(O={...O},!O.main&&O[ee]&&(O.main=O[ee]),!O.hasOwnProperty("main"))throw new Error(Uc(11,z?` (${z})`:"",ee));if(typeof O.main!="string")throw new Error(Uc(12,z?` (${z})`:"",JSON.stringify(O.main)));return hb(O,"light",oe,c),hb(O,"dark",ne,c),O.contrastText||(O.contrastText=w(O.main)),O};let H;return l==="light"?H=Uy():l==="dark"&&(H=Hy()),Rr({common:{...sf},mode:l,primary:k({color:m,name:"primary"}),secondary:k({color:T,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:k({color:E,name:"error"}),warning:k({color:M,name:"warning"}),info:k({color:v,name:"info"}),success:k({color:I,name:"success"}),grey:YS,contrastThreshold:o,getContrastText:w,augmentColor:k,tonalOffset:c,...H},h)}function Fw(n){const l={};return Object.entries(n).forEach(c=>{const[h,m]=c;typeof m=="object"&&(l[h]=`${m.fontStyle?`${m.fontStyle} `:""}${m.fontVariant?`${m.fontVariant} `:""}${m.fontWeight?`${m.fontWeight} `:""}${m.fontStretch?`${m.fontStretch} `:""}${m.fontSize||""}${m.lineHeight?`/${m.lineHeight} `:""}${m.fontFamily||""}`)}),l}function Uw(n,l){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...l}}function Hw(n){return Math.round(n*1e5)/1e5}const pb={textTransform:"uppercase"},fb='"Roboto", "Helvetica", "Arial", sans-serif';function Vw(n,l){const{fontFamily:o=fb,fontSize:c=14,fontWeightLight:h=300,fontWeightRegular:m=400,fontWeightMedium:T=500,fontWeightBold:E=700,htmlFontSize:v=16,allVariants:I,pxToRem:M,...w}=typeof l=="function"?l(n):l,k=c/14,H=M||(z=>`${z/v*k}rem`),P=(z,ee,oe,ne,ue)=>({fontFamily:o,fontWeight:z,fontSize:H(ee),lineHeight:oe,...o===fb?{letterSpacing:`${Hw(ne/ee)}em`}:{},...ue,...I}),O={h1:P(h,96,1.167,-1.5),h2:P(h,60,1.2,-.5),h3:P(m,48,1.167,0),h4:P(m,34,1.235,.25),h5:P(m,24,1.334,0),h6:P(T,20,1.6,.15),subtitle1:P(m,16,1.75,.15),subtitle2:P(T,14,1.57,.1),body1:P(m,16,1.5,.15),body2:P(m,14,1.43,.15),button:P(T,14,1.75,.4,pb),caption:P(m,12,1.66,.4),overline:P(m,12,2.66,1,pb),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Rr({htmlFontSize:v,pxToRem:H,fontFamily:o,fontSize:c,fontWeightLight:h,fontWeightRegular:m,fontWeightMedium:T,fontWeightBold:E,...O},w,{clone:!1})}const Gw=.2,Ww=.14,jw=.12;function sn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${Gw})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${Ww})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${jw})`].join(",")}const zw=["none",sn(0,2,1,-1,0,1,1,0,0,1,3,0),sn(0,3,1,-2,0,2,2,0,0,1,5,0),sn(0,3,3,-2,0,3,4,0,0,1,8,0),sn(0,2,4,-1,0,4,5,0,0,1,10,0),sn(0,3,5,-1,0,5,8,0,0,1,14,0),sn(0,3,5,-1,0,6,10,0,0,1,18,0),sn(0,4,5,-2,0,7,10,1,0,2,16,1),sn(0,5,5,-3,0,8,10,1,0,3,14,2),sn(0,5,6,-3,0,9,12,1,0,3,16,2),sn(0,6,6,-3,0,10,14,1,0,4,18,3),sn(0,6,7,-4,0,11,15,1,0,4,20,3),sn(0,7,8,-4,0,12,17,2,0,5,22,4),sn(0,7,8,-4,0,13,19,2,0,5,24,4),sn(0,7,9,-4,0,14,21,2,0,5,26,4),sn(0,8,9,-5,0,15,22,2,0,6,28,5),sn(0,8,10,-5,0,16,24,2,0,6,30,5),sn(0,8,11,-5,0,17,26,2,0,6,32,5),sn(0,9,11,-5,0,18,28,2,0,7,34,6),sn(0,9,12,-6,0,19,29,2,0,7,36,6),sn(0,10,13,-6,0,20,31,3,0,8,38,7),sn(0,10,13,-6,0,21,33,3,0,8,40,7),sn(0,10,14,-6,0,22,35,3,0,8,42,7),sn(0,11,14,-7,0,23,36,3,0,9,44,8),sn(0,11,15,-7,0,24,38,3,0,9,46,8)],Xw={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Kw={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function gb(n){return`${Math.round(n)}ms`}function Yw(n){if(!n)return 0;const l=n/36;return Math.min(Math.round((4+15*l**.25+l/5)*10),3e3)}function Jw(n){const l={...Xw,...n.easing},o={...Kw,...n.duration};return{getAutoHeightDuration:Yw,create:(h=["all"],m={})=>{const{duration:T=o.standard,easing:E=l.easeInOut,delay:v=0,...I}=m;return(Array.isArray(h)?h:[h]).map(M=>`${M} ${typeof T=="string"?T:gb(T)} ${E} ${typeof v=="string"?v:gb(v)}`).join(",")},...n,easing:l,duration:o}}const qw={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Qw(n){return ps(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function Vy(n={}){const l={...n};function o(c){const h=Object.entries(c);for(let m=0;m<h.length;m++){const[T,E]=h[m];!Qw(E)||T.startsWith("unstable_")?delete c[T]:ps(E)&&(c[T]={...E},o(c[T]))}}return o(l),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(l,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Q$(n={},...l){const{breakpoints:o,mixins:c={},spacing:h,palette:m={},transitions:T={},typography:E={},shape:v,...I}=n;if(n.vars)throw new Error(Uc(20));const M=D_(m),w=am(n);let k=Rr(w,{mixins:Uw(w.breakpoints,c),palette:M,shadows:zw.slice(),typography:Vw(M,E),transitions:Jw(T),zIndex:{...qw}});return k=Rr(k,I),k=l.reduce((H,P)=>Rr(H,P),k),k.unstable_sxConfig={...mf,...I==null?void 0:I.unstable_sxConfig},k.unstable_sx=function(P){return Vc({sx:P,theme:this})},k.toRuntimeSource=Vy,k}function Z$(n){let l;return n<1?l=5.11916*n**2:l=4.5*Math.log(n+1)+2,Math.round(l*10)/1e3}const Zw=[...Array(25)].map((n,l)=>{if(l===0)return"none";const o=Z$(l);return`linear-gradient(rgba(255 255 255 / ${o}), rgba(255 255 255 / ${o}))`});function Gy(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function Wy(n){return n==="dark"?Zw:[]}function ek(n){const{palette:l={mode:"light"},opacity:o,overlays:c,...h}=n,m=D_(l);return{palette:m,opacity:{...Gy(m.mode),...o},overlays:c||Wy(m.mode),...h}}function tk(n){var l;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((l=n[1])!=null&&l.match(/(mode|contrastThreshold|tonalOffset)/))}const nk=n=>[...[...Array(25)].map((l,o)=>`--${n?`${n}-`:""}overlays-${o}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],rk=n=>(l,o)=>{const c=n.rootSelector||":root",h=n.colorSchemeSelector;let m=h;if(h==="class"&&(m=".%s"),h==="data"&&(m="[data-%s]"),h!=null&&h.startsWith("data-")&&!h.includes("%s")&&(m=`[${h}="%s"]`),n.defaultColorScheme===l){if(l==="dark"){const T={};return nk(n.cssVarPrefix).forEach(E=>{T[E]=o[E],delete o[E]}),m==="media"?{[c]:o,"@media (prefers-color-scheme: dark)":{[c]:T}}:m?{[m.replace("%s",l)]:T,[`${c}, ${m.replace("%s",l)}`]:o}:{[c]:{...o,...T}}}if(m&&m!=="media")return`${c}, ${m.replace("%s",String(l))}`}else if(l){if(m==="media")return{[`@media (prefers-color-scheme: ${String(l)})`]:{[c]:o}};if(m)return m.replace("%s",String(l))}return c};function ik(n,l){l.forEach(o=>{n[o]||(n[o]={})})}function de(n,l,o){!n[l]&&o&&(n[l]=o)}function Qp(n){return typeof n!="string"||!n.startsWith("hsl")?n:Fy(n)}function fl(n,l){`${l}Channel`in n||(n[`${l}Channel`]=qp(Qp(n[l])))}function ok(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const cs=n=>{try{return n()}catch{}},sk=(n="mui")=>Tw(n);function D$(n,l,o,c){if(!l)return;l=l===!0?{}:l;const h=c==="dark"?"dark":"light";if(!o){n[c]=ek({...l,palette:{mode:h,...l==null?void 0:l.palette}});return}const{palette:m,...T}=Q$({...o,palette:{mode:h,...l==null?void 0:l.palette}});return n[c]={...l,palette:m,opacity:{...Gy(h),...l==null?void 0:l.opacity},overlays:(l==null?void 0:l.overlays)||Wy(h)},T}function lk(n={},...l){const{colorSchemes:o={light:!0},defaultColorScheme:c,disableCssColorScheme:h=!1,cssVarPrefix:m="mui",shouldSkipGeneratingVar:T=tk,colorSchemeSelector:E=o.light&&o.dark?"media":void 0,rootSelector:v=":root",...I}=n,M=Object.keys(o)[0],w=c||(o.light&&M!=="light"?"light":M),k=sk(m),{[w]:H,light:P,dark:O,...z}=o,ee={...z};let oe=H;if((w==="dark"&&!("dark"in o)||w==="light"&&!("light"in o))&&(oe=!0),!oe)throw new Error(Uc(21,w));const ne=D$(ee,oe,I,w);P&&!ee.light&&D$(ee,P,void 0,"light"),O&&!ee.dark&&D$(ee,O,void 0,"dark");let ue={defaultColorScheme:w,...ne,cssVarPrefix:m,colorSchemeSelector:E,rootSelector:v,getCssVar:k,colorSchemes:ee,font:{...Fw(ne.typography),...ne.font},spacing:ok(I.spacing)};Object.keys(ue.colorSchemes).forEach(Fe=>{const L=ue.colorSchemes[Fe].palette,ve=ke=>{const Ne=ke.split("-"),Le=Ne[1],Ve=Ne[2];return k(ke,L[Le][Ve])};if(L.mode==="light"&&(de(L.common,"background","#fff"),de(L.common,"onBackground","#000")),L.mode==="dark"&&(de(L.common,"background","#000"),de(L.common,"onBackground","#fff")),ik(L,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),L.mode==="light"){de(L.Alert,"errorColor",Ft(L.error.light,.6)),de(L.Alert,"infoColor",Ft(L.info.light,.6)),de(L.Alert,"successColor",Ft(L.success.light,.6)),de(L.Alert,"warningColor",Ft(L.warning.light,.6)),de(L.Alert,"errorFilledBg",ve("palette-error-main")),de(L.Alert,"infoFilledBg",ve("palette-info-main")),de(L.Alert,"successFilledBg",ve("palette-success-main")),de(L.Alert,"warningFilledBg",ve("palette-warning-main")),de(L.Alert,"errorFilledColor",cs(()=>L.getContrastText(L.error.main))),de(L.Alert,"infoFilledColor",cs(()=>L.getContrastText(L.info.main))),de(L.Alert,"successFilledColor",cs(()=>L.getContrastText(L.success.main))),de(L.Alert,"warningFilledColor",cs(()=>L.getContrastText(L.warning.main))),de(L.Alert,"errorStandardBg",Ut(L.error.light,.9)),de(L.Alert,"infoStandardBg",Ut(L.info.light,.9)),de(L.Alert,"successStandardBg",Ut(L.success.light,.9)),de(L.Alert,"warningStandardBg",Ut(L.warning.light,.9)),de(L.Alert,"errorIconColor",ve("palette-error-main")),de(L.Alert,"infoIconColor",ve("palette-info-main")),de(L.Alert,"successIconColor",ve("palette-success-main")),de(L.Alert,"warningIconColor",ve("palette-warning-main")),de(L.AppBar,"defaultBg",ve("palette-grey-100")),de(L.Avatar,"defaultBg",ve("palette-grey-400")),de(L.Button,"inheritContainedBg",ve("palette-grey-300")),de(L.Button,"inheritContainedHoverBg",ve("palette-grey-A100")),de(L.Chip,"defaultBorder",ve("palette-grey-400")),de(L.Chip,"defaultAvatarColor",ve("palette-grey-700")),de(L.Chip,"defaultIconColor",ve("palette-grey-700")),de(L.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),de(L.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),de(L.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),de(L.LinearProgress,"primaryBg",Ut(L.primary.main,.62)),de(L.LinearProgress,"secondaryBg",Ut(L.secondary.main,.62)),de(L.LinearProgress,"errorBg",Ut(L.error.main,.62)),de(L.LinearProgress,"infoBg",Ut(L.info.main,.62)),de(L.LinearProgress,"successBg",Ut(L.success.main,.62)),de(L.LinearProgress,"warningBg",Ut(L.warning.main,.62)),de(L.Skeleton,"bg",`rgba(${ve("palette-text-primaryChannel")} / 0.11)`),de(L.Slider,"primaryTrack",Ut(L.primary.main,.62)),de(L.Slider,"secondaryTrack",Ut(L.secondary.main,.62)),de(L.Slider,"errorTrack",Ut(L.error.main,.62)),de(L.Slider,"infoTrack",Ut(L.info.main,.62)),de(L.Slider,"successTrack",Ut(L.success.main,.62)),de(L.Slider,"warningTrack",Ut(L.warning.main,.62));const ke=bg(L.background.default,.8);de(L.SnackbarContent,"bg",ke),de(L.SnackbarContent,"color",cs(()=>L.getContrastText(ke))),de(L.SpeedDialAction,"fabHoverBg",bg(L.background.paper,.15)),de(L.StepConnector,"border",ve("palette-grey-400")),de(L.StepContent,"border",ve("palette-grey-400")),de(L.Switch,"defaultColor",ve("palette-common-white")),de(L.Switch,"defaultDisabledColor",ve("palette-grey-100")),de(L.Switch,"primaryDisabledColor",Ut(L.primary.main,.62)),de(L.Switch,"secondaryDisabledColor",Ut(L.secondary.main,.62)),de(L.Switch,"errorDisabledColor",Ut(L.error.main,.62)),de(L.Switch,"infoDisabledColor",Ut(L.info.main,.62)),de(L.Switch,"successDisabledColor",Ut(L.success.main,.62)),de(L.Switch,"warningDisabledColor",Ut(L.warning.main,.62)),de(L.TableCell,"border",Ut(Eg(L.divider,1),.88)),de(L.Tooltip,"bg",Eg(L.grey[700],.92))}if(L.mode==="dark"){de(L.Alert,"errorColor",Ut(L.error.light,.6)),de(L.Alert,"infoColor",Ut(L.info.light,.6)),de(L.Alert,"successColor",Ut(L.success.light,.6)),de(L.Alert,"warningColor",Ut(L.warning.light,.6)),de(L.Alert,"errorFilledBg",ve("palette-error-dark")),de(L.Alert,"infoFilledBg",ve("palette-info-dark")),de(L.Alert,"successFilledBg",ve("palette-success-dark")),de(L.Alert,"warningFilledBg",ve("palette-warning-dark")),de(L.Alert,"errorFilledColor",cs(()=>L.getContrastText(L.error.dark))),de(L.Alert,"infoFilledColor",cs(()=>L.getContrastText(L.info.dark))),de(L.Alert,"successFilledColor",cs(()=>L.getContrastText(L.success.dark))),de(L.Alert,"warningFilledColor",cs(()=>L.getContrastText(L.warning.dark))),de(L.Alert,"errorStandardBg",Ft(L.error.light,.9)),de(L.Alert,"infoStandardBg",Ft(L.info.light,.9)),de(L.Alert,"successStandardBg",Ft(L.success.light,.9)),de(L.Alert,"warningStandardBg",Ft(L.warning.light,.9)),de(L.Alert,"errorIconColor",ve("palette-error-main")),de(L.Alert,"infoIconColor",ve("palette-info-main")),de(L.Alert,"successIconColor",ve("palette-success-main")),de(L.Alert,"warningIconColor",ve("palette-warning-main")),de(L.AppBar,"defaultBg",ve("palette-grey-900")),de(L.AppBar,"darkBg",ve("palette-background-paper")),de(L.AppBar,"darkColor",ve("palette-text-primary")),de(L.Avatar,"defaultBg",ve("palette-grey-600")),de(L.Button,"inheritContainedBg",ve("palette-grey-800")),de(L.Button,"inheritContainedHoverBg",ve("palette-grey-700")),de(L.Chip,"defaultBorder",ve("palette-grey-700")),de(L.Chip,"defaultAvatarColor",ve("palette-grey-300")),de(L.Chip,"defaultIconColor",ve("palette-grey-300")),de(L.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),de(L.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),de(L.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),de(L.LinearProgress,"primaryBg",Ft(L.primary.main,.5)),de(L.LinearProgress,"secondaryBg",Ft(L.secondary.main,.5)),de(L.LinearProgress,"errorBg",Ft(L.error.main,.5)),de(L.LinearProgress,"infoBg",Ft(L.info.main,.5)),de(L.LinearProgress,"successBg",Ft(L.success.main,.5)),de(L.LinearProgress,"warningBg",Ft(L.warning.main,.5)),de(L.Skeleton,"bg",`rgba(${ve("palette-text-primaryChannel")} / 0.13)`),de(L.Slider,"primaryTrack",Ft(L.primary.main,.5)),de(L.Slider,"secondaryTrack",Ft(L.secondary.main,.5)),de(L.Slider,"errorTrack",Ft(L.error.main,.5)),de(L.Slider,"infoTrack",Ft(L.info.main,.5)),de(L.Slider,"successTrack",Ft(L.success.main,.5)),de(L.Slider,"warningTrack",Ft(L.warning.main,.5));const ke=bg(L.background.default,.98);de(L.SnackbarContent,"bg",ke),de(L.SnackbarContent,"color",cs(()=>L.getContrastText(ke))),de(L.SpeedDialAction,"fabHoverBg",bg(L.background.paper,.15)),de(L.StepConnector,"border",ve("palette-grey-600")),de(L.StepContent,"border",ve("palette-grey-600")),de(L.Switch,"defaultColor",ve("palette-grey-300")),de(L.Switch,"defaultDisabledColor",ve("palette-grey-600")),de(L.Switch,"primaryDisabledColor",Ft(L.primary.main,.55)),de(L.Switch,"secondaryDisabledColor",Ft(L.secondary.main,.55)),de(L.Switch,"errorDisabledColor",Ft(L.error.main,.55)),de(L.Switch,"infoDisabledColor",Ft(L.info.main,.55)),de(L.Switch,"successDisabledColor",Ft(L.success.main,.55)),de(L.Switch,"warningDisabledColor",Ft(L.warning.main,.55)),de(L.TableCell,"border",Ft(Eg(L.divider,1),.68)),de(L.Tooltip,"bg",Eg(L.grey[700],.92))}fl(L.background,"default"),fl(L.background,"paper"),fl(L.common,"background"),fl(L.common,"onBackground"),fl(L,"divider"),Object.keys(L).forEach(ke=>{const Ne=L[ke];ke!=="tonalOffset"&&Ne&&typeof Ne=="object"&&(Ne.main&&de(L[ke],"mainChannel",qp(Qp(Ne.main))),Ne.light&&de(L[ke],"lightChannel",qp(Qp(Ne.light))),Ne.dark&&de(L[ke],"darkChannel",qp(Qp(Ne.dark))),Ne.contrastText&&de(L[ke],"contrastTextChannel",qp(Qp(Ne.contrastText))),ke==="text"&&(fl(L[ke],"primary"),fl(L[ke],"secondary")),ke==="action"&&(Ne.active&&fl(L[ke],"active"),Ne.selected&&fl(L[ke],"selected")))})}),ue=l.reduce((Fe,L)=>Rr(Fe,L),ue);const ge={prefix:m,disableCssColorScheme:h,shouldSkipGeneratingVar:T,getSelector:rk(ue)},{vars:ce,generateThemeVars:re,generateStyleSheets:pe}=yw(ue,ge);return ue.vars=ce,Object.entries(ue.colorSchemes[ue.defaultColorScheme]).forEach(([Fe,L])=>{ue[Fe]=L}),ue.generateThemeVars=re,ue.generateStyleSheets=pe,ue.generateSpacing=function(){return Dy(I.spacing,im(this))},ue.getColorSchemeSelector=vw(E),ue.spacing=ue.generateSpacing(),ue.shouldSkipGeneratingVar=T,ue.unstable_sxConfig={...mf,...I==null?void 0:I.unstable_sxConfig},ue.unstable_sx=function(L){return Vc({sx:L,theme:this})},ue.toRuntimeSource=Vy,ue}function mb(n,l,o){n.colorSchemes&&o&&(n.colorSchemes[l]={...o!==!0&&o,palette:D_({...o===!0?{}:o.palette,mode:l})})}function jy(n={},...l){const{palette:o,cssVariables:c=!1,colorSchemes:h=o?void 0:{light:!0},defaultColorScheme:m=o==null?void 0:o.mode,...T}=n,E=m||"light",v=h==null?void 0:h[E],I={...h,...o?{[E]:{...typeof v!="boolean"&&v,palette:o}}:void 0};if(c===!1){if(!("colorSchemes"in n))return Q$(n,...l);let M=o;"palette"in n||I[E]&&(I[E]!==!0?M=I[E].palette:E==="dark"&&(M={mode:"dark"}));const w=Q$({...n,palette:M},...l);return w.defaultColorScheme=E,w.colorSchemes=I,w.palette.mode==="light"&&(w.colorSchemes.light={...I.light!==!0&&I.light,palette:w.palette},mb(w,"dark",I.dark)),w.palette.mode==="dark"&&(w.colorSchemes.dark={...I.dark!==!0&&I.dark,palette:w.palette},mb(w,"light",I.light)),w}return!o&&!("light"in I)&&E==="light"&&(I.light=!0),lk({...T,colorSchemes:I,defaultColorScheme:E,...typeof c!="boolean"&&c},...l)}const zy=jy();function uk(){const n=k_(zy);return n[b_]||n}function ck(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const ak=n=>ck(n)&&n!=="classes",hm=By({themeId:b_,defaultTheme:zy,rootShouldForwardProp:ak});function dk(){return O_}const Xy=_w;function pm(n){return $w(n)}function hk(n,l){if(n==null)return{};var o={};for(var c in n)if({}.hasOwnProperty.call(n,c)){if(l.includes(c))continue;o[c]=n[c]}return o}function e_(n,l){return e_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},e_(n,l)}function pk(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fk(n){return jd("MuiPaper",n)}$f("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gk=n=>{const{square:l,elevation:o,variant:c,classes:h}=n,m={root:["root",c,!l&&"rounded",c==="elevation"&&`elevation${o}`]};return _f(m,fk,h)},mk=hm("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,l)=>{const{ownerState:o}=n;return[l.root,l[o.variant],!o.square&&l.rounded,o.variant==="elevation"&&l[`elevation${o.elevation}`]]}})(Xy(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:l})=>!l.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),$k=me.forwardRef(function(l,o){var H;const c=pm({props:l,name:"MuiPaper"}),h=uk(),{className:m,component:T="div",elevation:E=1,square:v=!1,variant:I="elevation",...M}=c,w={...c,component:T,elevation:E,square:v,variant:I},k=gk(w);return N.jsx(mk,{as:T,ownerState:w,className:Wd(k.root,m),ref:o,...M,style:{...I==="elevation"&&{"--Paper-shadow":(h.vars||h).shadows[E],...h.vars&&{"--Paper-overlay":(H=h.vars.overlays)==null?void 0:H[E]},...!h.vars&&h.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${q$("#fff",Z$(E))}, ${q$("#fff",Z$(E))})`}},...M.style}})});function _k(n){return typeof n.main=="string"}function Tk(n,l=[]){if(!_k(n))return!1;for(const o of l)if(!n.hasOwnProperty(o)||typeof n[o]!="string")return!1;return!0}function Ek(n=[]){return([,l])=>l&&Tk(l,n)}function bk(n){return jd("MuiTypography",n)}$f("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const yk={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},vk=dk(),Sk=n=>{const{align:l,gutterBottom:o,noWrap:c,paragraph:h,variant:m,classes:T}=n,E={root:["root",m,n.align!=="inherit"&&`align${df(l)}`,o&&"gutterBottom",c&&"noWrap",h&&"paragraph"]};return _f(E,bk,T)},Ik=hm("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,l)=>{const{ownerState:o}=n;return[l.root,o.variant&&l[o.variant],o.align!=="inherit"&&l[`align${df(o.align)}`],o.noWrap&&l.noWrap,o.gutterBottom&&l.gutterBottom,o.paragraph&&l.paragraph]}})(Xy(({theme:n})=>{var l;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([o,c])=>o!=="inherit"&&c&&typeof c=="object").map(([o,c])=>({props:{variant:o},style:c})),...Object.entries(n.palette).filter(Ek()).map(([o])=>({props:{color:o},style:{color:(n.vars||n).palette[o].main}})),...Object.entries(((l=n.palette)==null?void 0:l.text)||{}).filter(([,o])=>typeof o=="string").map(([o])=>({props:{color:`text${df(o)}`},style:{color:(n.vars||n).palette.text[o]}})),{props:({ownerState:o})=>o.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:o})=>o.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:o})=>o.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:o})=>o.paragraph,style:{marginBottom:16}}]}})),$b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},N$=me.forwardRef(function(l,o){const{color:c,...h}=pm({props:l,name:"MuiTypography"}),m=!yk[c],T=vk({...h,...m&&{color:c}}),{align:E="inherit",className:v,component:I,gutterBottom:M=!1,noWrap:w=!1,paragraph:k=!1,variant:H="body1",variantMapping:P=$b,...O}=T,z={...T,align:E,color:c,className:v,component:I,gutterBottom:M,noWrap:w,paragraph:k,variant:H,variantMapping:P},ee=I||(k?"p":P[H]||$b[H])||"span",oe=Sk(z);return N.jsx(Ik,{as:ee,ref:o,className:Wd(oe.root,v),...O,ownerState:z,style:{...E!=="inherit"&&{"--Typography-textAlign":E},...O.style}})}),Ck=$f("MuiBox",["root"]),wk=jy(),_b=QC({themeId:b_,defaultTheme:wk,defaultClassName:Ck.root,generateClassName:Ny.generate});function kk(n){return jd("MuiCard",n)}$f("MuiCard",["root"]);const Ok=n=>{const{classes:l}=n;return _f({root:["root"]},kk,l)},Rk=hm($k,{name:"MuiCard",slot:"Root",overridesResolver:(n,l)=>l.root})({overflow:"hidden"}),Lk=me.forwardRef(function(l,o){const c=pm({props:l,name:"MuiCard"}),{className:h,raised:m=!1,...T}=c,E={...c,raised:m},v=Ok(E);return N.jsx(Rk,{className:Wd(v.root,h),elevation:m?8:void 0,ref:o,ownerState:E,...T})});function Ak(n){return jd("MuiCardContent",n)}$f("MuiCardContent",["root"]);const Dk=n=>{const{classes:l}=n;return _f({root:["root"]},Ak,l)},Nk=hm("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(n,l)=>l.root})({padding:16,"&:last-child":{paddingBottom:24}}),Mk=me.forwardRef(function(l,o){const c=pm({props:l,name:"MuiCardContent"}),{className:h,component:m="div",...T}=c,E={...c,component:m},v=Dk(E);return N.jsx(Nk,{as:m,className:Wd(v.root,h),ownerState:E,ref:o,...T})});function Wc({title:n,date:l,children:o}){return N.jsx(Lk,{variant:"outlined",style:{marginBottom:"16px",width:"99%",textAlign:"left"},children:N.jsxs(Mk,{children:[N.jsx(N$,{variant:"h5",component:"h2",children:n}),N.jsx(N$,{color:"textSecondary",children:l}),N.jsx(N$,{variant:"body2",component:"div",children:o})]})})}function Yp({url:n,text:l}){return N.jsx("li",{children:N.jsx("a",{href:n,children:l})})}const xk=()=>N.jsxs("ul",{children:[N.jsx(Yp,{url:"https://jaimechurch.github.io/Blog/",text:"Jamie"}),N.jsx(Yp,{url:"https://kalvinvar.github.io/Final/#/app",text:"Kalvin"}),N.jsx(Yp,{url:"https://jacob-pickard.github.io/Quiz-App/",text:"Jacob"}),N.jsx(Yp,{url:"https://rofenac.github.io/blog/",text:"David"}),N.jsx(Yp,{url:"https://Aprilv.github.io/my-first-react-app",text:"April"})]});function Pk(){return N.jsxs(Wc,{title:"Hello, World!",date:"2025-01-21",children:[N.jsx("p",{children:"Made links to other blogs:"}),N.jsx(xk,{})]})}function Bk(n,l){var o={};for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&l.indexOf(c)<0&&(o[c]=n[c]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,c=Object.getOwnPropertySymbols(n);h<c.length;h++)l.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(n,c[h])&&(o[c[h]]=n[c[h]]);return o}const hf="abcdefgh".split(""),Rg={a8:"bR",b8:"bN",c8:"bB",d8:"bQ",e8:"bK",f8:"bB",g8:"bN",h8:"bR",a7:"bP",b7:"bP",c7:"bP",d7:"bP",e7:"bP",f7:"bP",g7:"bP",h7:"bP",a2:"wP",b2:"wP",c2:"wP",d2:"wP",e2:"wP",f2:"wP",g2:"wP",h2:"wP",a1:"wR",b1:"wN",c1:"wB",d1:"wQ",e1:"wK",f1:"wB",g1:"wN",h1:"wR"},Fk={a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Uk={a:7,b:6,c:5,d:4,e:3,f:2,g:1,h:0},Hk=[7,6,5,4,3,2,1,0],Vk=[0,1,2,3,4,5,6,7],Tb={wP:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),wR:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),N.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),N.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wN:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#ffffff",stroke:"#000000"}}),N.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#ffffff",stroke:"#000000"}}),N.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]}))})),wB:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt"}},{children:[N.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),N.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),N.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),N.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]}))})),wQ:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"}},{children:[N.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),N.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),N.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),N.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),N.jsx("circle",{cx:"6",cy:"12",r:"2"}),N.jsx("circle",{cx:"14",cy:"9",r:"2"}),N.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),N.jsx("circle",{cx:"31",cy:"9",r:"2"}),N.jsx("circle",{cx:"39",cy:"12",r:"2"})]}))})),wK:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#ffffff",stroke:"#000000"}}),N.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),N.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),N.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]}))})),bP:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})})),bR:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),N.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]}))})),bN:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),N.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),N.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]}))})),bB:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeLinecap:"butt"}},{children:[N.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),N.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),N.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]})),N.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]}))})),bQ:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}},{children:[N.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:"#000000"}}),N.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),N.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),N.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),N.jsx("circle",{cx:"6",cy:"12",r:"2"}),N.jsx("circle",{cx:"14",cy:"9",r:"2"}),N.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),N.jsx("circle",{cx:"31",cy:"9",r:"2"}),N.jsx("circle",{cx:"39",cy:"12",r:"2"}),N.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),N.jsxs("g",Object.assign({style:{fill:"none",stroke:"#ffffff"}},{children:[N.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),N.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),N.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),N.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]}))]}))})),bK:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"45",height:"45"},{children:N.jsxs("g",Object.assign({style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}},{children:[N.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),N.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:"#000000",stroke:"#000000"}}),N.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),N.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),N.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]}))}))};function t_(n,l,o){const c=l/8,h=n==="white"?Fk:Uk,m=n==="white"?Hk:Vk,T=h[o[0]]*c+c/2,E=m[parseInt(o[1],10)-1]*c+c/2;return{x:T,y:E}}function Eb(n){let l=!1;return Object.keys(Rg).forEach(o=>{n[o]!==Rg[o]&&(l=!0)}),Object.keys(n).forEach(o=>{Rg[o]!==n[o]&&(l=!0)}),l}function Gk(n,l){const o={removed:{},added:{}};return Object.keys(n).forEach(c=>{l[c]!==n[c]&&(o.removed[c]=n[c])}),Object.keys(l).forEach(c=>{n[c]!==l[c]&&(o.added[c]=l[c])}),o}function bb(n){return n==="start"?Rg:typeof n=="string"?Wk(n):n}function Wk(n){if(!jk(n))return{};n=n.replace(/ .+$/,"");const l=n.split("/"),o={};let c=8;for(let h=0;h<8;h++){const m=l[h].split("");let T=0;for(let E=0;E<m.length;E++)if(m[E].search(/[1-8]/)!==-1){const v=parseInt(m[E],10);T=T+v}else{const v=hf[T]+c;o[v]=Xk(m[E]),T=T+1}c=c-1}return o}function jk(n){n=n.replace(/ .+$/,""),n=zk(n);const l=n.split("/");if(l.length!==8)return!1;for(let o=0;o<8;o++)if(l[o].length!==8||l[o].search(/[^kqrnbpKQRNBP1]/)!==-1)return!1;return!0}function zk(n){return n.replace(/8/g,"11111111").replace(/7/g,"1111111").replace(/6/g,"111111").replace(/5/g,"11111").replace(/4/g,"1111").replace(/3/g,"111").replace(/2/g,"11")}function Xk(n){return n.toLowerCase()===n?"b"+n.toUpperCase():"w"+n.toUpperCase()}const Kk=(n,l=!0,o,c)=>{const[h,m]=me.useState([]),[T,E]=me.useState([]),[v,I]=me.useState();me.useEffect(()=>{Array.isArray(n)&&(M(),m(n==null?void 0:n.filter(P=>P[0]!==P[1])))},[n]),me.useEffect(()=>{o==null||o(T)},[T]);function M(){E([]),I(void 0)}const w=(P,O)=>{l&&I([P,O,c])},k=[...T,...h];return{arrows:k,newArrow:v,clearArrows:M,drawNewArrow:w,setArrows:E,onArrowDrawEnd:(P,O)=>{if(P===O||!l)return;let z;const ee=[P,O,c];k.every(([ne,ue])=>!(ne===P&&ue===O))?z=[...T,ee]:z=T.filter(([ne,ue])=>!(ne===P&&ue===O)),I(void 0),E(z)}}},Ky=me.createContext({}),$l=()=>me.useContext(Ky),Yk=me.forwardRef(({allowDragOutsideBoard:n=!0,animationDuration:l=300,areArrowsAllowed:o=!0,arePiecesDraggable:c=!0,arePremovesAllowed:h=!1,autoPromoteToQueen:m=!1,boardOrientation:T="white",boardWidth:E,children:v,clearPremovesOnRightClick:I=!0,customArrows:M,customArrowColor:w="rgb(255,170,0)",customBoardStyle:k,customNotationStyle:H,customDarkSquareStyle:P={backgroundColor:"#B58863"},customDropSquareStyle:O={boxShadow:"inset 0 0 1px 6px rgba(255,255,255,0.75)"},customLightSquareStyle:z={backgroundColor:"#F0D9B5"},customPieces:ee,customPremoveDarkSquareStyle:oe={backgroundColor:"#A42323"},customPremoveLightSquareStyle:ne={backgroundColor:"#BD2828"},customSquare:ue="div",customSquareStyles:ge,dropOffBoardAction:ce="snapback",id:re=0,isDraggablePiece:pe=()=>!0,getPositionObject:Fe=()=>{},onArrowsChange:L=()=>{},onDragOverSquare:ve=()=>{},onMouseOutSquare:ke=()=>{},onMouseOverSquare:Ne=()=>{},onPieceClick:Le=()=>{},onPieceDragBegin:Ve=()=>{},onPieceDragEnd:X=()=>{},onPieceDrop:F=()=>!0,onPieceDropOffBoard:C=()=>{},onPromotionCheck:J=(Ct,yt,rr)=>(rr==="wP"&&Ct[1]==="7"&&yt[1]==="8"||rr==="bP"&&Ct[1]==="2"&&yt[1]==="1")&&Math.abs(Ct.charCodeAt(0)-yt.charCodeAt(0))<=1,onPromotionPieceSelect:Y=()=>!0,onSparePieceDrop:R=()=>!0,onSquareClick:Q=()=>{},onSquareRightClick:Re=()=>{},position:Se="start",promotionDialogVariant:Ue="default",promotionToSquare:Oe=null,showBoardNotation:Ie=!0,showPromotionDialog:qe=!1,snapToCursor:Qe=!0},$t)=>{const[Ct,yt]=me.useState(bb(Se)),[rr,Zi]=me.useState({removed:{},added:{}}),[wn,Qt]=me.useState(void 0),[Kr,pr]=me.useState(qe&&!m),[eo,Ge]=me.useState(null),[st,it]=me.useState(Oe),[Yr,kn]=me.useState([]),$n=me.useRef(Yr),[Lr,jt]=me.useState(),[Pn,Oo]=me.useState(Object.assign(Object.assign({},Tb),ee)),[le,Be]=me.useState(!1),[_,S]=me.useState(),[W,j]=me.useState(!1),[we,_t]=me.useState(null);me.useImperativeHandle($t,()=>({clearPremoves(pt=!0){Fn(pt)}})),me.useEffect(()=>{Oo(Object.assign(Object.assign({},Tb),ee))},[ee]),me.useEffect(()=>{pr(qe),it(Oe)},[Oe,qe]),me.useEffect(()=>{var pt,ht,fn;ir();const Ht=bb(Se),fr=Gk(Ct,Ht),or=((pt=Object.keys(fr.added))===null||pt===void 0?void 0:pt.length)<=2?(fn=(ht=Object.entries(fr.added))===null||ht===void 0?void 0:ht[0])===null||fn===void 0?void 0:fn[1][0]:void 0;if(W)yt(Ht),j(!1),h&&$s(or),_&&clearTimeout(_);else if(le)yt(Ht),j(!1),h&&$s(or);else{Eb(Ht)&&wn!==void 0?Qt(or):Eb(Ht)?Qt(void 0):Qt("b"),Zi(fr),j(!0);const zc=setTimeout(()=>{yt(Ht),j(!1),h&&$s(or)},l);S(zc)}return Be(!1),Fe(Ht),to(),()=>{clearTimeout(_)}},[Se]);const{arrows:Bn,newArrow:Jr,clearArrows:to,drawNewArrow:Ar,onArrowDrawEnd:qr}=Kk(M,o,L,w);function ms(pt,ht,fn,Ht){if(pt===ht)return;if(to(),h&&W||h&&(wn===fn[0]||$n.current.filter(or=>or.piece[0]===fn[0]).length>0)){const or=[...$n.current];or.push({sourceSq:pt,targetSq:ht,piece:fn}),$n.current=or,kn([...or]),ir();return}if(!h&&W)return;const fr=Object.assign({},Ct);Be(!!Ht),Qt(fn[0]),F.length?F(pt,ht,fn)||(Fn(),Be(!1)):(delete fr[pt],fr[ht]=fn,yt(fr)),ir(),Fe(fr)}function Ro(pt){const ht=Object.assign({},Ct);delete ht[pt],yt(ht),Fe(ht)}function $s(pt){if($n.current.length===0)return;const ht=$n.current[0];if(ht.piece[0]!==void 0&&ht.piece[0]!==pt&&F.length)if(Qt(ht.piece[0]),Be(!0),F(ht.sourceSq,ht.targetSq,ht.piece)){const Ht=[...$n.current];Ht.shift(),$n.current=Ht,kn([...Ht])}else Fn()}function _l(pt,ht){if(!R(pt,ht))return;const Ht=Object.assign({},Ct);Ht[ht]=pt,yt(Ht),Fe(Ht)}function Fn(pt=!0){pt&&Qt(void 0),$n.current=[],kn([])}function ir(){Ge(null),it(null),pr(!1)}function Tl(pt){jt(pt)}function no(pt){if(Lr){if(Lr===pt){jt(void 0),I&&Fn(!1),Re(pt);return}}else jt(void 0)}function El(){jt(void 0)}const ro={allowDragOutsideBoard:n,animationDuration:l,arePiecesDraggable:c,arePremovesAllowed:h,arrows:Bn,autoPromoteToQueen:m,boardOrientation:T,boardWidth:E,chessPieces:Pn,clearArrows:to,clearCurrentRightClickDown:El,currentPosition:Ct,currentRightClickDown:Lr,customArrowColor:w,customBoardStyle:k,customDarkSquareStyle:P,customDropSquareStyle:O,customLightSquareStyle:z,customNotationStyle:H,customPremoveDarkSquareStyle:oe,customPremoveLightSquareStyle:ne,customSquare:ue,customSquareStyles:ge,deletePieceFromSquare:Ro,drawNewArrow:Ar,dropOffBoardAction:ce,handleSetPosition:ms,handleSparePieceDrop:_l,id:re,isDraggablePiece:pe,isWaitingForAnimation:W,lastPieceColour:wn,lastSquareDraggedOver:we,newArrow:Jr,onArrowDrawEnd:qr,onDragOverSquare:ve,onMouseOutSquare:ke,onMouseOverSquare:Ne,onPieceClick:Le,onPieceDragBegin:Ve,onPieceDragEnd:X,onPieceDrop:F,onPieceDropOffBoard:C,onPromotionCheck:J,onPromotionPieceSelect:Y,onRightClickDown:Tl,onRightClickUp:no,onSparePieceDrop:R,onSquareClick:Q,positionDifferences:rr,premoves:Yr,promoteFromSquare:eo,promoteToSquare:st,promotionDialogVariant:Ue,setLastSquareDraggedOver:_t,setPromoteFromSquare:Ge,setPromoteToSquare:it,setShowPromoteDialog:pr,showBoardNotation:Ie,showPromoteDialog:Kr,snapToCursor:Qe};return N.jsx(Ky.Provider,Object.assign({value:ro},{children:v}))});function Jk({row:n,col:l}){const{boardOrientation:o,boardWidth:c,customDarkSquareStyle:h,customLightSquareStyle:m,customNotationStyle:T}=$l(),E=m.backgroundColor,v=h.backgroundColor,I=l===0,M=n===7,w=I&&M;function k(){return o==="white"?8-n:n+1}function H(){return o==="black"?hf[7-l]:hf[l]}function P(){return N.jsxs(N.Fragment,{children:[N.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:E}),vb(c,T))},{children:k()})),N.jsx("div",Object.assign({style:Object.assign(Object.assign({zIndex:3,position:"absolute"},{color:E}),yb(c,T))},{children:H()}))]})}function O(){return N.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},{color:l%2!==0?v:E}),yb(c,T))},{children:H()}))}function z(){return N.jsx("div",Object.assign({style:Object.assign(Object.assign({userSelect:"none",zIndex:3,position:"absolute"},o==="black"?{color:n%2===0?v:E}:{color:n%2===0?v:E}),vb(c,T))},{children:k()}))}return w?P():M?O():I?z():null}const yb=(n,l)=>Object.assign({alignSelf:"flex-end",paddingLeft:n/8-n/48,fontSize:n/48},l),vb=(n,l)=>Object.assign({alignSelf:"flex-start",paddingRight:n/8-n/48,fontSize:n/48},l),Yy=me.createContext({dragDropManager:void 0});function Ki(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var Sb=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),M$=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ib={INIT:"@@redux/INIT"+M$(),REPLACE:"@@redux/REPLACE"+M$(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+M$()}};function qk(n){if(typeof n!="object"||n===null)return!1;for(var l=n;Object.getPrototypeOf(l)!==null;)l=Object.getPrototypeOf(l);return Object.getPrototypeOf(n)===l}function Jy(n,l,o){var c;if(typeof l=="function"&&typeof o=="function"||typeof o=="function"&&typeof arguments[3]=="function")throw new Error(Ki(0));if(typeof l=="function"&&typeof o>"u"&&(o=l,l=void 0),typeof o<"u"){if(typeof o!="function")throw new Error(Ki(1));return o(Jy)(n,l)}if(typeof n!="function")throw new Error(Ki(2));var h=n,m=l,T=[],E=T,v=!1;function I(){E===T&&(E=T.slice())}function M(){if(v)throw new Error(Ki(3));return m}function w(O){if(typeof O!="function")throw new Error(Ki(4));if(v)throw new Error(Ki(5));var z=!0;return I(),E.push(O),function(){if(z){if(v)throw new Error(Ki(6));z=!1,I();var oe=E.indexOf(O);E.splice(oe,1),T=null}}}function k(O){if(!qk(O))throw new Error(Ki(7));if(typeof O.type>"u")throw new Error(Ki(8));if(v)throw new Error(Ki(9));try{v=!0,m=h(m,O)}finally{v=!1}for(var z=T=E,ee=0;ee<z.length;ee++){var oe=z[ee];oe()}return O}function H(O){if(typeof O!="function")throw new Error(Ki(10));h=O,k({type:Ib.REPLACE})}function P(){var O,z=w;return O={subscribe:function(oe){if(typeof oe!="object"||oe===null)throw new Error(Ki(11));function ne(){oe.next&&oe.next(M())}ne();var ue=z(ne);return{unsubscribe:ue}}},O[Sb]=function(){return this},O}return k({type:Ib.INIT}),c={dispatch:k,subscribe:w,getState:M,replaceReducer:H},c[Sb]=P,c}function et(n,l,...o){if(Qk()&&l===void 0)throw new Error("invariant requires an error message argument");if(!n){let c;if(l===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let h=0;c=new Error(l.replace(/%s/g,function(){return o[h++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}function Qk(){return typeof process<"u"&&!0}function Zk(n,l,o){return l.split(".").reduce((c,h)=>c&&c[h]?c[h]:o,n)}function eO(n,l){return n.filter(o=>o!==l)}function qy(n){return typeof n=="object"}function tO(n,l){const o=new Map,c=m=>{o.set(m,o.has(m)?o.get(m)+1:1)};n.forEach(c),l.forEach(c);const h=[];return o.forEach((m,T)=>{m===1&&h.push(T)}),h}function nO(n,l){return n.filter(o=>l.indexOf(o)>-1)}const N_="dnd-core/INIT_COORDS",fm="dnd-core/BEGIN_DRAG",M_="dnd-core/PUBLISH_DRAG_SOURCE",gm="dnd-core/HOVER",mm="dnd-core/DROP",$m="dnd-core/END_DRAG";function Cb(n,l){return{type:N_,payload:{sourceClientOffset:l||null,clientOffset:n||null}}}const rO={type:N_,payload:{clientOffset:null,sourceClientOffset:null}};function iO(n){return function(o=[],c={publishSource:!0}){const{publishSource:h=!0,clientOffset:m,getSourceClientOffset:T}=c,E=n.getMonitor(),v=n.getRegistry();n.dispatch(Cb(m)),oO(o,E,v);const I=uO(o,E);if(I==null){n.dispatch(rO);return}let M=null;if(m){if(!T)throw new Error("getSourceClientOffset must be defined");sO(T),M=T(I)}n.dispatch(Cb(m,M));const k=v.getSource(I).beginDrag(E,I);if(k==null)return;lO(k),v.pinSource(I);const H=v.getSourceType(I);return{type:fm,payload:{itemType:H,item:k,sourceId:I,clientOffset:m||null,sourceClientOffset:M||null,isSourcePublic:!!h}}}}function oO(n,l,o){et(!l.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(c){et(o.getSource(c),"Expected sourceIds to be registered.")})}function sO(n){et(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function lO(n){et(qy(n),"Item must be an object.")}function uO(n,l){let o=null;for(let c=n.length-1;c>=0;c--)if(l.canDragSource(n[c])){o=n[c];break}return o}function cO(n,l,o){return l in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o,n}function aO(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{},c=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),c.forEach(function(h){cO(n,h,o[h])})}return n}function dO(n){return function(o={}){const c=n.getMonitor(),h=n.getRegistry();hO(c),gO(c).forEach((T,E)=>{const v=pO(T,E,h,c),I={type:mm,payload:{dropResult:aO({},o,v)}};n.dispatch(I)})}}function hO(n){et(n.isDragging(),"Cannot call drop while not dragging."),et(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function pO(n,l,o,c){const h=o.getTarget(n);let m=h?h.drop(c,n):void 0;return fO(m),typeof m>"u"&&(m=l===0?{}:c.getDropResult()),m}function fO(n){et(typeof n>"u"||qy(n),"Drop result must either be an object or undefined.")}function gO(n){const l=n.getTargetIds().filter(n.canDropOnTarget,n);return l.reverse(),l}function mO(n){return function(){const o=n.getMonitor(),c=n.getRegistry();$O(o);const h=o.getSourceId();return h!=null&&(c.getSource(h,!0).endDrag(o,h),c.unpinSource()),{type:$m}}}function $O(n){et(n.isDragging(),"Cannot call endDrag while not dragging.")}function n_(n,l){return l===null?n===null:Array.isArray(n)?n.some(o=>o===l):n===l}function _O(n){return function(o,{clientOffset:c}={}){TO(o);const h=o.slice(0),m=n.getMonitor(),T=n.getRegistry(),E=m.getItemType();return bO(h,T,E),EO(h,m,T),yO(h,m,T),{type:gm,payload:{targetIds:h,clientOffset:c||null}}}}function TO(n){et(Array.isArray(n),"Expected targetIds to be an array.")}function EO(n,l,o){et(l.isDragging(),"Cannot call hover while not dragging."),et(!l.didDrop(),"Cannot call hover after drop.");for(let c=0;c<n.length;c++){const h=n[c];et(n.lastIndexOf(h)===c,"Expected targetIds to be unique in the passed array.");const m=o.getTarget(h);et(m,"Expected targetIds to be registered.")}}function bO(n,l,o){for(let c=n.length-1;c>=0;c--){const h=n[c],m=l.getTargetType(h);n_(m,o)||n.splice(c,1)}}function yO(n,l,o){n.forEach(function(c){o.getTarget(c).hover(l,c)})}function vO(n){return function(){if(n.getMonitor().isDragging())return{type:M_}}}function SO(n){return{beginDrag:iO(n),publishDragSource:vO(n),hover:_O(n),drop:dO(n),endDrag:mO(n)}}class IO{receiveBackend(l){this.backend=l}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const l=this,{dispatch:o}=this.store;function c(m){return(...T)=>{const E=m.apply(l,T);typeof E<"u"&&o(E)}}const h=SO(this);return Object.keys(h).reduce((m,T)=>{const E=h[T];return m[T]=c(E),m},{})}dispatch(l){this.store.dispatch(l)}constructor(l,o){this.isSetUp=!1,this.handleRefCountChange=()=>{const c=this.store.getState().refCount>0;this.backend&&(c&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!c&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=l,this.monitor=o,l.subscribe(this.handleRefCountChange)}}function CO(n,l){return{x:n.x+l.x,y:n.y+l.y}}function Qy(n,l){return{x:n.x-l.x,y:n.y-l.y}}function wO(n){const{clientOffset:l,initialClientOffset:o,initialSourceClientOffset:c}=n;return!l||!o||!c?null:Qy(CO(l,c),o)}function kO(n){const{clientOffset:l,initialClientOffset:o}=n;return!l||!o?null:Qy(l,o)}const nf=[],x_=[];nf.__IS_NONE__=!0;x_.__IS_ALL__=!0;function OO(n,l){return n===nf?!1:n===x_||typeof l>"u"?!0:nO(l,n).length>0}class RO{subscribeToStateChange(l,o={}){const{handlerIds:c}=o;et(typeof l=="function","listener must be a function."),et(typeof c>"u"||Array.isArray(c),"handlerIds, when specified, must be an array of strings.");let h=this.store.getState().stateId;const m=()=>{const T=this.store.getState(),E=T.stateId;try{E===h||E===h+1&&!OO(T.dirtyHandlerIds,c)||l()}finally{h=E}};return this.store.subscribe(m)}subscribeToOffsetChange(l){et(typeof l=="function","listener must be a function.");let o=this.store.getState().dragOffset;const c=()=>{const h=this.store.getState().dragOffset;h!==o&&(o=h,l())};return this.store.subscribe(c)}canDragSource(l){if(!l)return!1;const o=this.registry.getSource(l);return et(o,`Expected to find a valid source. sourceId=${l}`),this.isDragging()?!1:o.canDrag(this,l)}canDropOnTarget(l){if(!l)return!1;const o=this.registry.getTarget(l);if(et(o,`Expected to find a valid target. targetId=${l}`),!this.isDragging()||this.didDrop())return!1;const c=this.registry.getTargetType(l),h=this.getItemType();return n_(c,h)&&o.canDrop(this,l)}isDragging(){return!!this.getItemType()}isDraggingSource(l){if(!l)return!1;const o=this.registry.getSource(l,!0);if(et(o,`Expected to find a valid source. sourceId=${l}`),!this.isDragging()||!this.isSourcePublic())return!1;const c=this.registry.getSourceType(l),h=this.getItemType();return c!==h?!1:o.isDragging(this,l)}isOverTarget(l,o={shallow:!1}){if(!l)return!1;const{shallow:c}=o;if(!this.isDragging())return!1;const h=this.registry.getTargetType(l),m=this.getItemType();if(m&&!n_(h,m))return!1;const T=this.getTargetIds();if(!T.length)return!1;const E=T.indexOf(l);return c?E===T.length-1:E>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return wO(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return kO(this.store.getState().dragOffset)}constructor(l,o){this.store=l,this.registry=o}}const wb=typeof global<"u"?global:self,Zy=wb.MutationObserver||wb.WebKitMutationObserver;function ev(n){return function(){const o=setTimeout(h,0),c=setInterval(h,50);function h(){clearTimeout(o),clearInterval(c),n()}}}function LO(n){let l=1;const o=new Zy(n),c=document.createTextNode("");return o.observe(c,{characterData:!0}),function(){l=-l,c.data=l}}const AO=typeof Zy=="function"?LO:ev;class DO{enqueueTask(l){const{queue:o,requestFlush:c}=this;o.length||(c(),this.flushing=!0),o[o.length]=l}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:l}=this;for(;this.index<l.length;){const o=this.index;if(this.index++,l[o].call(),this.index>this.capacity){for(let c=0,h=l.length-this.index;c<h;c++)l[c]=l[c+this.index];l.length-=this.index,this.index=0}}l.length=0,this.index=0,this.flushing=!1},this.registerPendingError=l=>{this.pendingErrors.push(l),this.requestErrorThrow()},this.requestFlush=AO(this.flush),this.requestErrorThrow=ev(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class NO{call(){try{this.task&&this.task()}catch(l){this.onError(l)}finally{this.task=null,this.release(this)}}constructor(l,o){this.onError=l,this.release=o,this.task=null}}class MO{create(l){const o=this.freeTasks,c=o.length?o.pop():new NO(this.onError,h=>o[o.length]=h);return c.task=l,c}constructor(l){this.onError=l,this.freeTasks=[]}}const tv=new DO,xO=new MO(tv.registerPendingError);function PO(n){tv.enqueueTask(xO.create(n))}const P_="dnd-core/ADD_SOURCE",B_="dnd-core/ADD_TARGET",F_="dnd-core/REMOVE_SOURCE",_m="dnd-core/REMOVE_TARGET";function BO(n){return{type:P_,payload:{sourceId:n}}}function FO(n){return{type:B_,payload:{targetId:n}}}function UO(n){return{type:F_,payload:{sourceId:n}}}function HO(n){return{type:_m,payload:{targetId:n}}}function VO(n){et(typeof n.canDrag=="function","Expected canDrag to be a function."),et(typeof n.beginDrag=="function","Expected beginDrag to be a function."),et(typeof n.endDrag=="function","Expected endDrag to be a function.")}function GO(n){et(typeof n.canDrop=="function","Expected canDrop to be a function."),et(typeof n.hover=="function","Expected hover to be a function."),et(typeof n.drop=="function","Expected beginDrag to be a function.")}function r_(n,l){if(l&&Array.isArray(n)){n.forEach(o=>r_(o,!1));return}et(typeof n=="string"||typeof n=="symbol",l?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ji;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(Ji||(Ji={}));let WO=0;function jO(){return WO++}function zO(n){const l=jO().toString();switch(n){case Ji.SOURCE:return`S${l}`;case Ji.TARGET:return`T${l}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function kb(n){switch(n[0]){case"S":return Ji.SOURCE;case"T":return Ji.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function Ob(n,l){const o=n.entries();let c=!1;do{const{done:h,value:[,m]}=o.next();if(m===l)return!0;c=!!h}while(!c);return!1}class XO{addSource(l,o){r_(l),VO(o);const c=this.addHandler(Ji.SOURCE,l,o);return this.store.dispatch(BO(c)),c}addTarget(l,o){r_(l,!0),GO(o);const c=this.addHandler(Ji.TARGET,l,o);return this.store.dispatch(FO(c)),c}containsHandler(l){return Ob(this.dragSources,l)||Ob(this.dropTargets,l)}getSource(l,o=!1){return et(this.isSourceId(l),"Expected a valid source ID."),o&&l===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(l)}getTarget(l){return et(this.isTargetId(l),"Expected a valid target ID."),this.dropTargets.get(l)}getSourceType(l){return et(this.isSourceId(l),"Expected a valid source ID."),this.types.get(l)}getTargetType(l){return et(this.isTargetId(l),"Expected a valid target ID."),this.types.get(l)}isSourceId(l){return kb(l)===Ji.SOURCE}isTargetId(l){return kb(l)===Ji.TARGET}removeSource(l){et(this.getSource(l),"Expected an existing source."),this.store.dispatch(UO(l)),PO(()=>{this.dragSources.delete(l),this.types.delete(l)})}removeTarget(l){et(this.getTarget(l),"Expected an existing target."),this.store.dispatch(HO(l)),this.dropTargets.delete(l),this.types.delete(l)}pinSource(l){const o=this.getSource(l);et(o,"Expected an existing source."),this.pinnedSourceId=l,this.pinnedSource=o}unpinSource(){et(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(l,o,c){const h=zO(l);return this.types.set(h,o),l===Ji.SOURCE?this.dragSources.set(h,c):l===Ji.TARGET&&this.dropTargets.set(h,c),h}constructor(l){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=l}}const KO=(n,l)=>n===l;function YO(n,l){return!n&&!l?!0:!n||!l?!1:n.x===l.x&&n.y===l.y}function JO(n,l,o=KO){if(n.length!==l.length)return!1;for(let c=0;c<n.length;++c)if(!o(n[c],l[c]))return!1;return!0}function qO(n=nf,l){switch(l.type){case gm:break;case P_:case B_:case _m:case F_:return nf;case fm:case M_:case $m:case mm:default:return x_}const{targetIds:o=[],prevTargetIds:c=[]}=l.payload,h=tO(o,c);if(!(h.length>0||!JO(o,c)))return nf;const T=c[c.length-1],E=o[o.length-1];return T!==E&&(T&&h.push(T),E&&h.push(E)),h}function QO(n,l,o){return l in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o,n}function ZO(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{},c=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),c.forEach(function(h){QO(n,h,o[h])})}return n}const Rb={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function eR(n=Rb,l){const{payload:o}=l;switch(l.type){case N_:case fm:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case gm:return YO(n.clientOffset,o.clientOffset)?n:ZO({},n,{clientOffset:o.clientOffset});case $m:case mm:return Rb;default:return n}}function tR(n,l,o){return l in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o,n}function Rd(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{},c=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),c.forEach(function(h){tR(n,h,o[h])})}return n}const nR={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function rR(n=nR,l){const{payload:o}=l;switch(l.type){case fm:return Rd({},n,{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case M_:return Rd({},n,{isSourcePublic:!0});case gm:return Rd({},n,{targetIds:o.targetIds});case _m:return n.targetIds.indexOf(o.targetId)===-1?n:Rd({},n,{targetIds:eO(n.targetIds,o.targetId)});case mm:return Rd({},n,{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case $m:return Rd({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function iR(n=0,l){switch(l.type){case P_:case B_:return n+1;case F_:case _m:return n-1;default:return n}}function oR(n=0){return n+1}function sR(n,l,o){return l in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o,n}function lR(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{},c=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),c.forEach(function(h){sR(n,h,o[h])})}return n}function uR(n={},l){return{dirtyHandlerIds:qO(n.dirtyHandlerIds,{type:l.type,payload:lR({},l.payload,{prevTargetIds:Zk(n,"dragOperation.targetIds",[])})}),dragOffset:eR(n.dragOffset,l),refCount:iR(n.refCount,l),dragOperation:rR(n.dragOperation,l),stateId:oR(n.stateId)}}function cR(n,l=void 0,o={},c=!1){const h=aR(c),m=new RO(h,new XO(h)),T=new IO(h,m),E=n(T,l,o);return T.receiveBackend(E),T}function aR(n){const l=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Jy(uR,n&&l&&l({name:"dnd-core",instanceId:"dnd-core"}))}function dR(n,l){if(n==null)return{};var o=hR(n,l),c,h;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(n);for(h=0;h<m.length;h++)c=m[h],!(l.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(n,c)&&(o[c]=n[c])}return o}function hR(n,l){if(n==null)return{};var o={},c=Object.keys(n),h,m;for(m=0;m<c.length;m++)h=c[m],!(l.indexOf(h)>=0)&&(o[h]=n[h]);return o}let Lb=0;const Lg=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var pR=me.memo(function(l){var{children:o}=l,c=dR(l,["children"]);const[h,m]=fR(c);return me.useEffect(()=>{if(m){const T=nv();return++Lb,()=>{--Lb===0&&(T[Lg]=null)}}},[]),N.jsx(Yy.Provider,{value:h,children:o})});function fR(n){if("manager"in n)return[{dragDropManager:n.manager},!1];const l=gR(n.backend,n.context,n.options,n.debugMode),o=!n.context;return[l,o]}function gR(n,l=nv(),o,c){const h=l;return h[Lg]||(h[Lg]={dragDropManager:cR(n,l,o,c)}),h[Lg]}function nv(){return typeof global<"u"?global:window}var mR=function n(l,o){if(l===o)return!0;if(l&&o&&typeof l=="object"&&typeof o=="object"){if(l.constructor!==o.constructor)return!1;var c,h,m;if(Array.isArray(l)){if(c=l.length,c!=o.length)return!1;for(h=c;h--!==0;)if(!n(l[h],o[h]))return!1;return!0}if(l.constructor===RegExp)return l.source===o.source&&l.flags===o.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===o.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===o.toString();if(m=Object.keys(l),c=m.length,c!==Object.keys(o).length)return!1;for(h=c;h--!==0;)if(!Object.prototype.hasOwnProperty.call(o,m[h]))return!1;for(h=c;h--!==0;){var T=m[h];if(!n(l[T],o[T]))return!1}return!0}return l!==l&&o!==o};const Gc=typeof window<"u"?me.useLayoutEffect:me.useEffect;function rv(n,l,o){const[c,h]=me.useState(()=>l(n)),m=me.useCallback(()=>{const T=l(n);mR(c,T)||(h(T),o&&o())},[c,n,o]);return Gc(m),[c,m]}function $R(n,l,o){const[c,h]=rv(n,l,o);return Gc(function(){const T=n.getHandlerId();if(T!=null)return n.subscribeToStateChange(h,{handlerIds:[T]})},[n,h]),c}function iv(n,l,o){return $R(l,n||(()=>({})),()=>o.reconnect())}function ov(n,l){const o=[...l||[]];return l==null&&typeof n!="function"&&o.push(n),me.useMemo(()=>typeof n=="function"?n():n,o)}function _R(n){return me.useMemo(()=>n.hooks.dragSource(),[n])}function TR(n){return me.useMemo(()=>n.hooks.dragPreview(),[n])}let x$=!1,P$=!1;class ER{receiveHandlerId(l){this.sourceId=l}getHandlerId(){return this.sourceId}canDrag(){et(!x$,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return x$=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{x$=!1}}isDragging(){if(!this.sourceId)return!1;et(!P$,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return P$=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{P$=!1}}subscribeToStateChange(l,o){return this.internalMonitor.subscribeToStateChange(l,o)}isDraggingSource(l){return this.internalMonitor.isDraggingSource(l)}isOverTarget(l,o){return this.internalMonitor.isOverTarget(l,o)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(l){return this.internalMonitor.subscribeToOffsetChange(l)}canDragSource(l){return this.internalMonitor.canDragSource(l)}canDropOnTarget(l){return this.internalMonitor.canDropOnTarget(l)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(l){this.sourceId=null,this.internalMonitor=l.getMonitor()}}let B$=!1;class bR{receiveHandlerId(l){this.targetId=l}getHandlerId(){return this.targetId}subscribeToStateChange(l,o){return this.internalMonitor.subscribeToStateChange(l,o)}canDrop(){if(!this.targetId)return!1;et(!B$,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return B$=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{B$=!1}}isOver(l){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,l):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(l){this.targetId=null,this.internalMonitor=l.getMonitor()}}function yR(n,l,o){const c=o.getRegistry(),h=c.addTarget(n,l);return[h,()=>c.removeTarget(h)]}function vR(n,l,o){const c=o.getRegistry(),h=c.addSource(n,l);return[h,()=>c.removeSource(h)]}function i_(n,l,o,c){let h;if(h!==void 0)return!!h;if(n===l)return!0;if(typeof n!="object"||!n||typeof l!="object"||!l)return!1;const m=Object.keys(n),T=Object.keys(l);if(m.length!==T.length)return!1;const E=Object.prototype.hasOwnProperty.bind(l);for(let v=0;v<m.length;v++){const I=m[v];if(!E(I))return!1;const M=n[I],w=l[I];if(h=void 0,h===!1||h===void 0&&M!==w)return!1}return!0}function o_(n){return n!==null&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function SR(n){if(typeof n.type=="string")return;const l=n.type.displayName||n.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${l} into a <div>, or turn it into a drag source or a drop target itself.`)}function IR(n){return(l=null,o=null)=>{if(!me.isValidElement(l)){const m=l;return n(m,o),m}const c=l;return SR(c),CR(c,o?m=>n(m,o):n)}}function sv(n){const l={};return Object.keys(n).forEach(o=>{const c=n[o];if(o.endsWith("Ref"))l[o]=n[o];else{const h=IR(c);l[o]=()=>h}}),l}function Ab(n,l){typeof n=="function"?n(l):n.current=l}function CR(n,l){const o=n.ref;return et(typeof o!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),o?me.cloneElement(n,{ref:c=>{Ab(o,c),Ab(l,c)}}):me.cloneElement(n,{ref:l})}class wR{receiveHandlerId(l){this.handlerId!==l&&(this.handlerId=l,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(l){this.dragSourceOptionsInternal=l}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(l){this.dragPreviewOptionsInternal=l}reconnect(){const l=this.reconnectDragSource();this.reconnectDragPreview(l)}reconnectDragSource(){const l=this.dragSource,o=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return o&&this.disconnectDragSource(),this.handlerId?l?(o&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=l,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,l,this.dragSourceOptions)),o):(this.lastConnectedDragSource=l,o):o}reconnectDragPreview(l=!1){const o=this.dragPreview,c=l||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(c&&this.disconnectDragPreview(),!!this.handlerId){if(!o){this.lastConnectedDragPreview=o;return}c&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=o,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,o,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!i_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!i_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(l){this.hooks=sv({dragSource:(o,c)=>{this.clearDragSource(),this.dragSourceOptions=c||null,o_(o)?this.dragSourceRef=o:this.dragSourceNode=o,this.reconnectDragSource()},dragPreview:(o,c)=>{this.clearDragPreview(),this.dragPreviewOptions=c||null,o_(o)?this.dragPreviewRef=o:this.dragPreviewNode=o,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=l}}class kR{get connectTarget(){return this.dropTarget}reconnect(){const l=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();l&&this.disconnectDropTarget();const o=this.dropTarget;if(this.handlerId){if(!o){this.lastConnectedDropTarget=o;return}l&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=o,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,o,this.dropTargetOptions))}}receiveHandlerId(l){l!==this.handlerId&&(this.handlerId=l,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(l){this.dropTargetOptionsInternal=l}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!i_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(l){this.hooks=sv({dropTarget:(o,c)=>{this.clearDropTarget(),this.dropTargetOptions=c,o_(o)?this.dropTargetRef=o:this.dropTargetNode=o,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=l}}function jc(){const{dragDropManager:n}=me.useContext(Yy);return et(n!=null,"Expected drag drop context"),n}function OR(n,l){const o=jc(),c=me.useMemo(()=>new wR(o.getBackend()),[o]);return Gc(()=>(c.dragSourceOptions=n||null,c.reconnect(),()=>c.disconnectDragSource()),[c,n]),Gc(()=>(c.dragPreviewOptions=l||null,c.reconnect(),()=>c.disconnectDragPreview()),[c,l]),c}function RR(){const n=jc();return me.useMemo(()=>new ER(n),[n])}class LR{beginDrag(){const l=this.spec,o=this.monitor;let c=null;return typeof l.item=="object"?c=l.item:typeof l.item=="function"?c=l.item(o):c={},c??null}canDrag(){const l=this.spec,o=this.monitor;return typeof l.canDrag=="boolean"?l.canDrag:typeof l.canDrag=="function"?l.canDrag(o):!0}isDragging(l,o){const c=this.spec,h=this.monitor,{isDragging:m}=c;return m?m(h):o===l.getSourceId()}endDrag(){const l=this.spec,o=this.monitor,c=this.connector,{end:h}=l;h&&h(o.getItem(),o),c.reconnect()}constructor(l,o,c){this.spec=l,this.monitor=o,this.connector=c}}function AR(n,l,o){const c=me.useMemo(()=>new LR(n,l,o),[l,o]);return me.useEffect(()=>{c.spec=n},[n]),c}function DR(n){return me.useMemo(()=>{const l=n.type;return et(l!=null,"spec.type must be defined"),l},[n])}function NR(n,l,o){const c=jc(),h=AR(n,l,o),m=DR(n);Gc(function(){if(m!=null){const[E,v]=vR(m,h,c);return l.receiveHandlerId(E),o.receiveHandlerId(E),v}},[c,l,o,h,m])}function MR(n,l){const o=ov(n,l);et(!o.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const c=RR(),h=OR(o.options,o.previewOptions);return NR(o,c,h),[iv(o.collect,c,h),_R(h),TR(h)]}function xR(n){const o=jc().getMonitor(),[c,h]=rv(o,n);return me.useEffect(()=>o.subscribeToOffsetChange(h)),me.useEffect(()=>o.subscribeToStateChange(h)),c}function PR(n){return me.useMemo(()=>n.hooks.dropTarget(),[n])}function BR(n){const l=jc(),o=me.useMemo(()=>new kR(l.getBackend()),[l]);return Gc(()=>(o.dropTargetOptions=n||null,o.reconnect(),()=>o.disconnectDropTarget()),[n]),o}function FR(){const n=jc();return me.useMemo(()=>new bR(n),[n])}function UR(n){const{accept:l}=n;return me.useMemo(()=>(et(n.accept!=null,"accept must be defined"),Array.isArray(l)?l:[l]),[l])}class HR{canDrop(){const l=this.spec,o=this.monitor;return l.canDrop?l.canDrop(o.getItem(),o):!0}hover(){const l=this.spec,o=this.monitor;l.hover&&l.hover(o.getItem(),o)}drop(){const l=this.spec,o=this.monitor;if(l.drop)return l.drop(o.getItem(),o)}constructor(l,o){this.spec=l,this.monitor=o}}function VR(n,l){const o=me.useMemo(()=>new HR(n,l),[l]);return me.useEffect(()=>{o.spec=n},[n]),o}function GR(n,l,o){const c=jc(),h=VR(n,l),m=UR(n);Gc(function(){const[E,v]=yR(m,h,c);return l.receiveHandlerId(E),o.receiveHandlerId(E),v},[c,l,h,o,m.map(T=>T.toString()).join("|")])}function WR(n,l){const o=ov(n,l),c=FR(),h=BR(o.options);return GR(o,c,h),[iv(o.collect,c,h),PR(h)]}function lv(n){let l=null;return()=>(l==null&&(l=n()),l)}function jR(n,l){return n.filter(o=>o!==l)}function zR(n,l){const o=new Set,c=m=>o.add(m);n.forEach(c),l.forEach(c);const h=[];return o.forEach(m=>h.push(m)),h}class XR{enter(l){const o=this.entered.length,c=h=>this.isNodeInDocument(h)&&(!h.contains||h.contains(l));return this.entered=zR(this.entered.filter(c),[l]),o===0&&this.entered.length>0}leave(l){const o=this.entered.length;return this.entered=jR(this.entered.filter(this.isNodeInDocument),l),o>0&&this.entered.length===0}reset(){this.entered=[]}constructor(l){this.entered=[],this.isNodeInDocument=l}}class KR{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(l=>{Object.defineProperty(this.item,l,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${l}" until the drop event.`),null}})})}loadDataTransfer(l){if(l){const o={};Object.keys(this.config.exposeProperties).forEach(c=>{const h=this.config.exposeProperties[c];h!=null&&(o[c]={value:h(l,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,o)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(l,o){return o===l.getSourceId()}endDrag(){}constructor(l){this.config=l,this.item={},this.initializeExposedProperties()}}const uv="__NATIVE_FILE__",cv="__NATIVE_URL__",av="__NATIVE_TEXT__",dv="__NATIVE_HTML__";var Db=Object.freeze({__proto__:null,FILE:uv,HTML:dv,TEXT:av,URL:cv});function F$(n,l,o){const c=l.reduce((h,m)=>h||n.getData(m),"");return c??o}const s_={[uv]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[dv]:{exposeProperties:{html:(n,l)=>F$(n,l,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[cv]:{exposeProperties:{urls:(n,l)=>F$(n,l,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[av]:{exposeProperties:{text:(n,l)=>F$(n,l,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function YR(n,l){const o=s_[n];if(!o)throw new Error(`native type ${n} has no configuration`);const c=new KR(o);return c.loadDataTransfer(l),c}function U$(n){if(!n)return null;const l=Array.prototype.slice.call(n.types||[]);return Object.keys(s_).filter(o=>{const c=s_[o];return c!=null&&c.matchesTypes?c.matchesTypes.some(h=>l.indexOf(h)>-1):!1})[0]||null}const JR=lv(()=>/firefox/i.test(navigator.userAgent)),hv=lv(()=>!!window.safari);class Nb{interpolate(l){const{xs:o,ys:c,c1s:h,c2s:m,c3s:T}=this;let E=o.length-1;if(l===o[E])return c[E];let v=0,I=T.length-1,M;for(;v<=I;){M=Math.floor(.5*(v+I));const H=o[M];if(H<l)v=M+1;else if(H>l)I=M-1;else return c[M]}E=Math.max(0,I);const w=l-o[E],k=w*w;return c[E]+h[E]*w+m[E]*k+T[E]*w*k}constructor(l,o){const{length:c}=l,h=[];for(let H=0;H<c;H++)h.push(H);h.sort((H,P)=>l[H]<l[P]?-1:1);const m=[],T=[];let E,v;for(let H=0;H<c-1;H++)E=l[H+1]-l[H],v=o[H+1]-o[H],m.push(E),T.push(v/E);const I=[T[0]];for(let H=0;H<m.length-1;H++){const P=T[H],O=T[H+1];if(P*O<=0)I.push(0);else{E=m[H];const z=m[H+1],ee=E+z;I.push(3*ee/((ee+z)/P+(ee+E)/O))}}I.push(T[T.length-1]);const M=[],w=[];let k;for(let H=0;H<I.length-1;H++){k=T[H];const P=I[H],O=1/m[H],z=P+I[H+1]-k-k;M.push((k-P-z)*O),w.push(z*O*O)}this.xs=l,this.ys=o,this.c1s=I,this.c2s=M,this.c3s=w}}const qR=1;function pv(n){const l=n.nodeType===qR?n:n.parentElement;if(!l)return null;const{top:o,left:c}=l.getBoundingClientRect();return{x:c,y:o}}function yg(n){return{x:n.clientX,y:n.clientY}}function QR(n){var l;return n.nodeName==="IMG"&&(JR()||!(!((l=document.documentElement)===null||l===void 0)&&l.contains(n)))}function ZR(n,l,o,c){let h=n?l.width:o,m=n?l.height:c;return hv()&&n&&(m/=window.devicePixelRatio,h/=window.devicePixelRatio),{dragPreviewWidth:h,dragPreviewHeight:m}}function eL(n,l,o,c,h){const m=QR(l),E=pv(m?n:l),v={x:o.x-E.x,y:o.y-E.y},{offsetWidth:I,offsetHeight:M}=n,{anchorX:w,anchorY:k}=c,{dragPreviewWidth:H,dragPreviewHeight:P}=ZR(m,l,I,M),O=()=>{let ce=new Nb([0,.5,1],[v.y,v.y/M*P,v.y+P-M]).interpolate(k);return hv()&&m&&(ce+=(window.devicePixelRatio-1)*P),ce},z=()=>new Nb([0,.5,1],[v.x,v.x/I*H,v.x+H-I]).interpolate(w),{offsetX:ee,offsetY:oe}=h,ne=ee===0||ee,ue=oe===0||oe;return{x:ne?ee:z(),y:ue?oe:O()}}let tL=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var l;return!((l=this.globalContext)===null||l===void 0)&&l.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var l;return((l=this.optionsArgs)===null||l===void 0?void 0:l.rootElement)||this.window}constructor(l,o){this.ownerDocument=null,this.globalContext=l,this.optionsArgs=o}};function nL(n,l,o){return l in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o,n}function Mb(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{},c=Object.keys(o);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(o).filter(function(h){return Object.getOwnPropertyDescriptor(o,h).enumerable}))),c.forEach(function(h){nL(n,h,o[h])})}return n}class rL{profile(){var l,o;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((l=this.dragStartSourceIds)===null||l===void 0?void 0:l.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((o=this.dragOverTargetIds)===null||o===void 0?void 0:o.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const l=this.rootElement;if(l!==void 0){if(l.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");l.__isReactDndBackendSetUp=!0,this.addEventListeners(l)}}teardown(){const l=this.rootElement;if(l!==void 0&&(l.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var o;(o=this.window)===null||o===void 0||o.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(l,o,c){return this.sourcePreviewNodeOptions.set(l,c),this.sourcePreviewNodes.set(l,o),()=>{this.sourcePreviewNodes.delete(l),this.sourcePreviewNodeOptions.delete(l)}}connectDragSource(l,o,c){this.sourceNodes.set(l,o),this.sourceNodeOptions.set(l,c);const h=T=>this.handleDragStart(T,l),m=T=>this.handleSelectStart(T);return o.setAttribute("draggable","true"),o.addEventListener("dragstart",h),o.addEventListener("selectstart",m),()=>{this.sourceNodes.delete(l),this.sourceNodeOptions.delete(l),o.removeEventListener("dragstart",h),o.removeEventListener("selectstart",m),o.setAttribute("draggable","false")}}connectDropTarget(l,o){const c=T=>this.handleDragEnter(T,l),h=T=>this.handleDragOver(T,l),m=T=>this.handleDrop(T,l);return o.addEventListener("dragenter",c),o.addEventListener("dragover",h),o.addEventListener("drop",m),()=>{o.removeEventListener("dragenter",c),o.removeEventListener("dragover",h),o.removeEventListener("drop",m)}}addEventListeners(l){l.addEventListener&&(l.addEventListener("dragstart",this.handleTopDragStart),l.addEventListener("dragstart",this.handleTopDragStartCapture,!0),l.addEventListener("dragend",this.handleTopDragEndCapture,!0),l.addEventListener("dragenter",this.handleTopDragEnter),l.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),l.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),l.addEventListener("dragover",this.handleTopDragOver),l.addEventListener("dragover",this.handleTopDragOverCapture,!0),l.addEventListener("drop",this.handleTopDrop),l.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(l){l.removeEventListener&&(l.removeEventListener("dragstart",this.handleTopDragStart),l.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),l.removeEventListener("dragend",this.handleTopDragEndCapture,!0),l.removeEventListener("dragenter",this.handleTopDragEnter),l.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),l.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),l.removeEventListener("dragover",this.handleTopDragOver),l.removeEventListener("dragover",this.handleTopDragOverCapture,!0),l.removeEventListener("drop",this.handleTopDrop),l.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const l=this.monitor.getSourceId(),o=this.sourceNodeOptions.get(l);return Mb({dropEffect:this.altKeyPressed?"copy":"move"},o||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const l=this.monitor.getSourceId(),o=this.sourcePreviewNodeOptions.get(l);return Mb({anchorX:.5,anchorY:.5,captureDraggingState:!1},o||{})}isDraggingNativeItem(){const l=this.monitor.getItemType();return Object.keys(Db).some(o=>Db[o]===l)}beginDragNativeItem(l,o){this.clearCurrentDragSourceNode(),this.currentNativeSource=YR(l,o),this.currentNativeHandle=this.registry.addSource(l,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(l){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=l;const o=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var c;return(c=this.rootElement)===null||c===void 0?void 0:c.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},o)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var l;(l=this.window)===null||l===void 0||l.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(l,o){l.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(o))}handleDragEnter(l,o){this.dragEnterTargetIds.unshift(o)}handleDragOver(l,o){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(o)}handleDrop(l,o){this.dropTargetIds.unshift(o)}constructor(l,o,c){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=h=>{const m=this.sourceNodes.get(h);return m&&pv(m)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=h=>!!(h&&this.document&&this.document.body&&this.document.body.contains(h)),this.endDragIfSourceWasRemovedFromDOM=()=>{const h=this.currentDragSourceNode;h==null||this.isNodeInDocument(h)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=h=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(h||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=h=>{if(h.defaultPrevented)return;const{dragStartSourceIds:m}=this;this.dragStartSourceIds=null;const T=yg(h);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(m||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:T});const{dataTransfer:E}=h,v=U$(E);if(this.monitor.isDragging()){if(E&&typeof E.setDragImage=="function"){const M=this.monitor.getSourceId(),w=this.sourceNodes.get(M),k=this.sourcePreviewNodes.get(M)||w;if(k){const{anchorX:H,anchorY:P,offsetX:O,offsetY:z}=this.getCurrentSourcePreviewNodeOptions(),ne=eL(w,k,T,{anchorX:H,anchorY:P},{offsetX:O,offsetY:z});E.setDragImage(k,ne.x,ne.y)}}try{E==null||E.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(h.target);const{captureDraggingState:I}=this.getCurrentSourcePreviewNodeOptions();I?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(v)this.beginDragNativeItem(v);else{if(E&&!E.types&&(h.target&&!h.target.hasAttribute||!h.target.hasAttribute("draggable")))return;h.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=h=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var m;(m=this.currentNativeSource)===null||m===void 0||m.loadDataTransfer(h.dataTransfer)}if(!this.enterLeaveCounter.enter(h.target)||this.monitor.isDragging())return;const{dataTransfer:E}=h,v=U$(E);v&&this.beginDragNativeItem(v,E)},this.handleTopDragEnter=h=>{const{dragEnterTargetIds:m}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=h.altKey,m.length>0&&this.actions.hover(m,{clientOffset:yg(h)}),m.some(E=>this.monitor.canDropOnTarget(E))&&(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=h=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var m;(m=this.currentNativeSource)===null||m===void 0||m.loadDataTransfer(h.dataTransfer)}},this.handleTopDragOver=h=>{const{dragOverTargetIds:m}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="none");return}this.altKeyPressed=h.altKey,this.lastClientOffset=yg(h),this.scheduleHover(m),(m||[]).some(E=>this.monitor.canDropOnTarget(E))?(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?h.preventDefault():(h.preventDefault(),h.dataTransfer&&(h.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=h=>{this.isDraggingNativeItem()&&h.preventDefault(),this.enterLeaveCounter.leave(h.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=h=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var m;h.preventDefault(),(m=this.currentNativeSource)===null||m===void 0||m.loadDataTransfer(h.dataTransfer)}else U$(h.dataTransfer)&&h.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=h=>{const{dropTargetIds:m}=this;this.dropTargetIds=[],this.actions.hover(m,{clientOffset:yg(h)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=h=>{const m=h.target;typeof m.dragDrop=="function"&&(m.tagName==="INPUT"||m.tagName==="SELECT"||m.tagName==="TEXTAREA"||m.isContentEditable||(h.preventDefault(),m.dragDrop()))},this.options=new tL(o,c),this.actions=l.getActions(),this.monitor=l.getMonitor(),this.registry=l.getRegistry(),this.enterLeaveCounter=new XR(this.isNodeInDocument)}}let vg;function iL(){return vg||(vg=new Image,vg.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),vg}const oL=function(l,o,c){return new rL(l,o,c)};function xb({isPremovedPiece:n=!1,piece:l,square:o,squares:c}){const{animationDuration:h,arePiecesDraggable:m,boardWidth:T,boardOrientation:E,chessPieces:v,currentPosition:I,deletePieceFromSquare:M,dropOffBoardAction:w,id:k,isDraggablePiece:H,isWaitingForAnimation:P,onPieceClick:O,onPieceDragBegin:z,onPieceDragEnd:ee,onPieceDropOffBoard:oe,onPromotionCheck:ne,positionDifferences:ue}=$l(),[ge,ce]=me.useState({opacity:1,zIndex:5,touchAction:"none",cursor:m&&H({piece:l,sourceSquare:o})?"-webkit-grab":"default"}),[{canDrag:re,isDragging:pe},Fe,L]=MR(()=>({type:"piece",item:()=>(z(l,o),{piece:l,square:o,id:k}),end:(ke,Ne)=>{ee(l,o),!Ne.didDrop()&&(w==="trash"&&M(o),oe==null||oe(o,l))},collect:ke=>({canDrag:H({piece:l,sourceSquare:o}),isDragging:!!ke.isDragging()})}),[l,o,I,k]);L(iL(),{captureDraggingState:!0}),me.useEffect(()=>{ce(ke=>Object.assign(Object.assign({},ke),{opacity:pe?0:1}))},[pe]),me.useEffect(()=>{var ke;const Ne=(ke=ue.removed)===null||ke===void 0?void 0:ke[o];if(!ue.added||!Ne)return;const Le=Object.entries(ue.added).find(([Ve,X])=>X===Ne||ne(o,Ve,Ne));if(P&&Ne&&Le&&!n){const Ve=o,X=Le[0];if(Ve&&X){const F=T/8;ce(C=>Object.assign(Object.assign({},C),{transform:`translate(${(E==="black"?-1:1)*(X.charCodeAt(0)-Ve.charCodeAt(0))*F}px, ${(E==="black"?-1:1)*(Number(Ve[1])-Number(X[1]))*F}px)`,transition:`transform ${h}ms`,zIndex:6}))}}},[ue]),me.useEffect(()=>{const{sourceSq:ke}=ve();ke&&ce(Ne=>Object.assign(Object.assign({},Ne),{transform:"translate(0px, 0px)",transition:"transform 0ms"}))},[I]),me.useEffect(()=>{ce(ke=>Object.assign(Object.assign({},ke),{cursor:m&&H({piece:l,sourceSquare:o})?"-webkit-grab":"default"}))},[o,I,m]);function ve(){return{sourceSq:c[o]}}return N.jsx("div",Object.assign({ref:m&&re?Fe:null,onClick:()=>O(l,o),"data-piece":l,style:ge},{children:typeof v[l]=="function"?v[l]({squareWidth:T/8,isDragging:pe,square:o}):N.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:T/8,height:T/8,style:{display:"block"}},{children:N.jsx("g",{children:v[l]})}))}))}function sL({square:n,squareColor:l,setSquares:o,squareHasPremove:c,children:h}){const m=me.useRef(null),{autoPromoteToQueen:T,boardWidth:E,boardOrientation:v,clearArrows:I,currentPosition:M,currentRightClickDown:w,customBoardStyle:k,customDarkSquareStyle:H,customDropSquareStyle:P,customLightSquareStyle:O,customPremoveDarkSquareStyle:z,customPremoveLightSquareStyle:ee,customSquare:oe,customSquareStyles:ne,drawNewArrow:ue,handleSetPosition:ge,handleSparePieceDrop:ce,isWaitingForAnimation:re,lastPieceColour:pe,lastSquareDraggedOver:Fe,onArrowDrawEnd:L,onDragOverSquare:ve,onMouseOutSquare:ke,onMouseOverSquare:Ne,onPieceDrop:Le,onPromotionCheck:Ve,onRightClickDown:X,onRightClickUp:F,onSquareClick:C,setLastSquareDraggedOver:J,setPromoteFromSquare:Y,setPromoteToSquare:R,setShowPromoteDialog:Q}=$l(),[{isOver:Re},Se]=WR(()=>({accept:"piece",drop:Ue,collect:Ie=>({isOver:!!Ie.isOver()})}),[n,M,Le,re,pe]);function Ue(Ie){if(Ie.isSpare){ce(Ie.piece,n);return}Ve(Ie.square,n,Ie.piece)?T?ge(Ie.square,n,Ie.piece[0]==="w"?"wQ":"bQ"):(Y(Ie.square),R(n),Q(!0)):ge(Ie.square,n,Ie.piece,!0)}me.useEffect(()=>{if(m.current){const{x:Ie,y:qe}=m.current.getBoundingClientRect();o(Qe=>Object.assign(Object.assign({},Qe),{[n]:{x:Ie,y:qe}}))}},[E,v]);const Oe=Object.assign(Object.assign(Object.assign(Object.assign({},lL(n,v,k)),l==="black"?H:O),c&&(l==="black"?z:ee)),Re&&P);return N.jsx("div",Object.assign({ref:Se,style:Oe,"data-square-color":l,"data-square":n,onTouchMove:Ie=>{var qe;const Qe=Ie.touches[0],$t=document.elementsFromPoint(Qe.clientX,Qe.clientY),Ct=(qe=$t==null?void 0:$t.find(yt=>yt.getAttribute("data-square")))===null||qe===void 0?void 0:qe.getAttribute("data-square");Ct&&Ct!==Fe&&(J(Ct),ve(Ct))},onMouseOver:Ie=>{Ie.buttons===2&&w&&ue(w,n),!(Ie.relatedTarget&&Ie.currentTarget.contains(Ie.relatedTarget))&&Ne(n)},onMouseOut:Ie=>{Ie.relatedTarget&&Ie.currentTarget.contains(Ie.relatedTarget)||ke(n)},onMouseDown:Ie=>{Ie.button===2&&X(n)},onMouseUp:Ie=>{Ie.button===2&&(w&&L(w,n),F(n))},onDragEnter:()=>ve(n),onClick:()=>{const Ie=M[n];C(n,Ie),I()},onContextMenu:Ie=>{Ie.preventDefault()}},{children:typeof oe=="string"?N.jsx(oe,Object.assign({ref:m,style:Object.assign(Object.assign(Object.assign({},Bb(E)),Pb),!c&&(ne==null?void 0:ne[n]))},{children:h})):N.jsx(oe,Object.assign({ref:m,square:n,squareColor:l,style:Object.assign(Object.assign(Object.assign({},Bb(E)),Pb),!c&&(ne==null?void 0:ne[n]))},{children:h}))}))}const Pb={display:"flex",justifyContent:"center"},Bb=n=>({width:n/8,height:n/8}),lL=(n,l,o)=>o!=null&&o.borderRadius?n==="a1"?l==="white"?{borderBottomLeftRadius:o.borderRadius}:{borderTopRightRadius:o.borderRadius}:n==="a8"?l==="white"?{borderTopLeftRadius:o.borderRadius}:{borderBottomRightRadius:o.borderRadius}:n==="h1"?l==="white"?{borderBottomRightRadius:o.borderRadius}:{borderTopLeftRadius:o.borderRadius}:n==="h8"?l==="white"?{borderTopRightRadius:o.borderRadius}:{borderBottomLeftRadius:o.borderRadius}:{}:{};function uL(){const[n,l]=me.useState({}),{arePremovesAllowed:o,boardOrientation:c,boardWidth:h,currentPosition:m,id:T,premoves:E,showBoardNotation:v}=$l(),I=me.useMemo(()=>{const M=[];return o?(E.forEach((w,k)=>{const{sourceSq:H,targetSq:P,piece:O}=w,z=M.find(ee=>{var oe;return ee.piece===O&&((oe=ee.premovesRoute.at(-1))===null||oe===void 0?void 0:oe.targetSq)===H});z?z.premovesRoute.push({sourceSq:H,targetSq:P,index:k}):M.push({piece:O,premovesRoute:[{sourceSq:H,targetSq:P,index:k}]})}),M):[]},[E]);return N.jsx("div",Object.assign({"data-boardid":T},{children:[...Array(8)].map((M,w)=>N.jsx("div",Object.assign({style:{display:"flex",flexWrap:"nowrap",width:h}},{children:[...Array(8)].map((k,H)=>{const P=c==="black"?hf[7-H]+(w+1):hf[H]+(8-w),O=H%2===w%2?"white":"black",z=E.find(oe=>oe.sourceSq===P||oe.targetSq===P),ee=I.filter(({premovesRoute:oe})=>{var ne;return((ne=oe.at(-1))===null||ne===void 0?void 0:ne.targetSq)===P}).sort((oe,ne)=>{var ue,ge;return((ue=ne.premovesRoute.at(-1))===null||ue===void 0?void 0:ue.index)-((ge=oe.premovesRoute.at(-1))===null||ge===void 0?void 0:ge.index)}).at(0);return N.jsxs(sL,Object.assign({square:P,squareColor:O,setSquares:l,squareHasPremove:!!z},{children:[!z&&m[P]&&N.jsx(xb,{piece:m[P],square:P,squares:n}),ee&&N.jsx(xb,{isPremovedPiece:!0,piece:ee.piece,square:P,squares:n}),v&&N.jsx(Jk,{row:w,col:H})]}),`${H}${w}`)})}),w.toString()))}))}const cL=()=>{const{arrows:n,newArrow:l,boardOrientation:o,boardWidth:c,customArrowColor:h}=$l(),m=[...n,l].filter(Boolean);return N.jsx("svg",Object.assign({width:c,height:c,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"10"}},{children:m.map((T,E)=>{const[v,I,M]=T;if(v===I)return null;const w=t_(o,c,v),k=t_(o,c,I);let H=c/32;const P=E===n.length;n.some(ne=>ne[0]!==v&&ne[1]===I)&&!P&&(H=c/16);const O=k.x-w.x,z=k.y-w.y,ee=Math.hypot(z,O),oe={x:w.x+O*(ee-H)/ee,y:w.y+z*(ee-H)/ee};return N.jsxs(me.Fragment,{children:[N.jsx("marker",Object.assign({id:`arrowhead-${E}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto"},{children:N.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:M??h})})),N.jsx("line",{x1:w.x,y1:w.y,x2:oe.x,y2:oe.y,opacity:P?"0.5":"0.65",stroke:M??h,strokeWidth:P?.9*c/40:c/40,markerEnd:`url(#arrowhead-${E})`})]},`${v}-${I}${P?"-active":""}`)})}))};function aL({option:n}){const[l,o]=me.useState(!1),{boardWidth:c,chessPieces:h,customDarkSquareStyle:m,customLightSquareStyle:T,handleSetPosition:E,onPromotionPieceSelect:v,promoteFromSquare:I,promoteToSquare:M,promotionDialogVariant:w}=$l(),k=()=>{switch(n[1]){case"Q":return m.backgroundColor;case"R":return T.backgroundColor;case"N":return w==="default"?T.backgroundColor:m.backgroundColor;case"B":return w==="default"?m.backgroundColor:T.backgroundColor}};return N.jsx("div",Object.assign({onClick:()=>{v(n,I??void 0,M??void 0)&&E(I,M,n,!0)},onMouseOver:()=>o(!0),onMouseOut:()=>o(!1),"data-piece":n,style:{cursor:"pointer",backgroundColor:l?k():`${k()}aa`,borderRadius:"4px",transition:"all 0.1s ease-out"}},{children:typeof h[n]=="function"?N.jsx("div",Object.assign({style:{transition:"all 0.1s ease-out",transform:l?"scale(1)":"scale(0.85)"}},{children:h[n]({squareWidth:c/8,isDragging:!1})})):N.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:c/8,height:c/8,style:{transition:"all 0.1s ease-out",transform:l?"scale(1)":"scale(0.85)"}},{children:N.jsx("g",{children:h[n]})}))}))}function dL(){const{boardOrientation:n,boardWidth:l,promotionDialogVariant:o,promoteToSquare:c}=$l(),h=(c==null?void 0:c[1])==="1"?"b":"w",m=[`${h??"w"}Q`,`${h??"w"}R`,`${h??"w"}N`,`${h??"w"}B`],T={default:{display:"grid",gridTemplateColumns:"1fr 1fr",transform:`translate(${-l/8}px, ${-l/8}px)`},vertical:{transform:`translate(${-l/16}px, ${-l/16}px)`},modal:{display:"flex",justifyContent:"center",alignItems:"center",transform:`translate(0px, ${3*l/8}px)`,width:"100%",height:`${l/4}px`,top:0,backgroundColor:"white",left:0}},E=t_(n,l,c||"a8");return N.jsx("div",Object.assign({style:Object.assign({position:"absolute",top:`${E==null?void 0:E.y}px`,left:`${E==null?void 0:E.x}px`,zIndex:1e3},T[o]),title:"Choose promotion piece"},{children:m.map(v=>N.jsx(aL,{option:v},v))}))}const hL={whiteKing:N.jsx("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",imageRendering:"crisp-edges"},viewBox:"0 0 4210 12970",x:"0px",y:"0px",fillRule:"evenodd",clipRule:"evenodd",width:"250",height:"250"},{children:N.jsx("g",{children:N.jsx("path",{style:{fill:"black",fillRule:"nonzero"},d:"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z"})})}))};function pL({children:n}){try{return N.jsx(N.Fragment,{children:n})}catch(l){return console.log(l),N.jsx(fv,{showError:!0})}}function fv({showError:n=!1}){return N.jsxs("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}},{children:[N.jsx("div",Object.assign({style:{width:250,height:250,transform:"rotate(90deg)"}},{children:hL.whiteKing})),n&&N.jsx("h1",{children:"Something went wrong"})]}))}function fL(){const n=me.useRef(null),{boardWidth:l,clearCurrentRightClickDown:o,onPromotionPieceSelect:c,setShowPromoteDialog:h,showPromoteDialog:m,customBoardStyle:T}=$l();return me.useEffect(()=>{function E(v){n.current&&!n.current.contains(v.target)&&o()}return document.addEventListener("mouseup",E),()=>{document.removeEventListener("mouseup",E)}},[]),l?N.jsx("div",Object.assign({style:{perspective:"1000px"}},{children:N.jsxs("div",Object.assign({ref:n,style:Object.assign(Object.assign({position:"relative"},gL(l)),T)},{children:[N.jsx(uL,{}),N.jsx(cL,{}),m&&N.jsxs(N.Fragment,{children:[N.jsx("div",{onClick:()=>{h(!1),c==null||c()},style:{position:"absolute",top:"0",left:"0",zIndex:"100",backgroundColor:"rgba(22,21,18,.7)",width:l,height:l}}),N.jsx(dL,{})]})]}))})):N.jsx(fv,{})}const gL=n=>({cursor:"default",height:n,width:n});var fu;(function(n){n.mouse="mouse",n.touch="touch",n.keyboard="keyboard"})(fu||(fu={}));class mL{get delay(){var l;return(l=this.args.delay)!==null&&l!==void 0?l:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var l;return(l=this.args.ignoreContextMenu)!==null&&l!==void 0?l:!1}get enableHoverOutsideTarget(){var l;return(l=this.args.enableHoverOutsideTarget)!==null&&l!==void 0?l:!1}get enableKeyboardEvents(){var l;return(l=this.args.enableKeyboardEvents)!==null&&l!==void 0?l:!1}get enableMouseEvents(){var l;return(l=this.args.enableMouseEvents)!==null&&l!==void 0?l:!1}get enableTouchEvents(){var l;return(l=this.args.enableTouchEvents)!==null&&l!==void 0?l:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var l,o,c,h;return(h=(c=(l=this.args)===null||l===void 0?void 0:l.delayTouchStart)!==null&&c!==void 0?c:(o=this.args)===null||o===void 0?void 0:o.delay)!==null&&h!==void 0?h:0}get delayMouseStart(){var l,o,c,h;return(h=(c=(l=this.args)===null||l===void 0?void 0:l.delayMouseStart)!==null&&c!==void 0?c:(o=this.args)===null||o===void 0?void 0:o.delay)!==null&&h!==void 0?h:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var l;if(!((l=this.context)===null||l===void 0)&&l.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var l;return((l=this.args)===null||l===void 0?void 0:l.rootElement)||this.document}constructor(l,o){this.args=l,this.context=o}}function $L(n,l,o,c){return Math.sqrt(Math.pow(Math.abs(o-n),2)+Math.pow(Math.abs(c-l),2))}function _L(n,l,o,c,h){if(!h)return!1;const m=Math.atan2(c-l,o-n)*180/Math.PI+180;for(let T=0;T<h.length;++T){const E=h[T];if(E&&(E.start==null||m>=E.start)&&(E.end==null||m<=E.end))return!0}return!1}const TL={Left:1,Right:2,Center:4},EL={Left:0,Center:1,Right:2};function H$(n){return n.button===void 0||n.button===EL.Left}function bL(n){return n.buttons===void 0||(n.buttons&TL.Left)===0}function gv(n){return!!n.targetTouches}const yL=1;function vL(n){const l=n.nodeType===yL?n:n.parentElement;if(!l)return;const{top:o,left:c}=l.getBoundingClientRect();return{x:c,y:o}}function SL(n,l){if(n.targetTouches.length===1)return jg(n.targetTouches[0]);if(l&&n.touches.length===1&&n.touches[0].target===l.target)return jg(n.touches[0])}function jg(n,l){return gv(n)?SL(n,l):{x:n.clientX,y:n.clientY}}const Fb=(()=>{let n=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return n=!0,!0}}))}catch{}return n})(),Jp={[fu.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[fu.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[fu.keyboard]:{keydown:"keydown"}};class rf{profile(){var l;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((l=this.dragOverTargetIds)===null||l===void 0?void 0:l.length)||0}}get document(){return this.options.document}setup(){const l=this.options.rootElement;l&&(et(!rf.isSetUp,"Cannot have two Touch backends at the same time."),rf.isSetUp=!0,this.addEventListener(l,"start",this.getTopMoveStartHandler()),this.addEventListener(l,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(l,"move",this.handleTopMove),this.addEventListener(l,"move",this.handleTopMoveCapture,!0),this.addEventListener(l,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(l,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(l,"keydown",this.handleCancelOnEscape,!0))}teardown(){const l=this.options.rootElement;l&&(rf.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(l,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(l,"start",this.handleTopMoveStart),this.removeEventListener(l,"move",this.handleTopMoveCapture,!0),this.removeEventListener(l,"move",this.handleTopMove),this.removeEventListener(l,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(l,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(l,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(l,o,c,h=!1){const m=Fb?{capture:h,passive:!1}:h;this.listenerTypes.forEach(function(T){const E=Jp[T][o];E&&l.addEventListener(E,c,m)})}removeEventListener(l,o,c,h=!1){const m=Fb?{capture:h,passive:!1}:h;this.listenerTypes.forEach(function(T){const E=Jp[T][o];E&&l.removeEventListener(E,c,m)})}connectDragSource(l,o){const c=this.handleMoveStart.bind(this,l);return this.sourceNodes.set(l,o),this.addEventListener(o,"start",c),()=>{this.sourceNodes.delete(l),this.removeEventListener(o,"start",c)}}connectDragPreview(l,o,c){return this.sourcePreviewNodeOptions.set(l,c),this.sourcePreviewNodes.set(l,o),()=>{this.sourcePreviewNodes.delete(l),this.sourcePreviewNodeOptions.delete(l)}}connectDropTarget(l,o){const c=this.options.rootElement;if(!this.document||!c)return()=>{};const h=m=>{if(!this.document||!c||!this.monitor.isDragging())return;let T;switch(m.type){case Jp.mouse.move:T={x:m.clientX,y:m.clientY};break;case Jp.touch.move:var E,v;T={x:((E=m.touches[0])===null||E===void 0?void 0:E.clientX)||0,y:((v=m.touches[0])===null||v===void 0?void 0:v.clientY)||0};break}const I=T!=null?this.document.elementFromPoint(T.x,T.y):void 0,M=I&&o.contains(I);if(I===o||M)return this.handleMove(m,l)};return this.addEventListener(this.document.body,"move",h),this.targetNodes.set(l,o),()=>{this.document&&(this.targetNodes.delete(l),this.removeEventListener(this.document.body,"move",h))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(l){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=l,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{l&&!l.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!l||!l.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(l.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(l,o,c){this.getSourceClientOffset=h=>{const m=this.sourceNodes.get(h);return m&&vL(m)},this.handleTopMoveStartCapture=h=>{H$(h)&&(this.moveStartSourceIds=[])},this.handleMoveStart=h=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(h)},this.handleTopMoveStart=h=>{if(!H$(h))return;const m=jg(h);m&&(gv(h)&&(this.lastTargetTouchFallback=h.targetTouches[0]),this._mouseClientOffset=m),this.waitingForDelay=!1},this.handleTopMoveStartDelay=h=>{if(!H$(h))return;const m=h.type===Jp.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,h),m),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(h,m)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(m)},this.handleTopMove=h=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:m,dragOverTargetIds:T}=this,E=this.options.enableHoverOutsideTarget,v=jg(h,this.lastTargetTouchFallback);if(!v)return;if(this._isScrolling||!this.monitor.isDragging()&&_L(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,v.x,v.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&m&&$L(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,v.x,v.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(m,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const I=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(I),this.actions.publishDragSource(),h.cancelable&&h.preventDefault();const M=(T||[]).map(P=>this.targetNodes.get(P)).filter(P=>!!P),w=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(v.x,v.y,M):this.document.elementsFromPoint(v.x,v.y),k=[];for(const P in w){if(!w.hasOwnProperty(P))continue;let O=w[P];for(O!=null&&k.push(O);O;)O=O.parentElement,O&&k.indexOf(O)===-1&&k.push(O)}const H=k.filter(P=>M.indexOf(P)>-1).map(P=>this._getDropTargetId(P)).filter(P=>!!P).filter((P,O,z)=>z.indexOf(P)===O);if(E)for(const P in this.targetNodes){const O=this.targetNodes.get(P);if(I&&O&&O.contains(I)&&H.indexOf(P)===-1){H.unshift(P);break}}H.reverse(),this.actions.hover(H,{clientOffset:v})},this._getDropTargetId=h=>{const m=this.targetNodes.keys();let T=m.next();for(;T.done===!1;){const E=T.value;if(h===this.targetNodes.get(E))return E;T=m.next()}},this.handleTopMoveEndCapture=h=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!bL(h)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}h.cancelable&&h.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=h=>{h.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new mL(c,o),this.actions=l.getActions(),this.monitor=l.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(fu.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(fu.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(fu.keyboard)}}const IL=function(l,o={},c={}){return new rf(l,o,c)},CL=me.createContext({isCustomDndProviderSet:!1}),wL=({children:n})=>N.jsx(N.Fragment,{children:n}),kL=({customDndBackend:n,customDndBackendOptions:l,children:o})=>{const[c,h]=me.useState(),[m,T]=me.useState(!1),[E,v]=me.useState(!1),{isCustomDndProviderSet:I}=me.useContext(CL);me.useEffect(()=>{v("ontouchstart"in window),T(!0),h(window)},[]);const M=I?wL:pR;return m?c?N.jsx(M,Object.assign({backend:n||(E?IL:oL),context:c,options:n?l:void 0},{children:o})):N.jsx(N.Fragment,{children:o}):null};function OL({boardContainer:n}){const{boardWidth:l,chessPieces:o,id:c,snapToCursor:h,allowDragOutsideBoard:m}=$l(),T=xR(k=>({item:k.getItem(),clientOffset:k.getClientOffset(),sourceClientOffset:k.getSourceClientOffset(),isDragging:k.isDragging()})),{isDragging:E,item:v,clientOffset:I,sourceClientOffset:M}=T,w=me.useCallback((k,H)=>{if(!k||!H)return{display:"none"};let{x:P,y:O}=h?k:H;const z=l/8/2;if(h&&(P-=z,O-=z),!m){const{left:oe,top:ne}=n,ue=oe-z,ge=ne-z,ce=oe+l-z,re=ne+l-z;P=Math.max(ue,Math.min(P,ce)),O=Math.max(ge,Math.min(O,re))}const ee=`translate(${P}px, ${O}px)`;return{transform:ee,WebkitTransform:ee,touchAction:"none"}},[l,m,h,n]);return E&&v.id===c?N.jsx("div",Object.assign({style:{position:"fixed",pointerEvents:"none",zIndex:10,left:0,top:0}},{children:N.jsx("div",Object.assign({style:w(I,M)},{children:typeof o[v.piece]=="function"?o[v.piece]({squareWidth:l/8,isDragging:!0}):N.jsx("svg",Object.assign({viewBox:"1 1 43 43",width:l/8,height:l/8},{children:N.jsx("g",{children:o[v.piece]})}))}))})):null}const RL=me.forwardRef((n,l)=>{const{customDndBackend:o,customDndBackendOptions:c,onBoardWidthChange:h}=n,m=Bk(n,["customDndBackend","customDndBackendOptions","onBoardWidthChange"]),[T,E]=me.useState(n.boardWidth),v=me.useRef(null),I=me.useRef(null),[M,w]=me.useState({left:0,top:0}),k=me.useMemo(()=>{var H;return(H=v.current)===null||H===void 0?void 0:H.getBoundingClientRect()},[v.current]);return me.useEffect(()=>{T&&(h==null||h(T))},[T]),me.useEffect(()=>{w({left:k!=null&&k.left?k==null?void 0:k.left:0,top:k!=null&&k.top?k==null?void 0:k.top:0})},[k]),me.useEffect(()=>{var H;if(n.boardWidth===void 0&&(!((H=v.current)===null||H===void 0)&&H.offsetWidth)){const P=new ResizeObserver(()=>{var O;E((O=v.current)===null||O===void 0?void 0:O.offsetWidth)});return P.observe(v.current),()=>{P.disconnect()}}},[v.current]),N.jsx(pL,{children:N.jsxs("div",Object.assign({ref:I,style:{display:"flex",flexDirection:"column",width:"100%"}},{children:[N.jsx("div",{ref:v,style:{width:"100%"}}),N.jsx(kL,Object.assign({customDndBackend:o,customDndBackendOptions:c},{children:T&&N.jsxs(Yk,Object.assign({boardWidth:T},m,{ref:l},{children:[N.jsx(OL,{boardContainer:M}),N.jsx(fL,{})]}))}))]}))})});var Ag={exports:{}},LL=Ag.exports,Ub;function U_(){return Ub||(Ub=1,function(n,l){(function(o,c){n.exports=c()})(LL,function(){var o={},c,h,m,T,E,v,I,M,w,k,H,P,O,z,ee,oe,ne,ue,ge,ce,re,pe,Fe,L,ve,ke,Ne,Le,Ve,X,F,C,J,Y,R,Q,Re,Se,Ue,Oe,Ie,qe,Qe,$t,Ct,yt,rr,Zi,wn,Qt,Kr,pr,eo,Ge,st,it,Yr,kn,$n,Lr,jt,Pn,Oo,le,Be,_,S,W,j,we,_t,Bn,Jr,to,Ar,qr,ms,Ro,$s,_l,Fn,ir,Tl,no,El,ro,pt,ht,fn,Ht,fr,or,zc,bl,Lo,mu,Xd,$u,_u,Kd,Tu,Yd,Xc,Jd,zt,Kc,yl,Eu,Ao,Ef,_s,Do,gr,bf,Dr,yf,No,_n,Mo,vl,zn,Nr,vf,qd,Sl,Yc,Jc,Ts,bu,qc,at,Qd,Zd,Il,eh,Es,th,yu,bs,Ei,bi,io,xo,yi,Qr,Sf,Qc,ys,If,nh,vi,rh,vu,On,Cl,vs,Su,Cf,wf,Zc,Iu,Cu,Si,mr,wu,ku,ih,Ou,Ru,oh,sr,Ss,ea,wl,sh,ta,Po,Bo,Lu,Is,lh,uh,ch,kl,na,ah,kf,dh,hh,ra,ph,fh,gh,mh,ia,Au,$h,oa,Du,Ii,_h,Th,Nu,Eh,bh,Of,Ol,Cs,Rf,yh,vh,Sh,Ih,ws,Fo,Ch,Rl,sa,wh,kh,ks,Os,oo,Ll,Oh,Rh,la,ua,Lh,ca,Ah,Dh,Lf,Rs,Mu,aa,lr,Zr,da,xu,ha,Xt,pa,Al,Ls,As,Pu,Uo,Ho,fa,Ci,wi,Bu,ga,Fu,Nh,Mh,ma,xh,$a,Dl,so,_a,Ta,Af,Uu,Ds,Ph,Hu,Vu,Rt,Ns,Nl,lo,Bh,Ea,Mr,Ml,Xn,Fh,Df,Uh,Hh,ki,xl,ba,ya,va,Sa,Nf,Ia,Mf,xf,Pl,uo,Vh,Vo,$r,Ms,xr,Gu,Gh,Bl,_r,Tr,Kn,Wu,Ca,xs,Oi,vt,wt,co,Rn,Un,Ri,Go,Ln,ju,Wh,jh,zu,We,Zt,en,St,ei,Fl,Ae,kt,Wo,Xu,ti,Yn,Jn,ao,Li,ni,Ai,wa,Ku,ka,qn,ur,Ot,Pr,zh,Xh,Oa,Ra,La,Yu,Ul,Di,Aa,Kh,Ps,Hl,Da,Ju,jo,Yh,qu,Qu,ri,Zu,Na,Vl,cr,Bs,gn,ho,Ma,Gl,ii,Ni,ec,xa,oi,Mi,Wl,Pa,jl,Ba,zl,si,Xl,Kl,zo,Fa,po,Jh,Ua,xt,Yl,tc,nc,Jl,rc,fo,Lt,Kt,cn,ic,Fs,Us,qh,Tn,oc,sc,lc,Br,ar,Hs,Ha,Va,Qh,Ga,Zh,ep,tp,np,rp,fe;c=function(e,t,r,u){if(!(e instanceof $e)&&typeof e!="string"||`${e}`.trim()==="")throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),typeof t!="string"||t.trim()==="")throw Error('Invalid name "'+t+'". The name must be a non-empty string.');const d=t.toLowerCase();if(!r)throw Error("Can not register a null value");let g=Fr[e],y=Vs[e];if(g||(g=Fr[e]=Object.create(null),y=Vs[e]=Object.create(null)),h(e,r),!u&&g[d]&&g[d]!==r)throw Error('Name "'+d+'" with type "'+e+'" already registered.');g[d]=r,y[d]=t},h=function(e,t){switch(e){case String($e.FIELD):if(typeof t.fromJson!="function")throw Error('Type "'+e+'" must have a fromJson function')}},m=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const r=Fr[e];r&&r[t]?(delete Fr[e][t],delete Vs[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},T=function(e,t,r){e=`${e}`.toLowerCase(),t=t.toLowerCase();const u=Fr[e];if(!u||!u[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",r)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return u[t]},E=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),(e=Fr[e])?!!e[t]:!1},v=function(e,t,r){return T(e,t,r)},I=function(e,t,r){return T(e,t,r)},M=function(e,t,r){e=`${e}`.toLowerCase();var u=Fr[e];if(!u){if(u=`Unable to find [${e}] in the registry.`,r)throw Error(`${u} You must require or register a ${e} plugin.`);return console.warn(u),null}if(!t)return u;e=Vs[e],r=Object.create(null);for(const d of Object.keys(u))r[e[d]]=u[d];return r},w=function(e,t,r){return t=t.plugins[String(e)]||Er,typeof t=="function"?t:v(e,t,r)},k=function(e,t,r,u){e=e+" was deprecated in "+t+" and will be deleted in "+r+".",u&&(e+=`
Use `+u+" instead."),op.has(e)||(op.add(e),console.warn(e))},H=function(){return"blockly-"+(Bf++).toString(36)},P=function(){return lp.genUid()},O=function(e){return e.type===te.BLOCK_CREATE},z=function(e){return e.type===te.BLOCK_DELETE},ee=function(e){return e.type===te.BLOCK_CHANGE},oe=function(e){return e.type===te.BLOCK_FIELD_INTERMEDIATE_CHANGE},ne=function(e){return e.type===te.BLOCK_MOVE},ue=function(e){return e.type===te.CLICK},ge=function(e){return e.type===te.BUBBLE_OPEN},ce=function(e){return e.type===te.VIEWPORT_CHANGE},o.setRecordUndo$$module$build$src$core$events$utils=function(e){uc=e},re=function(){return uc},pe=function(e){dp.fireInternal(e)},Fe=function(e){if(Le()){if(!xi.length)try{requestAnimationFrame(()=>{setTimeout(L,0)})}catch{setTimeout(L,0)}ve(e)}},L=function(){const e=ke(xi,!0);xi.length=0;for(const t of e){if(!t.workspaceId)continue;let r;(r=Y(t.workspaceId))==null||r.fireChangeListener(t)}},ve=function(e){if(ee(e)&&e.element==="mutation"){let t;for(t=xi.length;0<t;t--){const r=xi[t-1];if(r.group!==e.group||r.workspaceId!==e.workspaceId||!ne(r)||r.newParentId!==e.blockId)break}xi.splice(t,0,e)}else xi.push(e)},ke=function(e,t=!0){t||(k("filter(queue, /*forward=*/false)","v11.2","v12"),e=e.slice().reverse());const r=[];for(const u of e)if(e=r[r.length-1],!u.isNull())if(e&&e.workspaceId===u.workspaceId&&e.group===u.group)if(ne(u)&&ne(e)&&u.blockId===e.blockId){if(e.newParentId=u.newParentId,e.newInputName=u.newInputName,e.newCoordinate=u.newCoordinate,e.reason||u.reason){let d,g;e.reason=Array.from(new Set(((d=e.reason)!=null?d:[]).concat((g=u.reason)!=null?g:[])))}}else ee(u)&&ee(e)&&u.blockId===e.blockId&&u.element===e.element&&u.name===e.name?e.newValue=u.newValue:ce(u)&&ce(e)?(e.viewTop=u.viewTop,e.viewLeft=u.viewLeft,e.scale=u.scale,e.oldScale=u.oldScale):ue(u)&&ge(e)||r.push(u);else r.push(u);return e=r.filter(u=>!u.isNull()),t||e.reverse(),e},Ne=function(){for(let e=0,t;t=xi[e];e++)t.recordUndo=!1},o.disable$$module$build$src$core$events$utils=function(){ap++},o.enable$$module$build$src$core$events$utils=function(){ap--},Le=function(){return ap===0},o.getGroup$$module$build$src$core$events$utils=function(){return cp},o.setGroup$$module$build$src$core$events$utils=function(e){dp.setGroupInternal(e)},Ve=function(e){cp=typeof e=="boolean"?e?P():"":e},X=function(e){const t=[];e=e.getDescendants(!1);for(let r=0,u;u=e[r];r++)t[r]=u.id;return t},F=function(e,t){const r=C(e.type);if(!r)throw Error("Unknown event type.");return r.fromJson(e,t)},C=function(e){const t=v($e.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},J=function(e){if((ne(e)||O(e))&&e.workspaceId){var t=Y(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const r=uc;try{uc=!1;const u=e.getParent();if(u&&!u.hasDisabledReason(ja)){const d=e.getDescendants(!1);for(let g=0,y;y=d[g];g++)y.setDisabledReason(!1,ja)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do e.setDisabledReason(!0,ja),e=e.getNextBlock();while(e)}finally{uc=r}}}},Y=function(e){return Xo[e]||null},R=function(){const e=[];for(const t in Xo)e.push(Xo[t]);return e},Q=function(e){Xo[e.id]=e},Re=function(e){delete Xo[e.id]},Se=function(){return Ff},Ue=function(e){Ff=e},Oe=function(){return Gs},o.setSelected$$module$build$src$core$common=function(e){if(Gs!==e){var t,r,u,d,g,y,B=new(C(te.SELECTED))((u=(t=Gs)==null?void 0:t.id)!=null?u:null,(d=e==null?void 0:e.id)!=null?d:null,(y=(g=e==null?void 0:e.workspace.id)!=null?g:(r=Gs)==null?void 0:r.workspace.id)!=null?y:"");pe(B);var ae;(ae=Gs)==null||ae.unselect(),Gs=e;var xe;(xe=Gs)==null||xe.select()}},Ie=function(){return Uf},qe=function(e){Uf=e},Qe=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),r=e.getCachedParentSvgSize();var u=t.parentElement;if(u instanceof HTMLElement){var d=u.offsetWidth;u=u.offsetHeight,r.width!==d&&(t.setAttribute("width",d+"px"),e.setCachedParentSvgSize(d,null)),r.height!==u&&(t.setAttribute("height",u+"px"),e.setCachedParentSvgSize(null,u)),e.resize()}},$t=function(e,t){const r=Object.create(null),u=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=u.indexOf(e),u.splice(e,u.length-e));for(let d=0,g;g=u[d];d++)r[g.type]?r[g.type]++:r[g.type]=1;return r},Ct=function(e){return function(){this.jsonInit(e)}},yt=function(e){za.defineBlocksWithJsonArrayInternal(e)},rr=function(e){o.defineBlocks$$module$build$src$core$common(o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let r=0;r<e.length;r++){const u=e[r];if(!u){console.warn(`Block definition #${r} in JSON array is ${u}. Skipping`);continue}const d=u.type;d?t[d]={init:Ct(u)}:console.warn(`Block definition #${r} in JSON array is missing a type attribute. Skipping.`)}return t},o.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const r=e[t];t in Qn&&console.warn(`Block definition "${t}" overwrites previous definition.`),Qn[t]=r}},Zi=function(e,t){wn(),ac=setTimeout(function(){t&&t.handleRightClick(e)},ql)},wn=function(){ac&&(clearTimeout(ac),ac=0)},Qt=function(){Ql=null},Kr=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&eo(e)},pr=function(e){return`${e.pointerId}`},eo=function(e){const t=pr(e);return Ql?Ql===t:e.type==="pointerdown"?(Ql=t,!0):!1},Ge=function(e,t,r,u,d){function g(B){(d||Kr(B))&&(r?u.call(r,B):u(B))}const y=[];if(t in js)for(let B=0;B<js[t].length;B++){const ae=js[t][B];e.addEventListener(ae,g,!1),y.push([e,ae,g])}else e.addEventListener(t,g,!1),y.push([e,t,g]);return y},st=function(e,t,r,u){function d(y){r?u.call(r,y):u(y)}const g=[];if(t in js)for(let y=0;y<js[t].length;y++){const B=js[t][y];e.addEventListener(B,d,!1),g.push([e,B,d])}else e.addEventListener(t,d,!1),g.push([e,t,d]);return g},it=function(e){const t=e[e.length-1][2];for(;e.length;){const[r,u,d]=e.pop();r.removeEventListener(u,d,!1)}return t},Yr=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||e.target.getAttribute("data-is-text-input")==="true")return!0;if(e.target instanceof HTMLInputElement)return e=e.target,e.type==="text"||e.type==="number"||e.type==="email"||e.type==="password"||e.type==="search"||e.type==="tel"||e.type==="url";if(e.target instanceof HTMLTextAreaElement)return!0}return!1},kn=function(e){return e.ctrlKey&&pc?!0:e.button===2},$n=function(e,t,r){const u=t.createSVGPoint();return u.x=e.clientX,u.y=e.clientY,r||(r=t.getScreenCTM().inverse()),u.matrixTransform(r)},Lr=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*Za,y:e.deltaY*Za};case 2:return{x:e.deltaX*fc,y:e.deltaY*fc}}},jt=function(e,t){return t=e.indexOf(t),t===-1?!1:(e.splice(t,1),!0)},Pn=function(e){if(Zl)throw Error("CSS already injected");ci+=`
`+e},Oo=function(e,t){Zl||(Zl=!0,e&&(e=t.replace(/[\\/]$/,""),t=ci.replace(/<<<PATH>>>/g,e),ci="",e=document.createElement("style"),e.id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},le=function(e,t,r){e=document.createElementNS(zs,`${e}`);for(const u in t)e.setAttribute(u,`${t[u]}`);return r&&r.appendChild(e),e},Be=function(e,t){return t=t.split(" "),t.every(r=>e.classList.contains(r))?!1:(e.classList.add(...t),!0)},_=function(e,t){e.classList.remove(...t.split(" "))},S=function(e,t){return t=t.split(" "),t.every(r=>!e.classList.contains(r))?!1:(e.classList.remove(...t),!0)},W=function(e,t){return e.classList.contains(t)},j=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},we=function(e,t){const r=t.nextSibling;if(t=t.parentNode,!t)throw Error("Reference node has no parent.");r?t.insertBefore(e,r):t.appendChild(e)},_t=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},Bn=function(){bp++,Dt||(Dt=Object.create(null))},Jr=function(){bp--,bp||(Dt=null)},to=function(e){const t=e.textContent+`
`+e.className.baseVal;let r;if(Dt&&(r=Dt[t]))return r;try{r=e.getComputedTextLength()}catch{return 8*e.textContent.length}return Dt&&(Dt[t]=r),r},Ar=function(e,t,r,u){return qr(e,t+"pt",r,u)},qr=function(e,t,r,u){const d=e.textContent;e=d+`
`+e.className.baseVal;var g;return Dt&&(g=Dt[e])||(ed||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),ed=g.getContext("2d")),ed.font=r+" "+t+" "+u,g=d?ed.measureText(d).width:0,Dt&&(Dt[e]=g)),g},ms=function(e,t,r,u){const d=document.createElement("span");d.style.font=r+" "+t+" "+u,d.textContent=e,e=document.createElement("div"),e.style.width="1px",e.style.height="0",t=document.createElement("div"),t.style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(d),t.appendChild(e),document.body.appendChild(t),r={height:0,baseline:0};try{t.style.alignItems="baseline",r.baseline=e.offsetTop-d.offsetTop,t.style.alignItems="flex-end",r.height=e.offsetTop-d.offsetTop}finally{document.body.removeChild(t)}return r},Ro=function(e){return Xs.getSizeInternal(e)},$s=function(e){if(Fn(e,"display")!=="none")return _l(e);const t=e.style,r=t.display,u=t.visibility,d=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const g=e.offsetWidth;return e=e.offsetHeight,t.display=r,t.position=d,t.visibility=u,new Ee(g,e)},_l=function(e){return k("Blockly.utils.style.getSizeWithDisplay()","v11.2","v13"),new Ee(e.offsetWidth,e.offsetHeight)},Fn=function(e,t){return e=window.getComputedStyle(e),e[t]||e.getPropertyValue(t)},ir=function(e){const t=new be(0,0);e=e.getBoundingClientRect();var r=document.documentElement;return r=new be(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),t.x=e.left+r.x,t.y=e.top+r.y,t},Tl=function(){const e=document.body,t=document.documentElement;return new be(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},no=function(e){k("Blockly.utils.style.getBorderBox()","v11.2","v13");const t=parseFloat(Fn(e,"borderLeftWidth")),r=parseFloat(Fn(e,"borderRightWidth")),u=parseFloat(Fn(e,"borderTopWidth"));return e=parseFloat(Fn(e,"borderBottomWidth")),new ft(u,e,t,r)},El=function(e,t,r){k("Blockly.utils.style.scrollIntoContainerView()","v11.2","v13","the native Element.scrollIntoView()"),e=ro(e,t,r),t.scrollLeft=e.x,t.scrollTop=e.y},ro=function(e,t,r){k("Blockly.utils.style.getContainerOffsetToScrollInto()","v11.2","v13");var u=ir(e),d=ir(t),g=no(t);const y=u.x-d.x-g.left;return u=u.y-d.y-g.top,d=_l(e),e=t.clientWidth-d.width,d=t.clientHeight-d.height,g=t.scrollLeft,t=t.scrollTop,r?(g+=y-e/2,t+=u-d/2):(g+=Math.min(y,Math.max(y-e,0)),t+=Math.min(u,Math.max(u-d,0))),new be(g,t)},pt=function(e){const t=new be(0,0);var r=e.x&&e.getAttribute("x");const u=e.y&&e.getAttribute("y");return r&&(t.x=parseInt(r)),u&&(t.y=parseInt(u)),(r=(r=e.getAttribute("transform"))&&r.match(yp))&&(t.x+=Number(r[1]),r[3]&&(t.y+=Number(r[3]))),(e=e.getAttribute("style"))&&e.includes("translate")&&(e=e.match(Wf))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},ht=function(e){let t=0,r=0;for(;e;){const u=pt(e);if(t+=u.x,r+=u.y,(" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv "))break;e=e.parentNode}return new be(t,r)},fn=function(){const e=Tl();return new ft(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Ht=function(){const e=document.documentElement,t=window;return new be(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},fr=function(e,t){var r=t.x;t=t.y;const u=e.getInjectionDiv().getBoundingClientRect();return r=new be(r-u.left,t-u.top),t=e.getOriginOffsetInPixels(),be.difference(r,t).scale(1/e.scale)},or=function(e,t){var r=t.scale(e.scale);t=r.x,r=r.y;const u=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new be(t+u.left+e.x,r+u.top+e.y)},zc=function(e){({document:$c=$c,DOMParser:Ks=Ks,XMLSerializer:Ys=Ys}=e),mc=new Ks,td=new Ys},o.createElement$$module$build$src$core$utils$xml=function(e){return $c.createElementNS(bn,e)},o.createTextNode$$module$build$src$core$utils$xml=function(e){return $c.createTextNode(e)},o.textToDom$$module$build$src$core$utils$xml=function(e){let t=mc.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=mc.parseFromString(e,"text/html"))&&t.body.firstChild&&t.body.firstChild.nodeName.toLowerCase()==="xml")return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},bl=function(e){return Lo(td.serializeToString(e))},Lo=function(e){return e.replace(di,t=>`&#${t.charCodeAt(0)};`)},mu=function(e){return e?((e instanceof Element||typeof e=="string")&&(e=zt(e),e=Yd(e)),Xd(e),e):null},Xd=function(e){const t=e.kind;if(e=e.contents,t&&t!==vp&&t!==nd)throw Error("Invalid toolbox kind "+t+". Please supply either "+vp+" or "+nd);if(!e)throw Error("Toolbox must have a contents attribute.")},$u=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:Xc(e):[]},_u=function(e){return Sp.hasCategoriesInternal(e)},Kd=function(e){if(!e)return!1;const t=e.kind;return t?t===nd:!!e.contents.filter(r=>r.kind.toUpperCase()==="CATEGORY").length},Tu=function(e){return e&&e.contents?!!e.contents.filter(function(t){return t.kind.toUpperCase()==="CATEGORY"}).length:!1},Yd=function(e){const t={contents:Xc(e)};return e instanceof Node&&Jd(e,t),t},Xc=function(e){const t=[];let r=e.childNodes;r||(r=e);for(let u=0,d;d=r[u];u++){if(!d.tagName)continue;e={};const g=d.tagName.toUpperCase();e.kind=g,g==="BLOCK"?e.blockxml=d:d.childNodes&&0<d.childNodes.length&&(e.contents=Xc(d)),Jd(d,e),t.push(e)}return t},Jd=function(e,t){for(let r=0;r<e.attributes.length;r++){const u=e.attributes[r];u.nodeName.includes("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[u.nodeName.replace("css-","")]=u.value):t[u.nodeName]=u.value}},zt=function(e){let t=null;if(e)if(typeof e=="string"){if(t=o.textToDom$$module$build$src$core$utils$xml(e),t.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},Kc=function(e,t,r,u,d,g){const y=g.scrollbar&&g.scrollbar.canScrollVertically();return e.horizontal===Js.LEFT?(r=d.absoluteMetrics.left+r,y&&g.RTL&&(r+=Vt.scrollbarThickness)):(r=d.absoluteMetrics.left+d.viewMetrics.width-t.width-r,y&&!g.RTL&&(r-=Vt.scrollbarThickness)),e.vertical===mo.TOP?e=d.absoluteMetrics.top+u:(e=d.absoluteMetrics.top+d.viewMetrics.height-t.height-u,g.scrollbar&&g.scrollbar.canScrollHorizontally()&&(e-=Vt.scrollbarThickness)),new ft(e,e+t.height,r,r+t.width)},yl=function(e,t){return{horizontal:t.toolboxMetrics.position===Ke.LEFT||e.horizontalLayout&&!e.RTL?Js.RIGHT:Js.LEFT,vertical:t.toolboxMetrics.position===Ke.BOTTOM?mo.TOP:mo.BOTTOM}},Eu=function(e,t,r,u){const d=e.left,g=e.right-e.left,y=e.bottom-e.top;for(let B=0;B<u.length;B++){const ae=u[B];e.intersects(ae)&&(e=r===$o.UP?ae.top-y-t:ae.bottom+t,e=new ft(e,e+y,d,d+g),B=-1)}return e},Ao=function(e,t){c($e.SERIALIZER,e,t)},Ef=function(e){m($e.SERIALIZER,e)},_s=function(e,{addCoordinates:t=!1,saveIds:r=!0}={}){const u=e.workspace,d=Object.create(null);return d.height=e.getSize().height,d.width=e.getSize().width,r&&(d.id=e.id),t&&(t=e.getRelativeToSurfaceXY(),d.x=u.RTL?u.getWidth()-t.x:t.x,d.y=t.y),e.getText()&&(d.text=e.getText()),e.isCollapsed()&&(d.collapsed=!0),e.isOwnEditable()||(d.editable=!1),e.isOwnMovable()||(d.movable=!1),e.isOwnDeletable()||(d.deletable=!1),d},Do=function(e,t,{recordUndo:r=!1}={}){const u=re();if(o.setRecordUndo$$module$build$src$core$events$utils(r),r=t.newComment(e.id),e.text!==void 0&&r.setText(e.text),e.x!==void 0||e.y!==void 0){const g=r.getRelativeToSurfaceXY();let y,B=(y=e.x)!=null?y:g.x;B=t.RTL?t.getWidth()-B:B;var d;t=(d=e.y)!=null?d:g.y,r.moveTo(new be(B,t))}if(e.width!==void 0||e.height){d=r.getSize();let g,y;r.setSize(new Ee((g=e.width)!=null?g:d.width,(y=e.height)!=null?y:d.height))}return e.collapsed!==void 0&&r.setCollapsed(e.collapsed),e.editable!==void 0&&r.setEditable(e.editable),e.movable!==void 0&&r.setMovable(e.movable),e.deletable!==void 0&&r.setDeletable(e.deletable),o.setRecordUndo$$module$build$src$core$events$utils(u),r},gr=function(e,t){c($e.PASTER,e,t)},bf=function(e){m($e.PASTER,e)},Dr=function(e){const t=e.workspace,r=e.getRelativeToSurfaceXY(),u=new be(0,0),d=t.getTopComments(!1).filter(g=>g.id!==e.id).map(g=>g.getRelativeToSurfaceXY());for(;yf(be.sum(r,u),d);)u.translate(t.RTL?-30:30,30);e.moveTo(be.sum(r,u))},yf=function(e,t){return t.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},No=function(e,t){e.setAttribute(id,t)},_n=function(e,t,r){Array.isArray(r)&&(r=r.join(" ")),e.setAttribute(Qs+t,`${r}`)},Mo=function(e){return e.saveState!==void 0&&e.loadState!==void 0},vl=function(e){return qd(e),vf()?(Sl(),Promise.resolve()):(Ui||(Ui=new Promise(t=>{Ec=t,bc=window.requestAnimationFrame(()=>{Sl(),t()})})),Ui)},zn=function(){return Ui||Promise.resolve()},Nr=function(e){e||window.cancelAnimationFrame(bc),Sl(e),!e&&Ec&&Ec()},vf=function(){return qa},qd=function(e){Fi.add(e),eu.set(e,o.getGroup$$module$build$src$core$events$utils());const t=e.getParent();t?qd(t):el.add(e)},Sl=function(e){const t=e?new Set([e]):new Set([...el].map(g=>g.workspace)),r=[...el].filter(Jc).filter(g=>t.has(g.workspace));for(var u of r)Ts(u);for(const g of t)g.resizeContents();for(var d of r)u=d.getRelativeToSurfaceXY(),d.updateComponentLocations(u);for(const g of r)d=o.getGroup$$module$build$src$core$events$utils(),(u=eu.get(g))&&o.setGroup$$module$build$src$core$events$utils(u),g.bumpNeighbours(),o.setGroup$$module$build$src$core$events$utils(d);for(const g of r)Yc(g);e||(Ui=null)},Yc=function(e){el.delete(e),Fi.delete(e),eu.delete(e);for(const t of e.getChildren(!1))Yc(t)},Jc=function(e){return!e.isDisposed()&&!e.getParent()},Ts=function(e){if(Fi.has(e)&&e.initialized){for(const t of e.getChildren(!1))Ts(t);e.renderEfficiently()}},bu=function(e,t){Gn(e,t)},qc=function(e){Gn=e},at=function(e,t){er.confirmInternal(e,t)},Qd=function(e,t){_o(e,t)},Zd=function(e){_o=e},Il=function(e,t,r){Hr(e,t,r)},eh=function(e){Hr=e},Es=function(e){return e.getProcedureDef!==void 0},th=function(e){return e.getProcedureCall!==void 0&&e.renameProcedure!==void 0},yu=function(e){return e.getVariableModel!==void 0},o.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let r=0;r<e.length;r++){const u=e[r].getVarModels();if(u)for(let d=0;d<u.length;d++){const g=u[d];g.getId()&&t.add(g)}}return Array.from(t.values())},o.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let u=0,d;d=e[u];u++){var r=d.getDeveloperVariables;if(r){r=r();for(let g=0;g<r.length;g++)t.add(r[g])}}return Array.from(t.values())},bs=function(e){let t=[];const r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(u){yi(u.getTargetWorkspace())}),t.push(r),e=Ei(e),t=t.concat(e)},Ei=function(e){e=e.getVariablesOfType("");const t=[];if(0<e.length){var r=e[e.length-1];if(Qn.variables_set){var u=o.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set"),u.setAttribute("gap",Qn.math_change?"8":"24"),u.appendChild(vi(r)),t.push(u)}if(Qn.math_change&&(u=o.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","math_change"),u.setAttribute("gap",Qn.variables_get?"20":"8"),u.appendChild(vi(r)),r=o.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),u.appendChild(r),t.push(u)),Qn.variables_get){e.sort(tu.compareByName);for(let d=0,g;g=e[d];d++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get"),r.setAttribute("gap","8"),r.appendChild(vi(g)),t.push(r)}}return t},bi=function(e){return sd.generateUniqueNameInternal(e)},io=function(e){return xo(To.charAt(0),e.getAllVariableNames())},xo=function(e,t){if(!t.length)return e;const r=To;let u="",d=r.indexOf(e);for(;;){let g=!1;for(let y=0;y<t.length;y++)if(t[y].toLowerCase()===e){g=!0;break}if(!g)break;d++,d===r.length&&(d=0,u=`${Number(u)+1}`),e=r.charAt(d)+u}return e},yi=function(e,t,r){function u(g){Qr(o.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,g,function(y){if(y){var B=Qc(y,e);if(B){if(B.type===d)var ae=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",B.name);else ae=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,ae=ae.replace("%1",B.name).replace("%2",B.type);bu(ae,function(){u(y)})}else e.createVariable(y,d),t&&t(y)}else t&&t(null)})}const d=r||"";u("")},o.renameVariable$$module$build$src$core$variables=function(e,t,r){function u(d){const g=o.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);Qr(g,d,function(y){if(y){var B=Sf(y,t.type,e),ae=ys(t.name,y,e);if(B||ae){var xe="";B?xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",B.name).replace("%2",B.type):ae&&(xe=o.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",y).replace("%2",ae)),bu(xe,function(){u(y)})}else e.renameVariableById(t.getId(),y),r&&r(y)}else r&&r(null)})}u("")},Qr=function(e,t,r){Il(e,t,function(u){u&&(u=u.replace(/[\s\xa0]+/g," ").trim(),u===o.Msg$$module$build$src$core$msg.RENAME_VARIABLE||u===o.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(u=null),r(u)})},Sf=function(e,t,r){r=r.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let u=0,d;d=r[u];u++)if(d.name.toLowerCase()===e&&d.type!==t)return d;return null},Qc=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r=0,u;u=t[r];r++)if(u.name.toLowerCase()===e)return u;return null},ys=function(e,t,r){return r.getProcedureMap().getProcedures().length?If(e,t,r):nh(e,t,r)},If=function(e,t,r){e=e.toLowerCase(),t=t.toLowerCase(),r=r.getProcedureMap().getProcedures();for(const d of r){var u=d.getParameters().filter(yu).map(g=>g.getVariableModel().name);if(u&&(r=u.some(g=>g.toLowerCase()===e),u=u.some(g=>g.toLowerCase()===t),r&&u))return d.getName()}return null},nh=function(e,t,r){e=e.toLowerCase(),t=t.toLowerCase(),r=r.getAllBlocks(!1);for(const d of r){if(!Es(d))continue;r=d.getProcedureDef();var u=r[1];const g=u.some(y=>y.toLowerCase()===e);if(u=u.some(y=>y.toLowerCase()===t),g&&u)return r[0]}return null},vi=function(e){const t=o.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=o.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},o.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,r,u){let d=o.getVariable$$module$build$src$core$variables(e,t,r,u);return d||(d=rh(e,t,r,u)),d},o.getVariable$$module$build$src$core$variables=function(e,t,r,u){const d=e.getPotentialVariableMap();let g=null;if(t&&(g=e.getVariableById(t),!g&&d&&(g=d.getVariableById(t)),g))return g;if(r){if(u===void 0)throw Error("Tried to look up a variable by name without a type");g=e.getVariable(r,u),!g&&d&&(g=d.getVariable(r,u))}return g},rh=function(e,t,r,u){const d=e.getPotentialVariableMap();return r||(r=bi(e.isFlyout?e.targetWorkspace:e)),d?d.createVariable(r,u,t):e.createVariable(r,u,t)},vu=function(e,t){e=e.getAllVariables();const r=[];if(t.length!==e.length)for(let u=0;u<e.length;u++){const d=e[u];t.includes(d)||r.push(d)}return r},On=function(e,{addCoordinates:t=!1,addInputBlocks:r=!0,addNextBlocks:u=!0,doFullSerialization:d=!0,saveIds:g=!0}={}){if(e.isInsertionMarker())return null;const y={type:e.type,id:g?e.id:void 0};return t&&vs(e,y),Cl(e,y),Su(e,y,d),Cf(e,y,d),wf(e,y,d),r&&Zc(e,y,d,g),u&&Iu(e,y,d,g),y},Cl=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.disabledReasons=Array.from(e.getDisabledReasons())),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},vs=function(e,t){const r=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(r.RTL?r.getWidth()-e.x:e.x),t.y=Math.round(e.y)},Su=function(e,t,r){e.saveExtraState?(e=e.saveExtraState(r),e!==null&&(t.extraState=e)):e.mutationToDom&&(e=e.mutationToDom(),e!==null&&(t.extraState=Xn(e).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},Cf=function(e,t,r){const u=Object.create(null);for(const d of e.getIcons())Mo(d)&&(e=d.saveState(r))&&(u[d.getType().toString()]=e);Object.keys(u).length&&(t.icons=u)},wf=function(e,t,r){const u=Object.create(null);for(let d=0;d<e.inputList.length;d++){const g=e.inputList[d];for(let y=0;y<g.fieldRow.length;y++){const B=g.fieldRow[y];B.isSerializable()&&(u[B.name]=B.saveState(r))}}Object.keys(u).length&&(t.fields=u)},Zc=function(e,t,r,u){const d=Object.create(null);for(let g=0;g<e.inputList.length;g++){const y=e.inputList[g];if(!y.connection)continue;const B=Cu(y.connection,r,u);B&&(d[y.name]=B)}Object.keys(d).length&&(t.inputs=d)},Iu=function(e,t,r,u){e.nextConnection&&(e=Cu(e.nextConnection,r,u))&&(t.next=e)},Cu=function(e,t,r){const u=e.getShadowState(!0);if(e=e.targetBlock(),!u&&!e)return null;const d=Object.create(null);return u&&(d.shadow=u),e&&!e.isShadow()&&(d.block=On(e,{doFullSerialization:t,saveIds:r})),d},Si=function(e,t,{recordUndo:r=!1}={}){return e=mr(e,t,{recordUndo:r}),t.rendered&&Nr(),e},mr=function(e,t,{parentConnection:r,isShadow:u=!1,recordUndo:d=!1}={}){const g=re();o.setRecordUndo$$module$build$src$core$events$utils(d),(d=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),o.disable$$module$build$src$core$events$utils();const y=t.getAllVariables();let B;try{B=wu(e,t,{parentConnection:r,isShadow:u})}finally{o.enable$$module$build$src$core$events$utils()}if(ku(t,y),Le()&&pe(new(C(te.BLOCK_CREATE))(B)),o.setGroup$$module$build$src$core$events$utils(d),o.setRecordUndo$$module$build$src$core$events$utils(g),t.rendered){const ae=B;setTimeout(()=>{ae.disposed||ae.setConnectionTracking(!0)},1)}return B},wu=function(e,t,{parentConnection:r,isShadow:u=!1}={}){if(!e.type)throw new Ip(e);const d=t.newBlock(e.type,e.id);return d.setShadow(u),ih(d,e),Ou(d,e),Ru(d,e),oh(r,d,e),sr(d,e),Ss(d,e),ea(d,e),wl(d,e),ta(d,t.rendered),d},ku=function(e,t){if(Le())for(e=vu(e,t),t=0;t<e.length;t++){const r=e[t];pe(new(C(te.VAR_CREATE))(r))}},ih=function(e,t){let r=t.x===void 0?0:t.x;t=t.y===void 0?0:t.y;const u=e.workspace;r=u.RTL?u.getWidth()-r:r,e.moveBy(r,t)},Ou=function(e,t){if(t.collapsed&&e.setCollapsed(!0),t.deletable===!1&&e.setDeletable(!1),t.movable===!1&&e.setMovable(!1),t.editable===!1&&e.setEditable(!1),t.enabled===!1&&e.setDisabledReason(!0,Nn),Array.isArray(t.disabledReasons))for(const r of t.disabledReasons)e.setDisabledReason(!0,r);t.inline!==void 0&&e.setInputsInline(t.inline),t.data!==void 0&&(e.data=t.data)},Ru=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(o.textToDom$$module$build$src$core$utils$xml(t.extraState)))},oh=function(e,t,r){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new zf(r);if(e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var u=t.outputConnection;if(!u)throw new rl("output",t,r)}else if(u=t.previousConnection,!u)throw new rl("previous",t,r);if(!e.connect(u)){const d=t.workspace.connectionChecker;throw new Ic(d.getErrorMessage(d.canConnectWithReason(u,e,!1),u,e),e.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,r)}}},sr=function(e,t){if(t.icons){var r=Object.keys(t.icons);for(const d of r){r=t.icons[d];var u=e.getIcon(d);if(!u){if(u=v($e.ICON,d,!1),!u)throw new Xf(d,e,t);u=new u(e),e.addIcon(u)}Mo(u)&&u.loadState(r)}}},Ss=function(e,t){if(t.fields){var r=Object.keys(t.fields);for(let u=0;u<r.length;u++){const d=r[u],g=t.fields[d],y=e.getField(d);y?y.loadState(g):console.warn(`Ignoring non-existant field ${d} in block ${e.type}`)}}},ea=function(e,t){if(t.inputs){var r=Object.keys(t.inputs);for(let u=0;u<r.length;u++){const d=r[u],g=e.getInput(d);if(!g||!g.connection)throw new rl(d,e,t);sh(g.connection,t.inputs[d])}}},wl=function(e,t){if(t.next){if(!e.nextConnection)throw new rl("next",e,t);sh(e.nextConnection,t.next)}},sh=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&wu(t.block,e.getSourceBlock().workspace,{parentConnection:e})},ta=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const r of e.getIcons())r.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},Po=function(e){return e.bubbleIsVisible!==void 0&&e.setBubbleVisible!==void 0},Bo=function(e){return e*Math.PI/180},Lu=function(e){return 180*e/Math.PI},Is=function(e,t,r){if(r<e){const u=r;r=e,e=u}return Math.max(e,Math.min(t,r))},lh=function(){document.querySelector(".blocklyDropDownDiv")||(ut=document.createElement("div"),ut.className="blocklyDropDownDiv",(Ie()||document.body).appendChild(ut),Cr=document.createElement("div"),Cr.className="blocklyDropDownContent",ut.appendChild(Cr),Vi=document.createElement("div"),Vi.className="blocklyDropDownArrow",ut.appendChild(Vi),ut.style.opacity="0",ut.style.transition="transform "+Cc+"s, opacity "+Cc+"s",ut.addEventListener("focusin",function(){Be(ut,"blocklyFocused")}),ut.addEventListener("focusout",function(){S(ut,"blocklyFocused")}))},uh=function(e){Eo=e},ch=function(){return pi},kl=function(){return Cr},na=function(){Cr.textContent="",Cr.style.width=""},ah=function(e,t){ut.style.backgroundColor=e,ut.style.borderColor=t},kf=function(e,t,r,u){return ph(hh(t),e,r,u)},dh=function(e,t,r){return cd=!0,ph(ra(e),e,t,r)},hh=function(e){var t=e.getSvgRoot();const r=e.workspace.scale,u=e.height*r;return e=e.width*r,t=ir(t),new ft(t.y,t.y+u,t.x,t.x+e)},ra=function(e){return e=e.getScaledBBox(),new ft(e.top,e.bottom,e.left,e.right)},ph=function(e,t,r,u){const d=e.left+(e.right-e.left)/2,g=e.bottom;e=e.top,u&&(e+=u),u=t.getSourceBlock();let y=u.workspace;for(;y.options.parentWorkspace;)y=y.options.parentWorkspace;return uh(y.getParentSvg().parentNode),fh(t,u.RTL,d,g,d,e,r)},fh=function(e,t,r,u,d,g,y){return pi=e,il=y||null,ut.style.direction=t?"rtl":"ltr",e=Se(),Mn=e.getRenderer().getClassName(),ns=e.getTheme().getClassName(),Mn&&Be(ut,Mn),ns&&Be(ut,ns),_h(r,u,d,g)},gh=function(e,t,r,u){return e=Au(e,r.left,r.right,u.width),{initialX:e.divX,initialY:t,finalX:e.divX,finalY:t+kp,arrowX:e.arrowX,arrowY:-9,arrowAtTop:!0,arrowVisible:!0}},mh=function(e,t,r,u){return e=Au(e,r.left,r.right,u.width),{initialX:e.divX,initialY:t-u.height,finalX:e.divX,finalY:t-u.height-kp,arrowX:e.arrowX,arrowY:u.height-2*wp-ld/2,arrowAtTop:!1,arrowVisible:!0}},ia=function(e,t,r){return e=Au(e,t.left,t.right,r.width),{initialX:e.divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Au=function(e,t,r,u){return t=Is(t,e-u/2,r-u),e=e-ld/2-t,r=Kf,e=Is(r,e,u-r-ld),{arrowX:e,divX:t}},$h=function(){return!!pi},oa=function(e,t){return pi===e?(t?Ii():Du(),!0):!1},Du=function(){ut.style.transform="translate(0, 0)",ut.style.opacity="0",ud=setTimeout(function(){Ii()},1e3*Cc),il&&(il(),il=null)},Ii=function(){$h()&&(ud&&clearTimeout(ud),ut.style.transform="",ut.style.left="",ut.style.top="",ut.style.opacity="0",ut.style.display="none",ut.style.backgroundColor="",ut.style.borderColor="",il&&(il(),il=null),na(),pi=null,Mn&&(S(ut,Mn),Mn=""),ns&&(S(ut,ns),ns=""),Se().markFocused())},_h=function(e,t,r,u){e=wc.getPositionMetrics(e,t,r,u),e.arrowVisible?(Vi.style.display="",Vi.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",Vi.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Vi.style.display="none",t=Math.floor(e.initialX),r=Math.floor(e.initialY),u=Math.floor(e.finalX);const d=Math.floor(e.finalY);return ut.style.left=t+"px",ut.style.top=r+"px",ut.style.display="block",ut.style.opacity="1",ut.style.transform="translate("+(u-t)+"px,"+(d-r)+"px)",!!e.arrowAtTop},Th=function(){if(pi){var e=pi.getSourceBlock();e=cd?ra(pi):hh(e);const t=e.left+(e.right-e.left)/2;_h(t,e.bottom,t,e.top)}else Du()},Nu=function(e){return e.length?e.reduce(function(t,r){return t.length<r.length?t:r}).length:0},Eh=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;t=t||Nu(e);let u;for(u=0;u<t;u++){for(var d=e[0][u],g=1;g<e.length;g++)if(d!==e[g][u])return r;d===" "&&(r=u+1)}for(d=1;d<e.length;d++)if((g=e[d][u])&&g!==" ")return r;return t},bh=function(e,t){if(!e.length)return 0;if(e.length===1)return e[0].length;let r=0;t=t||Nu(e);let u;for(u=0;u<t;u++){for(var d=e[0].substr(-u-1,1),g=1;g<e.length;g++)if(d!==e[g].substr(-u-1,1))return r;d===" "&&(r=u+1)}for(d=1;d<e.length;d++)if((g=e[d].charAt(e[d].length-u-1))&&g!==" ")return r;return t},o.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split(`
`);for(let r=0;r<e.length;r++)e[r]=Of(e[r],t);return e.join(`
`)},Of=function(e,t){if(e.length<=t)return e;const r=e.trim().split(/\s+/);for(var u=0;u<r.length;u++)r[u].length>t&&(t=r[u].length);var d=-1/0;let g,y=1;do{u=d,g=e,e=[],d=r.length/y;let B=1;for(let ae=0;ae<r.length-1;ae++)B<(ae+1.5)/d?(B++,e[ae]=!0):e[ae]=!1;e=Cs(r,e,t),d=Ol(r,e,t),e=Rf(r,e),y++}while(d>u);return g},Ol=function(e,t,r){const u=[0],d=[];for(var g=0;g<e.length;g++)u[u.length-1]+=e[g].length,t[g]===!0?(u.push(0),d.push(e[g].charAt(e[g].length-1))):t[g]===!1&&u[u.length-1]++;for(e=Math.max(...u),t=0,g=0;g<u.length;g++)t-=2*Math.pow(Math.abs(r-u[g]),1.5),t-=Math.pow(e-u[g],1.5),".?!".includes(d[g])?t+=r/3:",;)]}".includes(d[g])&&(t+=r/4);return 1<u.length&&u[u.length-1]<=u[u.length-2]&&(t+=.5),t},Cs=function(e,t,r){let u=Ol(e,t,r),d;for(let g=0;g<t.length-1;g++){if(t[g]===t[g+1])continue;const y=[].concat(t);y[g]=!y[g],y[g+1]=!y[g+1];const B=Ol(e,y,r);B>u&&(u=B,d=y)}return d?Cs(e,d,r):t},Rf=function(e,t){const r=[];for(let u=0;u<e.length;u++)r.push(e[u]),t[u]!==void 0&&r.push(t[u]?`
`:" ");return r.join("")},o.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},yh=function(e){kc=e},vh=function(){return kc},Sh=function(){return ru},Ih=function(){return Gt},ws=function(e){if(e=Fo(e)){for(e=e.tooltip;typeof e=="function";)e=e();if(typeof e!="string")throw Error("Tooltip function must return a string.");return e}return""},Fo=function(e){for(;e&&e.tooltip;){if(typeof e.tooltip=="string"||typeof e.tooltip=="function")return e;e=e.tooltip}return null},Ch=function(){document.querySelector(".blocklyTooltipDiv")||(Gt=document.createElement("div"),Gt.className="blocklyTooltipDiv",(Ie()||document.body).appendChild(Gt))},Rl=function(e){e.mouseOverWrapper_=st(e,"pointerover",null,wh),e.mouseOutWrapper_=st(e,"pointerout",null,kh),e.addEventListener("pointermove",ks,!1)},sa=function(e){e&&(it(e.mouseOverWrapper_),it(e.mouseOutWrapper_),e.removeEventListener("pointermove",ks))},wh=function(e){bo||(e=Fo(e.currentTarget),tr!==e&&(oo(),sl=null,tr=e),clearTimeout(Op))},kh=function(e){bo||(Op=setTimeout(function(){sl=tr=null,oo()},1),clearTimeout(yo),yo=0)},ks=function(e){if(tr&&tr.tooltip&&!bo)if(ru){const t=ad-e.pageX;e=Rc-e.pageY,Math.sqrt(t*t+e*e)>Yf&&oo()}else sl!==tr&&(clearTimeout(yo),ad=e.pageX,Rc=e.pageY,yo=setTimeout(Lh,Lc))},Os=function(){sl=tr=null,oo()},oo=function(){ru&&(ru=!1,Gt&&(Gt.style.display="none")),yo&&(clearTimeout(yo),yo=0)},Ll=function(){oo(),bo=!0},Oh=function(){bo=!1},Rh=function(){Gt&&tr&&(typeof kc=="function"?kc(Gt,tr):la())},la=function(){var e=ws(tr);e=o.wrap$$module$build$src$core$utils$string(e,Oc),e=e.split(`
`);for(let t=0;t<e.length;t++){const r=document.createElement("div");r.appendChild(document.createTextNode(e[t])),Gt.appendChild(r)}},ua=function(e){const t=document.documentElement.clientWidth,r=document.documentElement.clientHeight;let u=ad;u=e?u-(iu+Gt.offsetWidth):u+iu;let d=Rc+dd;return d+Gt.offsetHeight>r+window.scrollY&&(d-=Gt.offsetHeight+2*dd),e?u=Math.max(hd-window.scrollX,u):u+Gt.offsetWidth>t+window.scrollX-2*hd&&(u=t-Gt.offsetWidth-2*hd),{x:u,y:d}},Lh=function(){if(!bo&&(sl=tr,Gt)){Gt.textContent="",Rh();var e=tr.RTL;Gt.style.direction=e?"rtl":"ltr",Gt.style.display="block",ru=!0;var{x:t,y:r}=ua(e);Gt.style.left=t+"px",Gt.style.top=r+"px"}},ca=function(){return ou},Ah=function(e){ou=e},Dh=function(){return i},Lf=function(e){i=e},Rs=function(e){e=`${e}`.toLowerCase().trim();var t=s[e];if(t||(t=e.substring(0,2)==="0x"?"#"+e.substring(2):e,t=t[0]==="#"?t:"#"+t,/^#[0-9a-f]{6}$/.test(t)))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var r=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(e=Number(r[1]),t=Number(r[2]),r=Number(r[3]),0<=e&&256>e&&0<=t&&256>t&&0<=r&&256>r)?Mu(e,t,r):null},Mu=function(e,t,r){return t=e<<16|t<<8|r,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},aa=function(e){return e=Rs(e),e?(e=parseInt(e.substr(1),16),[e>>16,e>>8&255,e&255]):[0,0,0]},lr=function(e,t,r){let u=0,d=0,g=0;if(t===0)g=d=u=r;else{const y=Math.floor(e/60),B=e/60-y;e=r*(1-t);const ae=r*(1-t*B);switch(t=r*(1-t*(1-B)),y){case 1:u=ae,d=r,g=e;break;case 2:u=e,d=r,g=t;break;case 3:u=e,d=ae,g=r;break;case 4:u=t,d=e,g=r;break;case 5:u=r,d=e,g=ae;break;case 6:case 0:u=r,d=t,g=e}}return Mu(Math.floor(u),Math.floor(d),Math.floor(g))},Zr=function(e,t,r){return e=Rs(e),!e||(t=Rs(t),!t)?null:(e=aa(e),t=aa(t),Mu(Math.round(t[0]+r*(e[0]-t[0])),Math.round(t[1]+r*(e[1]-t[1])),Math.round(t[2]+r*(e[2]-t[2]))))},da=function(e){return lr(e,ou,255*i)},xu=function(e,t,r){const u=[];var d=e.split("");d.push("");var g=0;e=[];let y=null;for(let xe=0;xe<d.length;xe++){var B=d[xe];if(g===0)if(B==="%")(g=e.join(""))&&u.push(g),e.length=0,g=1;else if(r&&B===`
`){const Bt=e.join("");Bt&&u.push(Bt),e.length=0,u.push(B)}else e.push(B);else if(g===1)B==="%"?(e.push(B),g=0):t&&"0"<=B&&"9">=B?(g=2,y=B,(B=e.join(""))&&u.push(B),e.length=0):B==="{"?g=3:(e.push("%",B),g=0);else if(g===2)if("0"<=B&&"9">=B)y+=B;else{var ae=void 0;u.push(parseInt((ae=y)!=null?ae:"",10)),xe--,g=0}else g===3&&(B===""?(e.splice(0,0,"%{"),xe--,g=0):B!=="}"?e.push(B):(g=e.join(""),/[A-Z]\w*/i.test(g)?(B=g.toUpperCase(),(B=B.startsWith("BKY_")?B.substring(4):null)&&B in o.Msg$$module$build$src$core$msg?(g=o.Msg$$module$build$src$core$msg[B],typeof g=="string"?Array.prototype.push.apply(u,xu(g,t,r)):t?u.push(`${g}`):u.push(g)):u.push("%{"+g+"}")):u.push("%{"+g+"}"),g=e.length=0))}for((t=e.join(""))&&u.push(t),ae=[],e.length=0,d=0;d<u.length;d++)typeof u[d]!="string"||r&&u[d]===`
`?((t=e.join(""))&&ae.push(t),e.length=0,ae.push(u[d])):e.push(u[d]);return(t=e.join(""))&&ae.push(t),e.length=0,ae},ha=function(e){return xu(e,!0,!0)},Xt=function(e){return typeof e!="string"?e:(e=xu(e,!1,!1),e.length?String(e[0]):"")},pa=function(e){let t=!0;const r=o.Msg$$module$build$src$core$msg,u=e.match(/%{BKY_[A-Z]\w*}/gi);if(u)for(let d=0;d<u.length;d++){const g=u[d].toUpperCase();r[g.slice(6,-1)]===void 0&&(console.warn("No message string for "+u[d]+" in "+e),t=!1)}return t},Al=function(e){const t=typeof e=="string"?Xt(e):e;var r=Number(t);if(!isNaN(r)&&0<=r&&360>=r)return{hue:r,hex:lr(r,ca(),255*Dh())};if(r=Rs(t))return{hue:null,hex:r};throw r='Invalid colour: "'+t+'"',e!==t&&(r+=' (from "'+e+'")'),Error(r)},Ls=function(){return _e},As=function(e){if(_e=e,e===null){let t;(t=document.querySelector("."+ie))==null||t.remove()}},Pu=function(){const e=Ie()||document.body;document.querySelector("."+ie)?_e=document.querySelector("."+ie):(_e=document.createElement("div"),_e.className=ie),e.appendChild(_e)},Uo=function(e,t,r,u){if(Ho(),b=e,V=r,r=_e){if(r.style.direction=t?"rtl":"ltr",r.style.display="block",!u&&e instanceof f){let y;u=(y=e.getSourceBlock())==null?void 0:y.workspace}var d;x=(d=u)!=null?d:null;var g;e=(g=u)!=null?g:Se(),Te=e.getRenderer().getClassName(),ye=e.getTheme().getClassName(),Te&&Be(r,Te),ye&&Be(r,ye)}},Ho=function(){if(fa()){b=null;var e=_e;e&&(e.style.display="none",e.style.left="",e.style.top="",V&&V(),V=null,e.textContent="",Te&&(S(e,Te),Te=""),ye&&(S(e,ye),ye=""),Se().markFocused())}},fa=function(){return!!b},Ci=function(e){b===e&&Ho()},wi=function(e){x!==null&&x!==e||Ho()},Bu=function(e,t,r){_e.style.left=e+"px",_e.style.top=t+"px",_e.style.height=r+"px"},ga=function(e,t,r,u){const d=Nh(e,t,r);e=Fu(e,t,r,u),0>d?Bu(e,0,r.height+d):Bu(e,d,r.height)},Fu=function(e,t,r,u){return u?Math.min(Math.max(t.right-r.width,e.left),e.right-r.width):Math.max(Math.min(t.left,e.right-r.width),e.left)},Nh=function(e,t,r){return t.bottom+r.height>=e.bottom?t.top-r.height:t.bottom},Mh=function(e){return!(e==null||!e.repositionForWindowResize)},ma=function(){Mh(b)&&b.repositionForWindowResize()||Ho()},xh=function(){return He},$a=function(e){He=e},Dl=function(e,t,r,u){if(Uo(je,r,Ds,u),t.length){var d=so(t,r,e);Wt=d,_a(d,e,r),setTimeout(function(){d.focus()},1),He=null}else Uu()},so=function(e,t,r){const u=new Tc;u.setRole(Sr.MENU);for(let d=0;d<e.length;d++){const g=e[d],y=new qo(g.text);y.setRightToLeft(t),y.setRole(Sr.MENUITEM),u.addChild(y),y.setEnabled(g.enabled),g.enabled&&y.onAction(function(){Uu(),requestAnimationFrame(()=>{setTimeout(()=>{g.callback(g.scope,r)},0)})},{})}return u},_a=function(e,t,r){const u=fn();t=new ft(t.clientY+u.top,t.clientY+u.top,t.clientX+u.left,t.clientX+u.left),Ta(e);const d=e.getSize();r&&(t.left+=d.width,t.right+=d.width,u.left+=d.width,u.right+=d.width),ga(u,t,d,r),e.focus()},Ta=function(e){var t=Ls();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),Be(t,"blocklyContextMenu"),Ge(t,"contextmenu",null,Af),e.focus()},Af=function(e){e.preventDefault(),e.stopPropagation()},Uu=function(){Ci(je),He=null},Ds=function(){Wt&&(Wt.dispose(),Wt=null)},o.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{o.disable$$module$build$src$core$events$utils();let r;try{r=t instanceof Element?ki(t,e.workspace):mr(t,e.workspace);const u=e.getRelativeToSurfaceXY();u.x=e.RTL?u.x-o.config$$module$build$src$core$config.snapRadius:u.x+o.config$$module$build$src$core$config.snapRadius,u.y+=2*o.config$$module$build$src$core$config.snapRadius,r.moveBy(u.x,u.y)}finally{o.enable$$module$build$src$core$events$utils()}return Le()&&!r.isShadow()&&pe(new(C(te.BLOCK_CREATE))(r)),o.setSelected$$module$build$src$core$common(r),r}},Ph=function(e,t){return t=$n(t,e.getParentSvg(),e.getInverseScreenCTM()),t.x/=e.scale,t.y/=e.scale,t},Hu=function(e,t,r){t=Ph(e,t),Je.set(e,be.difference(r,t))},Vu=function(e,t){if(t=Ph(e,t),e=Je.get(e),!e)throw Error("Drag not initialized");return be.sum(e,t)},Rt=function(e,t=!1){const r=o.createElement$$module$build$src$core$utils$xml("xml");var u=Nl(o.allUsedVarModels$$module$build$src$core$variables(e));u.hasChildNodes()&&r.appendChild(u);for(const d of e.getTopComments())r.appendChild(Ns(d,t));for(e=e.getTopBlocks(!0),u=0;u<e.length;u++)r.appendChild(lo(e[u],t));return r},Ns=function(e,t=!1){const r=o.createElement$$module$build$src$core$utils$xml("comment");t||r.setAttribute("id",e.id),t=e.workspace;const u=e.getRelativeToSurfaceXY();return u.x=t.RTL?t.getWidth()-u.x:u.x,r.setAttribute("x",`${u.x}`),r.setAttribute("y",`${u.y}`),r.setAttribute("w",`${e.getSize().width}`),r.setAttribute("h",`${e.getSize().height}`),e.getText()&&(r.textContent=e.getText()),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isOwnEditable()||r.setAttribute("editable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnDeletable()||r.setAttribute("deletable","false"),r},Nl=function(e){const t=o.createElement$$module$build$src$core$utils$xml("variables");for(let r=0;r<e.length;r++){const u=e[r],d=o.createElement$$module$build$src$core$utils$xml("variable");d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(u.name)),u.type&&d.setAttribute("type",u.type),d.id=u.getId(),t.appendChild(d)}return t},lo=function(e,t){if(e.isInsertionMarker()&&(e=e.getChildren(!1)[0],!e))return new DocumentFragment;let r=0;if(e.workspace.RTL&&(r=e.workspace.getWidth()),t=Mr(e,t),Vo(t)){const u=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?r-u.x:u.x))),t.setAttribute("y",String(Math.round(u.y)))}return t},Bh=function(e){if(e.isSerializable()){const t=o.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},Ea=function(e,t){for(let r=0;r<e.inputList.length;r++){const u=e.inputList[r];for(let d=0;d<u.fieldRow.length;d++){const g=Bh(u.fieldRow[d]);g&&t.appendChild(g)}}},Mr=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Mr(t):new DocumentFragment;const r=o.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(r.setAttribute("type",e.type),t||(r.id=e.id),e.mutationToDom){var u=e.mutationToDom();u&&(u.hasChildNodes()||u.hasAttributes())&&r.appendChild(u)}if(Ea(e,r),u=e.getCommentText()){var d=e.getIcon(dn.COMMENT),g=d.getBubbleSize();d=d.bubbleIsVisible();var y=o.createElement$$module$build$src$core$utils$xml("comment");y.appendChild(o.createTextNode$$module$build$src$core$utils$xml(u)),y.setAttribute("pinned",`${d}`),y.setAttribute("h",String(g.height)),y.setAttribute("w",String(g.width)),r.appendChild(y)}for(e.data&&(u=o.createElement$$module$build$src$core$utils$xml("data"),u.appendChild(o.createTextNode$$module$build$src$core$utils$xml(e.data)),r.appendChild(u)),u=0;u<e.inputList.length;u++){g=e.inputList[u];var B=void 0;if(d=!0,g.type!==o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&g.type!==o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){y=g.connection.targetBlock(),g.type===o.inputTypes$$module$build$src$core$inputs$input_types.VALUE?B=o.createElement$$module$build$src$core$utils$xml("value"):g.type===o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(B=o.createElement$$module$build$src$core$utils$xml("statement"));const xe=g.connection.getShadowDom();!xe||y&&y.isShadow()||B.appendChild(Ml(xe,t)),y&&(y=Mr(y,t),y.nodeType===br.ELEMENT_NODE&&(B.appendChild(y),d=!1)),B.setAttribute("name",g.name),d||r.appendChild(B)}}e.inputsInline!==void 0&&e.inputsInline!==e.inputsInlineDefault&&r.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&r.setAttribute("collapsed","true"),e.isEnabled()||r.setAttribute("disabled-reasons",Array.from(e.getDisabledReasons()).map(encodeURIComponent).join(",")),e.isOwnDeletable()||r.setAttribute("deletable","false"),e.isOwnMovable()||r.setAttribute("movable","false"),e.isOwnEditable()||r.setAttribute("editable","false"),B=e.getNextBlock();let ae;return B&&(u=Mr(B,t),u.nodeType===br.ELEMENT_NODE&&(ae=o.createElement$$module$build$src$core$utils$xml("next"),ae.appendChild(u),r.appendChild(ae))),e=e.nextConnection&&e.nextConnection.getShadowDom(),!e||B&&B.isShadow()||ae.appendChild(Ml(e,t)),r},Ml=function(e,t){let r=e=e.cloneNode(!0),u;for(;r;)if(t&&r.nodeName==="shadow"&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){u=r,r=r.parentNode;let d;u.nodeType===br.TEXT_NODE&&u.data.trim()===""&&((d=r)==null?void 0:d.firstChild)!==u&&j(u)}r&&(u=r,r=r.nextSibling,u.nodeType===br.TEXT_NODE&&u.data.trim()===""&&j(u))}return e},Xn=function(e){return bl(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Fh=function(e){e=Xn(e).split("<");let t="";for(let r=1;r<e.length;r++){const u=e[r];u[0]==="/"&&(t=t.substring(2)),e[r]=t+"<"+u,u[0]!=="/"&&u.slice(-2)!=="/>"&&(t+="  ")}return e=e.join(`
`),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Df=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=o.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},o.domToWorkspace$$module$build$src$core$xml=function(e,t){let r=0;t.RTL&&(r=t.getWidth());const u=[];Bn();const d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let g=!0;try{for(let y=0,B;B=e.childNodes[y];y++){const ae=B.nodeName.toLowerCase(),xe=B;if(ae==="block"||ae==="shadow"&&!re()){const Bt=ki(xe,t);u.push(Bt.id);let Nt;const jr=parseInt((Nt=xe.getAttribute("x"))!=null?Nt:"10",10);let Sd;const jp=parseInt((Sd=xe.getAttribute("y"))!=null?Sd:"10",10);isNaN(jr)||isNaN(jp)||Bt.moveBy(t.RTL?r-jr:jr,jp,["create"]),g=!1}else{if(ae==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(ae==="comment")Uh(xe,t);else if(ae==="variables"){if(g)xl(xe,t);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");g=!1}}}}finally{o.setGroup$$module$build$src$core$events$utils(d),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&Nr(),Jr()}return pe(new(C(te.FINISHED_LOADING))(t)),u},Uh=function(e,t){var r;const u=(r=e.getAttribute("id"))!=null?r:void 0;r=t.rendered?new ot(t,u):new un(t,u);var d;r.setText((d=e.textContent)!=null?d:"");var g;d=parseInt((g=e.getAttribute("x"))!=null?g:"",10);let y;g=parseInt((y=e.getAttribute("y"))!=null?y:"",10),isNaN(d)||isNaN(g)||(d=t.RTL?t.getWidth()-d:d,r.moveTo(new be(d,g)));var B;t=parseInt((B=e.getAttribute("w"))!=null?B:"",10);let ae;return B=parseInt((ae=e.getAttribute("h"))!=null?ae:"",10),isNaN(t)||isNaN(B)||r.setSize(new Ee(t,B)),e.getAttribute("collapsed")==="true"&&r.setCollapsed(!0),e.getAttribute("editable")==="false"&&r.setEditable(!1),e.getAttribute("movable")==="false"&&r.setMovable(!1),e.getAttribute("deletable")==="false"&&r.setDeletable(!1),r},Hh=function(e,t){if(!t.getBlocksBoundingBox)return o.domToWorkspace$$module$build$src$core$xml(e,t);var r=t.getBlocksBoundingBox();if(e=o.domToWorkspace$$module$build$src$core$xml(e,t),r&&r.top!==r.bottom){var u=r.bottom;r=t.RTL?r.right:r.left;var d=1/0;let g=-1/0,y=1/0;for(let B=0;B<e.length;B++){const ae=t.getBlockById(e[B]).getRelativeToSurfaceXY();ae.y<y&&(y=ae.y),ae.x<d&&(d=ae.x),ae.x>g&&(g=ae.x)}for(u=u-y+10,r=t.RTL?r-g:r-d,d=0;d<e.length;d++)t.getBlockById(e[d]).moveBy(r,u,["create"])}return e},o.domToBlock$$module$build$src$core$xml=function(e,t){return e=ki(e,t),t.rendered&&Nr(),e},ki=function(e,t){o.disable$$module$build$src$core$events$utils();var r=t.getAllVariables();let u;try{if(u=Pl(e,t),t.rendered){const d=u,g=u.getDescendants(!1);d.setConnectionTracking(!1);for(let y=g.length-1;0<=y;y--)g[y].initSvg();for(let y=g.length-1;0<=y;y--)g[y].queueRender();setTimeout(function(){d.disposed||d.setConnectionTracking(!0)},1),t.resizeContents()}else{const d=u.getDescendants(!1);for(let g=d.length-1;0<=g;g--)d[g].initModel()}}finally{o.enable$$module$build$src$core$events$utils()}if(Le()){for(e=vu(t,r),t=0;t<e.length;t++)r=e[t],pe(new(C(te.VAR_CREATE))(r));pe(new(C(te.BLOCK_CREATE))(u))}return u},xl=function(e,t){for(let u=0;u<e.children.length;u++){var r=e.children[u];const d=r.getAttribute("type"),g=r.getAttribute("id");if(r=r.textContent,!r)break;t.createVariable(r,d,g)}},ba=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let r=0;r<e.children.length;r++){const u=e.children[r];if(u.nodeType!==br.TEXT_NODE)switch(u.nodeName.toLowerCase()){case"mutation":t.mutation.push(u);break;case"comment":t.comment.push(u);break;case"data":t.data.push(u);break;case"title":case"field":t.field.push(u);break;case"value":case"statement":t.input.push(u);break;case"next":t.next.push(u);break;default:console.warn("Ignoring unknown tag: "+u.nodeName)}}return t},ya=function(e,t){let r=!1;for(let u=0;u<e.length;u++){const d=e[u];t.domToMutation&&(t.domToMutation(d),t.initSvg&&(r=!0))}return r},va=function(e,t){for(let u=0;u<e.length;u++){var r=e[u];const d=r.textContent,g=r.getAttribute("pinned")==="true";let y;const B=parseInt((y=r.getAttribute("w"))!=null?y:"50",10);let ae;r=parseInt((ae=r.getAttribute("h"))!=null?ae:"50",10),t.setCommentText(d);const xe=t.getIcon(dn.COMMENT);isNaN(B)||isNaN(r)||xe.setBubbleSize(new Ee(B,r)),xe.setBubbleVisible(g),setTimeout(()=>xe.setBubbleVisible(g),1)}},Sa=function(e,t){for(let r=0;r<e.length;r++)t.data=e[r].textContent},Nf=function(e,t){for(let r=0;r<e.length;r++){const u=e[r],d=u.getAttribute("name");d?uo(t,d,u):console.warn(`Ignoring unnamed field in block ${t.type}`)}},Ia=function(e){let t=null,r=null;for(let u=0;u<e.childNodes.length;u++){const d=e.childNodes[u];Vo(d)&&(d.nodeName.toLowerCase()==="block"?t=d:d.nodeName.toLowerCase()==="shadow"&&(r=d))}return{childBlockElement:t,childShadowElement:r}},Mf=function(e,t,r,u){for(let g=0;g<e.length;g++){var d=e[g];const y=d.getAttribute("name"),B=y?r.getInput(y):null;if(!B){console.warn("Ignoring non-existent input "+y+" in block "+u);break}if(d=Ia(d),d.childBlockElement){if(!B.connection)throw TypeError("Input connection does not exist.");Pl(d.childBlockElement,t,B.connection,!1)}if(d.childShadowElement){let ae;(ae=B.connection)==null||ae.setShadowDom(d.childShadowElement)}}},xf=function(e,t,r){for(let u=0;u<e.length;u++){const d=Ia(e[u]);if(d.childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Pl(d.childBlockElement,t,r.nextConnection,!0)}d.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(d.childShadowElement)}},Pl=function(e,t,r,u){var d;const g=e.getAttribute("type");if(!g)throw TypeError("Block type unspecified: "+e.outerHTML);var y=(d=e.getAttribute("id"))!=null?d:void 0;d=t.newBlock(g,y),y=ba(e);const B=ya(y.mutation,d);if(va(y.comment,d),Sa(y.data,d),r)if(u)if(d.previousConnection)r.connect(d.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(d.outputConnection)r.connect(d.outputConnection);else if(d.previousConnection)r.connect(d.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(Nf(y.field,d),Mf(y.input,t,d,g),xf(y.next,t,d),B&&d.initSvg(),(t=e.getAttribute("inline"))&&d.setInputsInline(t==="true"),(t=e.getAttribute("disabled"))&&d.setDisabledReason(t==="true"||t==="disabled",Nn),t=e.getAttribute("disabled-reasons"),t!==null)for(var ae of t.split(","))d.setDisabledReason(!0,decodeURIComponent(ae));if((ae=e.getAttribute("deletable"))&&d.setDeletable(ae==="true"),(ae=e.getAttribute("movable"))&&d.setMovable(ae==="true"),(ae=e.getAttribute("editable"))&&d.setEditable(ae==="true"),(ae=e.getAttribute("collapsed"))&&d.setCollapsed(ae==="true"),e.nodeName.toLowerCase()==="shadow"){for(e=d.getChildren(!1),ae=0;ae<e.length;ae++)if(!e[ae].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");d.setShadow(!0)}return d},uo=function(e,t,r){const u=e.getField(t);u?u.fromXml(r):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},Vh=function(e){for(let t=0;t<e.childNodes.length;t++){const r=e.childNodes[t];if(r.nodeName.toLowerCase()==="next"){e.removeChild(r);break}}},Vo=function(e){return e.nodeType===br.ELEMENT_NODE},$r=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,r=e.getSvgRoot();t.getAudioManager().play("delete");var u=e.getRelativeToSurfaceXY(),d=r.cloneNode(!0);d.setAttribute("transform","translate("+u.x+","+u.y+")");var g;(g=t.getLayerManager())==null||g.appendToAnimationLayer({getSvgRoot:()=>d}),Ms(d,{x:u.x,y:u.y,width:e.width,height:e.height},t.RTL,new Date)}},Ms=function(e,t,r,u){const d=(new Date().getTime()-u.getTime())/150;1<d?j(e):(e.setAttribute("transform","translate("+(t.x+(r?-1:1)*t.width/2*d)+","+(t.y+t.height/2*d)+") scale("+(1-d)+")"),setTimeout(Ms,10,e,t,r,u))},xr=function(e){var t=e.workspace;const r=t.scale;if(t.getAudioManager().play("click"),!(1>r)){var u=t.getSvgXY(e.getSvgRoot());e.outputConnection?(u.x+=(e.RTL?3:-3)*r,u.y+=13*r):e.previousConnection&&(u.x+=(e.RTL?-23:23)*r,u.y+=3*r);var d=le(K.CIRCLE,{cx:u.x,cy:u.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=le(K.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*r},d),t=le(K.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},d),e.beginElement(),t.beginElement(),setTimeout(()=>void j(d),150)}},Gu=function(e){if(Bl(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),Lp=e,Gh(e,t,new Date)}},Gh=function(e,t,r){const u=(new Date().getTime()-r.getTime())/200;let d="";1>=u&&(d=`skewX(${Math.round(Math.sin(u*Math.PI*3)*(1-u)*t)})`,Jf=setTimeout(Gh,10,e,t,r)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${d}`)},Bl=function(){Lp&&(Jf&&(clearTimeout(Jf),Jf=null),Lp.getSvgRoot().setAttribute("transform",Lp.getTranslation()),Lp=null)},_r=function(e){return e.getRelativeToSurfaceXY!==void 0&&e.isMovable!==void 0&&e.startDrag!==void 0&&e.drag!==void 0&&e.endDrag!==void 0&&e.revertDrag!==void 0},Tr=function(e,t){for(const r in t)e[r]=t[r]!==null&&typeof t[r]=="object"?Tr(e[r]||Object.create(null),t[r]):t[r];return e},Kn=function(e,t){c($e.FIELD,e,t)},Wu=function(e){m($e.FIELD,e)},o.fromJson$$module$build$src$core$field_registry=function(e){return tT.fromJsonInternal(e)},Ca=function(e){const t=I($e.FIELD,e.type);return t?t.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},o.register$$module$build$src$core$extensions=function(e,t){if(typeof e!="string"||e.trim()==="")throw Error('Error: Invalid extension name "'+e+'"');if(fd[e])throw Error('Error: Extension "'+e+'" is already registered.');if(typeof t!="function")throw Error('Error: Extension "'+e+'" must be a function');fd[e]=t},o.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||typeof t!="object")throw Error('Error: Mixin "'+e+'" must be a object');o.register$$module$build$src$core$extensions(e,function(){this.mixin(t)})},o.registerMutator$$module$build$src$core$extensions=function(e,t,r,u){const d='Error when registering mutator "'+e+'": ';Go(d,t);const g=Un(t,d);if(r&&typeof r!="function")throw Error(d+'Extension "'+e+'" is not a function');o.register$$module$build$src$core$extensions(e,function(){g&&this.setMutator(new o.MutatorIcon$$module$build$src$core$icons$mutator_icon(u||[],this)),this.mixin(t),r&&r.apply(this)})},xs=function(e){Oi(e)?delete fd[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Oi=function(e){return!!fd[e]},vt=function(e,t,r){const u=fd[e];if(typeof u!="function")throw Error('Error: Extension "'+e+'" not found.');let d;if(r?wt(e,t):d=Ln(t),u.apply(t),r)Go('Error after applying mutator "'+e+'": ',t);else if(!ju(d,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},wt=function(e,t){if(Ln(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},co=function(e,t){return Ri(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},Rn=function(e,t){return Ri(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},Un=function(e,t){return Ri(e.compose,e.decompose,t+" compose/decompose")},Ri=function(e,t,r){if(e&&t){if(typeof e!="function"||typeof t!="function")throw Error(r+" must be a function");return!0}if(!e&&!t)return!1;throw Error(r+"Must have both or neither functions")},Go=function(e,t){const r=co(t,e),u=Rn(t,e);if(!r&&!u)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");Un(t,e)},Ln=function(e){const t=[];return e.domToMutation!==void 0&&t.push(e.domToMutation),e.mutationToDom!==void 0&&t.push(e.mutationToDom),e.saveExtraState!==void 0&&t.push(e.saveExtraState),e.loadExtraState!==void 0&&t.push(e.loadExtraState),e.compose!==void 0&&t.push(e.compose),e.decompose!==void 0&&t.push(e.decompose),t},ju=function(e,t){if(t=Ln(t),t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(e[r]!==t[r])return!1;return!0},Wh=function(e){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")e();else{const t=setInterval(function(){document.readyState==="complete"&&(clearInterval(t),e())},10)}},o.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const r=[];return function(){r.includes(this.type)||(jh(this,e,t),r.push(this.type)),this.setTooltip((function(){const u=String(this.getFieldValue(e));return Xt(t[u])}).bind(this))}},jh=function(e,t,r){var u=e.getField(t);if(u instanceof Gr&&!u.isOptionListDynamic()){u=u.getOptions();for(const[,d]of u)r[d]===void 0&&console.warn(`No tooltip mapping for value ${d} of field ${t} of block type ${e.type}.`)}},o.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip((function(){const r=this.getField(t);return Xt(e).replace("%1",r?r.getText():"")}).bind(this))}},zu=function(){const e=this.tooltip;this.setTooltip((function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}).bind(this))},We=function(e,t){return" "+e+","+t+" "},Zt=function(e,t){return" "+e+t.join("")},en=function(e,t){return" M "+e+","+t+" "},St=function(e,t){return" m "+e+","+t+" "},ei=function(e,t){return" l "+e+","+t+" "},Fl=function(e){return" l"+e.join("")},Ae=function(e,t){return" "+e+" "+t+" "},kt=function(e,t,r,u){return e+" "+r+" "+r+" "+t+u},Wo=function(e,t){c($e.ICON,e.toString(),t)},Xu=function(e){m($e.ICON,e)},ti=function(e){return e.getProcedureModel!==void 0&&e.doProcedureUpdate!==void 0&&e.isProcedureDef!==void 0},Yn=function(e){return e.startPublishing!==void 0&&e.stopPublishing!==void 0},Jn=function(e){const t=e.getProcedureMap().getProcedures().filter(u=>!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(d=>d.getName()),!1]);e.getBlocksByType("procedures_defnoreturn",!1).forEach(u=>{!ti(u)&&Es(u)&&t.push(u.getProcedureDef())});const r=e.getProcedureMap().getProcedures().filter(u=>!!u.getReturnTypes()).map(u=>[u.getName(),u.getParameters().map(d=>d.getName()),!0]);return e.getBlocksByType("procedures_defreturn",!1).forEach(u=>{!ti(u)&&Es(u)&&r.push(u.getProcedureDef())}),t.sort(ao),r.sort(ao),[t,r]},ao=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},o.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!Li(e,t.workspace,t);){const r=e.match(/^(.*?)(\d+)$/);e=r?r[1]+(parseInt(r[2])+1):e+"2"}return e},Li=function(e,t,r){return!ni(e,t,r)},ni=function(e,t,r){for(const u of t.getAllBlocks(!1))if(u!==r&&Es(u)&&o.Names$$module$build$src$core$names.equals(u.getProcedureDef()[0],e))return!0;r=r&&ti(r)?r==null?void 0:r.getProcedureModel():void 0;for(const u of t.getProcedureMap().getProcedures())if(u!==r&&o.Names$$module$build$src$core$names.equals(u.getName(),e))return!0;return!1},o.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new $;e=e.trim();const r=o.findLegalName$$module$build$src$core$procedures(e,t);ti(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(r);const u=this.getValue();if(u!==e&&u!==r)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const d=e[t];d.renameProcedure&&d.renameProcedure(u,r)}return r},Ai=function(e){function t(g,y){for(let ae=0;ae<g.length;ae++){var B=g[ae][0];const xe=g[ae][1],Bt=o.createElement$$module$build$src$core$utils$xml("block");Bt.setAttribute("type",y),Bt.setAttribute("gap","16");const Nt=o.createElement$$module$build$src$core$utils$xml("mutation");for(Nt.setAttribute("name",B),Bt.appendChild(Nt),B=0;B<xe.length;B++){const jr=o.createElement$$module$build$src$core$utils$xml("arg");jr.setAttribute("name",xe[B]),Nt.appendChild(jr)}r.push(Bt)}}const r=[];if(Qn.procedures_defnoreturn){var u=o.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_defnoreturn"),u.setAttribute("gap","16");var d=o.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),u.appendChild(d),r.push(u)}return Qn.procedures_defreturn&&(u=o.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_defreturn"),u.setAttribute("gap","16"),d=o.createElement$$module$build$src$core$utils$xml("field"),d.setAttribute("name","NAME"),d.appendChild(o.createTextNode$$module$build$src$core$utils$xml(o.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),u.appendChild(d),r.push(u)),Qn.procedures_ifreturn&&(u=o.createElement$$module$build$src$core$utils$xml("block"),u.setAttribute("type","procedures_ifreturn"),u.setAttribute("gap","16"),r.push(u)),r.length&&r[r.length-1].setAttribute("gap","24"),e=Jn(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),r},wa=function(e){var t=[],r=e.getBlocksByType("procedures_mutatorarg",!1);for(let g=0,y;y=r[g];g++)t.push(y.getFieldValue("NAME"));r=o.createElement$$module$build$src$core$utils$xml("xml");const u=o.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","procedures_mutatorarg");const d=o.createElement$$module$build$src$core$utils$xml("field");d.setAttribute("name","NAME"),t=xo(o.DEFAULT_ARG$$module$build$src$core$procedures,t),t=o.createTextNode$$module$build$src$core$utils$xml(t),d.appendChild(t),u.appendChild(d),r.appendChild(u),e.updateToolbox(r)},Ku=function(e){if(ge(e)&&e.bubbleType==="mutator"&&e.isOpen&&e.blockId){e=Y(e.workspaceId).getBlockById(e.blockId);var t=e.type;(t==="procedures_defnoreturn"||t==="procedures_defreturn")&&(e=e.getIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),wa(e),e.addChangeListener(ka))}},ka=function(e){(O(e)||z(e)||ee(e)||oe(e))&&(e=Y(e.workspaceId),wa(e))},qn=function(e,t){return t.getAllBlocks(!1).filter(r=>ur(r,e)||th(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureCall(),e))},ur=function(e,t){return ti(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&o.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},o.mutateCallers$$module$build$src$core$procedures=function(e){const t=re();var r=e.getProcedureDef()[0];const u=e.mutationToDom(!0);e=qn(r,e.workspace);for(let g=0,y;y=e[g];g++){r=(r=y.mutationToDom())&&bl(r),y.domToMutation&&y.domToMutation(u);var d=y.mutationToDom();d=d&&bl(d),r!==d&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),pe(new(C(te.BLOCK_CHANGE))(y,"mutation",null,r,d)),o.setRecordUndo$$module$build$src$core$events$utils(t))}},o.getDefinition$$module$build$src$core$procedures=function(e,t){for(const r of t.getAllBlocks(!1))if(ti(r)&&r.isProcedureDef()&&o.Names$$module$build$src$core$names.equals(r.getProcedureModel().getName(),e)||Es(r)&&o.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return r;return null},Ot=function(e){return e.isDynamic},Pr=function(e){return e.pathDown!==void 0&&e.pathUp!==void 0},zh=function(e){return e.pathLeft!==void 0&&e.pathRight!==void 0},Xh=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},Oa=function(e,t){let r=null;t=t.outputConnection;const u=t==null?void 0:t.getConnectionChecker();for(let d=0,g;g=e.inputList[d];d++){const y=g.connection;let B;if(y&&((B=u)!=null&&B.canConnect(t,y,!1))){if(r)return null;r=y}}return r},Ra=function(e,t){let r;for(;r=Oa(e,t);)if(e=r.targetBlock(),!e||e.isShadow())return r;return null},La=function(e){return e.getType!==void 0&&e.initView!==void 0&&e.dispose!==void 0&&e.getWeight!==void 0&&e.getSize!==void 0&&e.applyColour!==void 0&&e.hideForInsertionMarker!==void 0&&e.updateEditable!==void 0&&e.updateCollapsed!==void 0&&e.isShownWhenCollapsed!==void 0&&e.setOffsetInBlock!==void 0&&e.onLocationChange!==void 0&&e.onClick!==void 0},Yu=function(e){return La(e)&&Po(e)&&Mo(e)&&e.setText!==void 0&&e.getText!==void 0&&e.setBubbleSize!==void 0&&e.getBubbleSize!==void 0&&e.getType()===dn.COMMENT},Ul=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Di=function(e,t){c($e.RENDERER,e,t)},Aa=function(e){m($e.RENDERER,e)},Kh=function(e,t,r){return e=new(v($e.RENDERER,e))(e),e.init(t,r),e},Ps=function(e){yi(e.getTargetWorkspace(),void 0,"String")},Hl=function(e){yi(e.getTargetWorkspace(),void 0,"Number")},Da=function(e){yi(e.getTargetWorkspace(),void 0,"Colour")},Ju=function(e){let t=[],r=document.createElement("button");return r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(r),r=document.createElement("button"),r.setAttribute("text",o.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(r),e.registerButtonCallback("CREATE_VARIABLE_STRING",Ps),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Hl),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Da),e=jo(e),t=t.concat(e)},jo=function(e){e=e.getAllVariables();const t=[];if(0<e.length){if(Qn.variables_set_dynamic){var r=e[e.length-1];const u=o.createElement$$module$build$src$core$utils$xml("block");u.setAttribute("type","variables_set_dynamic"),u.setAttribute("gap","24"),u.appendChild(vi(r)),t.push(u)}if(Qn.variables_get_dynamic){e.sort(tu.compareByName);for(let u=0,d;d=e[u];u++)r=o.createElement$$module$build$src$core$utils$xml("block"),r.setAttribute("type","variables_get_dynamic"),r.setAttribute("gap","8"),r.appendChild(vi(d)),t.push(r)}}return t},Yh=function(e,t){const r=e.workspace,u=o.config$$module$build$src$core$config.snapRadius,d=be.difference(t,e.getRelativeToSurfaceXY()),g=new be(0,0),y=r.getAllBlocks(!1).filter(B=>B.id!=e.id).map(B=>B.getRelativeToSurfaceXY());for(;qu(be.sum(t,g),y)||Qu(e,be.sum(d,g),u);)r.RTL?g.translate(-u,2*u):g.translate(u,2*u);e.moveTo(be.sum(t,g))},qu=function(e,t){return t.some(r=>1>=Math.abs(r.x-e.x)&&1>=Math.abs(r.y-e.y))},Qu=function(e,t,r){return e.getConnections_(!1).some(u=>!!u.closest(r,t).connection)},ri=function(e,t,r){const u=r.getBoundingRectangle(),d=u.right-u.left,g=Is(t.top,u.top,t.top+t.height-(u.bottom-u.top))-u.top;let y=t.left;return t=t.left+t.width-d,e.RTL?y=Math.min(t,y):t=Math.max(y,t),(e=Is(y,u.left,t)-u.left)||g?(r.moveBy(e,g,["inbounds"]),!0):!1},Zu=function(e){return t=>{var r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging()){var u;if(ip.includes((u=t.type)!=null?u:"")){u=r.getScrollMetrics(!0);const d=Na(e,t);d&&(r=o.getGroup$$module$build$src$core$events$utils()||!1,o.setGroup$$module$build$src$core$events$utils(t.group),ri(e,u,d)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),o.setGroup$$module$build$src$core$events$utils(r))}else ce(t)&&t.scale&&t.oldScale&&t.scale>t.oldScale&&Vl(e)}}},Na=function(e,t){let r=null;switch(t.type){case te.BLOCK_CREATE:case te.BLOCK_MOVE:(r=e.getBlockById(t.blockId))&&(r=r.getRootBlock());break;case te.COMMENT_CREATE:case te.COMMENT_MOVE:case te.COMMENT_RESIZE:r=e.getCommentById(t.commentId)}return r},Vl=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var r=e.getTopBoundedElements();for(let u=0,d;d=r[u];u++)ri(e,t,d)}},cr=function(e){return e.isDeletable!==void 0&&e.dispose!==void 0&&e.setDeleteStyle!==void 0},Bs=function(e){const t=e.toCopyData();Jm=t;let r;return qm=(r=e.workspace)!=null?r:null,t},gn=function(e,t,r){return e&&t?ho(e,t,r):Jm&&qm?ho(Jm,qm):null},ho=function(e,t,r){let u;t=(u=t.getRootWorkspace())!=null?u:t;let d,g;return(g=(d=I($e.PASTER,e.paster,!1))==null?void 0:d.paste(e,t,r))!=null?g:null},Ma=function(e){const t=e.toCopyData();return t?gn(t,e.workspace):null},Gl=function(e){return e.toCopyData!==void 0},ii=function(){mt.registry.register({name:os.ESCAPE,preconditionFn(e){return!e.options.readOnly},callback(e){return e.hideChaff(),!0},keyCodes:[tt.ESC]})},Ni=function(){mt.registry.register({name:os.DELETE,preconditionFn(e){const t=Oe();return!e.options.readOnly&&t!=null&&cr(t)&&t.isDeletable()&&!ll.inProgress()},callback(e,t){return t.preventDefault(),e=Oe(),e instanceof zi?e.checkAndDelete():cr(e)&&e.isDeletable()&&(o.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)),!0},keyCodes:[tt.DELETE,tt.BACKSPACE]})},ec=function(){const e=mt.registry.createSerializedKey(tt.C,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.C,[tt.ALT]),r=mt.registry.createSerializedKey(tt.C,[tt.META]);mt.registry.register({name:os.COPY,preconditionFn(u){const d=Oe();return!u.options.readOnly&&!ll.inProgress()&&d!=null&&cr(d)&&d.isDeletable()&&_r(d)&&d.isMovable()&&Gl(d)},callback(u,d){return d.preventDefault(),u.hideChaff(),d=Oe(),!d||!Gl(d)?!1:(cu=d.toCopyData(),au=u,bd=_r(d)?d.getRelativeToSurfaceXY():null,!!cu)},keyCodes:[e,t,r]})},xa=function(){const e=mt.registry.createSerializedKey(tt.X,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.X,[tt.ALT]),r=mt.registry.createSerializedKey(tt.X,[tt.META]);mt.registry.register({name:os.CUT,preconditionFn(u){const d=Oe();return!u.options.readOnly&&!ll.inProgress()&&d!=null&&cr(d)&&d.isDeletable()&&_r(d)&&d.isMovable()&&!d.workspace.isFlyout},callback(u){const d=Oe();return d instanceof zi?(cu=d.toCopyData(),au=u,bd=d.getRelativeToSurfaceXY(),d.checkAndDelete(),!0):cr(d)&&d.isDeletable()&&Gl(d)?(cu=d.toCopyData(),au=u,bd=_r(d)?d.getRelativeToSurfaceXY():null,d.dispose(),!0):!1},keyCodes:[e,t,r]})},oi=function(){const e=mt.registry.createSerializedKey(tt.V,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.V,[tt.ALT]),r=mt.registry.createSerializedKey(tt.V,[tt.META]);mt.registry.register({name:os.PASTE,preconditionFn(u){return!u.options.readOnly&&!ll.inProgress()},callback(){if(!cu||!au)return!1;if(!bd)return!!gn(cu,au);const{left:u,top:d,width:g,height:y}=au.getMetricsManager().getViewMetrics(!0);if(new ft(d,d+y,u,u+g).contains(bd.x,bd.y))return!!gn(cu,au);const B=new be(u+g/2,d+y/2);return!!gn(cu,au,B)},keyCodes:[e,t,r]})},Mi=function(){const e=mt.registry.createSerializedKey(tt.Z,[tt.CTRL]),t=mt.registry.createSerializedKey(tt.Z,[tt.ALT]),r=mt.registry.createSerializedKey(tt.Z,[tt.META]);mt.registry.register({name:os.UNDO,preconditionFn(u){return!u.options.readOnly&&!ll.inProgress()},callback(u,d){return u.hideChaff(),u.undo(!1),d.preventDefault(),!0},keyCodes:[e,t,r]})},Wl=function(){const e=mt.registry.createSerializedKey(tt.Z,[tt.SHIFT,tt.CTRL]),t=mt.registry.createSerializedKey(tt.Z,[tt.SHIFT,tt.ALT]),r=mt.registry.createSerializedKey(tt.Z,[tt.SHIFT,tt.META]),u=mt.registry.createSerializedKey(tt.Y,[tt.CTRL]);mt.registry.register({name:os.REDO,preconditionFn(d){return!ll.inProgress()&&!d.options.readOnly},callback(d,g){return d.hideChaff(),d.undo(!0),g.preventDefault(),!0},keyCodes:[e,t,r,u]})},Pa=function(){ii(),Ni(),ec(),xa(),oi(),Mi(),Wl()},jl=function(e){const t=e.saveState();return e.getParameters().length&&(t.parameters=e.getParameters().map(r=>r.saveState())),t},Ba=function(e,t,r,u){if(e=e.loadState(r,u),!r.parameters)return e;for(const[d,g]of r.parameters.entries())e.insertParameter(t.loadState(g,u),d);return e},zl=function(e){const t=Object.create(null),r=M($e.SERIALIZER,!0);for(const u in r){let d;const g=(d=r[u])==null?void 0:d.save(e);g&&(t[u]=g)}return t},si=function(e,t,{recordUndo:r=!1}={}){var u=M($e.SERIALIZER,!0);if(u){u=Object.entries(u).sort((g,y)=>y[1].priority-g[1].priority);var d=re();o.setRecordUndo$$module$build$src$core$events$utils(r),(r=o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),Bn(),t instanceof ji&&t.setResizesEnabled(!1);for(const[,g]of u.reverse()){let y;(y=g)==null||y.clear(t)}for(const[g,y]of u.reverse())if(e[g]){let B;(B=y)==null||B.load(e[g],t)}t instanceof ji&&t.setResizesEnabled(!0),Jr(),pe(new(C(te.FINISHED_LOADING))(t)),o.setGroup$$module$build$src$core$events$utils(r),o.setRecordUndo$$module$build$src$core$events$utils(d)}},Xl=function(e,t){let r=null;r=typeof e=="string"?document.getElementById(e)||document.querySelector(e):e;var u;if(!document.contains(r)&&document!==((u=r)==null?void 0:u.ownerDocument))throw Error("Error: container is not in current document");e=new Gi(t||{}),u=document.createElement("div"),Be(u,"injectionDiv"),t!=null&&t.rtl&&Be(u,"blocklyRTL"),u.tabIndex=0,_n(u,Yt.LABEL,o.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),r.appendChild(u),t=Kl(u,e);const d=zo(u,t,e);return Fa(d),Ue(d),Qe(d),u.addEventListener("focusin",function(){Ue(d)}),Ge(u,"keydown",null,po),Ge(kl(),"keydown",null,po),(t=Ls())&&Ge(t,"keydown",null,po),d},Kl=function(e,t){e.setAttribute("dir","LTR"),Oo(t.hasCss,t.pathToMedia),e=le(K.SVG,{xmlns:zs,"xmlns:html":ai,"xmlns:xlink":dr,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const r=le(K.DEFS,{},e),u=String(Math.random()).substring(2);return t.gridPattern=km.createDom(u,t.gridOptions,r),e},zo=function(e,t,r){r.parentWorkspace=null,r=new ji(r);const u=r.options;r.scale=u.zoomOptions.startScale,t.appendChild(r.createDom("blocklyMainBackground",e));var d=r.getRenderer().getClassName();return d&&Be(e,d),(d=r.getTheme().getClassName())&&Be(e,d),!u.hasCategories&&u.languageTree&&(e=r.addFlyout(K.SVG),we(e,t)),u.hasTrashcan&&r.addTrashcan(),u.zoomOptions&&u.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),r.translate(0,0),r.addChangeListener(Zu(r)),Qe(r),Pu(),lh(),Ch(),r},Fa=function(e){const t=e.options;var r=e.getParentSvg();if(Ge(r.parentNode,"contextmenu",null,function(u){Yr(u)||u.preventDefault()}),r=Ge(window,"resize",null,function(){oo(),e.hideComponents(!0),Th(),ma(),Qe(e),Vl(e)}),e.setResizeHandlerWrapper(r),Jh(),t.languageTree){r=e.getToolbox();const u=e.getFlyout(!0);r?r.init():u&&(u.init(e),u.show(t.languageTree),typeof u.scrollToStart=="function"&&u.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new Zm(e,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.horizontal,t.moveOptions.scrollbars===!0||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Ua(t.pathToMedia,e)},po=function(e){const t=Se();t&&!(Yr(e)||t.rendered&&!t.isVisible())&&mt.registry.onKeyDown(t,e)},Jh=function(){UT||(Ge(document,"scroll",null,function(){const e=R();for(let t=0,r;r=e[t];t++)r instanceof ji&&r.updateInverseScreenCTM()}),st(document,"touchend",null,wn),st(document,"touchcancel",null,wn)),UT=!0},Ua=function(e,t){function r(){for(;d.length;){const g=d.pop();g&&it(g)}u.preload()}const u=t.getAudioManager();u.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),u.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),u.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const d=[];d.push(Ge(document,"pointermove",null,r,!0)),d.push(Ge(document,"touchstart",null,r,!0))},xt=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.UNDO},preconditionFn(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!1)},scopeType:U.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},Yl=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.REDO},preconditionFn(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback(e){e.workspace.undo(!0)},scopeType:U.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},tc=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(e){e.workspace.cleanUp()},scopeType:U.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},nc=function(e,t){function r(g){d--,g.setCollapsed(e),d===0&&o.setGroup$$module$build$src$core$events$utils(!1)}let u=0,d=0;o.setGroup$$module$build$src$core$events$utils(!0);for(let g=0;g<t.length;g++){let y=t[g];for(;y;)d++,setTimeout(r.bind(null,y),u),y=y.getNextBlock(),u+=10}},Jl=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let r=e[t];for(;r;){if(!r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){nc(!0,e.workspace.getTopBlocks(!0))},scopeType:U.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},rc=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let r=e[t];for(;r;){if(r.isCollapsed())return"enabled";r=r.getNextBlock()}}return"disabled"}return"hidden"},callback(e){nc(!1,e.workspace.getTopBlocks(!0))},scopeType:U.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},fo=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let r=0;r<e.length;r++)fo(e[r],t)}},Lt=function(e){const t=[];e=e.getTopBlocks(!0);for(let r=0;r<e.length;r++)fo(e[r],t);return t},Kt=function(e,t){t?o.setGroup$$module$build$src$core$events$utils(t):(o.setGroup$$module$build$src$core$events$utils(!0),t=o.getGroup$$module$build$src$core$events$utils());const r=e.shift();r&&(r.isDeadOrDying()?Kt(e,t):(r.dispose(!1,!0),setTimeout(Kt,10,e,t))),o.setGroup$$module$build$src$core$events$utils(!1)},cn=function(){U.registry.register({displayText(e){return e.workspace?(e=Lt(e.workspace).length,e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)):""},preconditionFn(e){return e.workspace&&0<Lt(e.workspace).length?"enabled":"disabled"},callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=Lt(e.workspace);2>t.length?Kt(t):at(o.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),function(r){r&&Kt(t)})}},scopeType:U.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},ic=function(){xt(),Yl(),tc(),Jl(),rc(),cn()},Fs=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback(e){if(e.block){var t=e.block.toCopyData();t&&gn(t,e.block.workspace)}},scopeType:U.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Us=function(){U.registry.register({displayText(e){return e.block.hasIcon(al.TYPE)?o.Msg$$module$build$src$core$msg.REMOVE_COMMENT:o.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback(e){e=e.block,e.hasIcon(al.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:U.ScopeType.BLOCK,id:"blockComment",weight:2})},qh=function(){U.registry.register({displayText(e){return e.block.getInputsInline()?o.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:o.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.isMovable()&&!e.isCollapsed()){for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof gg||e.inputList[t]instanceof gg))return"enabled"}return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:U.ScopeType.BLOCK,id:"blockInline",weight:3})},Tn=function(){U.registry.register({displayText(e){return e.block.isCollapsed()?o.Msg$$module$build$src$core$msg.EXPAND_BLOCK:o.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(e){return e=e.block,!e.isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:U.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},oc=function(){U.registry.register({displayText(e){return e.block.hasDisabledReason(Nn)?o.Msg$$module$build$src$core$msg.ENABLE_BLOCK:o.Msg$$module$build$src$core$msg.DISABLE_BLOCK},preconditionFn(e){if(e=e.block,!e.isInFlyout&&e.workspace.options.disable&&e.isEditable()){var t=e.getDisabledReasons();return t=t.size>(t.has(Nn)?1:0),e.getInheritedDisabled()||t?"disabled":"enabled"}return"hidden"},callback(e){e=e.block;const t=o.getGroup$$module$build$src$core$events$utils();t||o.setGroup$$module$build$src$core$events$utils(!0),e.setDisabledReason(!e.hasDisabledReason(Nn),Nn),o.setGroup$$module$build$src$core$events$utils(t)},scopeType:U.ScopeType.BLOCK,id:"blockDisable",weight:5})},sc=function(){U.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),e===1?o.Msg$$module$build$src$core$msg.DELETE_BLOCK:o.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback(e){e.block&&e.block.checkAndDelete()},scopeType:U.ScopeType.BLOCK,id:"blockDelete",weight:6})},lc=function(){U.registry.register({displayText(){return o.Msg$$module$build$src$core$msg.HELP},preconditionFn(e){return e=e.block,(typeof e.helpUrl=="function"?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback(e){e.block.showHelp()},scopeType:U.ScopeType.BLOCK,id:"blockHelp",weight:7})},Br=function(){U.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.REMOVE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isDeletable()?"enabled":"hidden"},callback(e){o.setGroup$$module$build$src$core$events$utils(!0);let t;(t=e.comment)==null||t.dispose(),o.setGroup$$module$build$src$core$events$utils(!1)},scopeType:U.ScopeType.COMMENT,id:"commentDelete",weight:6})},ar=function(){U.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,preconditionFn(e){let t;return(t=e.comment)!=null&&t.isMovable()?"enabled":"hidden"},callback(e){if(e.comment){var t=e.comment.toCopyData();t&&gn(t,e.comment.workspace)}},scopeType:U.ScopeType.COMMENT,id:"commentDuplicate",weight:1})},Hs=function(){U.registry.register({displayText:()=>o.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:()=>"enabled",callback:(e,t)=>{if(e=e.workspace){o.setGroup$$module$build$src$core$events$utils(!0);var r=new ot(e);r.setText(o.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT),r.moveTo(Ha(new be(t.clientX,t.clientY),e)),o.setSelected$$module$build$src$core$common(r),o.setGroup$$module$build$src$core$events$utils(!1)}},scopeType:U.ScopeType.WORKSPACE,id:"commentCreate",weight:8})},Ha=function(e,t){var r=t.getInjectionDiv().getBoundingClientRect();return e=new be(e.x-r.left,e.y-r.top),r=t.getOriginOffsetInPixels(),e=be.difference(e,r),e.scale(1/t.scale),e},Va=function(){Fs(),Us(),qh(),Tn(),oc(),sc(),lc()},Qh=function(){ar(),Br(),Hs()},Ga=function(){ic(),Va()},Zh=function(e){return e.paste!==void 0},ep=function(e){return e.getSvgRoot!==void 0},tp=function(e){return typeof e.id=="string"&&e.workspace!==void 0&&e.select!==void 0&&e.unselect!==void 0},np=function(e){return e.isSelectable()},rp=function(e){Se().hideChaff(e)},fe=fe||{},fe.scope={},fe.ASSUME_ES5=!1,fe.ASSUME_NO_NATIVE_MAP=!1,fe.ASSUME_NO_NATIVE_SET=!1,fe.SIMPLE_FROUND_POLYFILL=!1,fe.ISOLATE_POLYFILLS=!1,fe.FORCE_POLYFILL_PROMISE=!1,fe.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,fe.defineProperty=fe.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,t,r){return e==Array.prototype||e==Object.prototype||(e[t]=r.value),e},fe.getGlobal=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof NE=="object"&&NE];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},fe.global=fe.getGlobal(this),fe.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",fe.TRUST_ES6_POLYFILLS=!fe.ISOLATE_POLYFILLS||fe.IS_SYMBOL_NATIVE,fe.polyfills={},fe.propertyToPolyfillSymbol={},fe.POLYFILL_PREFIX="$jscp$",fe.polyfill=function(e,t,r,u){t&&(fe.ISOLATE_POLYFILLS?fe.polyfillIsolated(e,t,r,u):fe.polyfillUnisolated(e,t,r,u))},fe.polyfillUnisolated=function(e,t,r,u){for(r=fe.global,e=e.split("."),u=0;u<e.length-1;u++){var d=e[u];if(!(d in r))return;r=r[d]}e=e[e.length-1],u=r[e],t=t(u),t!=u&&t!=null&&fe.defineProperty(r,e,{configurable:!0,writable:!0,value:t})},fe.polyfillIsolated=function(e,t,r,u){var d=e.split(".");e=d.length===1,u=d[0],u=!e&&u in fe.polyfills?fe.polyfills:fe.global;for(var g=0;g<d.length-1;g++){var y=d[g];if(!(y in u))return;u=u[y]}d=d[d.length-1],r=fe.IS_SYMBOL_NATIVE&&r==="es6"?u[d]:null,t=t(r),t!=null&&(e?fe.defineProperty(fe.polyfills,d,{configurable:!0,writable:!0,value:t}):t!==r&&(fe.propertyToPolyfillSymbol[d]===void 0&&(r=1e9*Math.random()>>>0,fe.propertyToPolyfillSymbol[d]=fe.IS_SYMBOL_NATIVE?fe.global.Symbol(d):fe.POLYFILL_PREFIX+r+"$"+d),fe.defineProperty(u,fe.propertyToPolyfillSymbol[d],{configurable:!0,writable:!0,value:t})))},fe.underscoreProtoCanBeSet=function(){var e={a:!0},t={};try{return t.__proto__=e,t.a}catch{}return!1},fe.setPrototypeOf=fe.TRUST_ES6_POLYFILLS&&typeof Object.setPrototypeOf=="function"?Object.setPrototypeOf:fe.underscoreProtoCanBeSet()?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null,fe.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},fe.arrayIterator=function(e){return{next:fe.arrayIteratorImpl(e)}},fe.makeIterator=function(e){var t=typeof Symbol<"u"&&Symbol.iterator&&e[Symbol.iterator];if(t)return t.call(e);if(typeof e.length=="number")return fe.arrayIterator(e);throw Error(String(e)+" is not an iterable or ArrayLike")},fe.generator={},fe.generator.ensureIteratorResultIsObject_=function(e){if(!(e instanceof Object))throw new TypeError("Iterator result "+e+" is not an object")},fe.generator.Context=function(){this.isRunning_=!1,this.yieldAllIterator_=null,this.yieldResult=void 0,this.nextAddress=1,this.finallyAddress_=this.catchAddress_=0,this.finallyContexts_=this.abruptCompletion_=null},fe.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0},fe.generator.Context.prototype.stop_=function(){this.isRunning_=!1},fe.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_},fe.generator.Context.prototype.next_=function(e){this.yieldResult=e},fe.generator.Context.prototype.throw_=function(e){this.abruptCompletion_={exception:e,isException:!0},this.jumpToErrorHandler_()},fe.generator.Context.prototype.return=function(e){this.abruptCompletion_={return:e},this.nextAddress=this.finallyAddress_},fe.generator.Context.prototype.jumpThroughFinallyBlocks=function(e){this.abruptCompletion_={jumpTo:e},this.nextAddress=this.finallyAddress_},fe.generator.Context.prototype.yield=function(e,t){return this.nextAddress=t,{value:e}},fe.generator.Context.prototype.yieldAll=function(e,t){e=fe.makeIterator(e);var r=e.next();if(fe.generator.ensureIteratorResultIsObject_(r),r.done)this.yieldResult=r.value,this.nextAddress=t;else return this.yieldAllIterator_=e,this.yield(r.value,t)},fe.generator.Context.prototype.jumpTo=function(e){this.nextAddress=e},fe.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0},fe.generator.Context.prototype.setCatchFinallyBlocks=function(e,t){this.catchAddress_=e,t!=null&&(this.finallyAddress_=t)},fe.generator.Context.prototype.setFinallyBlock=function(e){this.catchAddress_=0,this.finallyAddress_=e||0},fe.generator.Context.prototype.leaveTryBlock=function(e,t){this.nextAddress=e,this.catchAddress_=t||0},fe.generator.Context.prototype.enterCatchBlock=function(e){return this.catchAddress_=e||0,e=this.abruptCompletion_.exception,this.abruptCompletion_=null,e},fe.generator.Context.prototype.enterFinallyBlock=function(e,t,r){r?this.finallyContexts_[r]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_],this.catchAddress_=e||0,this.finallyAddress_=t||0},fe.generator.Context.prototype.leaveFinallyBlock=function(e,t){if(t=this.finallyContexts_.splice(t||0)[0],t=this.abruptCompletion_=this.abruptCompletion_||t){if(t.isException)return this.jumpToErrorHandler_();t.jumpTo!=null&&this.finallyAddress_<t.jumpTo?(this.nextAddress=t.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=e},fe.generator.Context.prototype.forIn=function(e){return new fe.generator.Context.PropertyIterator(e)},fe.generator.Context.PropertyIterator=function(e){this.object_=e,this.properties_=[];for(var t in e)this.properties_.push(t);this.properties_.reverse()},fe.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var e=this.properties_.pop();if(e in this.object_)return e}return null},fe.generator.Engine_=function(e){this.context_=new fe.generator.Context,this.program_=e},fe.generator.Engine_.prototype.next_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.next,e,this.context_.next_):(this.context_.next_(e),this.nextStep_())},fe.generator.Engine_.prototype.return_=function(e){this.context_.start_();var t=this.context_.yieldAllIterator_;return t?this.yieldAllStep_("return"in t?t.return:function(r){return{value:r,done:!0}},e,this.context_.return):(this.context_.return(e),this.nextStep_())},fe.generator.Engine_.prototype.throw_=function(e){return this.context_.start_(),this.context_.yieldAllIterator_?this.yieldAllStep_(this.context_.yieldAllIterator_.throw,e,this.context_.next_):(this.context_.throw_(e),this.nextStep_())},fe.generator.Engine_.prototype.yieldAllStep_=function(e,t,r){try{var u=e.call(this.context_.yieldAllIterator_,t);if(fe.generator.ensureIteratorResultIsObject_(u),!u.done)return this.context_.stop_(),u;var d=u.value}catch(g){return this.context_.yieldAllIterator_=null,this.context_.throw_(g),this.nextStep_()}return this.context_.yieldAllIterator_=null,r.call(this.context_,d),this.nextStep_()},fe.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var e=this.program_(this.context_);if(e)return this.context_.stop_(),{value:e.value,done:!1}}catch(t){this.context_.yieldResult=void 0,this.context_.throw_(t)}if(this.context_.stop_(),this.context_.abruptCompletion_){if(e=this.context_.abruptCompletion_,this.context_.abruptCompletion_=null,e.isException)throw e.exception;return{value:e.return,done:!0}}return{value:void 0,done:!0}},fe.generator.Generator_=function(e){this.next=function(t){return e.next_(t)},this.throw=function(t){return e.throw_(t)},this.return=function(t){return e.return_(t)},this[Symbol.iterator]=function(){return this}},fe.generator.createGenerator=function(e,t){return t=new fe.generator.Generator_(new fe.generator.Engine_(t)),fe.setPrototypeOf&&e.prototype&&fe.setPrototypeOf(t,e.prototype),t},fe.asyncExecutePromiseGenerator=function(e){function t(u){return e.next(u)}function r(u){return e.throw(u)}return new Promise(function(u,d){function g(y){y.done?u(y.value):Promise.resolve(y.value).then(t,r).then(g,d)}g(e.next())})},fe.asyncExecutePromiseGeneratorFunction=function(e){return fe.asyncExecutePromiseGenerator(e())},fe.asyncExecutePromiseGeneratorProgram=function(e){return fe.asyncExecutePromiseGenerator(new fe.generator.Generator_(new fe.generator.Engine_(e)))},fe.polyfill("globalThis",function(e){return e||fe.global},"es_2020","es3"),fe.polyfill("Array.prototype.includes",function(e){return e||function(t,r){var u=this;u instanceof String&&(u=String(u));var d=u.length;for(r=r||0,0>r&&(r=Math.max(r+d,0));r<d;r++){var g=u[r];if(g===t||Object.is(g,t))return!0}return!1}},"es7","es3"),fe.initSymbol=function(){},fe.iteratorPrototype=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},fe.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var r=0,u=!1,d={next:function(){if(!u&&r<e.length){var g=r++;return{value:t(g,e[g]),done:!1}}return u=!0,{done:!0,value:void 0}}};return d[Symbol.iterator]=function(){return d},d},fe.polyfill("Array.prototype.values",function(e){return e||function(){return fe.iteratorFromArray(this,function(t,r){return r})}},"es8","es3"),fe.polyfill("Array.prototype.flat",function(e){return e||function(t){t=t===void 0?1:t;var r=[];return Array.prototype.forEach.call(this,function(u){Array.isArray(u)&&0<t?(u=Array.prototype.flat.call(u,t-1),r.push.apply(r,u)):r.push(u)}),r}},"es9","es5"),fe.polyfill("Array.prototype.flatMap",function(e){return e||function(t,r){var u=[];return Array.prototype.forEach.call(this,function(d,g){d=t.call(r,d,g,this),Array.isArray(d)?u.push.apply(u,d):u.push(d)}),u}},"es9","es5"),fe.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},fe.polyfill("Object.entries",function(e){return e||function(t){var r=[],u;for(u in t)fe.owns(t,u)&&r.push([u,t[u]]);return r}},"es8","es3"),fe.polyfill("Object.values",function(e){return e||function(t){var r=[],u;for(u in t)fe.owns(t,u)&&r.push(t[u]);return r}},"es8","es3");var Fr=Object.create(null),Pf={typeMap:Fr},Vs=Object.create(null),Er="default",$e=class{constructor(e){this.name=e}toString(){return this.name}};$e.CONNECTION_CHECKER=new $e("connectionChecker"),$e.CONNECTION_PREVIEWER=new $e("connectionPreviewer"),$e.CURSOR=new $e("cursor"),$e.EVENT=new $e("event"),$e.FIELD=new $e("field"),$e.INPUT=new $e("input"),$e.RENDERER=new $e("renderer"),$e.TOOLBOX=new $e("toolbox"),$e.THEME=new $e("theme"),$e.TOOLBOX_ITEM=new $e("toolboxItem"),$e.FLYOUTS_VERTICAL_TOOLBOX=new $e("flyoutsVerticalToolbox"),$e.FLYOUTS_HORIZONTAL_TOOLBOX=new $e("flyoutsHorizontalToolbox"),$e.METRICS_MANAGER=new $e("metricsManager"),$e.BLOCK_DRAGGER=new $e("blockDragger"),$e.SERIALIZER=new $e("serializer"),$e.ICON=new $e("icon"),$e.PASTER=new $e("paster");var li={DEFAULT:Er,TEST_ONLY:Pf};li.Type=$e,li.getAllItems=M,li.getClass=v,li.getClassFromOptions=w,li.getObject=I,li.hasItem=E,li.register=c,li.unregister=m;var Qn=Object.create(null),te;(function(e){e.BLOCK_CREATE="create",e.BLOCK_DELETE="delete",e.BLOCK_CHANGE="change",e.BLOCK_FIELD_INTERMEDIATE_CHANGE="block_field_intermediate_change",e.BLOCK_MOVE="move",e.VAR_CREATE="var_create",e.VAR_DELETE="var_delete",e.VAR_RENAME="var_rename",e.UI="ui",e.BLOCK_DRAG="drag",e.SELECTED="selected",e.CLICK="click",e.MARKER_MOVE="marker_move",e.BUBBLE_OPEN="bubble_open",e.TRASHCAN_OPEN="trashcan_open",e.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.THEME_CHANGE="theme_change",e.VIEWPORT_CHANGE="viewport_change",e.COMMENT_CREATE="comment_create",e.COMMENT_DELETE="comment_delete",e.COMMENT_CHANGE="comment_change",e.COMMENT_MOVE="comment_move",e.COMMENT_RESIZE="comment_resize",e.COMMENT_DRAG="comment_drag",e.COMMENT_COLLAPSE="comment_collapse",e.FINISHED_LOADING="finished_loading"})(te||(te={}));var ip=[te.BLOCK_CREATE,te.BLOCK_MOVE,te.COMMENT_CREATE,te.COMMENT_MOVE],op=new Set,Wa={};Wa.warn=k;var sp="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",lp={genUid:()=>{const e=sp.length,t=[];for(let r=0;20>r;r++)t[r]=sp.charAt(Math.random()*e);return t.join("")}},Bf=0,up={TEST_ONLY:lp};up.genUid=P,up.getNextUniqueId=H;var cp="",uc=!0,ap=0,ja="ORPHANED_BLOCK",xi=[],dp={FIRE_QUEUE:xi,enqueueEvent:ve,fireNow:L,fireInternal:Fe,setGroupInternal:Ve};o.disable$$module$build$src$core$events$utils,o.enable$$module$build$src$core$events$utils,o.getGroup$$module$build$src$core$events$utils,o.setGroup$$module$build$src$core$events$utils,o.setRecordUndo$$module$build$src$core$events$utils;var Xo=Object.create(null),Ff,Gs=null,Uf,Zn=[],za={defineBlocksWithJsonArrayInternal:rr},an={TEST_ONLY:za};an.createBlockDefinitionsFromJsonArray=o.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,an.defineBlocks=o.defineBlocks$$module$build$src$core$common,an.defineBlocksWithJsonArray=yt,an.draggingConnections=Zn,an.getAllWorkspaces=R,an.getBlockTypeCounts=$t,an.getMainWorkspace=Se,an.getParentContainer=Ie,an.getSelected=Oe,an.getWorkspaceById=Y,an.registerWorkspace=Q,an.setMainWorkspace=Ue,an.setParentContainer=qe,an.setSelected=o.setSelected$$module$build$src$core$common,an.svgResize=Qe,an.unregisterWorkpace=Re;var Ws=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=re()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,r){return r.isBlank=!1,r.group=e.group||"",r.workspaceId=t.id,r}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=Y(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},Ur=class extends Ws{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof e>"u",this.workspaceId=e||""}},Xa=class extends Ur{constructor(e,t,r){t=e?e.workspace.id:t,t===null&&(t=void 0),super(t),this.type=te.CLICK,this.blockId=e?e.id:void 0,this.targetType=r}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Xa),t.targetType=e.targetType,t.blockId=e.blockId,t}},cc;(function(e){e.BLOCK="block",e.WORKSPACE="workspace",e.ZOOM_CONTROLS="zoom_controls"})(cc||(cc={})),c($e.EVENT,te.CLICK,Xa);var ql=750,Ka="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Ql=null,js={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},ac=0,Ko={TOUCH_ENABLED:Ka,TOUCH_MAP:js};Ko.checkTouchIdentifier=eo,Ko.clearTouchIdentifier=Qt,Ko.getTouchIdentifierFromEvent=pr,Ko.longStart=Zi,Ko.longStop=wn,Ko.shouldHandleEvent=Kr;var Ya,hp,pp,Hf,An,En,Ja,fp,gp,mp;(function(e){function t(u){return r.includes(u.toUpperCase())}Ya=e;const r=Ya.toUpperCase();hp=t("JavaFX"),pp=t("WebKit"),Hf=t("Gecko")&&!pp,An=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,En=t("iPad")||t("Macintosh")&&0<e,Ja=t("iPhone")&&!En,fp=t("Macintosh"),gp=En||An&&!t("Mobile")||t("Silk"),mp=!gp&&(Ja||An)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var Vf=Ya,qa=hp,$p=Hf,dc=An,hc=En,_p=Ja,pc=fp,Qa=mp,Gf={ANDROID:dc,GECKO:$p,IPAD:hc,IPHONE:_p,JavaFx:qa,MAC:pc,MOBILE:Qa,raw:Vf},Za=40,fc=125,go={};go.bind=st,go.conditionalBind=Ge,go.getScrollDeltaPixels=Lr,go.isRightButton=kn,go.isTargetInput=Yr,go.mouseToSvg=$n,go.unbind=it;var Tp={};Tp.removeElem=jt;var ui=class{constructor(e){this.name=e}toString(){return this.name}};ui.POSITIONABLE=new ui("positionable"),ui.DRAG_TARGET=new ui("drag_target"),ui.DELETE_AREA=new ui("delete_area"),ui.AUTOHIDEABLE=new ui("autohideable");var At=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const r=e.component.id;if(!t&&this.componentData.has(r)){var u;throw Error('Plugin "'+r+'" with capabilities "'+((u=this.componentData.get(r))==null?void 0:u.capabilities)+'" already added.')}for(this.componentData.set(r,e),t=[],u=0;u<e.capabilities.length;u++){const d=String(e.capabilities[u]).toLowerCase();if(t.push(d),this.capabilityToComponentIds.has(d)){let g;(g=this.capabilityToComponentIds.get(d))==null||g.push(r)}else this.capabilityToComponentIds.set(d,[r])}this.componentData.get(r).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let r=0;r<t.capabilities.length;r++){const u=String(t.capabilities[r]).toLowerCase();jt(this.capabilityToComponentIds.get(u),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');if(this.hasCapability(e,t))console.warn('Plugin "'+e+'already has capability "'+t+'"');else{t=`${t}`.toLowerCase();var r;(r=this.componentData.get(e))==null||r.capabilities.push(t);var u;(u=this.capabilityToComponentIds.get(t))==null||u.push(e)}}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),jt(this.componentData.get(e).capabilities,t),jt(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+`doesn't have capability "`+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&this.componentData.get(e).capabilities.includes(t)}getComponent(e){let t;return(t=this.componentData.get(e))==null?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),e=this.capabilityToComponentIds.get(e),!e)return[];const r=[];if(t){const u=[];e.forEach(d=>{u.push(this.componentData.get(d))}),u.sort(function(d,g){return d.weight-g.weight}),u.forEach(function(d){r.push(d.component)})}else e.forEach(u=>{r.push(this.componentData.get(u).component)});return r}};At.Capability=ui,function(e){e=e.ComponentWeight||(e.ComponentWeight={}),e[e.TOOLBOX_WEIGHT=0]="TOOLBOX_WEIGHT",e[e.FLYOUT_WEIGHT=1]="FLYOUT_WEIGHT",e[e.TRASHCAN_WEIGHT=2]="TRASHCAN_WEIGHT",e[e.ZOOM_CONTROLS_WEIGHT=3]="ZOOM_CONTROLS_WEIGHT"}(At),At.ComponentWeight;var Zl=!1,ci=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
  user-select: none;
  -webkit-user-select: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
  /* Drag surface disables events to not block the toolbox, so we have to
   * reenable them here for the cursor values to work. */
  pointer-events: auto;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
  height: 100%;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}

.blocklyBlockDragSurface, .blocklyAnimationLayer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: visible !important;
  z-index: 80;
  pointer-events: none;
}
`,Ep={};Ep.inject=Oo,Ep.register=Pn;var be=class{constructor(e,t){this.x=e,this.y=t}clone(){return new be(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t?!0:e&&t?e.x===t.x&&e.y===t.y:!1}static distance(e,t){const r=e.x-t.x;return e=e.y-t.y,Math.sqrt(r*r+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new be(e.x-t.x,e.y-t.y)}static sum(e,t){return new be(e.x+t.x,e.y+t.y)}},zs="http://www.w3.org/2000/svg",ai="http://www.w3.org/1999/xhtml",dr="http://www.w3.org/1999/xlink",br;(function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"})(br||(br={}));var Dt=null,bp=0,ed=null,ln={HTML_NS:ai};ln.NodeType=br,ln.SVG_NS=zs,ln.XLINK_NS=dr,ln.addClass=Be,ln.createSvgElement=le,ln.getFastTextWidth=Ar,ln.getFastTextWidthWithSizeString=qr,ln.getTextWidth=to,ln.hasClass=W,ln.insertAfter=we,ln.measureFontMetrics=ms,ln.removeClass=S,ln.removeClasses=_,ln.removeNode=j,ln.setCssTransform=_t,ln.startTextWidthCache=Bn,ln.stopTextWidthCache=Jr;var K=class{constructor(e){this.tagName=e}toString(){return this.tagName}};K.ANIMATE=new K("animate"),K.CIRCLE=new K("circle"),K.CLIPPATH=new K("clipPath"),K.DEFS=new K("defs"),K.FECOMPOSITE=new K("feComposite"),K.FECOMPONENTTRANSFER=new K("feComponentTransfer"),K.FEFLOOD=new K("feFlood"),K.FEFUNCA=new K("feFuncA"),K.FEGAUSSIANBLUR=new K("feGaussianBlur"),K.FEPOINTLIGHT=new K("fePointLight"),K.FESPECULARLIGHTING=new K("feSpecularLighting"),K.FILTER=new K("filter"),K.FOREIGNOBJECT=new K("foreignObject"),K.G=new K("g"),K.IMAGE=new K("image"),K.LINE=new K("line"),K.PATH=new K("path"),K.PATTERN=new K("pattern"),K.POLYGON=new K("polygon"),K.RECT=new K("rect"),K.SVG=new K("svg"),K.TEXT=new K("text"),K.TSPAN=new K("tspan");var ft=class{constructor(e,t,r,u){this.top=e,this.bottom=t,this.left=r,this.right=u}clone(){return new ft(this.top,this.bottom,this.left,this.right)}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return this.left<=e.right&&this.right>=e.left&&this.bottom>=e.top&&this.top<=e.bottom}static equals(e,t){return e===t?!0:e&&t?e.top===t.top&&e.bottom===t.bottom&&e.left===t.left&&e.right===t.right:!1}static createFromPoint(e,t,r){const u=e.x;return e=e.y,new ft(e,e+r,u,u+t)}},Ee=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t?!0:e&&t?e.width===t.width&&e.height===t.height:!1}static max(e,t){return new Ee(Math.max(e.width,t.width),Math.max(e.height,t.height))}static min(e,t){return new Ee(Math.min(e.width,t.width),Math.min(e.height,t.height))}},Xs={getSizeInternal:$s},Pi={TEST_ONLY:Xs};Pi.getBorderBox=no,Pi.getComputedStyle=Fn,Pi.getContainerOffsetToScrollInto=ro,Pi.getPageOffset=ir,Pi.getSize=Ro,Pi.getViewportPageOffset=Tl,Pi.scrollIntoContainerView=El;var yp=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Wf=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,gc={XY_REGEX:yp,XY_STYLE_REGEX:Wf},Bi={TEST_ONLY:gc};Bi.getDocumentScroll=Ht,Bi.getInjectionDivXY=ht,Bi.getRelativeXY=pt,Bi.getViewportBBox=fn,Bi.screenToWsCoordinates=fr,Bi.wsToScreenCoordinates=or;var Vt=class{constructor(e,t,r,u,d){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new be(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new be(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=r||!1,this.margin=d!==void 0?d:Vt.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),u&&(e+=" "+u),this.outerSvg=le(K.SVG,{class:e}),u=le(K.G,{},this.outerSvg),this.svgBackground=le(K.RECT,{class:"blocklyScrollbarBackground"},u),e=Math.floor((Vt.scrollbarThickness-5)/2),this.svgHandle=le(K.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},u),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),we(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=Ge(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=Ge(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Vt.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),it(this.onMouseDownBarWrapper_),it(this.onMouseDownHandleWrapper_),j(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return e=0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,_t(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){!e&&(e=this.workspace.getMetrics(),!e)||this.oldHostMetrics&&Vt.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics())}requiresViewResize(e){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop:!0}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=Vt.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Vt.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Vt.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var r=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=Vt.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Vt.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var r=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*r,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=r/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),Qt(),this.cleanUp(),kn(e))e.stopPropagation();else{var t=$n(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var r=ht(this.svgHandle);r=this.horizontal?r.x:r.y;var u=this.handlePosition,d=.95*this.handleLength;t<=r?u-=d:t>=r+this.handleLength&&(u+=d),this.setHandlePosition(this.constrainHandlePosition(u)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),kn(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=Ge(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=Ge(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){Qt(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(it(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(it(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||t===void 0)&&this.updateMetrics()}setOrigin(e,t){this.origin=new be(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Vt.scrollbarThickness=Ka?25:15,Vt.DEFAULT_SCROLLBAR_MARGIN=.5;var mc={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},td={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:$c,DOMParser:Ks,XMLSerializer:Ys}=globalThis;Ks&&(mc=new Ks),Ys&&(td=new Ys);var bn="https://developers.google.com/blockly/xml",di=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,yr={NAME_SPACE:bn};yr.createElement=o.createElement$$module$build$src$core$utils$xml,yr.createTextNode=o.createTextNode$$module$build$src$core$utils$xml,yr.domToText=bl,yr.injectDependencies=zc,yr.textToDom=o.textToDom$$module$build$src$core$utils$xml;var nd="categoryToolbox",vp="flyoutToolbox",Ke;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"})(Ke||(Ke={}));var Sp={hasCategoriesInternal:Kd},Dn={};Dn.Position=Ke,Dn.TEST_ONLY=Sp,Dn.convertFlyoutDefToJsonArray=$u,Dn.convertToolboxDefToJson=mu,Dn.hasCategories=_u,Dn.isCategoryCollapsible=Tu,Dn.parseToolboxTree=zt;var mo;(function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"})(mo||(mo={}));var Js;(function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"})(Js||(Js={}));var $o;(function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"})($o||($o={}));var Yo={};Yo.bumpDirection=$o,Yo.bumpPositionRect=Eu,Yo.getCornerOppositeToolbox=yl,Yo.getStartPositionRect=Kc,Yo.horizontalPosition=Js,Yo.verticalPosition=mo;var Hn={width:96,height:124,url:"sprites.png"},jf=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=le(K.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.ZOOM_CONTROLS_WEIGHT,capabilities:[At.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&j(this.svgGroup);for(const e of this.boundEvents)it(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new ft(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var r=yl(this.workspace,e),u=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(u+=this.LARGE_SPACING+this.HEIGHT),e=Kc(r,new Ee(this.WIDTH,u),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,t=Eu(e,this.MARGIN_VERTICAL,r===mo.TOP?$o.DOWN:$o.UP,t),r===mo.TOP){var d=this.SMALL_SPACING+this.HEIGHT,g;(g=this.zoomInGroup)==null||g.setAttribute("transform","translate(0, "+d+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(d+this.LARGE_SPACING+this.HEIGHT)+")")}else{g=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let B;(B=this.zoomInGroup)==null||B.setAttribute("transform","translate(0, "+g+")"),g=g+this.SMALL_SPACING+this.HEIGHT,(d=this.zoomOutGroup)==null||d.setAttribute("transform","translate(0, "+g+")")}this.top=t.top,this.left=t.left;var y;(y=this.svgGroup)==null||y.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=le(K.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=le(K.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);le(K.RECT,{width:32,height:32},t),le(K.IMAGE,{width:Hn.width,height:Hn.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),this.boundEvents.push(Ge(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=le(K.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=le(K.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);le(K.RECT,{width:32,height:32},t),le(K.IMAGE,{width:Hn.width,height:Hn.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),this.boundEvents.push(Ge(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),Qt(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=le(K.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=le(K.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);le(K.RECT,{width:32,height:32},t),le(K.IMAGE,{width:Hn.width,height:Hn.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),this.boundEvents.push(Ge(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),Qt(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(C(te.CLICK))(null,this.workspace.id,"zoom_controls");pe(e)}};Pn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var _c=100,rd=75,vr=50,lt=25,yn={BLOCKS:vr,PROCEDURES:rd,VARIABLES:_c,WORKSPACE_COMMENTS:lt},tn={};tn.register=Ao,tn.unregister=Ef;var vn=class{constructor(){this.priority=lt}save(e){const t=[];for(const r of e.getTopComments())(e=_s(r,{addCoordinates:!0,saveIds:!0}))&&t.push(e);return t.length?t:null}load(e,t){for(const r of e)Do(r,t,{recordUndo:re()})}clear(e){for(const t of e.getTopComments())t.dispose()}};Ao("workspaceComments",new vn);var Vn={};Vn.WorkspaceCommentSerializer=vn,Vn.append=Do,Vn.save=_s;var Jo={};Jo.register=gr,Jo.unregister=bf;var nn=class{paste(e,t,r){e=e.commentState,r&&(e.x=r.x,e.y=r.y),o.disable$$module$build$src$core$events$utils();let u;try{u=Do(e,t),Dr(u)}finally{o.enable$$module$build$src$core$events$utils()}return u?(Le()&&pe(new(C(te.COMMENT_CREATE))(u)),o.setSelected$$module$build$src$core$common(u),u):null}};nn.TYPE="workspace-comment",gr(nn.TYPE,new nn);var qs;qs=28,o.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:qs,connectingSnapRadius:qs,currentConnectionPreference:8,bumpDelay:250},o.config$$module$build$src$core$config;var Qs="aria-",id="role",Sr;(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(Sr||(Sr={}));var Yt;(function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"})(Yt||(Yt={}));var Sn={};Sn.Role=Sr,Sn.State=Yt,Sn.setRole=No,Sn.setState=_n;var Tc=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&No(t,this.roleName),this.element=t;for(let r=0,u;u=this.menuItems[r];r++)t.appendChild(u.createDom());return this.mouseOverHandler=Ge(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=Ge(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=Ge(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=Ge(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=Ge(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),Be(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),S(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(it(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(it(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(it(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(it(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(it(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e=0,t;t=this.menuItems[e];e++)t.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem")){for(let r=0,u;u=this.menuItems[r];r++)if(u.getElement()===e)return u}e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;if(t&&(t.setHighlighted(!1),this.highlightedItem=null),e){e.setHighlighted(!0),this.highlightedItem=e,(t=this.getElement())&&_n(t,Yt.ACTIVEDESCENDANT,e.getId());let r;(r=e.getElement())==null||r.scrollIntoView({block:"nearest",inline:"start"})}}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){e+=t;let r;for(;r=this.menuItems[e];){if(r.isEnabled()){this.setHighlighted(r);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&typeof e.clientX=="number"){const r=new be(e.clientX,e.clientY);if(1>be.distance(t,r))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=Ro(e);return t.height=e.scrollHeight,t}},qo=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=H(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(r)}return r=this.content,typeof this.content=="string"&&(r=document.createTextNode(this.content)),t.appendChild(r),e.appendChild(t),this.roleName&&No(e,this.roleName),_n(e,Yt.SELECTED,this.checkable&&this.checked||!1),_n(e,Yt.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return(e=this.opt_value)!=null?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(Be(t,"blocklyMenuItemHighlight"),Be(t,"goog-menuitem-highlight")):(S(t,"blocklyMenuItemHighlight"),S(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},Ir="_TEMP_COLLAPSED_INPUT",Zs="_TEMP_COLLAPSED_FIELD",Nn="MANUALLY_DISABLED",Qo={COLLAPSED_FIELD_NAME:Zs,COLLAPSED_INPUT_NAME:Ir,MANUALLY_DISABLED:Nn};(function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"})(o.inputTypes$$module$build$src$core$inputs$input_types||(o.inputTypes$$module$build$src$core$inputs$input_types={})),o.inputTypes$$module$build$src$core$inputs$input_types;var el=new Set,Fi=new WeakSet,eu=new WeakMap,Ui=null,Ec=null,bc=0,tl={};tl.finishQueuedRenders=zn,tl.queueRender=vl,tl.triggerQueuedRenders=Nr;var Gn=function(e,t){window.alert(e),t&&t()},_o=function(e,t){t(window.confirm(e))},Hr=function(e,t,r){r(window.prompt(e,t))},er={confirmInternal:Qd},Zo={TEST_ONLY:er};Zo.alert=bu,Zo.confirm=at,Zo.prompt=Il,Zo.setAlert=qc,Zo.setConfirm=Zd,Zo.setPrompt=eh;var yc,od;o.Msg$$module$build$src$core$msg=Object.create(null),yc=function(e){Object.keys(e).forEach(function(t){o.Msg$$module$build$src$core$msg[t]=e[t]})},od={Msg:o.Msg$$module$build$src$core$msg,setLocale:yc};var vc=class extends Ws{constructor(e){super(),this.isBlank=typeof e>"u",e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new vc),t.varId=e.varId,t}},Hi=class extends vc{constructor(e){super(e),this.type=te.VAR_CREATE,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Hi),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};c($e.EVENT,te.VAR_CREATE,Hi);var tu=class{constructor(e,t,r,u){this.workspace=e,this.name=t,this.type=r||"",this.id=u||P()}getId(){return this.id}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},Sc="VARIABLE",To="ijkmnopqrstuvwxyzabcdefgh",sd={generateUniqueNameInternal:io},rn={CATEGORY_NAME:Sc,TEST_ONLY:sd,VAR_LETTER_OPTIONS:To};rn.allDeveloperVariables=o.allDeveloperVariables$$module$build$src$core$variables,rn.allUsedVarModels=o.allUsedVarModels$$module$build$src$core$variables,rn.createVariableButtonHandler=yi,rn.flyoutCategory=bs,rn.flyoutCategoryBlocks=Ei,rn.generateUniqueName=bi,rn.generateUniqueNameFromOptions=xo,rn.generateVariableFieldDom=vi,rn.getAddedVariables=vu,rn.getOrCreateVariablePackage=o.getOrCreateVariablePackage$$module$build$src$core$variables,rn.getVariable=o.getVariable$$module$build$src$core$variables,rn.nameUsedWithAnyType=Qc,rn.nameUsedWithConflictingParam=ys,rn.promptName=Qr,rn.renameVariable=o.renameVariable$$module$build$src$core$variables;var nl=class extends Error{},Ip=class extends nl{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},rl=class extends nl{constructor(e,t,r){super(`The block ${t.toDevString()} is missing a(n) ${e}
connection`),this.block=t,this.state=r}},Ic=class extends nl{constructor(e,t,r,u){super(`The block ${r.toDevString()} could not connect its
${t} to its parent, because: ${e}`),this.childBlock=r,this.childState=u}},zf=class extends nl{constructor(e){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=e}},Xf=class extends nl{constructor(e,t,r){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=r}},es={};es.BadConnectionCheck=Ic,es.DeserializationError=nl,es.MissingBlockType=Ip,es.MissingConnection=rl,es.RealChildOfShadow=zf,es.UnregisteredIcon=Xf;var Cp=class{constructor(){this.priority=vr}save(e){const t=[];for(const r of e.getTopBlocks(!1))(e=On(r,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const r of e)Si(r,t,{recordUndo:re()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};Ao("blocks",new Cp);var hi={};hi.BlockSerializer=Cp,hi.append=Si,hi.appendInternal=mr,hi.save=On;var dn=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};dn.MUTATOR=new dn("mutator"),dn.WARNING=new dn("warning"),dn.COMMENT=new dn("comment");var Vr=class extends Ws{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Vr),t.blockId=e.blockId,t}},ts=class extends Vr{constructor(e,t,r,u,d){super(e),this.type=te.BLOCK_CHANGE,e&&(this.element=t,this.name=r||void 0,this.oldValue=u,this.newValue=d)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,this.disabledReason&&(e.disabledReason=this.disabledReason),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new ts),t.element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,e.disabledReason!==void 0&&(t.disabledReason=e.disabledReason),t}setDisabledReason(e){if(this.element!=="disabled")throw Error('Cannot set the disabled reason for a BlockChange event if the element is not "disabled".');this.disabledReason=e}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");const r=t.getIcon(dn.MUTATOR);switch(r&&Po(r)&&r.bubbleIsVisible()&&r.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":var u;t.setDisabledReason(!!e,(u=this.disabledReason)!=null?u:Nn);break;case"inline":t.setInputsInline(!!e);break;case"mutation":u=ts.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(o.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),pe(new ts(t,"mutation",null,u,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Xn(e):""}};c($e.EVENT,te.BLOCK_CHANGE,ts);var Pt={};Pt.clamp=Is,Pt.toDegrees=Lu,Pt.toRadians=Bo;var ld=16,wp=1,Kf=12,kp=16,Cc=.25,ud=null,il=null,Mn="",ns="",ut,Cr,Vi,Eo=null,pi=null,cd=null,wc={getBoundsInfo:function(){const e=ir(Eo),t=Ro(Eo);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,r,u){const d=wc.getBoundsInfo(),g=Ro(ut);return t+g.height<d.bottom?gh(e,t,d,g):u-g.height>d.top?mh(r,u,d,g):t+g.height<document.documentElement.clientHeight?gh(e,t,d,g):u-g.height>document.documentElement.clientTop?mh(r,u,d,g):ia(e,d,g)}},Wn={ANIMATION_TIME:Cc,ARROW_HORIZONTAL_PADDING:Kf,ARROW_SIZE:ld,BORDER_SIZE:wp,PADDING_Y:kp,TEST_ONLY:wc};Wn.clearContent=na,Wn.createDom=lh,Wn.getContentDiv=kl,Wn.getOwner=ch,Wn.getPositionX=Au,Wn.hide=Du,Wn.hideIfOwner=oa,Wn.hideWithoutAnimation=Ii,Wn.isVisible=$h,Wn.repositionForWindowResize=Th,Wn.setBoundsElement=uh,Wn.setColour=ah,Wn.show=fh,Wn.showPositionedByBlock=kf,Wn.showPositionedByField=dh;var ol=class{constructor(e){this.workspace=e,this.cursorSvg=this.cursor=null,this.markers=new Map,this.markerSvg=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(t)t.dispose(),this.markers.delete(e);else throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor&&this.cursor.getDrawer()&&this.cursor.getDrawer().dispose(),(this.cursor=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor),this.cursor.setDrawer(e),this.setCursorSvg(this.cursor.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t=0,r;r=e[t];t++)this.unregisterMarker(r);this.markers.clear(),this.cursor&&(this.cursor.dispose(),this.cursor=null)}};ol.LOCAL_MARKER="local_marker_1";var nu={};nu.commonWordPrefix=Eh,nu.commonWordSuffix=bh,nu.isNumber=o.isNumber$$module$build$src$core$utils$string,nu.shortestStringLength=Nu,nu.wrap=o.wrap$$module$build$src$core$utils$string;var kc=void 0,ru=!1,bo=!1,Oc=50,Op=0,yo=0,ad=0,Rc=0,tr=null,sl=null,iu=0,dd=10,Yf=10,Lc=750,hd=5,Gt=null,wr={HOVER_MS:Lc,LIMIT:Oc,MARGINS:hd,OFFSET_X:iu,OFFSET_Y:dd,RADIUS_OK:Yf};wr.bindMouseEvents=Rl,wr.block=Ll,wr.createDom=Ch,wr.dispose=Os,wr.getCustomTooltip=vh,wr.getDiv=Ih,wr.getTooltipOfObject=ws,wr.hide=oo,wr.isVisible=Sh,wr.setCustomTooltip=yh,wr.unbindMouseEvents=sa,wr.unblock=Oh;var ou=.45,i=.65,s={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},a={};a.blend=Zr,a.getHsvSaturation=ca,a.getHsvValue=Dh,a.hexToRgb=aa,a.hsvToHex=lr,a.hueToHex=da,a.names=s,a.parse=Rs,a.rgbToHex=Mu,a.setHsvSaturation=Ah,a.setHsvValue=Lf;var p={};p.checkMessageReferences=pa,p.parseBlockColour=Al,p.replaceMessageReferences=Xt,p.tokenizeInterpolation=ha;var f=class{constructor(e,t,r){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg=this.cursorSvg=this.tooltip=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Ee(0,0),e!==f.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(Xt(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=le(K.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip),this.bindEvents_(),this.initModel(),this.applyColour())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=le(K.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=le(K.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");Rl(e),this.mouseDownWrapper=Ge(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return e=this.saveLegacyState(f),e!==null?e:this.getValue()}loadState(e){this.loadLegacyState(f,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?(e=o.createElement$$module$build$src$core$utils$xml("field"),e.setAttribute("name",this.name||""),bl(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml?(this.fromXml(o.textToDom$$module$build$src$core$utils$xml(t)),!0):!1}dispose(){oa(this),Ci(this);let e;(e=this.getSourceBlock())!=null&&e.isDeadOrDying()||j(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(Be(e,"blocklyEditableText"),S(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(Be(e,"blocklyNonEditableText"),S(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==f.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();e=e!==void 0?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING;let r=2*e,u=t.FIELD_TEXT_HEIGHT,d=0;this.textElement_&&(d=Ar(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),r+=d),this.isFullBlockField()||(u=Math.max(u,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=u,this.size_.width=r,this.positionTextElement_(e,d),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var r=this.getConstants(),u=this.size_.height/2,d;this.textElement_.setAttribute("x",String((d=this.getSourceBlock())!=null&&d.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(r.FIELD_TEXT_BASELINE_CENTER?u:u-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new Ee(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new $;if(this.isFullBlockField()){var r=this.sourceBlock_.getHeightWidth();const u=t.workspace.scale;e=this.getAbsoluteXY_(),t=(r.width+1)*u,r=(r.height+1)*u,$p?(e.x+=1.5*u,e.y+=1.5*u):(e.x-=.5*u,e.y-=.5*u)}else r=this.borderRect_.getBoundingClientRect(),e=ir(this.borderRect_),t=r.width,r=r.height;return new ft(e.y,e.y+r,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,f.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e):f.NBSP}getText(){const e=this.getText_();return String(e!==null?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_.queueRender()}setValue(e,t=!0){if(e!==null){var r=o.getGroup$$module$build$src$core$events$utils();r||o.setGroup$$module$build$src$core$events$utils(!0);try{const ae=this.doClassValidation_(e),xe=this.processValidation(e,ae,t);if(!(xe instanceof Error)){var u,d=(u=this.getValidator())==null?void 0:u.call(this,xe),g=this.processValidation(xe,d,t);if(!(g instanceof Error)){var y=this.sourceBlock_;if(!y||!y.disposed){var B=this.getValue();B===g?this.doValueUpdate_(g):(this.doValueUpdate_(g),t&&y&&Le()&&pe(new(C(te.BLOCK_CHANGE))(y,"field",this.name||null,B,g)),this.isDirty_&&this.forceRerender())}}}}finally{o.setGroup$$module$build$src$core$events$utils(r)}}}processValidation(e,t,r){return t===null?(this.doValueInvalid_(e,r),this.isDirty_&&this.forceRerender(),Error()):t===void 0?e:t}getValue(){return this.value_}doClassValidation_(e){return e??null}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e,t){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||e===""||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip=e}getTooltip(){const e=this.getClickTarget_();return ws(e||{tooltip:this.tooltip})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return ir(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new $;const r=t.inputList;for(let u=0;u<t.inputList.length;u++){const d=r[u],g=d.fieldRow;for(let y=0;y<g.length;y++)if(g[y]===this){e=d;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg=e}else this.cursorSvg=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg=e}else this.markerSvg=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new $;e=e.workspace,e.keyboardAccessibilityMode&&this.cursorSvg&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg&&e.getMarker(ol.LOCAL_MARKER).draw()}static fromJson(e){throw Error("Attempted to instantiate a field from the registry that hasn't defined a 'fromJson' method.")}};f.NBSP="",f.SKIP_SETUP=Symbol("SKIP_SETUP");var $=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},b=null,x=null,V=null,ie="blocklyWidgetDiv",Te="",ye="",_e,De={};De.createDom=Pu,De.getDiv=Ls,De.hide=Ho,De.hideIfOwner=Ci,De.hideIfOwnerIsInWorkspace=wi,De.isVisible=fa,De.positionWithAnchor=ga,De.repositionForWindowResize=ma,De.show=Uo,De.testOnly_setDiv=As;var He=null,je={},Wt=null,q={};q.callbackFactory=o.callbackFactory$$module$build$src$core$contextmenu,q.dispose=Ds,q.getCurrentBlock=xh,q.hide=Uu,q.setCurrentBlock=$a,q.show=Dl;var U=class{constructor(){this.registeredItems=new Map,this.reset()}reset(){this.registeredItems.clear()}register(e){if(this.registeredItems.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registeredItems.set(e.id,e)}unregister(e){if(!this.registeredItems.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registeredItems.delete(e)}getItem(e){let t;return(t=this.registeredItems.get(e))!=null?t:null}getContextMenuOptions(e,t){const r=[];for(const d of this.registeredItems.values())if(e===d.scopeType){var u=d.preconditionFn(t);u!=="hidden"&&(u={text:typeof d.displayText=="function"?d.displayText(t):d.displayText,enabled:u==="enabled",callback:d.callback,scope:t,weight:d.weight},r.push(u))}return r.sort(function(d,g){return d.weight-g.weight}),r}};(function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",t.COMMENT="comment",e.registry=new e})(U),U.ScopeType;var Z=50,Ce=100,Xe={BLOCK:Z,BUBBLE:Ce},Ye=class{constructor(e){this.comment=e,this.startLoc=null,this.inGroup=!1,this.workspace=e.workspace}isMovable(){return this.comment.isOwnMovable()&&!this.comment.isDeadOrDying()&&!this.workspace.options.readOnly}startDrag(){(this.inGroup=!!o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.comment.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.comment),this.comment.setDragging(!0)}drag(e){this.comment.moveDuringDrag(e)}endDrag(){this.fireDragEndEvent(),this.fireMoveEvent();let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.comment,Z),this.comment.setDragging(!1),this.comment.snapToGrid(),this.workspace.setResizesEnabled(!0),this.inGroup||o.setGroup$$module$build$src$core$events$utils(!1)}fireDragStartEvent(){const e=new(C(te.COMMENT_DRAG))(this.comment,!0);pe(e)}fireDragEndEvent(){const e=new(C(te.COMMENT_DRAG))(this.comment,!1);pe(e)}fireMoveEvent(){if(!this.comment.isDeadOrDying()){var e=new(C(te.COMMENT_MOVE))(this.comment);e.setReason(["drag"]),e.oldCoordinate_=this.startLoc,e.recordNew(),pe(e)}}revertDrag(){this.startLoc&&this.comment.moveDuringDrag(this.startLoc)}},Je=new WeakMap,Ze=class{constructor(e){this.workspace=e,this.size=new Ee(120,100),this.collapsed=!1,this.editable=!0,this.location=new be(0,0),this.text="",this.textChangeListeners=[],this.sizeChangeListeners=[],this.disposeListeners=[],this.collapseChangeListeners=[],this.resizePointerMoveListener=this.resizePointerUpListener=null,this.disposed=this.disposing=!1,this.svgRoot=le(K.G,{class:"blocklyComment blocklyEditable blocklyDraggable"}),this.highlightRect=this.createHighlightRect(this.svgRoot),{topBarGroup:this.topBarGroup,topBarBackground:this.topBarBackground,deleteIcon:this.deleteIcon,foldoutIcon:this.foldoutIcon,textPreview:this.textPreview,textPreviewNode:this.textPreviewNode}=this.createTopBar(this.svgRoot,e),{foreignObject:this.foreignObject,textArea:this.textArea}=this.createTextArea(this.svgRoot),this.resizeHandle=this.createResizeHandle(this.svgRoot,e);let t;(t=e.getLayerManager())==null||t.append(this,Z),this.setSizeWithoutFiringEvents(this.size),this.moveTo(new be(0,0))}createHighlightRect(e){return le(K.RECT,{class:"blocklyCommentHighlight"},e)}createTopBar(e,t){e=le(K.G,{class:"blocklyCommentTopbar"},e);const r=le(K.RECT,{class:"blocklyCommentTopbarBackground"},e),u=le(K.IMAGE,{class:"blocklyDeleteIcon",href:`${t.options.pathToMedia}delete-icon.svg`},e);t=le(K.IMAGE,{class:"blocklyFoldoutIcon",href:`${t.options.pathToMedia}foldout-icon.svg`},e);const d=le(K.TEXT,{class:"blocklyCommentPreview blocklyCommentText blocklyText"},e),g=document.createTextNode("");return d.appendChild(g),Ge(t,"pointerdown",this,this.onFoldoutDown),Ge(u,"pointerdown",this,this.onDeleteDown),{topBarGroup:e,topBarBackground:r,deleteIcon:u,foldoutIcon:t,textPreview:d,textPreviewNode:g}}createTextArea(e){e=le(K.FOREIGNOBJECT,{class:"blocklyCommentForeignObject"},e);const t=document.createElementNS(ai,"body");t.setAttribute("xmlns",ai),t.className="blocklyMinimalBody";const r=document.createElementNS(ai,"textarea");return Be(r,"blocklyCommentText"),Be(r,"blocklyTextarea"),Be(r,"blocklyText"),t.appendChild(r),e.appendChild(t),Ge(r,"change",this,this.onTextChange),{foreignObject:e,textArea:r}}createResizeHandle(e,t){return e=le(K.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),Ge(e,"pointerdown",this,this.onResizePointerDown),e}getSvgRoot(){return this.svgRoot}getSize(){return this.collapsed?this.topBarBackground.getBBox():this.size}setSizeWithoutFiringEvents(e){const t=this.topBarBackground.getBBox(),r=this.deleteIcon.getBBox(),u=this.foldoutIcon.getBBox(),d=this.textPreview.getBBox(),g=this.resizeHandle.getBBox();this.size=e=Ee.max(e,this.calcMinSize(t,u,r)),this.svgRoot.setAttribute("height",`${e.height}`),this.svgRoot.setAttribute("width",`${e.width}`),this.updateHighlightRect(e),this.updateTopBarSize(e),this.updateTextAreaSize(e,t),this.updateDeleteIconPosition(e,t,r),this.updateFoldoutIconPosition(t,u),this.updateTextPreviewSize(e,t,d,r,g),this.updateResizeHandlePosition(e,g)}setSize(e){const t=this.preResizeSize||this.size;this.setSizeWithoutFiringEvents(e),this.onSizeChange(t,this.size)}calcMinSize(e,t,r){var u;this.updateTextPreview((u=this.textArea.value)!=null?u:""),u=to(this.textPreview);const d=this.calcFoldoutMargin(e,t),g=this.calcDeleteMargin(e,r);let y=u;return this.foldoutIcon.checkVisibility()?y+=t.width+2*d:u&&(y+=4),this.deleteIcon.checkVisibility()?y+=r.width+2*g:u&&(y+=4),new Ee(y,e.height+20)}calcDeleteMargin(e,t){return(e.height-t.height)/2}calcFoldoutMargin(e,t){return(e.height-t.height)/2}updateHighlightRect(e){this.highlightRect.setAttribute("height",`${e.height}`),this.highlightRect.setAttribute("width",`${e.width}`),this.workspace.RTL&&this.highlightRect.setAttribute("x",`${-e.width}`)}updateTopBarSize(e){this.topBarBackground.setAttribute("width",`${e.width}`)}updateTextAreaSize(e,t){this.foreignObject.setAttribute("height",`${e.height-t.height}`),this.foreignObject.setAttribute("width",`${e.width}`),this.foreignObject.setAttribute("y",`${t.height}`),this.workspace.RTL&&this.foreignObject.setAttribute("x",`${-e.width}`)}updateDeleteIconPosition(e,t,r){t=this.calcDeleteMargin(t,r),this.deleteIcon.setAttribute("y",`${t}`),this.deleteIcon.setAttribute("x",`${e.width-r.width-t}`)}updateFoldoutIconPosition(e,t){e=this.calcFoldoutMargin(e,t),this.foldoutIcon.setAttribute("y",`${e}`),this.foldoutIcon.setAttribute("x",`${e}`)}updateTextPreviewSize(e,t,r,u,d){const g=(t.height-r.height)/2,y=this.calcDeleteMargin(t,u);t=this.calcFoldoutMargin(t,d),e=e.width-d.width-2*t-u.width-2*y,this.textPreview.setAttribute("x",`${d.width+2*t*(this.workspace.RTL?-1:1)}`),this.textPreview.setAttribute("y",`${g+r.height/2}`),this.textPreview.setAttribute("width",`${e}`)}updateResizeHandlePosition(e,t){this.resizeHandle.setAttribute("y",`${e.height-t.height}`),this.resizeHandle.setAttribute("x",`${e.width-t.width}`)}onSizeChange(e,t){for(let r=this.sizeChangeListeners.length-1;0<=r;r--)this.sizeChangeListeners[r](e,t)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}removeSizeChangeListener(e){this.sizeChangeListeners.splice(this.sizeChangeListeners.indexOf(e),1)}onResizePointerDown(e){this.isEditable()&&(this.bringToFront(),kn(e)||(this.preResizeSize=this.getSize(),Hu(this.workspace,e,new be(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=Ge(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=Ge(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation())}onResizePointerUp(e){Qt(),this.resizePointerUpListener&&(it(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(it(this.resizePointerMoveListener),this.resizePointerMoveListener=null),this.setSize(this.size),this.preResizeSize=void 0}onResizePointerMove(e){e=Vu(this.workspace,e),this.setSizeWithoutFiringEvents(new Ee(this.workspace.RTL?-e.x:e.x,e.y))}isCollapsed(){return this.collapsed}setCollapsed(e){(this.collapsed=e)?Be(this.svgRoot,"blocklyCollapsed"):S(this.svgRoot,"blocklyCollapsed"),this.setSizeWithoutFiringEvents(this.size),this.onCollapse()}onCollapse(){for(let e=this.collapseChangeListeners.length-1;0<=e;e--)this.collapseChangeListeners[e](this.collapsed)}addOnCollapseListener(e){this.collapseChangeListeners.push(e)}removeOnCollapseListener(e){this.collapseChangeListeners.splice(this.collapseChangeListeners.indexOf(e),1)}onFoldoutDown(e){Qt(),this.bringToFront(),kn(e)||(this.setCollapsed(!this.collapsed),this.workspace.hideChaff()),e.stopPropagation()}isEditable(){return this.editable}setEditable(e){(this.editable=e)?(Be(this.svgRoot,"blocklyEditable"),S(this.svgRoot,"blocklyReadonly"),this.textArea.removeAttribute("readonly")):(S(this.svgRoot,"blocklyEditable"),Be(this.svgRoot,"blocklyReadonly"),this.textArea.setAttribute("readonly","true"))}getRelativeToSurfaceXY(){return this.location}moveTo(e){this.location=e,this.svgRoot.setAttribute("transform",`translate(${e.x}, ${e.y})`)}getText(){return this.text}setText(e){this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}removeTextChangeListener(e){this.textChangeListeners.splice(this.textChangeListeners.indexOf(e),1)}onTextChange(){const e=this.text;this.text=this.textArea.value,this.updateTextPreview(this.text),this.setSize(this.size);for(let t=this.textChangeListeners.length-1;0<=t;t--)this.textChangeListeners[t](e,this.text)}updateTextPreview(e){this.textPreviewNode.textContent=this.truncateText(e)}truncateText(e){return 12<=e.length?`${e.substring(0,9)}...`:e}bringToFront(){const e=this.svgRoot.parentNode,t=e.childNodes;t[t.length-1]!==this.svgRoot&&e.appendChild(this.svgRoot)}onDeleteDown(e){Qt(),kn(e)||this.dispose(),e.stopPropagation()}dispose(){this.disposing=!0,j(this.svgRoot);for(let e=this.disposeListeners.length-1;0<=e;e--)this.disposeListeners[e]();this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}addDisposeListener(e){this.disposeListeners.push(e)}removeDisposeListener(e){this.disposeListeners.splice(this.disposeListeners.indexOf(e),1)}};Pn(`
.injectionDiv {
  --commentFillColour: #FFFCC7;
  --commentBorderColour: #F2E49B;
}

.blocklyComment .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 1px solid var(--commentBorderColour);
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}

.blocklyReadonly.blocklyComment .blocklyTextarea {
  cursor: inherit;
}

.blocklyDeleteIcon {
  width: 20px;
  height: 20px;
  display: none;
  cursor: pointer;
}

.blocklyFoldoutIcon {
  width: 20px;
  height: 20px;
  transform-origin: 12px 12px;
  cursor: pointer;
}
.blocklyResizeHandle {
  width: 12px;
  height: 12px;
  cursor: se-resize;
}
.blocklyReadonly.blocklyComment .blocklyResizeHandle {
  cursor: inherit;
}

.blocklyCommentTopbarBackground {
  fill: var(--commentBorderColour);
  height: 24px;
}

.blocklyComment .blocklyCommentPreview.blocklyText {
  fill: #000;
  dominant-baseline: middle;
  visibility: hidden;
}

.blocklyCollapsed.blocklyComment .blocklyCommentPreview {
  visibility: visible;
}

.blocklyCollapsed.blocklyComment .blocklyCommentForeignObject,
.blocklyCollapsed.blocklyComment .blocklyResizeHandle {
  display: none;
}

.blocklyCollapsed.blocklyComment .blocklyFoldoutIcon {
  transform: rotate(-90deg);
}

.blocklyRTL .blocklyCommentTopbar {
  transform: scale(-1, 1);
}

.blocklyRTL .blocklyCommentForeignObject {
  direction: rtl;
}

.blocklyRTL .blocklyCommentPreview {
  /* Revert the scale and control RTL using direction instead. */
  transform: scale(-1, 1);
  direction: rtl;
}

.blocklyRTL .blocklyResizeHandle {
  transform: scale(-1, 1);
  cursor: sw-resize;
}

.blocklyCommentHighlight {
  fill: none;
}

.blocklySelected .blocklyCommentHighlight {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCollapsed.blocklySelected .blocklyCommentHighlight {
  stroke: none;
}

.blocklyCollapsed.blocklySelected .blocklyCommentTopbarBackground {
  stroke: #fc3;
  stroke-width: 3px;
}
`);var un=class{constructor(e,t){this.workspace=e,this.text="",this.size=new Ee(120,100),this.collapsed=!1,this.deletable=this.movable=this.editable=!0,this.location=new be(0,0),this.disposing=this.disposed=!1,this.id=t&&!e.getCommentById(t)?t:P(),e.addTopComment(this),this.fireCreateEvent()}fireCreateEvent(){Le()&&pe(new(C(te.COMMENT_CREATE))(this))}fireDeleteEvent(){Le()&&pe(new(C(te.COMMENT_DELETE))(this))}fireChangeEvent(e,t){Le()&&pe(new(C(te.COMMENT_CHANGE))(this,e,t))}fireCollapseEvent(e){Le()&&pe(new(C(te.COMMENT_COLLAPSE))(this,e))}setText(e){const t=this.text;this.text=e,this.fireChangeEvent(t,e)}getText(){return this.text}setSize(e){const t=new(C(te.COMMENT_RESIZE))(this);this.size=e,t.recordCurrentSizeAsNewSize(),pe(t)}getSize(){return this.size}setCollapsed(e){this.collapsed=e,this.fireCollapseEvent(e)}isCollapsed(){return this.collapsed}setEditable(e){this.editable=e}isEditable(){return this.isOwnEditable()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setMovable(e){this.movable=e}isMovable(){return this.isOwnMovable()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setDeletable(e){this.deletable=e}isDeletable(){return this.isOwnDeletable()&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}moveTo(e,t){const r=new(C(te.COMMENT_MOVE))(this);t&&r.setReason(t),this.location=e,r.recordNew(),pe(r)}getRelativeToSurfaceXY(){return this.location}dispose(){this.disposing=!0,this.fireDeleteEvent(),this.workspace.removeTopComment(this),this.disposed=!0}isDisposed(){return this.disposed}isDeadOrDying(){return this.disposing||this.disposed}},ot=class extends un{constructor(e,t){super(e,t),this.dragStrategy=new Ye(this),this.workspace=e,this.view=new Ze(e),this.view.setSize(this.getSize()),this.view.setEditable(this.isEditable()),this.view.getSvgRoot().setAttribute("data-id",this.id),this.addModelUpdateBindings(),Ge(this.view.getSvgRoot(),"pointerdown",this,this.startGesture),Ge(this.view.getSvgRoot(),"wheel",this,r=>{r.stopPropagation()})}addModelUpdateBindings(){this.view.addTextChangeListener((e,t)=>void super.setText(t)),this.view.addSizeChangeListener((e,t)=>void super.setSize(t)),this.view.addOnCollapseListener(()=>void super.setCollapsed(this.view.isCollapsed())),this.view.addDisposeListener(()=>{this.isDeadOrDying()||this.dispose()})}setText(e){this.view.setText(e)}setSize(e){this.view.setSize(e)}setCollapsed(e){this.view.setCollapsed(e)}setEditable(e){super.setEditable(e),this.view.setEditable(this.isEditable())}getSvgRoot(){return this.view.getSvgRoot()}getSize(){return super.getSize()}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY();var t,r;const u=(r=(t=this.view)==null?void 0:t.getSize())!=null?r:this.getSize();return this.workspace.RTL?(t=e.x-u.width,r=e.x):(t=e.x,r=e.x+u.width),new ft(e.y,e.y+u.height,t,r)}moveBy(e,t,r){const u=this.getRelativeToSurfaceXY();e=new be(u.x+e,u.y+t),this.moveTo(e,r)}moveTo(e,t){super.moveTo(e,t),this.view.moveTo(e)}moveDuringDrag(e){this.location=e,this.view.moveTo(e)}setDragging(e){e?Be(this.getSvgRoot(),"blocklyDragging"):S(this.getSvgRoot(),"blocklyDragging")}dispose(){this.disposing=!0,this.view.isDeadOrDying()||this.view.dispose(),super.dispose()}startGesture(e){const t=this.workspace.getGesture(e);if(t){t.handleCommentStart(e,this);let r;(r=this.workspace.getLayerManager())==null||r.append(this,Z),o.setSelected$$module$build$src$core$common(this)}}setDeleteStyle(e){e?Be(this.getSvgRoot(),"blocklyDraggingDelete"):S(this.getSvgRoot(),"blocklyDraggingDelete")}isMovable(){return this.dragStrategy.isMovable()}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){Be(this.getSvgRoot(),"blocklySelected")}unselect(){S(this.getSvgRoot(),"blocklySelected")}toCopyData(){return{paster:nn.TYPE,commentState:_s(this,{addCoordinates:!0})}}showContextMenu(e){const t=U.registry.getContextMenuOptions(U.ScopeType.COMMENT,{comment:this});Dl(e,t,this.workspace.RTL,this.workspace)}snapToGrid(){if(!this.isDeadOrDying()){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}},Jt={};Jt.appendDomToWorkspace=Hh,Jt.blockToDom=Mr,Jt.blockToDomWithXY=lo,Jt.clearWorkspaceAndLoadFromXml=Df,Jt.deleteNext=Vh,Jt.domToBlock=o.domToBlock$$module$build$src$core$xml,Jt.domToBlockInternal=ki,Jt.domToPrettyText=Fh,Jt.domToText=Xn,Jt.domToVariables=xl,Jt.domToWorkspace=o.domToWorkspace$$module$build$src$core$xml,Jt.loadWorkspaceComment=Uh,Jt.saveWorkspaceComment=Ns,Jt.variablesToDom=Nl,Jt.workspaceToDom=Rt;var Rp=class extends Vr{constructor(e){super(e),this.type=te.BLOCK_CREATE,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=lo(e),this.ids=X(e),this.json=On(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Xn(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Rp),t.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!eS(t,this.ids))if(e)Si(this.json,t);else for(e=0;e<this.ids.length;e++){const r=this.ids[e],u=t.getBlockById(r);u?u.dispose(!1):r===this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},eS=function(e,t){return t.map(r=>e.getBlockById(r)).filter(r=>r&&r.isShadow()).length===t.length};c($e.EVENT,te.BLOCK_CREATE,Rp);var Cm=class extends Ur{constructor(e,t){super(t),this.type=te.THEME_CHANGE,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Cm),t.themeName=e.themeName,t}};c($e.EVENT,te.THEME_CHANGE,Cm);var wm=class extends Ur{constructor(e,t,r,u,d){super(u),this.type=te.VIEWPORT_CHANGE,this.viewTop=e,this.viewLeft=t,this.scale=r,this.oldScale=d}toJson(){const e=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new wm),t.viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};c($e.EVENT,te.VIEWPORT_CHANGE,wm);var Pe;(function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Pe||(Pe={}));var pd=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const r=this.calculateIndexForYPos(t);if(r>=this.connections.length)return-1;t=e.y;let u=r;for(;0<=u&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u--}for(u=r;u<this.connections.length&&this.connections[u].y===t;){if(this.connections[u]===e)return u;u++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,r=this.connections.length;for(;t<r;){const u=Math.floor((t+r)/2);if(this.connections[u].y<e)t=u+1;else if(this.connections[u].y>e)r=u;else{t=u;break}}return t}removeConnection(e,t){if(e=this.findIndexOfConnection(e,t),e===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function r(xe){const Bt=d-u[xe].x,Nt=g-u[xe].y;return Math.sqrt(Bt*Bt+Nt*Nt)<=t&&ae.push(u[xe]),Nt<t}const u=this.connections,d=e.x,g=e.y;e=0;let y=u.length-2,B=y;for(;e<B;)u[B].y<g?e=B:y=B,B=Math.floor((e+y)/2);const ae=[];if(y=e=B,u.length){for(;0<=e&&r(e);)e--;do y++;while(y<u.length&&r(y))}return ae}isInYRange(e,t,r){return Math.abs(this.connections[e].y-t)<=r}searchForClosest(e,t,r){if(!this.connections.length)return{connection:null,radius:t};const u=e.y,d=e.x;e.x=d+r.x,e.y=u+r.y;var g=this.calculateIndexForYPos(e.y);r=null;let y=t,B,ae=g-1;for(;0<=ae&&this.isInYRange(ae,e.y,t);)B=this.connections[ae],this.connectionChecker.canConnect(e,B,!0,y)&&(r=B,y=B.distanceFrom(e)),ae--;for(;g<this.connections.length&&this.isInYRange(g,e.y,t);)B=this.connections[g],this.connectionChecker.canConnect(e,B,!0,y)&&(r=B,y=B.distanceFrom(e)),g++;return e.x=d,e.y=u,{connection:r,radius:y}}static init(e){const t=[];return t[Pe.INPUT_VALUE]=new pd(e),t[Pe.OUTPUT_VALUE]=new pd(e),t[Pe.NEXT_STATEMENT]=new pd(e),t[Pe.PREVIOUS_STATEMENT]=new pd(e),t}},Jf=null,Lp=null,Ap={};Ap.connectionUiEffect=xr,Ap.disconnectUiEffect=Gu,Ap.disconnectUiStop=Bl,Ap.disposeUiEffect=$r;var Z_=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled=this.workspace.isMovableVertically(),this.startScrollXY_=new be(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){Oe()&&Oe().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=be.sum(this.startScrollXY_,e),this.horizontalScrollEnabled&&this.verticalScrollEnabled)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled)this.workspace.scroll(e.x,this.workspace.scrollY);else if(this.verticalScrollEnabled)this.workspace.scroll(this.workspace.scrollX,e.y);else throw new TypeError("Invalid state.")}},tS=5,nS=6,ll=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new be(0,0),this.startWorkspace_=this.targetBlock=this.startComment=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.workspaceDragger=this.dragger=null,this.dragging=!1,this.flyout=null,this.multiTouch=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new be(0,0)}dispose(){Qt(),Oh(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)it(e);this.boundEvents.length=0,this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new be(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(e),wn()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=be.difference(e,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=be.magnitude(this.currentDragDeltaXY)>(this.flyout?o.config$$module$build$src$core$config.flyoutDragRadius:o.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||(e=this.flyout)==null||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),o.setSelected$$module$build$src$core$common(this.targetBlock),!0):!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.dragging=!0,this.workspaceDragger=new Z_(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(e){if(!this.startWorkspace_)throw Error("Cannot update dragging because the start workspace is undefined");if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.flyout&&this.updateIsDraggingFromFlyout();const t=Oe();t&&_r(t)&&t.isMovable()?(this.dragging=!0,this.dragger=this.createDragger(t,this.startWorkspace_),this.dragger.onDragStart(e),this.dragger.onDrag(e,this.currentDragDeltaXY)):this.updateIsDraggingWorkspace()}createDragger(e,t){return new(w($e.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(e,t)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,Yr(e)?this.cancel():(this.gestureHasStarted=!0,Bl(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=ch(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,Ll(),kn(e)?this.handleRightClick(e):(e.type.toLowerCase()==="pointerdown"&&e.pointerType!=="mouse"&&Zi(e,this),this.mouseDownXY=new be(e.clientX,e.clientY),this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(Ge(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(Ge(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(Ge(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&wn())}handleMove(e){this.isDragging()&&Kr(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),wn())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!Kr(e))return;if(this.updateFromEvent(e),wn(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.dragger?this.dragger.onDragEnd(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()||this.isCommentClick()||(this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e))}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=pr(e);this.cachedPoints.set(t,this.getTouchPoint(e));var r=Array.from(this.cachedPoints.keys());r.length===2&&(t=this.cachedPoints.get(r[0]),r=this.cachedPoints.get(r[1]),this.startDistance=be.distance(t,r),this.multiTouch=!0,e.preventDefault())}handleTouchMove(e){const t=pr(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(e):(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.dragger&&this.dragger.onDrag(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation())}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),r=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),r=be.distance(r,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=r-this.previousScale,t=0<t?t*tS:t*nS,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const u=this.startWorkspace_,d=$n(e,u.getParentSvg(),u.getInverseScreenCTM());u.zoom(d.x,d.y,t)}this.previousScale=r,e.preventDefault()}handleTouchEnd(e){e=pr(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new be(e.pageX,e.pageY):null}isMultiTouch(){return this.multiTouch}cancel(){this.isEnding_||(wn(),this.dragger?this.dragger.onDragEnd(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startComment?(this.startComment.workspace.hideChaff(),this.startComment.showContextMenu(e)):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.startBlock||this.startBubble||this.startComment||o.setSelected$$module$build$src$core$common(null),this.doStart(e)}fireWorkspaceClick(e){pe(new(C(te.CLICK))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}handleCommentStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleCommentStart, but the gesture had already been started.");this.setStartComment(t),this.mostRecentEvent=e}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");if(this.targetBlock.isEnabled()){o.getGroup$$module$build$src$core$events$utils()||o.setGroup$$module$build$src$core$events$utils(!0);var e=this.flyout.createBlock(this.targetBlock);e.snapToGrid(),e.bumpNeighbours()}}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");e=new(C(te.CLICK))(this.startBlock,this.startWorkspace_.id,"block"),pe(e)}this.bringBlockToFront(),o.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,Oe()&&Oe().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartComment(e){this.startComment||(this.startComment=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,o.setSelected$$module$build$src$core$common(this.startBlock),e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isCommentClick(){return!!this.startComment&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return this.startField?this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose)):!1}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}getCurrentDragger(){let e,t;return(t=(e=this.workspaceDragger)!=null?e:this.dragger)!=null?t:null}isDragging(){return this.dragging}hasStarted(){return this.gestureHasStarted}static inProgress(){const e=R();for(let t=0,r;r=e[t];t++)if(r.currentGesture_)return!0;return!1}},km=class{constructor(e,t){this.pattern=e,this.scale=1;let r;this.spacing=(r=t.spacing)!=null?r:0;let u;this.length=(u=t.length)!=null?u:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling;let d;this.snapToGrid=(d=t.snap)!=null?d:!1}setSpacing(e){this.spacing=e,this.update(this.scale)}getSpacing(){return this.spacing}setLength(e){this.length=e,this.update(this.scale)}getLength(){return this.length}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`),t=Math.floor(this.spacing/2)+.5;let r=t-this.length/2,u=t+this.length/2;t*=e,r*=e,u*=e,this.setLineAttributes(this.line1,e,r,u,t,t),this.setLineAttributes(this.line2,e,t,t,r,u)}setLineAttributes(e,t,r,u,d,g){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${r}`),e.setAttribute("y1",`${d}`),e.setAttribute("x2",`${u}`),e.setAttribute("y2",`${g}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}alignXY(e){var t=this.getSpacing();const r=t/2,u=Math.round(Math.round((e.x-r)/t)*t+r);return t=Math.round(Math.round((e.y-r)/t)*t+r),u===e.x&&t===e.y?e:new be(u,t)}static createDom(e,t,r){e=le(K.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},r);let u,d;if(0<((u=t.length)!=null?u:1)&&0<((d=t.spacing)!=null?d:0)){le(K.LINE,{stroke:t.colour},e);let g;(g=t.length)!=null&&g&&le(K.LINE,{stroke:t.colour},e)}else le(K.LINE,{},e);return e}},rS=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e),this.animationLayer=this.createAnimationLayer(e)),e=this.createLayer(Z),Be(e,"blocklyBlockCanvas"),e=this.createLayer(Ce),Be(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=le(K.SVG,{class:"blocklyBlockDragSurface",xmlns:zs,"xmlns:html":ai,"xmlns:xlink":dr,version:"1.1"});return e.append(t),le(K.G,{},t)}createAnimationLayer(e){const t=le(K.SVG,{class:"blocklyAnimationLayer",xmlns:zs,"xmlns:html":ai,"xmlns:xlink":dr,version:"1.1"});return e.append(t),le(K.G,{},t)}appendToAnimationLayer(e){let t;const r=(t=this.dragLayer)==null?void 0:t.getAttribute("transform");if(r){let d;(d=this.animationLayer)==null||d.setAttribute("transform",r)}let u;(u=this.animationLayer)==null||u.appendChild(e.getSvgRoot())}translateLayers(e,t){e=`translate(${e.x}, ${e.y}) scale(${t})`;let r;(r=this.dragLayer)==null||r.setAttribute("transform",e);for(const[,u]of this.layers)u.setAttribute("transform",e)}moveToDragLayer(e){let t;(t=this.dragLayer)==null||t.appendChild(e.getSvgRoot())}moveOffDragLayer(e,t){this.append(e,t)}append(e,t){this.layers.has(t)||this.createLayer(t);let r;(r=this.layers.get(t))==null||r.appendChild(e.getSvgRoot())}createLayer(e){const t=this.workspace.getSvgGroup(),r=le(K.G,{});let u=!1;const d=[...this.layers].sort((g,y)=>g[0]-y[0]);for(const[g,y]of d)if(e<g){t.insertBefore(r,y),u=!0;break}return u||t.appendChild(r),this.layers.set(e,r),r}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(Z)}getBubbleLayer(){return this.layers.get(Ce)}},eT={};eT.deepMerge=Tr;var Ac=class{constructor(e,t,r,u){this.name=e,this.startHats=!1,this.blockStyles=t||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=u||Object.create(null),this.fontStyle=Object.create(null),c($e.THEME,e,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(e=this.componentStyles[e],!e)return null;if(typeof e=="string"){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const r=new Ac(e);let u=t.base;if(u){if(typeof u=="string"){let d;u=(d=I($e.THEME,u))!=null?d:void 0}u instanceof Ac&&(Tr(r,u),r.name=e)}return Tr(r.blockStyles,t.blockStyles),Tr(r.categoryStyles,t.categoryStyles),Tr(r.componentStyles,t.componentStyles),Tr(r.fontStyle,t.fontStyle),t.startHats!==null&&(r.startHats=t.startHats),r}},iS={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},oS={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},qf=new Ac("classic",iS,oS),Gi=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,r=!1;var u=!1,d=!1,g=!1,y=!1,B=!1;const ae=!!e.readOnly;if(!ae){var xe;t=mu((xe=e.toolbox)!=null?xe:null),r=_u(t),u=e.trashcan,u=u===void 0?r:u,d=e.collapse,d=d===void 0?r:d,g=e.comments,g=g===void 0?r:g,y=e.disable,y=y===void 0?r:y,B=e.sounds,B=B===void 0?!0:B}xe=e.maxTrashcanContents,u?xe===void 0&&(xe=32):xe=0;const Bt=!!e.rtl;let Nt=e.horizontalLayout;Nt===void 0&&(Nt=!1);var jr=e.toolboxPosition!=="end";jr=Nt?jr?Ke.TOP:Ke.BOTTOM:jr===Bt?Ke.RIGHT:Ke.LEFT;let Sd=e.css;Sd===void 0&&(Sd=!0);let jp="https://blockly-demo.appspot.com/static/media/";e.media&&(jp=e.media.endsWith("/")?e.media:e.media+"/");const RE=e.oneBasedIndex,PS=e.renderer||"geras",BS=e.plugins||{};let T$=e.modalInputs;T$===void 0&&(T$=!0),this.RTL=Bt,this.oneBasedIndex=RE===void 0?!0:RE,this.collapse=d,this.comments=g,this.disable=y,this.readOnly=ae,this.maxBlocks=e.maxBlocks||1/0;let LE;this.maxInstances=(LE=e.maxInstances)!=null?LE:null,this.modalInputs=T$,this.pathToMedia=jp,this.hasCategories=r,this.moveOptions=Gi.parseMoveOptions(e,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=u,this.maxTrashcanContents=xe,this.hasSounds=B,this.hasCss=Sd,this.horizontalLayout=Nt,this.languageTree=t,this.gridOptions=Gi.parseGridOptions(e),this.zoomOptions=Gi.parseZoomOptions(e),this.toolboxPosition=jr,this.theme=Gi.parseThemeOptions(e),this.renderer=PS;let AE;this.rendererOverrides=(AE=e.rendererOverrides)!=null?AE:null;let DE;this.parentWorkspace=(DE=e.parentWorkspace)!=null?DE:null,this.plugins=BS}static parseMoveOptions(e,t){const r=e.move||{},u={};return r.scrollbars===void 0&&e.scrollbars===void 0?u.scrollbars=t:typeof r.scrollbars=="object"?(u.scrollbars={horizontal:!!r.scrollbars.horizontal,vertical:!!r.scrollbars.vertical},u.scrollbars.horizontal&&u.scrollbars.vertical?u.scrollbars=!0:u.scrollbars.horizontal||u.scrollbars.vertical||(u.scrollbars=!1)):u.scrollbars=!!r.scrollbars||!!e.scrollbars,u.wheel=u.scrollbars&&r.wheel!==void 0?!!r.wheel:typeof u.scrollbars=="object",u.drag=u.scrollbars?r.drag===void 0?!0:!!r.drag:!1,u}static parseZoomOptions(e){e=e.zoom||{};const t={};return t.controls=e.controls===void 0?!1:!!e.controls,t.wheel=e.wheel===void 0?!1:!!e.wheel,t.startScale=e.startScale===void 0?1:Number(e.startScale),t.maxScale=e.maxScale===void 0?3:Number(e.maxScale),t.minScale=e.minScale===void 0?.3:Number(e.minScale),t.scaleSpeed=e.scaleSpeed===void 0?1.2:Number(e.scaleSpeed),t.pinch=e.pinch===void 0?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=e.length===void 0?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions(e){return e=e.theme||qf,typeof e=="string"?I($e.THEME,e):e instanceof Ac?e:Ac.defineTheme(e.name||"builtin"+H(),e)}},tT={fromJsonInternal:Ca},Qf={TEST_ONLY:tT};Qf.fromJson=o.fromJson$$module$build$src$core$field_registry,Qf.register=Kn,Qf.unregister=Wu;var Gr=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==f.SKIP_SETUP&&(Array.isArray(e)?(this.validateOptions(e),e=this.trimOptions(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],r&&this.configure_(r),this.setValue(this.selectedOption[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Gr,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=le(K.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&Be(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((e=this.getSourceBlock())!=null&&e.isShadow())}createTextArrow_(){this.arrow=le(K.TSPAN,{},this.textElement_);let e;this.arrow.appendChild(document.createTextNode((e=this.getSourceBlock())!=null&&e.RTL?Gr.ARROW_CHAR+" ":" "+Gr.ARROW_CHAR)),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.arrow.setAttribute("dominant-baseline","central");let t;(t=this.getSourceBlock())!=null&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=le(K.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(dr,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new $;this.dropdownCreate(),this.menu_.openingCoords=e&&typeof e.clientX=="number"?new be(e.clientX,e.clientY):null,na(),e=this.menu_.render(kl()),Be(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),ah(t,this.sourceBlock_.style.colourTertiary)),dh(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&this.menu_.setHighlighted(this.selectedMenuItem),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new $;const t=new Tc;t.setRole(Sr.LISTBOX),this.menu_=t;const r=this.getOptions(!1);this.selectedMenuItem=null;for(let d=0;d<r.length;d++){const[g,y]=r[d];if(typeof g=="object"){var u=new Image(g.width,g.height);u.src=g.src,u.alt=g.alt||""}else u=g;u=new qo(u,y),u.setRole(Sr.OPTION),u.setRightToLeft(e.RTL),u.setCheckable(!0),t.addChild(u),u.setChecked(y===this.value_),y===this.value_&&(this.selectedMenuItem=u),u.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){oa(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:e&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),this.validateOptions(this.generatedOptions),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some(t=>t[1]===e)?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t=0,r;r=e[t];t++)r[1]===this.value_&&(this.selectedOption=r)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&typeof e=="object"?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new $;this.imageElement.style.display="",this.imageElement.setAttributeNS(dr,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const r=Number(e.height);e=Number(e.width);var u=!!this.borderRect_;const d=Math.max(u?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,r+Gr.IMAGE_Y_PADDING);u=u?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let g;g=this.svgArrow?this.positionSVGArrow(e+u,d/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Ar(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+g+2*u,this.size_.height=d;let y=0;t.RTL?this.imageElement.setAttribute("x",`${u+g}`):(y=e+g,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${u}`)),this.imageElement.setAttribute("y",String(d/2-r/2)),this.positionTextElement_(y+u,e+g)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();Be(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const r=Ar(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let u=0;this.svgArrow&&(u=this.positionSVGArrow(r+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=r+u+2*t,this.size_.height=e,this.positionTextElement_(t,r)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const r=this.getSourceBlock();if(!r)throw new $;const u=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,d=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,g=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(r.RTL?u:e+d)+","+t+")"),g+d}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return typeof e=="object"?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}trimOptions(e){let t=!1;const r=e.map(([y,B])=>typeof y=="string"?[Xt(y),B]:(t=!0,[y.alt!==null?Object.assign({},y,{alt:Xt(y.alt)}):Object.assign({},y),B]));if(t||2>e.length)return{options:r};var u=r.map(([y])=>y),d=Nu(u);e=Eh(u,d);const g=bh(u,d);return!e&&!g||d<=e+g?{options:r}:(d=e?u[0].substring(0,e-1):void 0,u=g?u[0].substr(1-g):void 0,{options:this.applyTrim(r,e,g),prefix:d,suffix:u})}applyTrim(e,t,r){return e.map(([u,d])=>[u.substring(t,u.length-r),d])}validateOptions(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let r=0;r<e.length;r++){const u=e[r];Array.isArray(u)?typeof u[1]!="string"?(t=!0,console.error(`Invalid option[${r}]: Each FieldDropdown option id must be a string. 
          Found ${u[1]} in: ${u}`)):u[0]&&typeof u[0]!="string"&&typeof u[0].src!="string"&&(t=!0,console.error(`Invalid option[${r}]: Each FieldDropdown option must have a string 
          label or image description. Found ${u[0]} in: ${u}`)):(t=!0,console.error(`Invalid option[${r}]: Each FieldDropdown option must be an array.
          Found: ${u}`))}if(t)throw TypeError("Found invalid FieldDropdown options.")}};Gr.CHECKMARK_OVERHANG=25,Gr.MAX_MENU_HEIGHT_VH=.45,Gr.ARROW_CHAR="",Gr.IMAGE_Y_OFFSET=5,Gr.IMAGE_Y_PADDING=2*Gr.IMAGE_Y_OFFSET,Kn("field_dropdown",Gr);var nT=class{constructor(e,t){this.bubble=e,this.workspace=t,this.startLoc=null,this.inGroup=!1}isMovable(){return!0}startDrag(){(this.inGroup=!!o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),this.startLoc=this.bubble.getRelativeToSurfaceXY(),this.workspace.setResizesEnabled(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}drag(e){this.bubble.moveDuringDrag(e)}endDrag(){this.workspace.setResizesEnabled(!0),this.inGroup||o.setGroup$$module$build$src$core$events$utils(!1);let e;(e=this.workspace.getLayerManager())==null||e.moveOffDragLayer(this.bubble,Ce),this.bubble.setDragging(!1)}revertDrag(){this.startLoc&&this.bubble.moveDuringDrag(this.startLoc)}},fi,Tt=class{constructor(e,t,r){this.workspace=e,this.anchor=t,this.ownerRect=r,this.size=new Ee(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.dragStrategy=new nT(this,this.workspace),this.id=H(),this.svgRoot=le(K.G,{class:"blocklyBubble"},e.getBubbleCanvas()),e=le(K.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=le(K.PATH,{class:"blocklyBubbleTail"},e),this.background=le(K.RECT,{class:"blocklyDraggable",x:0,y:0,rx:fi.BORDER_WIDTH,ry:fi.BORDER_WIDTH},e),this.contentContainer=le(K.G,{},this.svgRoot),Ge(this.background,"pointerdown",this,this.onMouseDown)}dispose(){j(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,fi.MIN_SIZE),e.height=Math.max(e.height,fi.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;(t=this.workspace.getGesture(e))==null||t.handleBubbleStart(e,this),this.bringToFront(),o.setSelected$$module$build$src$core$common(this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new ft(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),r=this.getOptimalRelativeLeft(t),u=this.getOptimalRelativeTop(t);const d={x:r,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},g={x:-this.size.width-30,y:u};u={x:e.getWidth(),y:u};var y={x:r,y:e.getHeight()};r=e.getWidth()<e.getHeight()?u:y,e=e.getWidth()<e.getHeight()?y:u,u=this.getOverlap(d,t),y=this.getOverlap(g,t);const B=this.getOverlap(r,t);t=this.getOverlap(e,t),t=Math.max(u,y,B,t),u===t?(this.relativeLeft=d.x,this.relativeTop=d.y):y===t?(this.relativeLeft=g.x,this.relativeTop=g.y):B===t?(this.relativeLeft=r.x,this.relativeTop=r.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var r=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(r+this.size.width,t.left+t.width)-Math.max(r,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var r=this.anchor.x-t;r-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):r>e.right&&(t=-(e.right-this.anchor.x))}else{r=t+this.anchor.x;const u=r+this.size.width;r<e.left?t=e.left-this.anchor.x:u>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const r=this.anchor.y+t,u=r+this.size.height;return e=this.getWorkspaceViewRect(e),r<e.top?t=e.top-this.anchor.y:u>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let r=e.top+e.height,u=e.left;return e=e.left+e.width,r-=this.getScrollbarThickness(),this.workspace.RTL?u-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new ft(t,r,u,e)}getScrollbarThickness(){return Vt.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,r=this.size.height/2,u=-this.relativeLeft,d=-this.relativeTop;if(t===u&&r===d)e.push("M "+t+","+r);else{d-=r,u-=t,this.workspace.RTL&&(u*=-1);var g=Math.sqrt(d*d+u*u),y=Math.acos(u/g);0>d&&(y=2*Math.PI-y);var B=y+Math.PI/2;B>2*Math.PI&&(B-=2*Math.PI);var ae=Math.sin(B);const Bt=Math.cos(B);let Nt=(this.size.width+this.size.height)/fi.TAIL_THICKNESS;Nt=Math.min(Nt,this.size.width,this.size.height)/4,B=1-fi.ANCHOR_RADIUS/g,u=t+B*u,d=r+B*d,B=t+Nt*Bt;const jr=r+Nt*ae;t-=Nt*Bt,r-=Nt*ae,ae=Bo(this.workspace.RTL?-fi.TAIL_ANGLE:fi.TAIL_ANGLE),ae=y+ae,ae>2*Math.PI&&(ae-=2*Math.PI),y=Math.sin(ae)*g/fi.TAIL_BEND,g=Math.cos(ae)*g/fi.TAIL_BEND,e.push("M"+B+","+jr),e.push("C"+(B+g)+","+(jr+y)+" "+u+","+d+" "+u+","+d),e.push("C"+u+","+d+" "+(t+g)+","+(r+y)+" "+t+","+r)}e.push("z");let xe;(xe=this.tail)==null||xe.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=(e=this.svgRoot)==null?void 0:e.parentNode;return this.svgRoot&&(t==null?void 0:t.lastChild)!==this.svgRoot?(t==null||t.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new be(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}isMovable(){return!0}startDrag(){this.dragStrategy.startDrag()}drag(e){this.dragStrategy.drag(e)}endDrag(){this.dragStrategy.endDrag()}revertDrag(){this.dragStrategy.revertDrag()}select(){}unselect(){}};fi=Tt,Tt.BORDER_WIDTH=6,Tt.DOUBLE_BORDER=2*fi.BORDER_WIDTH,Tt.MIN_SIZE=fi.DOUBLE_BORDER,Tt.TAIL_THICKNESS=1,Tt.TAIL_ANGLE=20,Tt.TAIL_BEND=4,Tt.ANCHOR_RADIUS=8;var ul=class extends Tt{constructor(e,t,r,u){super(t,r,u),this.workspace=t,this.anchor=r,this.ownerRect=u,this.autoLayout=!0,t=new Gi(e),this.validateWorkspaceOptions(t),this.svgDialog=le(K.SVG,{x:Tt.BORDER_WIDTH,y:Tt.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new Gi(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(K.G),this.miniWorkspace.getCanvas()),e=this.miniWorkspace.getFlyout(),e==null||e.init(this.miniWorkspace),e==null||e.show(t.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let d,g;(d=this.miniWorkspace.getFlyout())==null||(g=d.getWorkspace())==null||g.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(20>t.y&&e.moveBy(0,20-t.y),e.RTL){let r=-20;const u=this.miniWorkspace.getFlyout();u&&(r-=u.getWidth()),t.x>r&&e.moveBy(r-t.x,0)}else 20>t.x&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<ul.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<ul.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new Ee(t.width+Tt.DOUBLE_BORDER,t.height+Tt.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+ul.MARGIN;e=e.height+ul.MARGIN;const r=this.miniWorkspace.getFlyout();if(r){const u=r.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,u.height+20),t+=r.getWidth()}return new Ee(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=(t=this.miniWorkspace.getFlyout())==null?void 0:t.getWorkspace())for(const r of e.getAllBlocks(!1))r.setStyle(r.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};ul.MINIMUM_VIEW_CHANGE=10,ul.MARGIN=3*Tt.DOUBLE_BORDER;var Zf=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new be(0,0),this.workspaceLocation=new be(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=le(K.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),Ge(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,Rl(this.svgRoot)}}dispose(){sa(this.svgRoot),j(this.svgRoot)}getWeight(){return-1}getSize(){return new Ee(0,0)}setTooltip(e){this.tooltip=e??this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",Po(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;(e=this.svgRoot)==null||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=be.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}},eg,tg;eg=17,tg=16,o.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Zf{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),le(K.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),le(K.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),le(K.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),Be(this.svgRoot,"blockly-icon-mutator"))}dispose(){super.dispose();let e;(e=this.miniWorkspaceBubble)==null||e.dispose()}getWeight(){return o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Ee(eg,eg)}applyColour(){super.applyColour();let e;(e=this.miniWorkspaceBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary);let t;(t=this.miniWorkspaceBubble)==null||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){super.onLocationChange(e);let t;(t=this.miniWorkspaceBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){const t=this;return fe.asyncExecutePromiseGeneratorFunction(function*(){if(t.bubbleIsVisible()!==e){if(yield zn(),e){t.miniWorkspaceBubble=new ul(t.getMiniWorkspaceConfig(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour(),t.createRootBlock(),t.addSaveConnectionsListener();let r;(r=t.miniWorkspaceBubble)==null||r.addWorkspaceChangeListener(t.createMiniWorkspaceChangeListener())}else{let r;(r=t.miniWorkspaceBubble)==null||r.dispose(),t.miniWorkspaceBubble=null,t.saveConnectionsListener&&t.sourceBlock.workspace.removeChangeListener(t.saveConnectionsListener),t.saveConnectionsListener=null}pe(new(C(te.BUBBLE_OPEN))(t.sourceBlock,e,"mutator"))}})}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(e=this.sourceBlock.workspace.options.rendererOverrides)!=null?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(r=>({kind:"block",type:r}))}),t}getAnchorLocation(){const e=eg/2;return be.sum(this.workspaceLocation,new be(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new ft(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var e of this.rootBlock.getDescendants(!1))e.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let t,r,u,d;e=(d=(t=this.miniWorkspaceBubble)==null||(r=t.getWorkspace())==null||(u=r.getFlyout())==null?void 0:u.getWidth())!=null?d:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+tg):tg,tg)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{o.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||O(e)||ee(e)&&e.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);var t=ts.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var r=ts.getExtraBlockState_(this.sourceBlock);t!==r&&pe(new(C(te.BLOCK_CHANGE))(this.sourceBlock,"mutation",null,t,r)),o.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return(e=this.miniWorkspaceBubble)==null?void 0:e.getWorkspace()}},o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=dn.MUTATOR,o.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,o.MutatorIcon$$module$build$src$core$icons$mutator_icon;var fd=Object.create(null),sS={allExtensions:fd};o.register$$module$build$src$core$extensions("parent_tooltip_when_inline",zu);var vo={TEST_ONLY:sS};vo.apply=vt,vo.buildTooltipForDropdown=o.buildTooltipForDropdown$$module$build$src$core$extensions,vo.buildTooltipWithFieldText=o.buildTooltipWithFieldText$$module$build$src$core$extensions,vo.isRegistered=Oi,vo.register=o.register$$module$build$src$core$extensions,vo.registerMixin=o.registerMixin$$module$build$src$core$extensions,vo.registerMutator=o.registerMutator$$module$build$src$core$extensions,vo.runAfterPageLoad=Wh,vo.unregister=xs;var tt;(function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"})(tt||(tt={}));var cl={};cl.arc=kt,cl.curve=Zt,cl.line=Fl,cl.lineOnAxis=Ae,cl.lineTo=ei,cl.moveBy=St,cl.moveTo=en,cl.point=We;var on={};on.Coordinate=be,on.KeyCodes=tt,on.Rect=ft,on.Size=Ee,on.Svg=K,on.aria=Sn,on.array=Tp,on.browserEvents=go,on.colour=a,on.deprecation=Wa,on.dom=ln,on.extensions=vo,on.idGenerator=up,on.math=Pt,on.object=eT,on.parsing=p,on.string=nu,on.style=Pi,on.svgMath=Bi,on.svgPaths=cl,on.toolbox=Dn,on.userAgent=Gf,on.xml=yr;var rT=class extends Tt{constructor(e,t,r){super(e,t,r),this.workspace=e,this.anchor=t,this.ownerRect=r,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new Ee(160+Tt.DOUBLE_BORDER,80+Tt.DOUBLE_BORDER),this.MIN_SIZE=new Ee(45+Tt.DOUBLE_BORDER,20+Tt.DOUBLE_BORDER),this.editable=!0,Be(this.svgRoot,"blocklyTextInputBubble"),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot,e),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}setEditable(e){(this.editable=e)?this.textArea.removeAttribute("readonly"):this.textArea.setAttribute("readonly","")}isEditable(){return this.editable}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=le(K.FOREIGNOBJECT,{x:Tt.BORDER_WIDTH,y:Tt.BORDER_WIDTH},e);const t=document.createElementNS(ai,"body");t.setAttribute("xmlns",ai),t.className="blocklyMinimalBody";const r=document.createElementNS(ai,"textarea");return r.className="blocklyTextarea blocklyText",r.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(r),e.appendChild(t),this.bindTextAreaEvents(r),setTimeout(()=>{r.focus()},0),{inputRoot:e,textArea:r}}bindTextAreaEvents(e){Ge(e,"wheel",this,t=>{t.stopPropagation()}),Ge(e,"focus",this,this.onStartEdit,!0),Ge(e,"change",this,this.onTextChange)}createResizeHandle(e,t){return e=le(K.IMAGE,{class:"blocklyResizeHandle",href:`${t.options.pathToMedia}resize-handle.svg`},e),Ge(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const r=e.width-Tt.DOUBLE_BORDER,u=e.height-Tt.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${r}`),this.inputRoot.setAttribute("height",`${u}`),this.resizeGroup.setAttribute("y",`${u}`),this.workspace.RTL?this.resizeGroup.setAttribute("x",`${-Tt.DOUBLE_BORDER}`):this.resizeGroup.setAttribute("x",`${r}`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),kn(e)||(Hu(this.workspace,e,new be(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=Ge(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=Ge(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){Qt(),this.resizePointerUpListener&&(it(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(it(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=Vu(this.workspace,e),this.setSize(new Ee(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};Pn(`
.blocklyTextInputBubble .blocklyTextarea {
  background-color: var(--commentFillColour);
  border: 0;
  box-sizing: border-box;
  display: block;
  outline: 0;
  padding: 5px;
  resize: none;
  width: 100%;
  height: 100%;
}
`);var Om={};Om.register=Wo,Om.unregister=Xu;var Rm=17,iT=160,oT=80,al=class extends Zf{constructor(e){super(e),this.sourceBlock=e,this.textInputBubble=null,this.text="",this.bubbleSize=new Ee(iT,oT),this.bubbleVisiblity=!1}getType(){return al.TYPE}initView(e){this.svgRoot||(super.initView(e),le(K.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),le(K.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),le(K.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),Be(this.svgRoot,"blockly-icon-comment"))}dispose(){super.dispose();let e;(e=this.textInputBubble)==null||e.dispose()}getWeight(){return al.WEIGHT}getSize(){return new Ee(Rm,Rm)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let t;(t=this.textInputBubble)==null||t.setColour(e)}updateEditable(){const e=this,t=()=>super.updateEditable;return fe.asyncExecutePromiseGeneratorFunction(function*(){t().call(e),e.bubbleIsVisible()&&(yield e.setBubbleVisible(!1),yield e.setBubbleVisible(!0))})}onLocationChange(e){super.onLocationChange(e),e=this.getAnchorLocation();let t;(t=this.textInputBubble)==null||t.setAnchorLocation(e)}setText(e){const t=this.text;pe(new(C(te.BLOCK_CHANGE))(this.sourceBlock,"comment",null,t,e)),this.text=e;let r;(r=this.textInputBubble)==null||r.setText(this.text)}getText(){return this.text}setBubbleSize(e){this.bubbleSize=e;let t;(t=this.textInputBubble)==null||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let t;this.text=(t=e.text)!=null?t:"";let r,u;this.bubbleSize=new Ee((r=e.width)!=null?r:iT,(u=e.height)!=null?u:oT);let d;this.bubbleVisiblity=(d=e.pinned)!=null?d:!1,this.setBubbleVisible(this.bubbleVisiblity)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(pe(new(C(te.BLOCK_CHANGE))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){const t=this;return fe.asyncExecutePromiseGeneratorFunction(function*(){t.bubbleVisiblity!==e&&(t.bubbleVisiblity=e,yield zn(),!t.sourceBlock.rendered||t.sourceBlock.isInFlyout||t.sourceBlock.isInsertionMarker()||(e?(t.sourceBlock.isEditable()?t.showEditableBubble():t.showNonEditableBubble(),t.applyColour()):t.hideBubble(),pe(new(C(te.BUBBLE_OPEN))(t.sourceBlock,e,"comment"))))})}showEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.addTextChangeListener(()=>this.onTextChange());let t;(t=this.textInputBubble)==null||t.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.createBubble();let e;(e=this.textInputBubble)==null||e.setEditable(!1)}createBubble(){this.textInputBubble=new rT(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0)}hideBubble(){let e;(e=this.textInputBubble)==null||e.dispose(),this.textInputBubble=null}getAnchorLocation(){const e=Rm/2;return be.sum(this.workspaceLocation,new be(e,e))}getBubbleOwnerRect(){return this.sourceBlock.getBoundingRectangleWithoutChildren()}};al.TYPE=dn.COMMENT,al.WEIGHT=3,Wo(al.TYPE,al);var sT=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},lT={};lT.DuplicateIconType=sT;var uT=class extends Tt{constructor(e,t,r,u){super(t,r,u),this.text=e,this.workspace=t,this.anchor=r,this.ownerRect=u,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,j(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createSpans(t,e),this.workspace.RTL&&this.rightAlignSpans(t.getBBox().width,e),t}createParagraph(e){return le(K.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Tt.BORDER_WIDTH},e)}createSpans(e,t){return t.split(`
`).map(r=>{const u=le(K.TSPAN,{dy:"1em",x:Tt.BORDER_WIDTH},e);return r=document.createTextNode(r),u.appendChild(r),u})}rightAlignSpans(e,t){for(const r of t)r.setAttribute("text-anchor","end"),r.setAttribute("x",`${e+Tt.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new Ee(e.width+2*Tt.BORDER_WIDTH,e.height+2*Tt.BORDER_WIDTH),!0)}},Lm=17,dl=class extends Zf{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return dl.TYPE}initView(e){this.svgRoot||(super.initView(e),le(K.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),le(K.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),le(K.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),Be(this.svgRoot,"blockly-icon-warning"))}dispose(){super.dispose();let e;(e=this.textBubble)==null||e.dispose()}getWeight(){return dl.WEIGHT}getSize(){return new Ee(Lm,Lm)}applyColour(){super.applyColour();let e;(e=this.textBubble)==null||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){super.onLocationChange(e);let t;(t=this.textBubble)==null||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;e?this.textMap.set(t,e):this.textMap.delete(t);let r;return(r=this.textBubble)==null||r.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){const t=this;return fe.asyncExecutePromiseGeneratorFunction(function*(){if(t.bubbleIsVisible()!==e){if(yield zn(),e)t.textBubble=new uT(t.getText(),t.sourceBlock.workspace,t.getAnchorLocation(),t.getBubbleOwnerRect()),t.applyColour();else{let r;(r=t.textBubble)==null||r.dispose(),t.textBubble=null}pe(new(C(te.BUBBLE_OPEN))(t.sourceBlock,e,"warning"))}})}getAnchorLocation(){const e=Lm/2;return be.sum(this.workspaceLocation,new be(e,e))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new ft(e.y,e.y+e.height,e.x,e.x+e.width)}};dl.TYPE=dn.WARNING,dl.WEIGHT=2;var su={};su.CommentIcon=al,su.Icon=Zf,su.IconType=dn,su.MutatorIcon=o.MutatorIcon$$module$build$src$core$icons$mutator_icon,su.WarningIcon=dl,su.exceptions=lT,su.registry=Om,o.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(e){e=o.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),o.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let r=e;t===o.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(r=e),e=r.toLowerCase();const u=t===o.NameType$$module$build$src$core$names.VARIABLE||t===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const d=this.db.get(t);return d.has(e)?u+d.get(e):(t=this.getDistinctName(r,t),d.set(e,t.substr(u.length)),t)}getUserNames(e){let t;return(e=(t=this.db.get(e))==null?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let r=null,u,d;for(;this.dbReverse.has(e+((u=r)!=null?u:""))||this.reservedWords.has(e+((d=r)!=null?d:""));)r=r?r+1:2;let g;return e+=(g=r)!=null?g:"",this.dbReverse.add(e),(t===o.NameType$$module$build$src$core$names.VARIABLE||t===o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".includes(e[0])&&(e="my_"+e)):e=o.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},function(e){e=e.NameType||(e.NameType={}),e.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(o.Names$$module$build$src$core$names||(o.Names$$module$build$src$core$names={})),o.NameType$$module$build$src$core$names=o.Names$$module$build$src$core$names.NameType,o.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=o.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,o.NameType$$module$build$src$core$names,o.Names$$module$build$src$core$names;var cT=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t?this:(super.set(e,t),Yn(t)&&t.startPublishing(),this)}delete(e){const t=this.get(e);return e=super.delete(e),e&&(Yn(t)&&t.stopPublishing(),e)}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},ng,kr;ng="PROCEDURE",o.DEFAULT_ARG$$module$build$src$core$procedures="x",kr={CATEGORY_NAME:ng,DEFAULT_ARG:o.DEFAULT_ARG$$module$build$src$core$procedures},kr.ObservableProcedureMap=cT,kr.allProcedures=Jn,kr.findLegalName=o.findLegalName$$module$build$src$core$procedures,kr.flyoutCategory=Ai,kr.getCallers=qn,kr.getDefinition=o.getDefinition$$module$build$src$core$procedures,kr.isNameUsed=ni,kr.isProcedureBlock=ti,kr.mutateCallers=o.mutateCallers$$module$build$src$core$procedures,kr.mutatorOpenListener=Ku,kr.rename=o.rename$$module$build$src$core$procedures;var lS=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},G=new lS,rs=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=G.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Dp=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=G.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(G.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(G.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(G.isSpacer(t))return t}return null}},Am=class extends Dp{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=G.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,r=0;for(let u=0;u<this.elements.length;u++){const d=this.elements[u];t+=d.width,G.isSpacer(d)||(G.isNextConnection(d)?r=Math.max(r,d.height):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+r,this.descenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},hl=class extends rs{constructor(e,t){super(e),this.connectionModel=t,this.type|=G.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},lu=class extends hl{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=G.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},rg=class extends lu{constructor(e,t){super(e,t),this.height=0,this.type|=G.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},gd=class extends rs{constructor(e,t,r){super(e),this.field=t,this.parentInput=r,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=G.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},Dm=class extends rs{constructor(e){super(e),this.type|=G.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},aT=class extends rs{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.type|=G.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},gi=class extends rs{constructor(e,t){super(e),this.type=this.type|G.SPACER|G.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},Nm=class extends lu{constructor(e,t){super(e,t),this.type|=G.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Np=class extends lu{constructor(e,t){super(e,t),this.type|=G.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},Mm=class extends Dp{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=G.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const r=this.elements[t];this.width+=r.width,G.isInput(r)&&r instanceof lu&&(G.isStatementInput(r)&&r instanceof Np?e+=r.connectedBlockWidth:G.isExternalInput(r)&&r instanceof rg&&r.connectedBlockWidth!==0&&(e+=r.connectedBlockWidth-r.connectionWidth)),G.isSpacer(r)||(this.height=Math.max(this.height,r.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},dT=class extends rs{constructor(e){super(e),this.type|=G.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},hT=class extends hl{constructor(e,t){super(e,t),this.type|=G.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},pT=class extends hl{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=G.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},fT=class extends hl{constructor(e,t){super(e,t),this.type|=G.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},Mp=class extends rs{constructor(e,t){super(e),this.type=(t&&t!=="left"?G.RIGHT_ROUND_CORNER:G.LEFT_ROUND_CORNER)|G.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},xm=class extends Dp{constructor(e,t,r){super(e),this.height=t,this.width=r,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|G.SPACER|G.BETWEEN_ROW_SPACER,this.elements=[new gi(this.constants_,r)]}measure(){}},xp=class extends rs{constructor(e,t){super(e),this.type=(t&&t!=="left"?G.RIGHT_SQUARE_CORNER:G.LEFT_SQUARE_CORNER)|G.CORNER,this.width=this.height=this.constants_.NO_PADDING}},Pm=class extends Dp{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=G.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,r=e.getPreviousBlock();return!!e.outputConnection||t||(r?r.getNextBlock()===e:!1)}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,r=0;for(let u=0;u<this.elements.length;u++){const d=this.elements[u];t+=d.width,G.isSpacer(d)||(G.isHat(d)&&d instanceof Dm?r=Math.max(r,d.ascenderHeight):e=Math.max(e,d.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+r,this.capline=this.ascenderHeight=r,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},ig=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=St(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const r in t)this.blockStyles[r]=this.validatedBlockStyle_(t[r]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=e.startHats!==void 0?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=ms("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&e.startsWith("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=Al(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Al(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Al(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return Zr("#fff",e,.6)||e}generateTertiaryColour_(e){return Zr("#fff",e,.3)||e}dispose(){this.embossFilter&&j(this.embossFilter),this.disabledPattern&&j(this.disabledPattern),this.debugFilter&&j(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH,r=Fl([We(t,e/4),We(2*-t,e/2),We(t,e/4)]);return{height:e,width:t,path:r}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,r=Zt("c",[We(30,-e),We(70,-e),We(t,0)]);return{height:e,width:t,path:r}}makePuzzleTab(){function e(g){g=g?-1:1;const y=-g;var B=r/2;const ae=B+2.5,xe=B+.5,Bt=We(-t,g*B);return B=We(t,g*B),Zt("c",[We(0,g*ae),We(-t,y*xe),Bt])+Zt("s",[We(t,2.5*y),B])}const t=this.TAB_WIDTH,r=this.TAB_HEIGHT,u=e(!0),d=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:r,pathDown:d,pathUp:u}}makeNotch(){function e(y){return Fl([We(y*u,r),We(3*y,0),We(y*u,-r)])}const t=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,u=(t-3)/2,d=e(1),g=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:r,pathLeft:d,pathRight:g}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=kt("a","0 0,0",e,We(-e,e)),r=kt("a","0 0,0",e,We(e,e));return{width:e,height:e,pathTop:t,pathBottom:r}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=St(0,e)+kt("a","0 0,1",e,We(e,-e)),r=kt("a","0 0,1",e,We(e,e)),u=kt("a","0 0,1",e,We(-e,-e)),d=kt("a","0 0,1",e,We(-e,e));return{topLeft:t,topRight:r,bottomRight:d,bottomLeft:u,rightHeight:e}}shapeFor(e){switch(e.type){case Pe.INPUT_VALUE:case Pe.OUTPUT_VALUE:return this.PUZZLE_TAB;case Pe.PREVIOUS_STATEMENT:case Pe.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,r){this.injectCSS_(t,r),this.defs=le(K.DEFS,{},e),e=le(K.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),le(K.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=le(K.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),le(K.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),le(K.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),le(K.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=le(K.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),le(K.RECT,{width:10,height:10,fill:"#aaa"},e),le(K.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=le(K.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=le(K.FECOMPONENTTRANSFER,{result:"outBlur"},e);le(K.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),le(K.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),le(K.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const r=t.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=r:(t=document.createElement("style"),t.id=e,e=document.createTextNode(r),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},og=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren,this.block_.childlessWidth=this.info_.width}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=St(e.xPos,this.info_.startY);for(let r=0,u;u=t[r];r++)G.isLeftRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:G.isRightRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:G.isPreviousConnection(u)&&u instanceof hl?this.outlinePath_+=u.shape.pathLeft:G.isHat(u)?this.outlinePath_+=this.constants_.START_HAT.path:G.isSpacer(u)&&(this.outlinePath_+=Ae("h",u.width));this.outlinePath_+=Ae("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+Ae("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const r=Ot(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=Ae("H",t.xPos+t.width)+r+Ae("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var r=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+Ae("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var u=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=Ae("H",r)+t+Ae("v",u)+this.constants_.INSIDE_CORNERS.pathBottom+Ae("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=Ae("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let r=0,u="";for(let d=t.length-1,g;g=t[d];d--)G.isNextConnection(g)&&g instanceof hl?u+=g.shape.pathRight:G.isLeftSquareCorner(g)?u+=Ae("H",e.xPos):G.isLeftRoundedCorner(g)?u+=this.constants_.OUTSIDE_CORNERS.bottomLeft:G.isRightRoundedCorner(g)?(u+=this.constants_.OUTSIDE_CORNERS.bottomRight,r=this.constants_.OUTSIDE_CORNERS.rightHeight):G.isSpacer(g)&&(u+=Ae("h",-1*g.width));this.outlinePath_+=Ae("V",e.baseline-r),this.outlinePath_+=u}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=Ot(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=Ae("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e=0,t;t=this.info_.rows[e];e++)for(let r=0,u;u=t.elements[r];r++)G.isInlineInput(u)?this.drawInlineInput_(u):(G.isIcon(u)||G.isField(u))&&this.layoutField_(u)}layoutField_(e){const t=e.centerline-e.height/2;let r=e.xPos;var u="";this.info_.RTL&&(r=-(r+e.width),e.flipRtl&&(r+=e.width,u="scale(-1 1)")),G.isIcon(e)?(u=e.icon,u.setOffsetInBlock(new be(r,t)),this.info_.isInsertionMarker&&u.hideForInsertionMarker()):(e=e.field.getSvgRoot(),e.setAttribute("transform","translate("+r+","+t+")"+u),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,r=e.height,u=e.connectionOffsetY,d=e.connectionHeight+u;this.inlinePath_+=en(e.xPos+e.connectionWidth,e.centerline-r/2)+Ae("v",u)+e.shape.pathDown+Ae("v",r-d)+Ae("h",t-e.connectionWidth)+Ae("v",-r)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let r=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(r*=-1),t.connectionModel.setOffsetInBlock(r,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let r=e.xPos+e.width;this.info_.RTL&&(r*=-1),t.connectionModel.setOffsetInBlock(r,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,r=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-r:r,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements)if(t instanceof hl)if(t.highlighted)this.drawConnectionHighlightPath(t);else{let r,u;(u=(r=this.block_.pathObject).removeConnectionHighlight)==null||u.call(r,t.connectionModel)}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===Pe.INPUT_VALUE||t.type===Pe.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const r=t.getSourceBlock();let u,d;(d=(u=r.pathObject).addConnectionHighlight)==null||d.call(u,t,e,t.getOffsetInBlock(),r.RTL)}getExpressionConnectionHighlightPath(e){let t="";return Ot(e.shape)?t=e.shape.pathDown(e.height):Pr(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,St(0,-e)+Ae("v",e)+t+Ae("v",e)}getStatementConnectionHighlightPath(e){if(!zh(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return St(-t,0)+Ae("h",t)+e.shape.pathLeft+Ae("h",t)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(o.Align$$module$build$src$core$inputs$align||(o.Align$$module$build$src$core$inputs$align={})),o.Align$$module$build$src$core$inputs$align;var Dc=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==f.SKIP_SETUP&&(r?this.configure_(r):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&Be(this.getTextElement(),this.class)}doClassValidation_(e){return e==null?null:`${e}`}setClass(e){this.textElement_&&(this.class&&S(this.textElement_,this.class),e&&Be(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Xt(e.text),void 0,e)}};Kn("field_label",Dc),Dc.prototype.DEFAULT_VALUE="";var md=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=o.Align$$module$build$src$core$inputs$align.LEFT,this.visible=!0,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,r){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(t||t===""&&r)&&(typeof t=="string"&&(t=o.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.initialized&&this.initField(t),t.name=r,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&this.sourceBlock.queueRender()),e}removeField(e,t){for(let r=0,u;u=this.fieldRow[r];r++)if(u.name===e)return u.dispose(),this.fieldRow.splice(r,1),this.sourceBlock.rendered&&this.sourceBlock.queueRender(),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let u=0,d;d=this.fieldRow[u];u++)d.setVisible(e);if(this.connection){var r=this.connection;e?t=r.startTrackingAll():r.stopTrackingAll(),(r=r.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e=0,t;t=this.fieldRow[e];e++)t.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){for(const e of this.fieldRow)e.init()}initModel(){for(const e of this.fieldRow)e.initModel()}initField(e){this.sourceBlock.rendered?e.init():e.initModel()}dispose(){for(let e=0,t;t=this.fieldRow[e];e++)t.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}},is=class extends md{constructor(e,t){super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},pl=class extends md{constructor(e,t){super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},mi=class extends md{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Pe.NEXT_STATEMENT)}},gT;o.ValueInput$$module$build$src$core$inputs$value_input=class extends md{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=o.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Pe.INPUT_VALUE)}},gT={},gT.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input;var Pp=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new pT(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new Pm(this.constants_),this.bottomRow=new Am(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new Mm(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let r=0,u;u=t[r];r++){const d=new aT(this.constants_,u);this.isCollapsed&&!u.isShownWhenCollapsed()||e.elements.push(d)}t=void 0;for(let r=0,u;u=this.block_.inputList[r];r++)if(u.isVisible()){this.shouldStartNewRow_(u,t)&&(this.rows.push(e),e=new Mm(this.constants_),this.inputRows.push(e));for(let d=0,g;g=u.fieldRow[d];d++)e.elements.push(new gd(this.constants_,g,u));this.addInput_(u,e),t=u}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new dT(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let r=this.topRow.hasLeftSquareCorner(this.block_)?xp:Mp;this.topRow.elements.push(new r(this.constants_)),t?(e=new Dm(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new fT(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof mi&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?xp:Mp,this.topRow.elements.push(new r(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof mi?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new xp(this.constants_)):this.bottomRow.elements.push(new Mp(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new hT(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new xp(this.constants_,"right")):this.bottomRow.elements.push(new Mp(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Nm(this.constants_,e)),t.hasInlineInput=!0):e instanceof mi?(t.elements.push(new Np(this.constants_,e)),t.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new rg(this.constants_,e)),t.hasExternalInput=!0):(e instanceof is||e instanceof pl)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),t.align===null&&(t.align=e.align)}shouldStartNewRow_(e,t){return t?t instanceof pl||e instanceof mi||t instanceof mi?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof is||t instanceof o.ValueInput$$module$build$src$core$inputs$value_input?!this.isInline:!1:!1}addElemSpacing_(){for(let e=0,t;t=this.rows[e];e++){const r=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new gi(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let u=0;u<r.length-1;u++){t.elements.push(r[u]);const d=this.getInRowSpacing_(r[u],r[u+1]);t.elements.push(new gi(this.constants_,d))}t.elements.push(r[r.length-1]),t.endsWithElemSpacer()&&t.elements.push(new gi(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&G.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&G.isInput(e)&&!t){if(G.isExternalInput(e))return this.constants_.NO_PADDING;if(G.isInlineInput(e))return this.constants_.LARGE_PADDING;if(G.isStatementInput(e))return this.constants_.NO_PADDING}return e&&G.isLeftSquareCorner(e)&&t&&(G.isPreviousConnection(t)||G.isNextConnection(t))?t.notchOffset:e&&G.isLeftRoundedCorner(e)&&t&&(G.isPreviousConnection(t)||G.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,r=0;for(let d=0,g;g=this.rows[d];d++){if(g.measure(),t=Math.max(t,g.width),g.hasStatement){var u=g.getLastInput();let y,B;u=g.width-((B=(y=u)==null?void 0:y.width)!=null?B:0),e=Math.max(e,u)}r=Math.max(r,g.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let d=0,g;g=this.rows[d];d++)g.hasStatement&&(g.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t=0,r;r=this.rows[t];t++)if(r.hasStatement)this.alignStatementRow_(r);else{var e=r.width;e=this.getDesiredRowWidth_(r)-e,0<e&&this.addAlignmentPadding_(r,e),G.isTopOrBottomRow(r)&&(r.widthWithConnectedBlocks=r.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const r=e.getFirstSpacer(),u=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===o.Align$$module$build$src$core$inputs$align.LEFT&&u)u.width+=t;else if(e.align===o.Align$$module$build$src$core$inputs$align.CENTRE&&r&&u)r.width+=t/2,u.width+=t/2;else if(e.align===o.Align$$module$build$src$core$inputs$align.RIGHT&&r)r.width+=t;else if(u)u.width+=t;else return;e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var r=e.width-t.width,u=this.statementEdge;r=u-r,0<r&&this.addAlignmentPadding_(e,r),r=e.width,u=this.getDesiredRowWidth_(e),t.width+=u-r,t.height=Math.max(t.height,e.height),e.width+=u-r,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var r=this.getSpacerRowHeight_(e,t);const u=this.getSpacerRowWidth_(e,t);return r=new xm(this.constants_,r,u),e.hasStatement&&(r.followsStatement=!0),t.hasStatement&&(r.precedesStatement=!0),r}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return G.isSpacer(t)?e.yPos+t.height/2:G.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,G.isNextConnection(t)?e+t.height/2:e-t.height/2):G.isTopRow(e)?G.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let r=0,u;u=e.elements[r];r++)G.isSpacer(u)&&(u.height=e.height),u.xPos=t,u.centerline=this.getElemCenterline_(e,u),t+=u.width}finalize_(){let e=0,t=0;for(let r=0,u;u=this.rows[r];r++)u.yPos=t,u.xPos=this.startX,t+=u.height,e=Math.max(e,u.widthWithConnectedBlocks),this.recordElemPositions_(u);if(this.outputConnection&&this.block_.nextConnection){const r=this.block_.nextConnection.targetBlock();r&&(e=Math.max(e,r.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if(((t=this.outputConnection)==null?void 0:t.connectionModel)===e)return this.outputConnection;for(const r of this.rows)for(const u of r.elements)if(u instanceof hl&&u.connectionModel===e)return u;return null}},Bm=class extends Vr{constructor(e){if(super(e),this.type=te.BLOCK_DELETE,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=lo(e),this.ids=X(e),this.wasShadow=e.isShadow(),this.oldJson=On(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Xn(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Bm),t.oldXml=o.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||t.oldXml.tagName.toLowerCase()==="shadow",t.oldJson=e.oldJson,e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const r=this.ids[e],u=t.getBlockById(r);u?u.dispose(!1):r===this.blockId&&console.warn("Can't delete non-existent block: "+r)}else Si(this.oldJson,t)}};c($e.EVENT,te.BLOCK_DELETE,Bm);var ct=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const t=Pe.INPUT_VALUE,r=this.getSourceBlock();var u=e.getSourceBlock();e.isConnected()&&e.disconnectInternal(!1);let d;if(this.isConnected()){const y=this.stashShadowState(),B=this.targetBlock();B.isShadow()?B.dispose(!1):(this.disconnectInternal(),d=B),this.applyShadowState(y)}let g;Le()&&(g=new(C(te.BLOCK_MOVE))(u),g.setReason(["connect"])),Xh(this,e),u.setParent(r),g&&(g.recordNew(),pe(g)),d&&(e=this.type===t?d.outputConnection:d.previousConnection)&&((u=ct.getConnectionForOrphanedConnection(u,e))?e.connect(u):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.isSuperior()&&this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Pe.INPUT_VALUE||this.type===Pe.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=o.getGroup$$module$build$src$core$events$utils();t||o.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),o.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:r}=this.getParentAndChildConnections();if(!t||!r)throw Error("Source connection not connected.");const u=o.getGroup$$module$build$src$core$events$utils();u||o.setGroup$$module$build$src$core$events$utils(!0);let d;Le()&&(d=new(C(te.BLOCK_MOVE))(r.getSourceBlock()),d.setReason(["disconnect"]));const g=this.targetConnection;g&&(g.targetConnection=null),this.targetConnection=null,e&&r.getSourceBlock().setParent(null),d&&(d.recordNew(),pe(d)),r.getSourceBlock().isShadow()||t.respawnShadow_(),o.setGroup$$module$build$src$core$events$utils(u)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){if(this.getSourceBlock().isDeadOrDying())return!1;var r;return t=(r=e.getInput(t))==null?void 0:r.connection,r=this.targetBlock(),r&&r!==e||!t||t.targetConnection===this?!1:(t.isConnected()&&t.disconnect(),t.connect(this),!0)}targetBlock(){if(this.isConnected()){let e,t;return(t=(e=this.targetConnection)==null?void 0:e.getSourceBlock())!=null?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Mr(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?On(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let r=0;r<t.length;r++)if(t[r].connection===this){e=t[r];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let r=0,u;u=e.inputList[r];r++)if(u.connection===this){t=u;break}if(t)t='Input "'+t.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,this.getSourceBlock().isDeadOrDying()||((e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock())))}createShadowBlock(e){var t=this.getSourceBlock();const r=this.getShadowState(),u=this.getShadowDom();if(t.isDeadOrDying()||!r&&!u)return null;if(r)return t=mr(r,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(u){if(t=ki(u,t.workspace),e)if(this.type===Pe.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Pe.NEXT_STATEMENT){if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return t}return null}serializeShadow(e){e&&(this.shadowDom=Mr(e),this.shadowState=On(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===Pe.OUTPUT_VALUE)return Ra(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const r=t.getConnectionChecker();return e&&r.canConnect(t,e,!1)?e:null}};ct.CAN_CONNECT=0,ct.REASON_SELF_CONNECTION=1,ct.REASON_WRONG_TYPE=2,ct.REASON_TARGET_NULL=3,ct.REASON_CHECKS_FAILED=4,ct.REASON_DIFFERENT_WORKSPACES=5,ct.REASON_SHADOW_PARENT=6,ct.REASON_DRAG_CHECKS_FAILED=7,ct.REASON_PREVIOUS_AND_OUTPUT=8;var uu=class{constructor(e,t,r){if(this.data=null,this.disposed=!1,this.hue=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabledReasons=new Set,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable=this.movable=this.deletable=!0,this.collapsed_=this.shadow=!1,this.outputShape_=null,this.rendered=this.isInsertionMarker_=this.initialized=this.disposing=!1,this.onchangeWrapper=this.helpUrl=null,this.statementInputCount=0,this.workspace=e,this.id=r&&!e.getBlockById(r)?r:P(),e.setBlockById(this.id,this),this.xy=new be(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,r=Qn[t],!r||typeof r!="object")throw TypeError("Invalid block definition for type: "+t);Object.assign(this,r)}e.addTopBlock(this),e.addTypedBlock(this),new.target===uu&&this.doInit_()}doInit_(){const e=o.getGroup$$module$build$src$core$events$utils();e||o.setGroup$$module$build$src$core$events$utils(!0);const t=re();try{typeof this.init=="function"&&(o.setRecordUndo$$module$build$src$core$events$utils(!1),this.init(),o.setRecordUndo$$module$build$src$core$events$utils(t)),Le()&&pe(new(C(te.BLOCK_CREATE))(this))}finally{o.setGroup$$module$build$src$core$events$utils(e),o.setRecordUndo$$module$build$src$core$events$utils(t)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(e=!1){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.unplug(e),Le()&&pe(new(C(te.BLOCK_DELETE))(this)),this.workspace.removeTopBlock(this),this.disposeInternal()}disposeInternal(){this.disposing=!0,this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(e=>e.disposeInternal()),this.inputList.forEach(e=>e.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(e=>e.dispose()),this.disposed=!0}isDeadOrDying(){return this.disposing||this.disposed}initModel(){if(!this.initialized){for(const e of this.inputList)e.initModel();this.initialized=!0}}unplug(e){this.outputConnection&&this.unplugFromRow(e),this.previousConnection&&this.unplugFromStack(e)}unplugFromRow(e){let t=null,r;(r=this.outputConnection)!=null&&r.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection())&&e.isConnected()&&!e.targetBlock().isShadow()&&(e=e.targetConnection,e==null||e.disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e==null||e.onFailedConnect(t))}getOnlyValueConnection(){let e=null;for(let t=0;t<this.inputList.length;t++){const r=this.inputList[t].connection;if(r&&r.type===Pe.INPUT_VALUE&&r.targetConnection){if(e)return null;e=r}}return e}unplugFromStack(e){let t=null;var r;if((r=this.previousConnection)!=null&&r.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),r=this.getNextBlock(),e&&r&&!r.isShadow()){let u,d;e=(d=(u=this.nextConnection)==null?void 0:u.targetConnection)!=null?d:null,e==null||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t=0,r;r=this.inputList[t];t++)r.connection&&e.push(r.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const r=t.targetBlock();if(!r||e&&r.isShadow())return t;t=r.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t=0,r;r=this.inputList[t];t++)if(r.connection&&r.connection.targetBlock()===e)return r;return null}getSurroundParent(){let e=this,t;do if(t=e,e=e.getParent(),!e)return null;while(e.getNextBlock()===t);return e}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do e=t,t=e.parentBlock_;while(t);return e}getTopStackBlock(){let e=this,t;do t=e.getPreviousBlock();while(t&&t.getNextBlock()===e&&(e=t));return e}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let r=0,u;u=this.inputList[r];r++)if(u.connection){var t=u.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),r=!!t;if(r&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!r&&e)throw Error("Block not connected to new parent.");if(r&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?jt(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],r=this.getChildren(e);for(let u,d=0;u=r[d];d++)t.push(...u.getDescendants(e));return t}isDeletable(){return this.deletable&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!this.shadow&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable}setMovable(e){this.movable=e}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable($t(this,!0)):!0}isShadow(){return this.shadow}setShadow(e){this.shadow=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable}setEditable(e){this.editable=e;for(let t=0,r;r=this.inputList[t];t++)for(let u=0,d;d=r.fieldRow[u];u++)d.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,t){const r=this.getConnections_(!0);if(e=e.getConnections_(!0),r.length!==e.length)throw Error("Connection lists did not match in length.");for(let u=0;u<e.length;u++)if(e[u]===t)return r[u];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return ws(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue}setColour(e){e=Al(e),this.hue=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&typeof e!="function")throw Error("onchange must be a function.");this.onchangeWrapper&&this.workspace.removeChangeListener(this.onchangeWrapper),this.onchange=e,this.onchangeWrapper=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper)}getField(e){if(typeof e!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(e===void 0?"nothing":e+" of type "+typeof e)+" instead");for(let t=0,r;r=this.inputList[t];t++)for(let u=0,d;d=r.fieldRow[u];u++)if(d.name===e)return d;return null}getVars(){const e=[];for(let t=0,r;r=this.inputList[t];t++)for(let u=0,d;d=r.fieldRow[u];u++)d.referencesVariables()&&e.push(d.getValue());return e}getVarModels(){const e=[];for(let t=0,r;r=this.inputList[t];t++)for(let u=0,d;d=r.fieldRow[u];u++)if(d.referencesVariables()){const g=this.workspace.getVariableById(d.getValue());g&&e.push(g)}return e}updateVarName(e){for(let t=0,r;r=this.inputList[t];t++)for(let u=0,d;d=r.fieldRow[u];u++)d.referencesVariables()&&e.getId()===d.getValue()&&d.refreshVariableName()}renameVarById(e,t){for(let r=0,u;u=this.inputList[r];r++)for(let d=0,g;g=u.fieldRow[d];d++)g.referencesVariables()&&e===g.getValue()&&g.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const r=this.getField(t);if(!r)throw Error('Field "'+t+'" not found.');r.setValue(e)}setPreviousStatement(e,t){if(e)t===void 0&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Pe.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)t===void 0&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Pe.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)t===void 0&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Pe.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(pe(new(C(te.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof is&&this.inputList[e]instanceof is)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof o.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof is)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof pl)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return this.disabledReasons.size===0}get disabled(){return k("disabled","v11","v12","the isEnabled or hasDisabledReason methods of Block"),this.hasDisabledReason(Nn)}set disabled(e){k("disabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(e,Nn)}setEnabled(e){k("setEnabled","v11","v12","the setDisabledReason method of Block"),this.setDisabledReason(!e,Nn)}setDisabledReason(e,t){e||this.workspace.options.disable||!this.hasDisabledReason(Nn)||t==Nn||this.setDisabledReason(!1,Nn),this.disabledReasons.has(t)!==e&&(e?this.disabledReasons.add(t):this.disabledReasons.delete(t),e=new(C(te.BLOCK_CHANGE))(this,"disabled",null,!e,e),e.setDisabledReason(t),pe(e))}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(!e.isEnabled())return!0;e=e.getSurroundParent()}return!1}hasDisabledReason(e){return this.disabledReasons.has(e)}getDisabledReasons(){return this.disabledReasons}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(pe(new(C(te.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let u=2;u<t.length;u++)t[u-2]==="("&&t[u]===")"&&(t[u-2]=t[u-1],t.splice(u-1,2));let r="";return t=t.reduce((u,d)=>(u=u+(r==="("||d===")"?"":" ")+d,r=d[d.length-1],u),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const u of this.inputList)if(u.name!=Ir){for(const d of u.fieldRow)t.push(d.getText());if(u.connection){const d=u.connection.targetBlock();if(d){var r=u.connection;let g=r.getCheck();!g&&r.targetConnection&&(g=r.targetConnection.getCheck()),(r=!!g&&(g.includes("Boolean")||g.includes("Number")))&&t.push("("),t.push(...d.toTokens(e)),r&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new o.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new mi(e,this))}appendDummyInput(e=""){return this.appendInput(new is(e,this))}appendEndRowInput(e=""){return this.appendInput(new pl(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=v($e.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var r=0;e["args"+r];){if(e["message"+r]===void 0)throw Error(t+`args${r} must have a corresponding message (message${r}).`);r++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle(e,t):this.jsonInitColour(e,t),r=0;e["message"+r]!==void 0;)this.interpolate(e["message"+r],e["args"+r]||[],e["implicitAlign"+r]||e["lastDummyAlign"+r],t),r++;if(e.inputsInline!==void 0&&(o.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),o.enable$$module$build$src$core$events$utils()),e.output!==void 0&&this.setOutput(!0,e.output),e.outputShape!==void 0&&this.setOutputShape(e.outputShape),e.previousStatement!==void 0&&this.setPreviousStatement(!0,e.previousStatement),e.nextStatement!==void 0&&this.setNextStatement(!0,e.nextStatement),e.tooltip!==void 0&&(r=Xt(e.tooltip),this.setTooltip(r)),e.enableContextMenu!==void 0&&(this.contextMenu=!!e.enableContextMenu),e.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),e.helpUrl!==void 0&&(r=Xt(e.helpUrl),this.setHelpUrl(r)),typeof e.extensions=="string"&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),e.mutator!==void 0&&vt(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)vt(e[t],this,!1)}jsonInitColour(e,t){if("colour"in e)if(e.colour===void 0)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch{console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle(e,t){e=e.style;try{this.setStyle(e)}catch{console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(t!==void 0&&typeof t!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const r in e)this[r]!==void 0&&t.push(r);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate(e,t,r,u){e=ha(e),this.validateTokens(e,t.length),t=this.interpolateArguments(e,t,r),r=[];for(let d=0,g;g=t[d];d++)if(this.isInputKeyword(g.type)){if(e=this.inputFromJson(g,u)){for(let y=0,B;B=r[y];y++)e.appendField(B[0],B[1]);r.length=0}}else(e=this.fieldFromJson(g))&&r.push([e,g.name])}validateTokens(e,t){const r=[];let u=0;for(let d=0;d<e.length;d++){const g=e[d];if(typeof g=="number"){if(1>g||g>t)throw Error('Block "'+this.type+'": Message index %'+g+" out of range.");if(r[g])throw Error('Block "'+this.type+'": Message index %'+g+" duplicated.");r[g]=!0,u++}}if(u!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments(e,t,r){const u=[];for(let g=0;g<e.length;g++){var d=e[g];if(typeof d=="number"&&(d=t[d-1]),typeof d=="string"){if(d===`
`)d={type:"input_end_row"},r&&(d.align=r);else if(d=this.stringToFieldJson(d),!d)continue}u.push(d)}return(e=u.length)&&!this.isInputKeyword(u[e-1].type)&&(e={type:"input_dummy"},r&&(e.align=r),u.push(e)),u}fieldFromJson(e){const t=o.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?typeof e.alt=="string"?(e=this.stringToFieldJson(e.alt))?this.fieldFromJson(e):null:this.fieldFromJson(e.alt):t}inputFromJson(e,t){var r={LEFT:o.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:o.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:o.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:o.Align$$module$build$src$core$inputs$align.CENTRE};let u;switch(e.type){case"input_value":u=this.appendValueInput(e.name);break;case"input_statement":u=this.appendStatementInput(e.name);break;case"input_dummy":u=this.appendDummyInput(e.name);break;case"input_end_row":u=this.appendEndRowInput(e.name);break;default:u=this.appendInputFromRegistry(e.type,e.name)}return u?(e.check&&u.setCheck(e.check),e.align&&(r=r[e.align.toUpperCase()],r===void 0?console.warn(t+"Illegal align value: ",e.align):u.setAlign(r)),u):null}isInputKeyword(e){return e==="input_value"||e==="input_statement"||e==="input_dummy"||e==="input_end_row"||E($e.INPUT,e)}stringToFieldJson(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var r=-1,u=t?-1:this.inputList.length;for(let d=0,g;g=this.inputList[d];d++)if(g.name===e){if(r=d,u!==-1)break}else if(t&&g.name===t&&(u=d,r!==-1))break;if(r===-1)throw Error('Named input "'+e+'" not found.');if(u===-1)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(r,u)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const r=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,r)}removeInput(e,t){for(let r=0,u;u=this.inputList[r];r++)if(u.name===e)return u instanceof mi&&this.statementInputCount--,u.dispose(),this.inputList.splice(r,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t=0,r;r=this.inputList[t];t++)if(r.name===e)return r;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return(t=(e=this.getIcon(dn.COMMENT))==null?void 0:e.getText())!=null?t:null}setCommentText(e){var t;let r;const u=(r=(t=this.getIcon(dn.COMMENT))==null?void 0:t.getText())!=null?r:null;if(u!==e){if(e!==null){if(t=this.getIcon(dn.COMMENT),!t){if(t=v($e.ICON,dn.COMMENT.toString(),!1),!t)throw Error("No comment icon class is registered, so a comment cannot be set");if(t=new t(this),!Yu(t))throw Error("The class registered as a comment icon does not conform to the ICommentIcon interface");t=this.addIcon(t)}o.disable$$module$build$src$core$events$utils(),t.setText(e),o.enable$$module$build$src$core$events$utils()}else this.removeIcon(dn.COMMENT);pe(new(C(te.BLOCK_CHANGE))(this,"comment",null,u,e))}}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new sT(e);return this.icons.push(e),this.icons.sort((t,r)=>t.getWeight()-r.getWeight()),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return(t=this.getIcon(e))==null||t.dispose(),this.icons=this.icons.filter(r=>!r.getType().equals(e)),!0}hasIcon(e){return this.icons.some(t=>t.getType().equals(e))}getIcon(e){return e instanceof dn?this.icons.find(t=>t.getType().equals(e)):this.icons.find(t=>t.getType().toString()===e)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy}moveBy(e,t,r){if(this.parentBlock_)throw Error("Block has parent");const u=new(C(te.BLOCK_MOVE))(this);r&&u.setReason(r),this.xy.translate(e,t),u.recordNew(),pe(u)}makeConnection_(e){return new ct(this,e)}allInputsFilled(e){if(e===void 0&&(e=!0),!e&&this.isShadow())return!1;for(let r=0,u;u=this.inputList[r];r++)if(u.connection){var t=u.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return(t=this.getNextBlock())?t.allInputsFilled(e):!0}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};uu.COLLAPSED_INPUT_NAME=Ir,uu.COLLAPSED_FIELD_NAME=Zs;var Wi=class{constructor(e,t,r,u){this.workspace=e,this.targetWorkspace=t,this.isFlyoutLabel=u,this.onMouseUpWrapper=null,this.height=this.width=0,this.cursorSvg=this.svgText=this.svgGroup=null,this.text=r.text,this.position=new be(0,0),this.callbackKey=r.callbackKey||r.callbackkey,this.cssClass=r["web-class"]||null,this.info=r}createDom(){var e=this.isFlyoutLabel?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=le(K.G,{class:e},this.workspace.getCanvas());let t;this.isFlyoutLabel||(t=le(K.RECT,{class:"blocklyFlyoutButtonShadow",rx:Wi.BORDER_RADIUS,ry:Wi.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=le(K.RECT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Wi.BORDER_RADIUS,ry:Wi.BORDER_RADIUS},this.svgGroup);const r=le(K.TEXT,{class:this.isFlyoutLabel?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var u=Xt(this.text);this.workspace.RTL&&(u+=""),r.textContent=u,this.isFlyoutLabel&&(this.svgText=r,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const d=Fn(r,"fontSize"),g=Fn(r,"fontWeight"),y=Fn(r,"fontFamily");if(this.width=qr(r,d,g,y),u=ms(u,d,g,y),this.height=u.height,!this.isFlyoutLabel){this.width+=2*Wi.TEXT_MARGIN_X,this.height+=2*Wi.TEXT_MARGIN_Y;let B;(B=t)==null||B.setAttribute("width",String(this.width));let ae;(ae=t)==null||ae.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),r.setAttribute("x",String(this.width/2)),r.setAttribute("y",String(this.height/2-u.height/2+u.baseline)),this.updateTransform(),this.onMouseUpWrapper=Ge(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}isLabel(){return this.isFlyoutLabel}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}getWorkspace(){return this.workspace}dispose(){this.onMouseUpWrapper&&it(this.onMouseUpWrapper),this.svgGroup&&j(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}setCursorSvg(e){e?this.svgGroup&&(this.svgGroup.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(){throw Error("Attempted to set a marker on a button.")}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isFlyoutLabel&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isFlyoutLabel||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isFlyoutLabel||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};Wi.TEXT_MARGIN_X=5,Wi.TEXT_MARGIN_Y=2,Wi.BORDER_RADIUS=4,Pn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var he=class{constructor(e,t,r){if(this.wsCoordinate=null,!t)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=he.isConnectionType(e),this.location=t,this.processParams(r||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const r=t.inputList[e],u=r.fieldRow;for(let d=0;d<u.length;d++){const g=u[d];if(g.isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(g)}if(r.connection)return he.createInputNode(r)}return null}findNextForField(){var e=this.location,t=e.getParentInput();const r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var u=r.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;u<r.inputList.length;u++){t=r.inputList[u];const d=t.fieldRow;for(;e<d.length;){if(d[e].isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(d[e]);e++}if(e=0,t.connection)return he.createInputNode(t)}return null}findPrevForInput(){const e=this.location.getParentInput(),t=e.getSourceBlock();for(var r=t.inputList.indexOf(e);0<=r;r--){var u=t.inputList[r];if(u.connection&&u!==e)return he.createInputNode(u);u=u.fieldRow;for(let d=u.length-1;0<=d;d--){const g=u[d];if(g.isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(g)}}return null}findPrevForField(){var e=this.location;const t=e.getParentInput(),r=e.getSourceBlock();if(!r)throw Error("The current AST location is not associated with a block");var u=r.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=u;u--){var d=r.inputList[u];if(d.connection&&d!==t)return he.createInputNode(d);for(d=d.fieldRow;-1<e;){if(d[e].isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(d[e]);e--}0<=u-1&&(e=r.inputList[u-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var t=this.getLocation();if(t.getSourceBlock){var r=t.getSourceBlock();r&&(t=r)}if(!t||t.isDeadOrDying())return null;if(t.workspace.isFlyout)return this.navigateFlyoutContents(e);r=t.getRootBlock(),t=r.workspace.getTopBlocks(!0);for(let u=0;u<t.length;u++)if(r.id===t[u].id)return e=u+(e?1:-1),e===-1||e===t.length?null:he.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}navigateFlyoutContents(e){let t;switch(this.getType()){case he.types.STACK:t=this.getLocation();var r=t.workspace.targetWorkspace;break;case he.types.BUTTON:t=this.getLocation(),r=t.getTargetWorkspace();break;default:return null}return r=r.getFlyout(),r&&(e=this.findNextLocationInFlyout(r.getContents(),t,e))?e.type==="button"&&e.button?he.createButtonNode(e.button):e.type==="block"&&e.block?he.createStackNode(e.block):null:null}findNextLocationInFlyout(e,t,r){const u=e.findIndex(d=>t instanceof uu&&d.block===t||t instanceof Wi&&d.button===t);return 0>u?null:(r=r?u+1:u-1,r===-1||r===e.length?null:e[r])}findTopASTNodeForBlock(e){const t=Ul(e);return t?he.createConnectionNode(t):he.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const t=Ul(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?he.createInputNode(t.targetConnection.getParentInput()):he.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let t=0;t<e.length;t++){const r=e[t],u=r.fieldRow;for(let d=0;d<u.length;d++){const g=u[d];if(g.isClickable()||he.NAVIGATE_ALL_FIELDS)return he.createFieldNode(g)}if(r.connection)return he.createInputNode(r)}return null}getSourceBlock(){return this.getType()===he.types.BLOCK?this.getLocation():this.getType()===he.types.STACK?this.getLocation():this.getType()===he.types.WORKSPACE||this.getType()===he.types.BUTTON?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case he.types.STACK:return this.navigateBetweenStacks(!0);case he.types.OUTPUT:return he.createBlockNode(this.location.getSourceBlock());case he.types.FIELD:return this.findNextForField();case he.types.INPUT:return this.findNextForInput();case he.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return he.createConnectionNode(e);case he.types.PREVIOUS:return he.createBlockNode(this.location.getSourceBlock());case he.types.NEXT:return he.createConnectionNode(this.location.targetConnection);case he.types.BUTTON:return this.navigateFlyoutContents(!0)}return null}in(){switch(this.type){case he.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return he.createStackNode(e[0]);break;case he.types.STACK:return this.findTopASTNodeForBlock(this.location);case he.types.BLOCK:return this.findFirstFieldOrInput(this.location);case he.types.INPUT:return he.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case he.types.STACK:return this.navigateBetweenStacks(!1);case he.types.FIELD:return this.findPrevForField();case he.types.INPUT:return this.findPrevForInput();case he.types.BLOCK:var e=Ul(this.location);if(!e)break;return he.createConnectionNode(e);case he.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return he.createConnectionNode(e);break;case he.types.NEXT:return he.createBlockNode(this.location.getSourceBlock());case he.types.BUTTON:return this.navigateFlyoutContents(!1)}return null}out(){switch(this.type){case he.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new be(t.x,t.y+he.DEFAULT_OFFSET_Y),he.createWorkspaceNode(e.workspace,t);case he.types.OUTPUT:return e=this.location,(t=e.targetConnection)?he.createConnectionNode(t):he.createStackNode(e.getSourceBlock());case he.types.FIELD:if(e=this.location.getSourceBlock(),!e)throw Error("The current AST location is not associated with a block");return he.createBlockNode(e);case he.types.INPUT:return he.createBlockNode(this.location.getSourceBlock());case he.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case he.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case he.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case he.types.PREVIOUS:case he.types.NEXT:case he.types.INPUT:case he.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new he(he.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===Pe.INPUT_VALUE||t===Pe.NEXT_STATEMENT&&e.getParentInput()?he.createInputNode(e.getParentInput()):t===Pe.NEXT_STATEMENT?new he(he.types.NEXT,e):t===Pe.OUTPUT_VALUE?new he(he.types.OUTPUT,e):t===Pe.PREVIOUS_STATEMENT?new he(he.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new he(he.types.INPUT,e.connection):null}static createBlockNode(e){return e?new he(he.types.BLOCK,e):null}static createStackNode(e){return e?new he(he.types.STACK,e):null}static createButtonNode(e){return e?new he(he.types.BUTTON,e):null}static createWorkspaceNode(e,t){return t&&e?new he(he.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=Ul(e);return t?he.createConnectionNode(t):he.createBlockNode(e)}};he.NAVIGATE_ALL_FIELDS=!1,he.DEFAULT_OFFSET_Y=-20,function(e){e=e.types||(e.types={}),e.FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace",e.BUTTON="button"}(he);var Fm=class extends Ur{constructor(e,t,r,u){let d=e?e.workspace.id:void 0;u&&u.getType()===he.types.WORKSPACE&&(d=u.getLocation().id),super(d),this.type=te.MARKER_MOVE,this.blockId=e==null?void 0:e.id,this.oldNode=r||void 0,this.newNode=u,this.isCursor=t}toJson(){const e=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Fm),t.isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};c($e.EVENT,te.MARKER_MOVE,Fm);var uS="blocklyCursor",cS="blocklyMarker",aS=.75,Um=class{constructor(e,t,r){this.workspace=e,this.marker=r,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=r.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const e=this.isCursor()?uS:cS;return this.svgGroup_=le(K.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var r=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||r,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),e=this.currentMarkerSvg.childNodes[0],e!==void 0&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===he.types.BLOCK?this.showWithBlock_(e):e.getType()===he.types.OUTPUT?this.showWithOutput_(e):t===Pe.INPUT_VALUE?this.showWithInput_(e):t===Pe.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===he.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===he.types.FIELD?this.showWithField_(e):e.getType()===he.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===he.types.STACK?this.showWithStack_(e):e.getType()===he.types.BUTTON&&this.showWithButton_(e)}showWithBlockPrevOutput(e){e=e.getSourceBlock();const t=e.width;var r=e.height,u=r*aS;const d=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(r=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,d,u,r)):e.outputConnection?(u=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,r,u)):this.positionBlock_(t,d,u),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){e=e.getLocation();const t=e.getSize().width,r=e.getSize().height;this.positionRect_(0,0,t,r),this.setParent_(e),this.showCurrent_()}showWithInput_(e){e=e.getLocation();const t=e.getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let r=0;t=t.getOffsetInBlock().y;const u=e.getHeightWidth().width;this.workspace.RTL&&(r=-u),this.positionLine_(r,t,u),this.setParent_(e),this.showCurrent_()}showWithStack_(e){e=e.getLocation();var t=e.getHeightWidth();const r=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const u=-this.constants_.CURSOR_STACK_PADDING/2,d=-this.constants_.CURSOR_STACK_PADDING/2;let g=u;this.workspace.RTL&&(g=-(r+u)),this.positionRect_(g,d,r,t),this.setParent_(e),this.showCurrent_()}showWithButton_(e){e=e.getLocation();const t=e.width+this.constants_.CURSOR_STACK_PADDING,r=e.height+this.constants_.CURSOR_STACK_PADDING,u=-this.constants_.CURSOR_STACK_PADDING/2,d=-this.constants_.CURSOR_STACK_PADDING/2;let g=u;this.workspace.RTL&&(g=-(t+u)),this.positionRect_(g,d,t,r),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,r){if(e=St(-t,r)+Ae("V",-t)+Ae("H",e+2*t)+Ae("V",r),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,r=e.getOffsetInBlock().y;e=en(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+r+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,r){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${r}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,r){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=St(e,0)+Ae("h",-(e-r.width))+Ae("v",this.constants_.TAB_OFFSET_FROM_TOP)+r.pathDown+Ae("V",t)+Ae("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,r,u){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=St(-t,r)+Ae("V",-t)+Ae("H",this.constants_.NOTCH_OFFSET_LEFT)+u.pathLeft+Ae("H",e+2*t)+Ae("V",r),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,r,u){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${r}`),this.markerSvgRect_.setAttribute("height",`${u}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,t){const r=t.getSourceBlock();e=new(C(te.MARKER_MOVE))(r,this.isCursor(),e,t),pe(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=le(K.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=le(K.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=le(K.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=le(K.PATH,{transform:""},this.markerSvg_),this.markerBlock_=le(K.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();le(K.ANIMATE,e,this.markerSvgLine_),le(K.ANIMATE,e,this.markerInput_),le(K.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&j(this.svgGroup_)}},sg=class{constructor(e,t,r){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=r,this.style=t,this.svgRoot=e,this.svgPath=le(K.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?Be(this.svgRoot,e):S(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,r,u){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,r))return;this.removeConnectionHighlight(e)}t=le(K.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${r.x}, ${r.y})`+(u?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}currentHighlightMatchesNew(e,t,r){let u;const d=(u=this.connectionHighlights.get(e))==null?void 0:u.getAttribute("d");return e=this.highlightOffsets.get(e),d===t&&be.equals(e,r)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(j(t),this.connectionHighlights.delete(e))}},So=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,o.setSelected$$module$build$src$core$common(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){o.disable$$module$build$src$core$events$utils(),this.hidePreview(),o.enable$$module$build$src$core$events$utils();var{local:e,closest:t}=this.activeCandidate;e.connect(t);var r=e.isSuperior()?t:e,u=this.topBlock.getRootBlock();zn().then(()=>{xr(r.getSourceBlock()),setTimeout(()=>{u.bringToFront()},0)})}}update(e,t){const r=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!r,t))||this.shouldUpdatePreviews(r,e))&&(o.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(r),this.maybeShowPreview(r),o.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){o.disable$$module$build$src$core$events$utils();let t;try{const r=On(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!r)throw Error(`Failed to serialize source block. ${e.toDevString()}`);t=Si(r,this.workspace);for(const u of t.getDescendants(!1))u.setInsertionMarker(!0);t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden")}finally{o.enable$$module$build$src$core$events$utils()}return t}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:r,closest:u}=this.activeCandidate;if(u===e.closest&&r===e.local)return!1;const d=r.x+t.x-u.x;return t=r.y+t.y-u.y,e.radius<Math.sqrt(d*d+t*t)-o.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),r=null;for(let u=0;u<this.availableConnections.length;u++){const d=this.availableConnections[u],g=d.closest(t,e);g.connection&&(r={closest:g.connection,local:d,radius:g.radius},t=g.radius)}return r}getStartRadius(){return this.activeCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return t&&this.workspace.getComponentManager().hasCapability(t.id,At.Capability.DELETE_AREA)?t.wouldDelete(this.topBlock):!1}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t=e.closest,r;t===((r=this.activeCandidate)==null?void 0:r.closest)||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case So.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case So.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case So.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(!e)this.hidePreview();else if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=(e=this.activeCandidate)==null?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:r}=e;let u=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!u)throw Error("Cannot show the insertion marker because there is no insertion marker block");let d;try{d=u.getMatchingConnection(t.getSourceBlock(),t)}catch{if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),u=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),u=this.firstMarker=this.createMarkerBlock(this.topBlock)),!u)throw Error("Cannot show the insertion marker because there is no insertion marker block");d=u.getMatchingConnection(t.getSourceBlock(),t)}if(!d)throw Error("Cannot show the insertion marker because there is no associated connection");if(d===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");u.queueRender(),Nr(),d.connect(r);const g={x:r.x-d.x,y:r.y-d.y},y=d.getOffsetInBlock().clone(),B=d;zn().then(()=>{let ae;(ae=u)==null||ae.positionNearConnection(B,g,y);let xe;(xe=u)==null||xe.getSvgRoot().setAttribute("visibility","visible")}),this.markerConnection=d}hideInsertionMarker(){if(this.markerConnection){var e=this.markerConnection,t=e.getSourceBlock(),r=t.outputConnection,u;if((u=t.previousConnection)!=null&&u.targetConnection||r!=null&&r.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}if(e.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(e=t.getSvgRoot())&&e.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){o.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{o.enable$$module$build$src$core$events$utils()}}}};(function(e){e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}),e[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(So),So.PREVIEW_TYPE;var lg=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const r=this.getConstants();r.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=r.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new ig}makeRenderInfo_(e){return new Pp(this,e)}makeDrawer_(e,t){return new og(e,t)}makeMarkerDrawer(e,t){return new Um(e,this.getConstants(),t)}makePathObject(e,t){return new sg(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,r){return!!ct.getConnectionForOrphanedConnection(e,r===Pe.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,r){return k("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===Pe.OUTPUT_VALUE||t.type===Pe.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(r,e.targetBlock(),t.type)?So.PREVIEW_TYPE.INSERTION_MARKER:So.PREVIEW_TYPE.REPLACEMENT_FADE:So.PREVIEW_TYPE.INSERTION_MARKER}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},gt={};gt.BottomRow=Am,gt.Connection=hl,gt.ConstantProvider=ig,gt.Drawer=og,gt.ExternalValueInput=rg,gt.Field=gd,gt.Hat=Dm,gt.Icon=aT,gt.InRowSpacer=gi,gt.InlineInput=Nm,gt.InputConnection=lu,gt.InputRow=Mm,gt.JaggedEdge=dT,gt.MarkerSvg=Um,gt.Measurable=rs,gt.NextConnection=hT,gt.OutputConnection=pT,gt.PathObject=sg,gt.PreviousConnection=fT,gt.RenderInfo=Pp,gt.Renderer=lg,gt.RoundCorner=Mp,gt.Row=Dp,gt.SpacerRow=xm,gt.SquareCorner=xp,gt.StatementInput=Np,gt.TopRow=Pm,gt.Types=G,gt.init=Kh,gt.register=Di,gt.unregister=Aa;var mT=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&S(e,t),(t=this.theme.getClassName())&&Be(e,t));for(let r=0,u;u=this.subscribedWorkspaces[r];r++)u.refreshTheme();for(const[r,u]of this.componentDB)for(const d of u){e=d.element,t=d.propertyName;const g=this.theme&&this.theme.getComponentStyle(r);e.style.setProperty(t,g||"")}for(const r of this.subscribedWorkspaces)r.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces.push(e)}unsubscribeWorkspace(e){if(!jt(this.subscribedWorkspaces,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,r){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:r}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(r,t||"")}unsubscribe(e){if(e)for(const[t,r]of this.componentDB){for(let u=r.length-1;0<=u;u--)r[u].element===e&&r.splice(u,1);r.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces.length=0,this.componentDB.clear()}},Hm="VARIABLE_DYNAMIC",$d={CATEGORY_NAME:Hm};$d.flyoutCategory=Ju,$d.flyoutCategoryBlocks=jo,$d.onCreateVariableButtonClick_Colour=Da,$d.onCreateVariableButtonClick_Number=Hl,$d.onCreateVariableButtonClick_String=Ps;var $T=30,Nc=[];Nc[Pe.INPUT_VALUE]=Pe.OUTPUT_VALUE,Nc[Pe.OUTPUT_VALUE]=Pe.INPUT_VALUE,Nc[Pe.NEXT_STATEMENT]=Pe.PREVIOUS_STATEMENT,Nc[Pe.PREVIOUS_STATEMENT]=Pe.NEXT_STATEMENT;var Vm="RENAME_VARIABLE_ID",Gm="DELETE_VARIABLE_ID",_T=class{canConnect(e,t,r,u){return this.canConnectWithReason(e,t,r,u)===ct.CAN_CONNECT}canConnectWithReason(e,t,r,u){const d=this.doSafetyChecks(e,t);return d!==ct.CAN_CONNECT?d:this.doTypeChecks(e,t)?r&&!this.doDragChecks(e,t,u||0)?ct.REASON_DRAG_CHECKS_FAILED:ct.CAN_CONNECT:ct.REASON_CHECKS_FAILED}getErrorMessage(e,t,r){switch(e){case ct.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case ct.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case ct.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case ct.REASON_TARGET_NULL:return"Target connection is null.";case ct.REASON_CHECKS_FAILED:return"Connection checks failed. "+(t+" expected "+t.getCheck()+", found "+r.getCheck());case ct.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case ct.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case ct.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return ct.REASON_TARGET_NULL;let r,u,d;return e.isSuperior()?(r=e.getSourceBlock(),u=t.getSourceBlock(),d=t):(u=e.getSourceBlock(),r=t.getSourceBlock(),d=e,e=t),r===u?ct.REASON_SELF_CONNECTION:d.type!==Nc[e.type]?ct.REASON_WRONG_TYPE:r.workspace!==u.workspace?ct.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!u.isShadow()?ct.REASON_SHADOW_PARENT:d.type===Pe.OUTPUT_VALUE&&u.previousConnection&&u.previousConnection.isConnected()||d.type===Pe.PREVIOUS_STATEMENT&&u.outputConnection&&u.outputConnection.isConnected()?ct.REASON_PREVIOUS_AND_OUTPUT:ct.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let r=0;r<e.length;r++)if(t.includes(e[r]))return!0;return!1}doDragChecks(e,t,r){if(e.distanceFrom(t)>r||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case Pe.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case Pe.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Pe.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Pe.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return!Zn.includes(t)}canConnectToPrevious_(e,t){return e.targetConnection||Zn.includes(t)?!1:t.targetConnection?(e=t.targetBlock(),e.isInsertionMarker()?!e.getPreviousBlock():!1):!0}};c($e.CONNECTION_CHECKER,Er,_T);var Wm=class extends vc{constructor(e){super(e),this.type=te.VAR_DELETE,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Wm),t.varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};c($e.EVENT,te.VAR_DELETE,Wm);var jm=class extends vc{constructor(e,t){super(e),this.type=te.VAR_RENAME,e&&(this.oldName=e.name,this.newName=typeof t>"u"?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new jm),t.oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};c($e.EVENT,te.VAR_RENAME,jm);var zm=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var r=this.getVariable(t,e.type),u=this.workspace.getAllBlocks(!1),d=o.getGroup$$module$build$src$core$events$utils();d||o.setGroup$$module$build$src$core$events$utils(!0);try{r&&r.getId()!==e.getId()?this.renameVariableWithConflict(e,t,r,u):this.renameVariableAndUses(e,t,u)}finally{o.setGroup$$module$build$src$core$events$utils(d)}}}renameVariableById(e,t){const r=this.getVariableById(e);if(!r)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(r,t)}renameVariableAndUses(e,t,r){for(pe(new(C(te.VAR_RENAME))(e,t)),e.name=t,t=0;t<r.length;t++)r[t].updateVarName(e)}renameVariableWithConflict(e,t,r,u){const d=e.type;for(t!==r.name&&this.renameVariableAndUses(r,t,u),t=0;t<u.length;t++)u[t].renameVarById(e.getId(),r.getId());pe(new(C(te.VAR_DELETE))(e)),jt(this.variableMap.get(d),e)}createVariable(e,t,r){var u=this.getVariable(e,t);if(u){if(r&&u.getId()!==r)throw Error('Variable "'+e+'" is already in use and its id is "'+u.getId()+'" which conflicts with the passed in id, "'+r+'".');return u}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');return u=r||P(),t=t||"",u=new tu(this.workspace,e,t,u),e=this.variableMap.get(t)||[],e.push(u),this.variableMap.delete(t),this.variableMap.set(t,e),pe(new(C(te.VAR_CREATE))(u)),u}deleteVariable(e){const t=e.getId(),r=this.variableMap.get(e.type);if(r){for(let u=0;u<r.length;u++)if(r[u].getId()===t){r.splice(u,1),pe(new(C(te.VAR_DELETE))(e)),r.length===0&&this.variableMap.delete(e.type);break}}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var r=t.name;const u=this.getVariableUsesById(e);for(let d=0,g;g=u[d];d++)if(g.type==="procedures_defnoreturn"||g.type==="procedures_defreturn"){e=String(g.getFieldValue("NAME")),r=o.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",r).replace("%2",e),bu(r);return}1<u.length?(r=o.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(u.length)).replace("%2",r),at(r,d=>{d&&t&&this.deleteVariableInternal(t,u)})):this.deleteVariableInternal(t,u)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const r=o.getGroup$$module$build$src$core$events$utils();r||o.setGroup$$module$build$src$core$events$utils(!0);try{for(let u=0;u<t.length;u++)t[u].dispose(!0);this.deleteVariable(e)}finally{o.setGroup$$module$build$src$core$events$utils(r)}}getVariable(e,t){if(t=this.variableMap.get(t||"")){for(let r=0,u;u=t[r];r++)if(o.Names$$module$build$src$core$names.equals(u.name,e))return u}return null}getVariableById(e){for(const t of this.variableMap.values())for(const r of t)if(r.getId()===e)return r;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const r of e.getPotentialVariableMap().variableMap.keys())t.add(r);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(e=>e.name)}getVariableUsesById(e){const t=[],r=this.workspace.getAllBlocks(!1);for(let u=0;u<r.length;u++){const d=r[u].getVarModels();if(d)for(let g=0;g<d.length;g++)d[g].getId()===e&&t.push(r[u])}return t}},_d=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new cT,this.potentialVariableMap=null,this.id=P(),Q(this),this.options=e||new Gi({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(w($e.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new zm(this)}dispose(){this.listeners.length=0,this.clear(),Re(this)}sortObjects(e,t){const r=Math.sin(Bo(_d.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+r*e.x-(t.y+r*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!jt(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){jt(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects.bind(this)),e.filter(r=>!r.isInsertionMarker())):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!jt(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let r=0;r<t.length;r++)e.push(...t[r].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter(r=>!r.isInsertionMarker())}clear(){this.isClearing=!0;try{const e=o.getGroup$$module$build$src$core$events$utils();for(e||o.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();o.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,r){return this.variableMap.createVariable(e,t,r)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(this.options.maxInstances[e]!==void 0?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const r in e){if(e[r]>this.remainingCapacityOfType(r))return!1;t+=e[r]}return!(t>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,r=e?this.undoStack_:this.redoStack_;const u=t.pop();if(u){for(var d=[u];t.length&&u.group&&u.group===t[t.length-1].group;){const g=t.pop();g&&d.push(g)}for(t=0;t<d.length;t++)r.push(d[t]);o.setRecordUndo$$module$build$src$core$events$utils(!1);try{for(r=0;r<d.length;r++)d[r].run(e)}finally{o.setRecordUndo$$module$build$src$core$events$utils(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,Ne()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){jt(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return(t=this.commentDB.get(e))!=null?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let r=0;r<t.length;r++)if(!t[r].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new zm(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return Y(e)}static getAll(){return R()}};_d.SCAN_ANGLE=3;var dS=100,TT=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var r=new globalThis.Audio}catch{return}for(let d=0;d<e.length;d++){const g=e[d],y=g.match(/\.(\w+)$/);if(y&&r.canPlayType("audio/"+y[1])){var u=new globalThis.Audio(g);break}}u&&this.sounds.set(t,u)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(t!==void 0?t.then(e.pause).catch(function(){}):e.pause(),hc||_p)break}}play(e,t){if(!this.muted){var r=this.sounds.get(e);r?(e=new Date,this.lastSound!==null&&e.getTime()-this.lastSound.getTime()<dS||(this.lastSound=e,r=hc||dc?r:r.cloneNode(),r.volume=t===void 0?1:t,r.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},hS=20,ji=class extends _d{constructor(e){super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.visible=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(w($e.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||ji.setTopLevelWorkspaceMetrics,this.componentManager=new At,this.connectionDBList=pd.init(this.connectionChecker),this.audioManager=new TT(e.parentWorkspace),this.grid=this.options.gridPattern?new km(this.options.gridPattern,e.gridOptions):null,this.markerManager=new ol(this),bs&&this.registerToolboxCategoryCallback(Sc,bs),Ju&&this.registerToolboxCategoryCallback(Hm,Ju),kr&&Ai&&(this.registerToolboxCategoryCallback(ng,Ai),this.addChangeListener(Ku)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new mT(this,this.options.theme||qf),this.themeManager_.subscribeWorkspace(this);let t;this.renderer=Kh(this.options.renderer||"geras",this.getTheme(),(t=this.options.rendererOverrides)!=null?t:void 0),this.cachedParentSvgSize=new Ee(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=qf),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles(this.getAllBlocks(!1).filter(t=>!!t.getStyleName())),this.refreshToolboxSelection(),this.toolbox&&this.toolbox.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(C(te.THEME_CHANGE))(this.getTheme().name,this.id);pe(e)}updateBlockStyles(e){for(let t=0,r;r=e[t];t++){const u=r.getStyleName();u&&r.setStyle(u)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.visible}getSvgXY(e){let t=0,r=0,u=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(u=this.scale);do{const d=pt(e);(e===this.getCanvas()||e===this.getBubbleCanvas())&&(u=1),t+=d.x*u,r+=d.y*u,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new be(t,r)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new Ee(e.width,e.height)}getOriginOffsetInPixels(){return ht(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if((" "+(e.getAttribute("class")||"")+" ").includes(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=t??null),this.svgGroup_=le(K.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=le(K.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),e==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new rS(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(Ge(this.svgGroup_,"pointerdown",this,this.onMouseDown,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),Ge(this.svgGroup_,"wheel",this,this.onMouseWheel)),this.options.hasCategories&&(this.toolbox=new(w($e.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=w($e.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&j(this.svgGroup_),this.toolbox&&(this.toolbox.dispose(),this.toolbox=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&j(e.parentNode)}this.resizeHandlerWrapper&&(it(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=ji.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new jf(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new Gi({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(w($e.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(w($e.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox?this.toolbox.getFlyout():null}getToolbox(){return this.toolbox}updateScreenCalculations(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox&&this.toolbox.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(At.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),r=[];for(let u=0,d;d=e[u];u++){d.position(t,r);const g=d.getBoundingRectangle();g&&r.push(g)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations()}updateScreenCalculationsIfScrolled(){const e=Ht();be.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const r=this.getParentSvg();e!=null&&(this.cachedParentSvgSize.width=e,r.setAttribute("data-cached-width",`${e}`)),t!=null&&(this.cachedParentSvgSize.height=t,r.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if(e.tagName==="svg"){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(Le()){var e=this.scale,t=-this.scrollY,r=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(r-this.oldLeft))){var u=new(C(te.VIEWPORT_CHANGE))(t,r,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=r,pe(u)}}}translate(e,t){let r;(r=this.layerManager)==null||r.translateLayers(new be(e,t),this.scale);let u;(u=this.grid)==null||u.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.visible=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox&&this.toolbox.setVisible(e),e||this.hideChaff(!0))}render(){const e=this.getAllBlocks(!1);for(let t=e.length-1;0<=t;t--)e[t].queueRender();this.getTopBlocks().flatMap(t=>t.getDescendants(!1)).filter(t=>t.isInsertionMarker()).forEach(t=>t.queueRender()),zn().then(()=>void this.markerManager.updateMarkers())}highlightBlock(e,t){if(t===void 0){for(let r=0,u;u=this.highlightedBlocks[r];r++)u.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=t===void 0||t)?this.highlightedBlocks.includes(e)||this.highlightedBlocks.push(e):jt(this.highlightedBlocks,e),e.setHighlighted(t))}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox&&e.toolbox.getFlyout()&&e.toolbox.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,r){return e=super.createVariable(e,t,r),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(At.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t=0,r;r=e[t];t++){const u=r.getClientRect();u&&this.dragTargetAreas.push({component:r,clientRect:u})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}newComment(e){throw Error("The implementation of newComment should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t=0,r;r=this.dragTargetAreas[t];t++)if(r.clientRect.contains(e.clientX,e.clientY))return r.component;return null}onMouseDown(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){Hu(this,e,t)}moveDrag(e){return Vu(this,e)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel(e){if(ll.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||r){var u=Lr(e);if(pc)var d=e.metaKey;t&&(e.ctrlKey||d||!r)?(u=-u.y/50,t=$n(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,u)):(t=this.scrollX-u.x,r=this.scrollY-u.y,e.shiftKey&&!u.x&&(t=this.scrollX-u.y,r=this.scrollY),this.scroll(t,r)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new ft(0,0,0,0);const t=e[0].getBoundingRectangle();for(let u=1;u<e.length;u++){var r=e[u];r.isInsertionMarker&&r.isInsertionMarker()||(r=r.getBoundingRectangle(),r.top<t.top&&(t.top=r.top),r.bottom>t.bottom&&(t.bottom=r.bottom),r.left<t.left&&(t.left=r.left),r.right>t.right&&(t.right=r.right))}return t}cleanUp(){this.setResizesEnabled(!1),o.setGroup$$module$build$src$core$events$utils(!0);var e=this.getTopBlocks(!0),t=e.filter(g=>g.isMovable());const r=e.filter(g=>!g.isMovable()).map(g=>g.getBoundingRectangle());e=function(g){for(const y of r)if(g.intersects(y))return y;return null};var u=0;const d=this.renderer.getConstants().MIN_BLOCK_HEIGHT;for(const g of t){for(t=g.getBoundingRectangle(),g.moveBy(-t.left,u-t.top,["cleanup"]),g.snapToGrid(),t=g.getBoundingRectangle(),u=e(t);u!=null;)u=u.top+u.getHeight()+d,g.moveBy(0,u-t.top,["cleanup"]),g.snapToGrid(),t=g.getBoundingRectangle(),u=e(t);u=g.getRelativeToSurfaceXY().y+g.getHeightWidth().height+d}o.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=U.registry.getContextMenuOptions(U.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),Dl(e,t,this.RTL,this)}}updateToolbox(e){if(e=mu(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(_u(e)){if(!this.toolbox)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Ue(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,r){r=Math.pow(this.options.zoomOptions.scaleSpeed,r);const u=this.scale*r;if(this.scale!==u){u>this.options.zoomOptions.maxScale?r=this.options.zoomOptions.maxScale/this.scale:u<this.options.zoomOptions.minScale&&(r=this.options.zoomOptions.minScale/this.scale);var d=this.getCanvas().getCTM(),g=this.getParentSvg().createSVGPoint();g.x=e,g.y=t,g=g.matrixTransform(d.inverse()),e=g.x,t=g.y,d=d.translate(e*(1-r),t*(1-r)).scale(r),this.scrollX=d.e,this.scrollY=d.f,this.setScale(u)}}zoomCenter(e){var t=this.getMetrics();let r;this.flyout?(r=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(r=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(r,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var r=this.getBlocksBoundingBox(),u=2*hS,d=r.right-r.left+u;if(r=r.bottom-r.top+u,d){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),r+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),d+=this.flyout.getWidth()/this.scale)),t/=d,e/=r,o.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{o.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){Be(this.getCanvas(),"blocklyCanvasTransitioning"),Be(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){S(this.getCanvas(),"blocklyCanvasTransitioning"),S(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,r=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,r=-r-e.scrollTop,this.scroll(t,r)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var r=e?this.getBlockById(e):null;if(r){e=r.getRelativeToSurfaceXY(),r=t?{height:r.height,width:r.width}:r.getHeightWidth();var u=this.scale;t=(e.x+(this.RTL?-1:1)*r.width/2)*u,e=(e.y+r.height/2)*u,r=this.getMetrics(),this.scroll(-(t-r.viewWidth/2),-(e-r.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const r=this.getMetrics();e=Math.min(e,-r.scrollLeft),t=Math.min(t,-r.scrollTop);const u=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);e=Math.max(e,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),t=Math.max(t,-u),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+r.scrollLeft),-(t+r.scrollTop),!1),e+=r.absoluteLeft,t+=r.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){jt(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if(typeof t!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return(t=this.flyoutButtonCallbacks.get(e))!=null?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if(typeof t!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t=e.type==="pointerdown",r=this.currentGesture_;return r?t&&r.hasStarted()?(console.warn("Tried to start the same gesture twice."),r.cancel(),null):r:t?this.currentGesture_=new ll(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){oo(),wi(this),Ii(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(At.Capability.AUTOHIDEABLE,!0).forEach(t=>t.autoHide(e))}static setTopLevelWorkspaceMetrics(e){const t=this.getMetrics();typeof e.x=="number"&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),typeof e.y=="number"&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},Xm=class extends Ur{constructor(e,t,r){super(r),this.type=te.SELECTED,this.oldElementId=e??void 0,this.newElementId=t??void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Xm),t.oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};c($e.EVENT,te.SELECTED,Xm);var Bp=class{paste(e,t,r){if(!t.isCapacityAvailable(e.typeCounts))return null;r&&(e.blockState.x=r.x,e.blockState.y=r.y),r=r||new be(e.blockState.x||0,e.blockState.y||0),o.disable$$module$build$src$core$events$utils();let u;try{u=Si(e.blockState,t),Yh(u,r)}finally{o.enable$$module$build$src$core$events$utils()}return u&&(Le()&&!u.isShadow()&&pe(new(C(te.BLOCK_CREATE))(u)),o.setSelected$$module$build$src$core$common(u),u)}};Bp.TYPE="block",gr(Bp.TYPE,new Bp);var ug={};ug.bumpIntoBounds=ri,ug.bumpIntoBoundsHandler=Zu,ug.bumpTopObjectsIntoBounds=Vl;var ET=class{constructor(e){this.block=e,this.connectionPreviewer=this.connectionCandidate=this.startLoc=this.startChildConn=this.startParentConn=null,this.dragging=!1,this.dragOffset=new be(0,0),this.inGroup=!1,this.workspace=e.workspace}isMovable(){if(this.block.isShadow()){let e,t;return(t=(e=this.block.getParent())==null?void 0:e.isMovable())!=null?t:!1}return this.block.isOwnMovable()&&!this.block.isDeadOrDying()&&!this.workspace.options.readOnly&&!this.block.isInFlyout}startDrag(e){if(this.block.isShadow())this.startDraggingShadow(e);else{this.dragging=!0,(this.inGroup=!!o.getGroup$$module$build$src$core$events$utils())||o.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent(),this.startLoc=this.block.getRelativeToSurfaceXY(),this.connectionCandidate=null,this.connectionPreviewer=new(w($e.CONNECTION_PREVIEWER,this.workspace.options))(this.block),Bn(),this.workspace.setResizesEnabled(!1),Bl(),e=!!e&&(e.altKey||e.ctrlKey||e.metaKey),this.shouldDisconnect(e)&&this.disconnectBlock(e),this.block.setDragging(!0);var t;(t=this.workspace.getLayerManager())==null||t.moveToDragLayer(this.block)}}startDraggingShadow(e){const t=this.block.getParent();if(!t)throw Error("Tried to drag a shadow block with no parent. Shadow blocks should always have parents.");this.dragOffset=be.difference(t.getRelativeToSurfaceXY(),this.block.getRelativeToSurfaceXY()),t.startDrag(e)}shouldDisconnect(e){return!!(this.block.getParent()||e&&this.block.nextConnection&&this.block.nextConnection.targetBlock())}disconnectBlock(e){let t,r,u;if(this.startParentConn=(u=(t=this.block.outputConnection)==null?void 0:t.targetConnection)!=null?u:(r=this.block.previousConnection)==null?void 0:r.targetConnection,e){let d;this.startChildConn=(d=this.block.nextConnection)==null?void 0:d.targetConnection}this.block.unplug(e),Gu(this.block)}fireDragStartEvent(){const e=new(C(te.BLOCK_DRAG))(this.block,!0,this.block.getDescendants(!1));pe(e)}fireDragEndEvent(){const e=new(C(te.BLOCK_DRAG))(this.block,!1,this.block.getDescendants(!1));pe(e)}fireMoveEvent(){if(!this.block.isDeadOrDying()){var e=new(C(te.BLOCK_MOVE))(this.block);e.setReason(["drag"]),e.oldCoordinate=this.startLoc,e.recordNew(),pe(e)}}drag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.drag(be.sum(e,this.dragOffset))}else this.block.moveDuringDrag(e),this.updateConnectionPreview(this.block,be.difference(e,this.startLoc))}updateConnectionPreview(e,t){var r=this.connectionCandidate;const u=this.getConnectionCandidate(e,t);if(u){this.connectionCandidate=t=r&&this.currCandidateIsBetter(r,t,u)?r:u;var{local:d,neighbour:g}=t;t=d.type===Pe.OUTPUT_VALUE||d.type===Pe.PREVIOUS_STATEMENT,r=g.isConnected()&&!g.targetBlock().isInsertionMarker(),t&&r&&!this.orphanCanConnectAtEnd(e,g.targetBlock(),d.type)?this.connectionPreviewer.previewReplacement(d,g,g.targetBlock()):this.connectionPreviewer.previewConnection(d,g)}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,t,r){return!!ct.getConnectionForOrphanedConnection(e,r===Pe.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,r){const{local:u,neighbour:d}=e;e=new be(u.x,u.y);const g=new be(d.x,d.y);return t=be.distance(be.sum(e,t),g),r.distance>t-o.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let r=this.connectionCandidate?o.config$$module$build$src$core$config.connectingSnapRadius:o.config$$module$build$src$core$config.snapRadius,u=null;for(const d of e){const{connection:g,radius:y}=d.closest(r,t);g&&(u={local:d,neighbour:g,distance:y},r=y)}return u}getLocalConnections(e){const t=e.getConnections_(!1),r=e.lastConnectionInStack(!0);return r&&r!==e.nextConnection&&t.push(r),t}endDrag(e){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.endDrag(e)}else{if(this.fireDragEndEvent(),this.fireMoveEvent(),Jr(),Bl(),this.connectionPreviewer.hidePreview(),!this.block.isDeadOrDying()&&this.dragging){let t;(t=this.workspace.getLayerManager())==null||t.moveOffDragLayer(this.block,Z),this.block.setDragging(!1)}this.connectionCandidate?(this.applyConnections(this.connectionCandidate),this.disposeStep()):this.block.queueRender().then(()=>this.disposeStep()),this.inGroup||o.setGroup$$module$build$src$core$events$utils(!1)}}disposeStep(){this.block.snapToGrid(),this.connectionPreviewer.dispose(),this.workspace.setResizesEnabled(!0)}applyConnections(e){const{local:t,neighbour:r}=e;t.connect(r);const u=t.isSuperior()?r:t,d=this.block.getRootBlock();zn().then(()=>{xr(u.getSourceBlock()),setTimeout(()=>{d.bringToFront()},0)})}revertDrag(){if(this.block.isShadow()){let t;(t=this.block.getParent())==null||t.revertDrag()}else{var e;if((e=this.startChildConn)==null||e.connect(this.block.nextConnection),this.startParentConn)switch(this.startParentConn.type){case Pe.INPUT_VALUE:this.startParentConn.connect(this.block.outputConnection);break;case Pe.NEXT_STATEMENT:this.startParentConn.connect(this.block.previousConnection)}else{this.block.moveTo(this.startLoc,["drag"]);let t;(t=this.workspace.getLayerManager())==null||t.moveOffDragLayer(this.block,Z),ri(this.workspace,this.workspace.getMetricsManager().getScrollMetrics(!0),this.block)}this.startParentConn=this.startChildConn=null,this.connectionPreviewer.hidePreview(),this.connectionCandidate=null,this.block.setDragging(!1),this.dragging=!1}}},bT=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},Km=class extends bT{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===he.types.NEXT||e.getType()===he.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;(e.getType()===he.types.PREVIOUS||e.getType()===he.types.OUTPUT)&&(e=e.next());let t,r;return(e=(r=(t=e)==null?void 0:t.in())!=null?r:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===he.types.NEXT||e.getType()===he.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===he.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};c($e.CURSOR,Er,Km);var Fp=class extends Km{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const r=e.in()||e.next();return t(r)?r:r?this.getNextNode_(r,t):(e=this.findSiblingOrParent(e.out()),t(e)?e:e?this.getNextNode_(e,t):null)}getPreviousNode_(e,t){if(!e)return null;let r=e.prev();return r=r?this.getRightMostChild(r):e.out(),t(r)?r:r?this.getPreviousNode_(r,t):null}validNode_(e){let t=!1;return e=e&&e.getType(),(e===he.types.OUTPUT||e===he.types.INPUT||e===he.types.FIELD||e===he.types.NEXT||e===he.types.PREVIOUS||e===he.types.WORKSPACE)&&(t=!0),t}findSiblingOrParent(e){if(!e)return null;const t=e.next();return t||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};Fp.registrationName="basicCursor",c($e.CURSOR,Fp.registrationName,Fp);var yT=class extends Fp{validNode_(e){let t=!1;const r=e&&e.getType();return e&&(e=e.getLocation(),r===he.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},vT=10,Wr=class extends ct{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[Nc[t]],this.offsetInBlock=new be(0,0),this.trackedState=Wr.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Wr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y);let e,t;(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)==null||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e,t=!1){if(!this.sourceBlock_.workspace.isDragging()){var r=o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*vT),u=o.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*vT),d=e.sourceBlock_.getRootBlock(),g=this.sourceBlock_.getRootBlock();if(!d.isInFlyout&&!g.isInFlyout){var y=!0;if(g.isMovable())d.isMovable()&&t&&(u=-u);else if(d.isMovable())y=!1,r=-r,u=-u;else return;t=y?e:this,e=y?this:e,d=y?g:d,(g=Oe()===d)||d.addSelect(),d.RTL&&(r=-r),d.moveBy(t.x+r-e.x,t.y+u-e.y,["bump"]),g||d.removeSelect()}}}moveTo(e,t){let r=!1;return this.trackedState===Wr.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Wr.TrackedState.TRACKED,r=!0):this.trackedState===Wr.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),r=!0),this.x=e,this.y=t,r}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=be.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===Wr.TrackedState.TRACKED||!e&&this.trackedState===Wr.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Wr.TrackedState.TRACKED):(this.trackedState===Wr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Wr.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const r=e[t],u=r.getConnections_(!0);for(let d=0;d<u.length;d++)u[d].setTracking(!1);for(const d of r.getIcons())Po(d)&&d.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Pe.INPUT_VALUE&&this.type!==Pe.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let r;t.isCollapsed()?(r=[],t.outputConnection&&r.push(t.outputConnection),t.nextConnection&&r.push(t.nextConnection),t.previousConnection&&r.push(t.previousConnection)):r=t.getConnections_(!0);for(let u=0;u<r.length;u++)e.push(...r[u].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(re()){const r=o.getGroup$$module$build$src$core$events$utils();setTimeout((function(){t.isDisposed()||t.getParent()||(o.setGroup$$module$build$src$core$events$utils(r),this.bumpAwayFrom(e),o.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),o.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:r}=this.getParentAndChildConnections();if(t&&r){var u=o.getGroup$$module$build$src$core$events$utils();u||o.setGroup$$module$build$src$core$events$utils(!0);var d=t.getSourceBlock(),g=r.getSourceBlock();super.disconnectInternal(e),d.queueRender(),g.updateDisabled(),g.queueRender(),g.getSvgRoot().style.display="block",o.setGroup$$module$build$src$core$events$utils(u)}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock(),t.updateDisabled(),e.updateDisabled(),e.queueRender(),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return super.setCheck(e),this.sourceBlock_.queueRender(),this}};(function(e){e=e.TrackedState||(e.TrackedState={}),e[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"})(Wr),Wr.TrackedState;var zi=class extends uu{constructor(e,t,r){if(super(e,t,r),this.childlessWidth=this.width=this.height=0,this.warningTextDb=new Map,this.mutator=null,this.rendered=!0,this.visuallyDisabled=!1,this.translation="",this.dragging=!1,this.relativeCoords=new be(0,0),this.dragStrategy=new ET(this),!e.rendered)throw TypeError("Cannot create a rendered block in a headless workspace");this.workspace=e,this.svgGroup=le(K.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup,this.style),e=this.pathObject.svgPath,e.tooltip=this,Rl(e),this.svgGroup.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.initialized){for(var e of this.inputList)e.init();for(const t of this.getIcons())t.initView(this.createIconPointerDownListener(t)),t.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()||this.isInFlyout),e=this.getSvgRoot(),!this.workspace.options.readOnly&&e&&Ge(e,"pointerdown",this,this.onMouseDown),e.parentNode||this.workspace.getCanvas().appendChild(e),this.initialized=!0}}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()){let e;(e=this.getParent())==null||e.select()}else this.addSelect()}unselect(){if(this.isShadow()){let e;(e=this.getParent())==null||e.unselect()}else this.removeSelect()}setParent(e){const t=this.parentBlock_;if(e!==t){Bn(),super.setParent(e),Jr();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var u=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(r):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(r,e):this.workspace.getCanvas().appendChild(r),this.translate(u.x,u.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,r=0,u=this.getSvgRoot();if(u)do{const d=pt(u);t+=d.x,r+=d.y,u=u.parentNode}while(u&&!e.hasLayer(u));return new be(t,r)}moveBy(e,t,r){if(this.parentBlock_)throw Error("Block has parent");const u=Le();let d=null;u&&(d=new(C(te.BLOCK_MOVE))(this),r&&d.setReason(r)),e=new be(e,t),t=this.getRelativeToSurfaceXY(),e=be.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),u&&d&&(d.recordNew(),pe(d)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new be(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const r=this.getRelativeToSurfaceXY();this.moveBy(e.x-r.x,e.y-r.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!this.isDeadOrDying()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e!=null&&e.shouldSnap()){var t=this.getRelativeToSurfaceXY();e=e.alignXY(t),e!==t&&this.moveTo(e,["snap"])}}}getBoundingRectangle(){return this.getBoundingRectangleWithDimensions(this.getHeightWidth())}getBoundingRectangleWithoutChildren(){return this.getBoundingRectangleWithDimensions({height:this.height,width:this.childlessWidth})}getBoundingRectangleWithDimensions(e){const t=this.getRelativeToSurfaceXY();let r,u;return this.RTL?(r=t.x-e.width,u=t.x):(r=t.x,u=t.x+e.width),new ft(t.y,t.y+e.height,r,u)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e=0,t;t=this.inputList[e];e++)t.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed())}updateCollapsed(){var e=this.isCollapsed();const t=Ir,r=Zs;for(let d=0,g;g=this.inputList[d];d++)g.name!==t&&g.setVisible(!e);for(var u of this.getIcons())u.updateCollapsed();e?(e=this.toString($T),(u=this.getField(r))?u.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new Dc(e),r)):(this.updateDisabled(),this.removeInput(t))}tab(e,t){const r=new yT;r.setCurNode(he.createFieldNode(e)),e=r.getCurNode(),t?r.next():r.prev(),(t=r.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=U.registry.getContextMenuOptions(U.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(Dl(e,t,this.RTL,this.workspace),$a(this))}updateComponentLocations(e){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(be.sum(e,t.relativeCoords))}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const r of t.fieldRow)r.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",Zn.push(...this.getConnections_(!0)),Be(this.svgGroup,"blocklyDragging")):(Zn.length=0,S(this.svgGroup,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup}dispose(e,t){if(this.disposing=!0,Os(),Uu(),t&&(this.unplug(e),$r(this)),t=Oe(),t instanceof uu){let r=t;for(;r!==null;)r===this&&t.unselect(),r=r.getParent()}super.dispose(!!e),j(this.svgGroup)}disposeInternal(){this.disposing=!0,super.disposeInternal(),Oe()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(e=>clearTimeout(e)),this.warningTextDb.clear(),this.getIcons().forEach(e=>e.dispose())}checkAndDelete(){this.workspace.isFlyout||(o.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),o.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:Bp.TYPE,blockState:On(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:$t(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let t=0,r;r=this.inputList[t];t++)for(let u=0,d;d=r.fieldRow[u];u++)d.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let t;(t=this.getNextBlock())==null||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const t of this.getChildren(!1))t.updateDisabled()}}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var r of this.warningTextDb.values())clearTimeout(r);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))},100));else if(this.isInFlyout&&(e=null),r=this.getIcon(dl.TYPE),e){let u=this.getSurroundParent(),d=null;for(;u;)u.isCollapsed()&&(d=u),u=u.getSurroundParent();d&&d.setWarningText(o.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,zi.COLLAPSED_WARNING_ID),r?r.addMessage(e,t):this.addIcon(new dl(this).addMessage(e,t))}else r&&(t?(r.addMessage("",t),r.getText()||this.removeIcon(dl.TYPE)):this.removeIcon(dl.TYPE))}setMutator(e){this.removeIcon(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof o.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(o.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.queueRender(),t}setEnabled(e){k("setEnabled","v11","v12","the setDisabledReason method of BlockSvg");const t=this.isEnabled();super.setEnabled(e),this.isEnabled()===t||this.getInheritedDisabled()||this.updateDisabled()}setDisabledReason(e,t){const r=this.isEnabled();super.setDisabledReason(e,t),this.isEnabled()===r||this.getInheritedDisabled()||this.updateDisabled()}setHighlighted(e){this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,t)this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour();else throw Error("Invalid style name: "+e)}bringToFront(e=!1){let t=this;if(!t.isDeadOrDying())do{const r=t.getSvgRoot(),u=r.parentNode,d=u.childNodes;if(d[d.length-1]!==r&&u.appendChild(r),e)break;t=t.getParent()}while(t)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.queueRender()}setNextStatement(e,t){super.setNextStatement(e,t),this.queueRender()}setOutput(e,t){super.setOutput(e,t),this.queueRender()}setInputsInline(e){super.setInputsInline(e),this.queueRender()}removeInput(e,t){return e=super.removeInput(e,t),this.queueRender(),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.queueRender()}appendInput(e){return super.appendInput(e),this.queueRender(),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var r=this.inputList[t].connection;r&&(r.setTracking(e),(r=r.targetBlock())&&r.setConnectionTracking(e))}}getConnections_(e){const t=[];if(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)for(let r=0,u;u=this.inputList[r];r++)u.connection&&t.push(u.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new Wr(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let r;(r=t.targetBlock())==null||r.bumpNeighbours()}for(const r of t.neighbours(o.config$$module$build$src$core$config.snapRadius))r.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&r.isConnected()||(t.isSuperior()?r.bumpAwayFrom(t,!1):t.bumpAwayFrom(r,!0)))}}scheduleSnapAndBump(){this.snapToGrid(),this.bumpNeighbours()}positionNearConnection(e,t,r){if(e.type===Pe.NEXT_STATEMENT||e.type===Pe.INPUT_VALUE){let u=t.x;t=t.y,u+=r.x-e.getOffsetInBlock().x,t+=r.y-e.getOffsetInBlock().y,this.moveBy(u,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return vl(this)}render(){this.queueRender(),Nr()}renderEfficiently(){Bn(),this.isCollapsed()&&this.updateCollapsed(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),Jr(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(ol.LOCAL_MARKER).draw();for(const e of this.inputList)for(const t of e.fieldRow)t.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var r=this.getNextBlock();if(r){r=r.getHeightWidth();const u=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=r.height-u,t=Math.max(t,r.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}setDragStrategy(e){this.dragStrategy=e}isMovable(){return this.dragStrategy.isMovable()}startDrag(e){this.dragStrategy.startDrag(e)}drag(e,t){this.dragStrategy.drag(e,t)}endDrag(e){this.dragStrategy.endDrag(e)}revertDrag(){this.dragStrategy.revertDrag()}toFlyoutInfo(){const e=Object.assign({},{kind:"BLOCK"},On(this)),t=new Set(["id","height","width","pinned","enabled"]),r=function(u){for(const d in u)t.has(d)?delete u[d]:typeof u[d]=="object"&&r(u[d])};return r(e),[e]}};zi.INLINE=-1,zi.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var ST=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},cg=class extends ST{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e){return e instanceof zi?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e)):this.updateWouldDelete_(cr(e)&&e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},Ym=class extends Ur{constructor(e,t){super(t),this.type=te.TRASHCAN_OPEN,this.isOpen=e}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new Ym),t.isOpen=e.isOpen,t}};c($e.EVENT,te.TRASHCAN_OPEN,Ym);var IT=class extends cg{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new Gi({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Ke.TOP?Ke.BOTTOM:Ke.TOP,this.flyout=new(w($e.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Ke.RIGHT?Ke.LEFT:Ke.RIGHT,this.flyout=new(w($e.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=le(K.G,{class:"blocklyTrash"});let e;const t=String(Math.random()).substring(2);e=le(K.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),le(K.RECT,{width:Td,height:ag,y:Ed},e);const r=le(K.IMAGE,{width:Hn.width,x:-0,height:Hn.height,y:-32,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return r.setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),e=le(K.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),le(K.RECT,{width:Td,height:Ed},e),this.svgLid=le(K.IMAGE,{width:Hn.width,x:-0,height:Hn.height,y:-32,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(dr,"xlink:href",this.workspace.options.pathToMedia+Hn.url),st(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),st(this.svgGroup,"pointerup",this,this.click),st(r,"pointerover",this,this.mouseOver),st(r,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(we(this.flyout.createDom(K.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.TRASHCAN_WEIGHT,capabilities:[At.Capability.AUTOHIDEABLE,At.Capability.DELETE_AREA,At.Capability.DRAG_TARGET,At.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&j(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map(function(r){return JSON.parse(r)}),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout(()=>{let r;(r=this.flyout)==null||r.show(e),t.cursor="";let u;(u=this.workspace.scrollbar)==null||u.setVisible(!1)},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var e;(e=this.flyout)==null||e.hide();var t;(t=this.workspace.scrollbar)==null||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var r=yl(this.workspace,e);e=Kc(r,new Ee(Td,ag+Ed),pS,CT,e,this.workspace),t=Eu(e,CT,r.vertical===mo.TOP?$o.DOWN:$o.UP,t),this.top=t.top,this.left=t.left;var u;(u=this.svgGroup)==null||u.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new ft(this.top,this.top+ag+Ed,this.left,this.left+Td)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+gS-dg;return e=e.left+fS-dg,new ft(t,t+Ed+ag+2*dg,e,e+Td+2*dg)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=_S;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*kT),t=wT+this.lidOpen*(TS-wT),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),$S/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===Ke.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let r;(r=this.svgLid)==null||r.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:Td-4)+","+(Ed-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*kT)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(C(te.TRASHCAN_OPEN))(e,this.workspace.id),pe(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||!z(e)||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),!this.contents.includes(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(mS)}}}cleanBlockJson(e){function t(r){if(r){if(delete r.id,delete r.x,delete r.y,delete r.enabled,delete r.disabledReasons,r.icons&&r.icons.comment){var u=r.icons.comment;delete u.height,delete u.width,delete u.pinned}u=r.inputs;for(var d in u){var g=u[d];const y=g.block;g=g.shadow,y&&t(y),g&&t(g)}r.next&&(d=r.next,r=d.block,d=d.shadow,r&&t(r),d&&t(d))}}return e=JSON.parse(JSON.stringify(e)),t(e),Object.assign({},{kind:"BLOCK"},e)}},Td=47,ag=44,Ed=16,CT=20,pS=20,dg=10,fS=0,gS=32,mS=.1,$S=80,_S=4,wT=.4,TS=.8,kT=45,mt=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),t=e.keyCodes,t!=null&&t.length)for(const r of t)this.addKeyMapping(r,e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,r){e=`${e}`;const u=this.keyMap.get(e);if(u&&!r)throw Error(`Shortcut named "${t}" collides with shortcuts "${u}"`);u&&r?u.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,r){const u=this.keyMap.get(e);if(!u)return r||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const d=u.indexOf(t);return-1<d?(u.splice(d,1),u.length===0&&this.keyMap.delete(e),!0):(r||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,r]of this.keyMap)e[t]=r;return e}getRegistry(){const e=Object.create(null);for(const[t,r]of this.shortcuts)e[t]=r;return Tr(Object.create(null),e)}onKeyDown(e,t){var r=this.serializeKeyEvent(t);if(r=this.getShortcutNamesByKeyCode(r),!r)return!1;for(const u of r){if(r=this.shortcuts.get(u),!r||r.preconditionFn&&!r.preconditionFn(e))continue;let d,g;if((g=(d=r).callback)!=null&&g.call(d,e,t,r))return!0}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[r,u]of this.keyMap)-1<u.indexOf(e)&&t.push(r);return t}serializeKeyEvent(e){let t="";for(const r in mt.modifierKeys)e.getModifierState(r)&&(t!==""&&(t+="+"),t+=r);return t!==""&&e.keyCode?t+="+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers(e){for(const t of e)if(!(t in mt.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let r="";if(t){this.checkModifiers(t);for(const u in mt.modifierKeys)t.includes(mt.modifierKeys[u])&&(r!==""&&(r+="+"),r+=u)}return r!==""&&e?r+="+"+e:e&&(r=`${e}`),r}};mt.registry=new mt,function(e){e=e.modifierKeys||(e.modifierKeys={}),e[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(mt);var Jm=null,qm=null,ES={duplicateInternal:Ma,copyInternal:Bs},Up={};Up.BlockPaster=Bp,Up.TEST_ONLY=ES,Up.paste=gn,Up.registry=Jo;var os;(function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"})(os||(os={}));var cu=null,au=null,bd=null;Pa();var ss={};ss.names=os,ss.registerCopy=ec,ss.registerCut=xa,ss.registerDefaultShortcuts=Pa,ss.registerDelete=Ni,ss.registerEscape=ii,ss.registerPaste=oi,ss.registerRedo=Wl,ss.registerUndo=Mi;var bS=class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=rd}save(e){return e=e.getProcedureMap().getProcedures().map(t=>jl(t)),e.length?e:null}load(e,t){const r=t.getProcedureMap();for(const u of e)r.add(Ba(this.procedureModelClass,this.parameterModelClass,u,t))}clear(e){e.getProcedureMap().clear()}},hg={};hg.ProcedureSerializer=bS,hg.loadProcedure=Ba,hg.saveProcedure=jl;var OT=class{constructor(){this.priority=_c}save(e){const t=[];for(const r of e.getAllVariables())e={name:r.name,id:r.getId()},r.type&&(e.type=r.type),t.push(e);return t.length?t:null}load(e,t){for(const r of e)t.createVariable(r.name,r.type,r.id)}clear(e){e.getVariableMap().clear()}};Ao("variables",new OT);var RT={};RT.VariableSerializer=OT;var Qm={};Qm.load=si,Qm.save=zl;var yS={blocks:hi,exceptions:es,priorities:yn,procedures:hg,registry:tn,variables:RT,workspaceComments:Vn,workspaces:Qm},Zm=class{constructor(e,t,r,u,d){this.workspace=e,this.oldHostMetrics=this.corner_=this.vScroll=this.hScroll=null,t=t===void 0?!0:t,r=r===void 0?!0:r;const g=t&&r;t&&(this.hScroll=new Vt(e,!0,g,u,d)),r&&(this.vScroll=new Vt(e,!1,g,u,d)),g&&(this.corner_=le(K.RECT,{height:Vt.scrollbarThickness,width:Vt.scrollbarThickness,class:"blocklyScrollbarBackground"}),we(this.corner_,e.getBubbleCanvas()))}dispose(){j(this.corner_),this.oldHostMetrics=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,r=!1;if(this.oldHostMetrics&&this.oldHostMetrics.viewWidth===e.viewWidth&&this.oldHostMetrics.viewHeight===e.viewHeight&&this.oldHostMetrics.absoluteTop===e.absoluteTop&&this.oldHostMetrics.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics&&this.oldHostMetrics.scrollWidth===e.scrollWidth&&this.oldHostMetrics.viewLeft===e.viewLeft&&this.oldHostMetrics.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics&&this.oldHostMetrics.scrollHeight===e.scrollHeight&&this.oldHostMetrics.viewTop===e.viewTop&&this.oldHostMetrics.scrollTop===e.scrollTop||(r=!0)):r=t=!0,t||r){try{o.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&r&&this.vScroll.resize(e)}finally{o.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft){let u;(u=this.corner_)==null||u.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteTop!==e.absoluteTop){let u;(u=this.corner_)==null||u.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,r){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(r||r===void 0)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},e$=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,r=0;return e&&(t=e.getWidth(),r=e.getHeight()),new Ee(t,r)}getFlyoutMetrics(e){return e=this.getDimensionsPx_(this.workspace_.getFlyout(e)),{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const r=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var g;const y=!((g=this.workspace_.getFlyout())!=null&&g.autoClose);g=d?r.position:u.position;const B=g===Ke.TOP;return g===Ke.LEFT&&(d&&(e+=r.width),y&&(e+=u.width)),B&&(d&&(t+=r.height),y&&(t+=u.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),r=this.getToolboxMetrics(),u=this.getFlyoutMetrics(),d=!!this.workspace_.getToolbox();var g;const y=!((g=this.workspace_.getFlyout())!=null&&g.autoClose);g=d?r.position:u.position;const B=g===Ke.LEFT||g===Ke.RIGHT;return(g===Ke.TOP||g===Ke.BOTTOM)&&(d&&(t.height-=r.height),y&&(t.height-=u.height)),B&&(d&&(t.width-=r.width),y&&(t.width-=u.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),r=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const u={};return r||(u.top=e.top,u.bottom=e.top+e.height),t||(u.left=e.left,u.right=e.left+e.width),u}getPaddedContent_(e,t){const r=t.top+t.height,u=t.left+t.width,d=e.width;e=e.height;const g=d/2,y=e/2;return{top:Math.min(t.top-y,r-e),bottom:Math.max(r+y,t.top+e),left:Math.min(t.left-g,u-d),right:Math.max(u+g,t.left+d)}}getScrollMetrics(e,t,r){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var u=r||this.getContentMetrics();r=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,u),u=r.top!==void 0?r.top:t.top;const d=r.left!==void 0?r.left:t.left;return{top:u/e,left:d/e,width:((r.right!==void 0?r.right:t.right)-d)/e,height:((r.bottom!==void 0?r.bottom:t.bottom)-u)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),r=this.getSvgMetrics(),u=this.getAbsoluteMetrics(),d=this.getViewMetrics(),g=this.getContentMetrics(),y=this.getScrollMetrics(!1,d,g);return{contentHeight:g.height,contentWidth:g.width,contentTop:g.top,contentLeft:g.left,scrollHeight:y.height,scrollWidth:y.width,scrollTop:y.top,scrollLeft:y.left,viewHeight:d.height,viewWidth:d.width,viewTop:d.top,viewLeft:d.left,absoluteTop:u.top,absoluteLeft:u.left,svgHeight:r.height,svgWidth:r.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};c($e.METRICS_MANAGER,Er,e$),"Blockly"in globalThis||(globalThis.Blockly={Msg:od});var LT=class extends ig{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&j(this.selectedGlowFilter),this.replacementGlowFilter&&j(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH,r=Zt("c",[We(25,-e),We(71,-e),We(t,0)]);return{height:e,width:t,path:r}}makeHexagonal(){function e(r,u,d){var g=r/2;return g=g>t?t:g,d=d?-1:1,r=(u?-1:1)*r/2,ei(-d*g,r)+ei(d*g,r)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(r){return r/=2,r>t?t:r},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}makeRounded(){function e(u,d,g){const y=u>r?u-r:0;u=(u>r?r:u)/2;const B=g===d?"0":"1";return kt("a","0 0,"+B,u,We((g?1:-1)*u,(d?-1:1)*u))+Ae("v",(d?-1:1)*y)+kt("a","0 0,"+B,u,We((g?-1:1)*u,(d?-1:1)*u))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width(u){return u/=2,u>t?t:u},height(u){return u},connectionOffsetY(u){return u/2},connectionOffsetX(u){return-u},pathDown(u){return e(u,!1,!1)},pathUp(u){return e(u,!0,!1)},pathRightDown(u){return e(u,!1,!0)},pathRightUp(u){return e(u,!1,!0)}}}makeSquared(){function e(r,u,d){r-=2*t;const g=d===u?"0":"1";return kt("a","0 0,"+g,t,We((d?1:-1)*t,(u?-1:1)*t))+Ae("v",(u?-1:1)*r)+kt("a","0 0,"+g,t,We((d?-1:1)*t,(u?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(r){return t},height(r){return r},connectionOffsetY(r){return r/2},connectionOffsetX(r){return-r},pathDown(r){return e(r,!1,!1)},pathUp(r){return e(r,!0,!1)},pathRightDown(r){return e(r,!1,!0)},pathRightUp(r){return e(r,!1,!0)}}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case Pe.INPUT_VALUE:case Pe.OUTPUT_VALUE:if(e=e.getSourceBlock().getOutputShape(),e!==null)switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&t.includes("Boolean")?this.HEXAGONAL:t&&t.includes("Number")?this.ROUNDED:(t&&t.includes("String"),this.ROUNDED);case Pe.PREVIOUS_STATEMENT:case Pe.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(xe){return Zt("c",[We(xe*d/2,0),We(xe*d*3/4,y/2),We(xe*d,y)])+Fl([We(xe*d,g)])+Zt("c",[We(xe*d/4,y/2),We(xe*d/2,y),We(xe*d,y)])+Ae("h",xe*u)+Zt("c",[We(xe*d/2,0),We(xe*d*3/4,-(y/2)),We(xe*d,-y)])+Fl([We(xe*d,-g)])+Zt("c",[We(xe*d/4,-(y/2)),We(xe*d/2,-y),We(xe*d,-y)])}const t=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,u=t/3,d=u/3,g=r/2,y=g/2,B=e(1),ae=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:r,pathLeft:B,pathRight:ae}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=kt("a","0 0,0",e,We(-e,e)),r=kt("a","0 0,1",e,We(-e,e)),u=kt("a","0 0,0",e,We(e,e)),d=kt("a","0 0,1",e,We(e,e));return{width:e,height:e,pathTop:t,pathBottom:u,rightWidth:e,rightHeight:e,pathTopRight:r,pathBottomRight:d}}generateSecondaryColour_(e){return Zr("#000",e,.15)||e}generateTertiaryColour_(e){return Zr("#000",e,.25)||e}createDom(e,t,r){super.createDom(e,t,r),e=le(K.DEFS,{},e),t=le(K.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),le(K.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),r=le(K.FECOMPONENTTRANSFER,{result:"outBlur"},t),le(K.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),le(K.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),le(K.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=le(K.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),le(K.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=le(K.FECOMPONENTTRANSFER,{result:"outBlur"},e),le(K.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),le(K.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),le(K.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),le(K.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyTextInputBubble textarea {`,"font-weight: normal;","}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},AT=class extends og{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(G.isSpacer(e)){const u=e.precedesStatement;var t=e.followsStatement;if(u||t){const d=this.constants_.INSIDE_CORNERS;var r=d.rightHeight;r=e.height-(u?r:0),t=t?d.pathBottomRight:"",e=0<r?Ae("V",e.yPos+r):"",this.outlinePath_+=t+e+(u?d.pathTopRight:"");return}}this.outlinePath_+=Ae("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=St(e.xPos,this.info_.startY),this.outlinePath_+=Ae("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=Ae("V",e.baseline),this.outlinePath_+=Ae("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=en(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-2*e.connectionWidth,r=e.height;return Ae("h",t)+e.shape.pathRightDown(r)+Ae("h",-t)+e.shape.pathUp(r)+"z"}drawStatementInput_(e){var t=e.getLastInput();const r=t.xPos+t.notchOffset+t.shape.width,u=this.constants_.INSIDE_CORNERS,d=t.shape.pathRight+Ae("h",-(t.notchOffset-u.width))+u.pathTop,g=e.height-2*u.height;t=u.pathBottom+Ae("h",t.notchOffset-u.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=Ae("H",r)+d+Ae("v",g)+t+Ae("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===Pe.NEXT_STATEMENT||t.type===Pe.PREVIOUS_STATEMENT||t.type===Pe.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=t.type===Pe.INPUT_VALUE?en(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):en(e.width,-e.height/2)+e.shape.pathDown(e.height);var r=t.getSourceBlock(),u,d;(d=(u=r.pathObject).addConnectionHighlight)==null||d.call(u,t,e,t.getOffsetInBlock(),r.RTL)}}},Mc=class extends f{constructor(e,t,r,u,d,g,y){if(super(f.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",r=Number(Xt(r)),t=Number(Xt(t)),isNaN(r)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Ee(t,r+Mc.Y_PADDING),this.imageHeight=r,typeof d=="function"&&(this.clickHandler=d),e!==f.SKIP_SETUP&&(y?this.configure_(y):(this.flipRtl=!!g,this.altText=Xt(u)||""),this.setValue(Xt(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Xt(e.alt))}initView(){this.imageElement=le(K.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(dr,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return typeof e!="string"?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(dr,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};Mc.Y_PADDING=1,Kn("field_image",Mc),Mc.prototype.DEFAULT_VALUE="";var pg=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper=this.onKeyDownWrapper=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==f.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.spellcheck!==void 0&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new $;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new $;let t;return this.fullBlockClickTarget_=!((t=this.getConstants())==null||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e,t=!0){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.valueWhenEditorWasOpened_,this.sourceBlock_&&Le()&&this.value_!==e&&t&&pe(new(C(te.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new $;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return(e=this.getConstants())!=null&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(S(e,"blocklyInvalidInput"),_n(e,Yt.INVALID,!1)):(Be(e,"blocklyInvalidInput"),_n(e,Yt.INVALID,!0))}if(e=this.getSourceBlock(),!e)throw new $;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(Qa||dc||hc)?this.showPromptEditor():this.showInlineEditor(t)}showPromptEditor(){Il(o.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),e=>{e!==null&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)})}showInlineEditor(e){const t=this.getSourceBlock();if(!t)throw new $;Uo(this,t.RTL,this.widgetDispose_.bind(this),this.workspace_),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new $;o.setGroup$$module$build$src$core$events$utils(!0);const t=Ls();var r=this.getClickTarget_();if(!r)throw Error("A click target has not been set.");Be(r,"editing"),r=document.createElement("input"),r.className="blocklyHtmlInput",r.setAttribute("spellcheck",this.spellcheck_);const u=this.workspace_.getScale();var d=this.getConstants().FIELD_TEXT_FONTSIZE*u+"pt";return t.style.fontSize=d,r.style.fontSize=d,d=pg.BORDERRADIUS*u+"px",this.isFullBlockField()&&(d=this.getScaledBBox(),d=(d.bottom-d.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,r.style.border=1*u+"px solid "+e,t.style.borderRadius=d,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*u+"px")),r.style.borderRadius=d,t.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(r),r}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&Le()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(pe(new(C(te.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),o.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=Ls().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,e=this.getClickTarget_(),!e)throw Error("A click target has not been set.");S(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper=Ge(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper=Ge(e,"input",this,this.onHtmlInputChange)}unbindInputEvents_(){this.onKeyDownWrapper&&(it(this.onKeyDownWrapper),this.onKeyDownWrapper=null),this.onKeyInputWrapper&&(it(this.onKeyInputWrapper),this.onKeyInputWrapper=null)}onHtmlInputKeyDown_(e){e.key==="Enter"?(Ci(this),Ii()):e.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Ci(this),Ii()):e.key==="Tab"&&(Ci(this),Ii(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&Le()&&this.value_!==e&&pe(new(C(te.BLOCK_FIELD_INTERMEDIATE_CHANGE))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){zn().then(()=>{const e=this.getSourceBlock();if(!e)throw new $;const t=Ls(),r=this.getScaledBBox();t.style.width=r.right-r.left+"px",t.style.height=r.bottom-r.top+"px";const u=r.top;t.style.left=`${e.RTL?r.right-t.offsetWidth:r.left}px`,t.style.top=`${u}px`})}repositionForWindowResize(){let e;const t=(e=this.getSourceBlock())==null?void 0:e.getRootBlock();return t instanceof zi?(ri(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t)||this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};pg.BORDERRADIUS=4;var fg=class extends pg{constructor(e,t,r){super(e,t,r)}doClassValidation_(e){return e===void 0?null:`${e}`}static fromJson(e){return new this(Xt(e.text),void 0,e)}};Kn("field_input",fg),fg.prototype.DEFAULT_VALUE="";var DT=class extends Am{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},gg=class extends Np{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},NT=class extends rs{constructor(e){super(e),this.width=this.height=0,this.type|=G.getType("RIGHT_CONNECTION")}},MT=class extends Pm{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?e.hat==="cap":this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},xT=class extends Pp{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new MT(this.constants_),this.bottomRow=new DT(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new NT(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return t?t instanceof pl||e instanceof mi||t instanceof mi?!0:e instanceof o.ValueInput$$module$build$src$core$inputs$value_input||e instanceof is||e instanceof pl?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&G.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&G.isLeftRoundedCorner(e)&&t&&(G.isPreviousConnection(t)||G.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&G.isLeftSquareCorner(e)&&t&&G.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(G.isTopRow(e)&&G.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const r=G.isInputRow(e)&&e.hasStatement,u=G.isInputRow(t)&&t.hasStatement;return u||r?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),u&&r?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):G.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):G.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const r=this.width-this.startX;return G.isInputRow(e)&&e.hasStatement||G.isInputRow(t)&&t.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r}getElemCenterline_(e,t){if(e.hasStatement&&!G.isSpacer(t)&&!G.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(G.isInlineInput(t)&&t instanceof lu){const r=t.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return e.yPos+r.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof is||e instanceof pl)&&t.hasDummyInput&&t.align===o.Align$$module$build$src$core$inputs$align.LEFT&&e.align===o.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof mi){t.elements.push(new gg(this.constants_,e)),t.hasStatement=!0,t.align===null&&(t.align=e.align);return}super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let r;for(let u=0;u<e.elements.length;u++){const d=e.elements[u];if(G.isSpacer(d)&&(r=d),G.isField(d)&&d instanceof gd&&d.parentInput===this.rightAlignedDummyInputs.get(e))break}if(r){r.width+=t,e.width+=t;return}}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let d=2;d<this.rows.length-1;d+=2){var r=this.rows[d-1];const g=this.rows[d];var u=this.rows[d+1];if(r=d===2?!!this.topRow.hasPreviousConnection:!!r.followsStatement,u=d+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!u.precedesStatement,G.isInputRow(g)&&g.hasStatement){g.measure();let y,B;t=g.width-((B=(y=g.getLastInput())==null?void 0:y.width)!=null?B:0)+e}else if(r&&(d===2||u)&&G.isInputRow(g)&&!g.hasStatement){u=g.xPos,r=null;for(let y=0;y<g.elements.length;y++){const B=g.elements[y];G.isSpacer(B)&&(r=B),r&&(G.isField(B)||G.isInput(B))&&u<t&&!(G.isField(B)&&B instanceof gd&&(B.field instanceof Dc||B.field instanceof Mc))&&(r.width+=t-u),u+=B.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,r=0;r<this.rows.length;r++){const u=this.rows[r];u.yPos=t,t+=u.height}this.height=t,r=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(r),r=e.width(r),this.outputConnection.height=t,this.outputConnection.width=r,this.outputConnection.startX=r,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(r),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=r,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=r,this.width+=r+e,this.widthWithChildren+=r+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var r=this.rows[t];if(!G.isInputRow(r))continue;e=r.elements[r.elements.length-2];let u=this.getNegativeSpacing_(r.elements[1]),d=this.getNegativeSpacing_(e);e=u+d;const g=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<g&&(e=this.width-g,u=e/2,d=e/2),r.elements.unshift(new gi(this.constants_,-u)),r.elements.push(new gi(this.constants_,-d))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)r=this.rows[t],G.isTopOrBottomRow(r)&&(r.elements[1].width-=e),r.width-=e,r.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var r=this.outputConnection.shape.type;const u=this.constants_;if(1<this.inputRows.length)switch(r){case u.SHAPES.ROUND:return r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=this.height/2>r?r:this.height/2,t-r*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)));default:return 0}if(G.isInlineInput(e)&&e instanceof lu){const d=e.connectedBlock;return e=d?d.pathObject.outputShapeType:e.shape.type,e==null||d&&d.outputConnection&&(d.statementInputCount||d.nextConnection)||r===u.SHAPES.HEXAGONAL&&r!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[r][e]}return G.isField(e)&&e instanceof gd?r===u.SHAPES.ROUND&&e.field instanceof fg?t-2.75*u.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:G.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let u=2;u<this.rows.length-1;u+=2){const d=this.rows[u-1],g=this.rows[u],y=this.rows[u+1];var e=u===2,t=u+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!y.precedesStatement;if(e?this.topRow.hasPreviousConnection:d.followsStatement){var r=g.elements[1];if(r=g.elements.length===3&&r instanceof gd&&(r.field instanceof Dc||r.field instanceof Mc),!e&&r)d.height-=this.constants_.SMALL_PADDING,y.height-=this.constants_.SMALL_PADDING,g.height-=this.constants_.MEDIUM_PADDING;else if(!e&&!t)d.height+=this.constants_.SMALL_PADDING;else if(t){for(e=!1,t=0;t<g.elements.length;t++)if(r=g.elements[t],r instanceof lu&&G.isInlineInput(r)&&r.connectedBlock&&!r.connectedBlock.isShadow()&&40<=r.connectedBlock.getHeightWidth().height){e=!0;break}e&&(d.height-=this.constants_.SMALL_PADDING,y.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},PT=class extends Um{constructor(e,t,r){super(e,t,r),this.markerCircle=null}showWithInputOutput(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){e=e.getLocation();const t=e.getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,t){let r;(r=this.markerCircle)==null||r.setAttribute("cx",`${e}`);let u;(u=this.markerCircle)==null||u.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=le(K.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();le(K.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){super.applyColour_(e);let t;(t=this.markerCircle)==null||t.setAttribute("fill",this.colour_);let r;if((r=this.markerCircle)==null||r.setAttribute("stroke",this.colour_),this.isCursor()){e=this.colour_+";transparent;transparent;";let u;(u=this.markerCircle)==null||u.firstElementChild.setAttribute("values",e)}}},BT=class extends sg{constructor(e,t,r){super(e,t,r),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=r}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const r of this.outlines.values())r.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){e=this.getOutlinePath(e),e.setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,le(K.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,r;(t=this.outlines.get(e))==null||(r=t.parentNode)==null||r.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},t$=class extends lg{constructor(e){super(e)}makeConstants_(){return new LT}makeRenderInfo_(e){return new xT(this,e)}makeDrawer_(e,t){return new AT(e,t)}makeMarkerDrawer(e,t){return new PT(e,this.getConstants(),t)}makePathObject(e,t){return new BT(e,t,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,t,r){return k("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===Pe.OUTPUT_VALUE?e.isConnected()?So.PREVIEW_TYPE.REPLACEMENT_FADE:So.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,r)}};Di("zelos",t$);var FT=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,r){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=r,r.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{o.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){o.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{o.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===Pe.PREVIOUS_STATEMENT||t.type===Pe.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof t$)}previewMarker(e,t){const r=e.getSourceBlock(),u=this.createInsertionMarker(r),d=this.getMatchingConnection(r,u,e);if(!d)return null;u.queueRender(),Nr(),d.connect(t);const g={x:t.x-d.x,y:t.y-d.y},y=d.getOffsetInBlock().clone();return zn().then(()=>{if(!u.isDeadOrDying()){o.disable$$module$build$src$core$events$utils();try{u==null||u.positionNearConnection(d,g,y),u==null||u.getSvgRoot().setAttribute("visibility","visible")}finally{o.enable$$module$build$src$core$events$utils()}}}),d}createInsertionMarker(e){const t=On(e,{addCoordinates:!1,addInputBlocks:!1,addNextBlocks:!1,doFullSerialization:!1});if(!t)throw Error(`Failed to serialize source block. ${e.toDevString()}`);e=Si(t,this.workspace);for(const r of e.getDescendants(!1))r.setInsertionMarker(!0);return e.initSvg(),e.getSvgRoot().setAttribute("visibility","hidden"),e}getMatchingConnection(e,t,r){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let u=0;u<e.length;u++)if(e[u]===r)return t[u];return null}hidePreview(){o.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{o.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),r=t.outputConnection;let u;if((u=t.previousConnection)!=null&&u.targetConnection||r!=null&&r.targetConnection)t.unplug(!0);else{let d;(d=e.targetBlock())==null||d.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};c($e.CONNECTION_PREVIEWER,Er,FT);var du={};du.Align=o.Align$$module$build$src$core$inputs$align,du.DummyInput=is,du.EndRowInput=pl,du.Input=md,du.StatementInput=mi,du.ValueInput=o.ValueInput$$module$build$src$core$inputs$value_input,du.inputTypes=o.inputTypes$$module$build$src$core$inputs$input_types;var UT=!1,HT;o.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Se());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let r=0,u;u=e[r];r++){let d=this.blockToCode(u);Array.isArray(d)&&(d=d[0]),d&&(u.outputConnection&&(d=this.scrubNakedValue(d),this.STATEMENT_PREFIX&&!u.suppressPrefixSuffix&&(d=this.injectId(this.STATEMENT_PREFIX,u)+d),this.STATEMENT_SUFFIX&&!u.suppressPrefixSuffix&&(d+=this.injectId(this.STATEMENT_SUFFIX,u))),t.push(d))}return t=t.join(`
`),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,`
`),t=t.replace(/[ \t]+\n/g,`
`)}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,`
`+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let r=0;r<e.length;r++){const u=e[r].getCommentText();u&&t.push(u)}return t.length&&t.push(""),t.join(`
`)}blockToCode(e,t){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var r=this.forBlock[e.type];if(typeof r!="function")throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(r=r.call(e,e,this),Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,r[0],t),r[1]]}if(typeof r=="string")return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,e)+r),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,r,t);if(r===null)return"";throw SyntaxError("Invalid code generated: "+r)}valueToCode(e,t,r){if(isNaN(r))throw TypeError("Expecting valid order from block: "+e.type);var u=e.getInputTargetBlock(t);if(!u&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(!u||(t=this.blockToCode(u),t===""))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${u.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+u.type);if(!e)return"";u=!1;var d=Math.floor(r);const g=Math.floor(t);if(d<=g&&(d!==g||d!==0&&d!==99)){for(u=!0,d=0;d<this.ORDER_OVERRIDES.length;d++)if(this.ORDER_OVERRIDES[d][0]===r&&this.ORDER_OVERRIDES[d][1]===t){u=!1;break}}return u&&(e="("+e+")"),e}statementToCode(e,t){const r=e.getInputTargetBlock(t);if(!r&&!e.getInput(t))throw ReferenceError(`Input "${t}" doesn't exist on "${e.type}"`);if(e=this.blockToCode(r),typeof e!="string")throw TypeError("Expecting code from statement block: "+(r&&r.type));return e&&(e=this.prefixLines(e,this.INDENT)),e}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const r=this.nameDB_.getDistinctName(e,o.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[e]=r,Array.isArray(t)&&(t=t.join(`
`)),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,r);let u;for(;u!==t;)u=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,o.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,o.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,r){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},HT={},HT.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator;var VT=class extends e${constructor(e,t){super(e),this.flyout_=t}getBoundingBox(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch{e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,r){return t=r||this.getContentMetrics(),r=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*r)/e,width:(t.width+t.left+r)/e,top:0,left:0}}},yd;(function(e){e.BLOCK="block",e.BUTTON="button"})(yd||(yd={}));var vS="WORKSPACE_AT_BLOCK_CAPACITY",mg=class extends cg{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.contents=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.visible=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new ji(e),this.workspace_.setMetricsManager(new VT(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.visible),this.id=P(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=le(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=le(K.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Zm(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(Ge(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(Ge(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.FLYOUT_WEIGHT,capabilities:[At.Capability.AUTOHIDEABLE,At.Capability.DELETE_AREA,At.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)it(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&j(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}getTargetWorkspace(){return this.targetWorkspace}isVisible(){return this.visible}setVisible(e){const t=e!==this.isVisible();this.visible=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}getContents(){return this.contents}setContents(e){this.contents=e}updateDisplay(){let e;e=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none");let t;(t=this.workspace_.scrollbar)==null||t.setContainerVisible(e)}positionAt_(e,t,r,u){let d;(d=this.svgGroup_)==null||d.setAttribute("width",`${e}`);let g;(g=this.svgGroup_)==null||g.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&_t(this.svgGroup_,"translate("+r+"px,"+u+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(r,u),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)it(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof e=="string"&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=$u(e),e=this.createFlyoutInfo(e),Nr(this.workspace_),this.setContents(e.contents),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const t=[],r=[];this.permanentlyDisabled.length=0;const u=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const d of e){if("custom"in d){e=this.getDynamicCategoryContents(d.custom),e=$u(e);const{contents:g,gaps:y}=this.createFlyoutInfo(e);t.push(...g),r.push(...y)}switch(d.kind.toUpperCase()){case"BLOCK":e=d;const g=this.createFlyoutBlock(e);t.push({type:yd.BLOCK,block:g}),this.addBlockGap(e,r,u);break;case"SEP":this.addSeparatorGap(d,r,u);break;case"LABEL":e=this.createButton(d,!0),t.push({type:yd.BUTTON,button:e}),r.push(u);break;case"BUTTON":e=this.createButton(d,!1),t.push({type:yd.BUTTON,button:e}),r.push(u)}}return{contents:t,gaps:r}}getDynamicCategoryContents(e){if(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),typeof e!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,t){return new Wi(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock(e){let t;return e.blockxml?(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=ki(e,this.workspace_))):(t=this.getRecycledBlock(e.type),t||(e.enabled===void 0&&(e.enabled=e.disabled!=="true"&&e.disabled!==!0),e.disabledReasons===void 0&&e.enabled===!1&&(e.disabledReasons=[Nn]),t=mr(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled.push(t),t}getRecycledBlock(e){let t=-1;for(let r=0;r<this.recycledBlocks.length;r++)if(this.recycledBlocks[r].type===e){t=r;break}return t===-1?void 0:this.recycledBlocks.splice(t,1)[0]}addBlockGap(e,t,r){let u;e.gap?u=parseInt(String(e.gap)):e.blockxml&&(e=typeof e.blockxml=="string"?o.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,u=parseInt(e.getAttribute("gap"))),t.push(!u||isNaN(u)?r:u)}addSeparatorGap(e,t,r){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(r)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let r=0,u;u=e[r];r++)this.blockIsRecyclable_(u)?this.recycleBlock(u):u.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const r=this.mats[e];r&&(sa(r),j(r))}this.mats.length=0;for(let r=0,u;u=this.buttons_[r];r++)u.dispose();this.buttons_.length=0;let t;(t=this.workspace_.getPotentialVariableMap())==null||t.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}addBlockListeners_(e,t,r){this.listeners.push(Ge(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(Ge(r,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(st(e,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(st(e,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()})),this.listeners.push(st(r,"pointerenter",t,()=>{this.targetWorkspace.isDragging()||t.addSelect()})),this.listeners.push(st(r,"pointerleave",t,()=>{this.targetWorkspace.isDragging()||t.removeSelect()}))}blockMouseDown(e){return t=>{const r=this.targetWorkspace.getGesture(t);r&&(r.setStartBlock(e),r.handleFlyoutStart(t,this))}}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;o.disable$$module$build$src$core$events$utils();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{o.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=vu(this.targetWorkspace,r),Le()){for(o.setGroup$$module$build$src$core$events$utils(!0),r=0;r<e.length;r++){const u=e[r];pe(new(C(te.VAR_CREATE))(u))}pe(new(C(te.BLOCK_CREATE))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}initFlyoutButton_(e,t,r){const u=e.createDom();e.moveTo(t,r),e.show(),this.listeners.push(Ge(u,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,t,r,u,d){return t=le(K.RECT,{"fill-opacity":0,x:t,y:r,height:u.height,width:u.width}),t.tooltip=e,Rl(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[d]=t}moveRectToBlock_(e,t){const r=t.getHeightWidth();e.setAttribute("width",String(r.width)),e.setAttribute("height",String(r.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-r.width:t.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let t=0,r;r=e[t];t++)if(!this.permanentlyDisabled.includes(r)){const u=this.targetWorkspace.isCapacityAvailable($t(r));for(;r;)r.setDisabledReason(!u,vS),r=r.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const r=this.serializeBlock(e);return t.setResizesEnabled(!1),t=Si(r,t),this.positionNewBlock(e,t),t}serializeBlock(e){return On(e)}positionNewBlock(e,t){const r=this.targetWorkspace;var u=r.getOriginOffsetInPixels(),d=this.workspace_.getOriginOffsetInPixels();e=e.getRelativeToSurfaceXY(),e.scale(this.workspace_.scale),d=be.sum(d,e),u=be.difference(d,u),u.scale(1/r.scale),t.moveTo(new be(u.x,u.y))}};mg.FlyoutItemType=yd;var n$=class extends mg{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),r=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.y=="number"&&(this.workspace_.scrollY=-(r.top+(r.height-u.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),r=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Ke.LEFT?e.width:r.width-this.width_:this.toolboxPosition_===Ke.LEFT?0:r.width:this.toolboxPosition_===Ke.LEFT?0:r.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const r=this.toolboxPosition_===Ke.RIGHT;var u=e+this.CORNER_RADIUS;u=["M "+(r?u:0)+",0"],u.push("h",r?-e:e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",Math.max(0,t)),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",r?e:-e),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setY(0)}wheel_(e){var t=Lr(e);if(t.y){const r=this.workspace_.getMetricsManager(),u=r.getScrollMetrics();t=r.getViewMetrics().top-u.top+t.y;let d;(d=this.workspace_.scrollbar)==null||d.setY(t),wi(this.workspace_),Ii()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var r=this.MARGIN;const u=this.RTL?r:r+this.tabWidth_;for(let B=0,ae;ae=e[B];B++)if(ae.type==="block"){var d=ae.block;if(!d)continue;var g=d.getDescendants(!1);for(let Bt=0,Nt;Nt=g[Bt];Bt++)Nt.isInFlyout=!0;g=d.getSvgRoot();const xe=d.getHeightWidth();var y=d.outputConnection?u-this.tabWidth_:u;d.moveBy(y,r),y=this.createRect_(d,this.RTL?y-xe.width:y,r,xe,B),this.addBlockListeners_(g,d,y),r+=xe.height+t[B]}else ae.type==="button"&&(d=ae.button,this.initFlyoutButton_(d,u,r),r+=d.height+t[B])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Ke.LEFT?new ft(-1e9,1e9,-1e9,t+e.width):new ft(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let u=0,d;d=t[u];u++){var r=d.getHeightWidth().width;d.outputConnection&&(r-=this.tabWidth_),e=Math.max(e,r)}for(let u=0,d;d=this.buttons_[u];u++)e=Math.max(e,d.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=Vt.scrollbarThickness,this.width_!==e){for(let u=0,d;d=t[u];u++){if(this.RTL){r=d.getRelativeToSurfaceXY().x;let g=e/this.workspace_.scale-this.MARGIN;d.outputConnection||(g-=this.tabWidth_),d.moveBy(g-r,0)}this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d)}if(this.RTL)for(let u=0,d;d=this.buttons_[u];u++)t=d.getPosition().y,d.moveTo(e/this.workspace_.scale-d.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Ke.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};n$.registryName="verticalFlyout",c($e.FLYOUTS_VERTICAL_TOOLBOX,Er,n$);var GT=class extends mg{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),r=t.getScrollMetrics(),u=t.getViewMetrics();t=t.getAbsoluteMetrics(),typeof e.x=="number"&&(this.workspace_.scrollX=-(r.left+(r.width-u.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),r=e.getViewMetrics();e=e.getToolboxMetrics();const u=this.toolboxPosition_===Ke.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?u?e.height:r.height-this.height_:u?0:r.height:u?0:r.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const r=this.toolboxPosition_===Ke.TOP,u=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(u.push("h",e+2*this.CORNER_RADIUS),u.push("v",t),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",-e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),u.push("h",e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",t),u.push("h",-e-2*this.CORNER_RADIUS)),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))}scrollToStart(){let e;(e=this.workspace_.scrollbar)==null||e.setX(this.RTL?1/0:0)}wheel_(e){var t=Lr(e);if(t=t.x||t.y){const r=this.workspace_.getMetricsManager(),u=r.getScrollMetrics();t=r.getViewMetrics().left-u.left+t;let d;(d=this.workspace_.scrollbar)==null||d.setX(t),wi(this.workspace_),Ii()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const r=this.MARGIN;let u=r+this.tabWidth_;this.RTL&&(e=e.reverse());for(let B=0,ae;ae=e[B];B++)if(ae.type==="block"){var d=ae.block;if(d==null)continue;var g=d.getDescendants(!1);for(let Bt=0,Nt;Nt=g[Bt];Bt++)Nt.isInFlyout=!0;g=d.getSvgRoot();const xe=d.getHeightWidth();var y=d.outputConnection?this.tabWidth_:0;y=this.RTL?u+xe.width:u-y,d.moveBy(y,r),y=this.createRect_(d,y,r,xe,B),u+=xe.width+t[B],this.addBlockListeners_(g,d,y)}else ae.type==="button"&&(d=ae.button,this.initFlyoutButton_(d,u,r),u+=d.width+t[B])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Ke.TOP?new ft(-1e9,t+e.height,-1e9,1e9):new ft(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let u=0,d;d=t[u];u++)e=Math.max(e,d.getHeightWidth().height);const r=this.buttons_;for(let u=0,d;d=r[u];u++)e=Math.max(e,d.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=Vt.scrollbarThickness,this.height_!==e){for(let u=0,d;d=t[u];u++)this.rectMap_.has(d)&&this.moveRectToBlock_(this.rectMap_.get(d),d);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Ke.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};c($e.FLYOUTS_HORIZONTAL_TOOLBOX,Er,GT);var Hp=class extends Gr{constructor(e,t,r,u,d){super(f.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=Hp.dropdownCreate,this.defaultVariableName=typeof e=="string"?e:"",this.size_=new Ee(0,0),e!==f.SKIP_SETUP&&(d?this.configure_(d):this.setTypes(r,u),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new $;this.variable||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new $;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||e.type!=="variables_get")}fromXml(e){var t=this.getSourceBlock();if(!t)throw new $;const r=e.getAttribute("id"),u=e.textContent,d=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=o.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,r,u,d),d!==null&&d!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+Xn(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var t=this.saveLegacyState(Hp);return t!==null||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new $;this.loadLegacyState(Hp,e)||(e=o.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(e===null)return null;var t=this.getSourceBlock();if(!t)throw new $;return t=o.getVariable$$module$build$src$core$variables(t.workspace,e),t?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new $;this.variable=o.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let r=0;r<t.length;r++)if(e===t[r])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(e===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(e=e||[""],e.length===0)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,t=""){if(Array.isArray(e)){let r=!1;for(let u=0;u<e.length;u++)e[u]===t&&(r=!0);if(!r)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(e!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===Vm){o.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(e===Gm){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Xt(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var r=this.getVariableTypes(),u=0;u<r.length;u++){const d=this.sourceBlock_.workspace.getVariablesOfType(r[u]);t=t.concat(d)}for(t.sort(tu.compareByName),r=[],u=0;u<t.length;u++)r[u]=[t[u].name,t[u].getId()];return r.push([o.Msg$$module$build$src$core$msg.RENAME_VARIABLE,Vm]),o.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&r.push([o.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),Gm]),r}};Kn("field_variable",Hp);var r$=class extends pg{constructor(e,t,r,u,d,g){super(f.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==f.SKIP_SETUP&&(g?this.configure_(g):this.setConstraints(t,r,u),this.setValue(e),d&&this.setValidator(d))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,r){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(r),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){e==null?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){e==null?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);t.includes("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const r=t.indexOf(".");this.decimalPlaces=r===-1?e?0:null:t.length-r-1}getPrecision(){return this.precision_}doClassValidation_(e){return e===null||(e=`${e}`.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=e.replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),this.decimalPlaces!==null&&(e=Number(e.toFixed(this.decimalPlaces))),e)}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,_n(e,Yt.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,_n(e,Yt.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Kn("field_number",r$),r$.prototype.DEFAULT_VALUE=0;var WT=class extends Dc{constructor(e,t,r){super(String(e??""),t,r),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Xt(e.text),void 0,e)}};Kn("field_label_serializable",WT);var xc=class extends f{constructor(e,t,r){super(f.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=xc.CHECK_CHAR,e!==f.SKIP_SETUP&&(r&&this.configure_(r),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(xc);return e!==null?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();Be(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||xc.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return e===!0||e==="TRUE"?"TRUE":e===!1||e==="FALSE"?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool(this.value_))}convertValueToBool(e){return typeof e=="string"?e==="TRUE":!!e}static fromJson(e){return new this(e.checked,void 0,e)}};xc.CHECK_CHAR="",Kn("field_checkbox",xc),xc.prototype.DEFAULT_VALUE=!1;var jT=class{constructor(e,t){this.draggable=e,this.workspace=t,this.dragTarget=null,this.startLoc=e.getRelativeToSurfaceXY()}onDragStart(e){this.draggable.startDrag(e)}onDrag(e,t){this.moveDraggable(e,t),t=this.getRoot(this.draggable),cr(t)&&t.setDeleteStyle(this.wouldDeleteDraggable(e,t)),this.updateDragTarget(e)}updateDragTarget(e){e=this.workspace.getDragTarget(e);const t=this.getRoot(this.draggable);if(this.dragTarget!==e){let r;(r=this.dragTarget)==null||r.onDragExit(t),e==null||e.onDragEnter(t)}e==null||e.onDragOver(t),this.dragTarget=e}moveDraggable(e,t){t=this.pixelsToWorkspaceUnits(t),t=be.sum(this.startLoc,t),this.draggable.drag(t,e)}wouldDeleteDraggable(e,t){return(e=this.workspace.getDragTarget(e))&&this.workspace.getComponentManager().hasCapability(e.id,At.Capability.DELETE_AREA)?e.wouldDelete(t):!1}onDragEnd(e){const t=o.getGroup$$module$build$src$core$events$utils();var r=this.workspace.getDragTarget(e);const u=this.getRoot(this.draggable);if(r){let d;(d=this.dragTarget)==null||d.onDrop(u)}this.shouldReturnToStart(e,u)&&this.draggable.revertDrag(),(r=cr(u)&&this.wouldDeleteDraggable(e,u))&&this.draggable instanceof zi&&$r(this.draggable.getRootBlock()),this.draggable.endDrag(e),r&&cr(u)&&(e=o.getGroup$$module$build$src$core$events$utils(),o.setGroup$$module$build$src$core$events$utils(t),u.dispose(),o.setGroup$$module$build$src$core$events$utils(e))}getRoot(e){return e instanceof zi?e.getRootBlock():e}shouldReturnToStart(e,t){return(e=this.workspace.getDragTarget(e))?e.shouldPreventMove(t):!1}pixelsToWorkspaceUnits(e){return e=new be(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}};c($e.BLOCK_DRAGGER,Er,jT);var Vp={};Vp.BlockDragStrategy=ET,Vp.BubbleDragStrategy=nT,Vp.CommentDragStrategy=Ye,Vp.Dragger=jT;var i$=class extends Ur{constructor(e,t,r){super(e?e.workspace.id:void 0),this.type=te.BLOCK_DRAG,e&&(this.blockId=e.id,this.isStart=t,this.blocks=r)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new i$),t.isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};c($e.EVENT,te.BLOCK_DRAG,i$);var o$=class extends Vr{constructor(e,t,r,u){super(e),this.type=te.BLOCK_FIELD_INTERMEDIATE_CHANGE,this.recordUndo=!1,e&&(this.name=t,this.oldValue=r,this.newValue=u)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new o$),t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(t=t.getBlockById(this.blockId),!t)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};c($e.EVENT,te.BLOCK_FIELD_INTERMEDIATE_CHANGE,o$);var s$=class extends Vr{constructor(e){super(e),this.type=te.BLOCK_MOVE,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new s$),t.oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(r=e.oldCoordinate.split(","),t.oldCoordinate=new be(Number(r[0]),Number(r[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(r=e.newCoordinate.split(","),t.newCoordinate=new be(Number(r[0]),Number(r[1]))),e.reason!==void 0&&(t.reason=e.reason),e.recordUndo!==void 0&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const r=t.getParent();return r?(e.parentId=r.id,(t=r.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&be.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var r=t.getBlockById(this.blockId);if(r){var u=e?this.newParentId:this.oldParentId,d=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,u){var g=t.getBlockById(u);if(!g){console.warn("Can't connect to non-existent block: "+u);return}}if(r.getParent()&&r.unplug(),e)d=r.getRelativeToSurfaceXY(),r.moveBy(e.x-d.x,e.y-d.y,this.reason);else{t=r.outputConnection,(!t||r.previousConnection&&r.previousConnection.isConnected())&&(t=r.previousConnection);let y,B;r=(B=t)==null?void 0:B.type,d?(r=g.getInput(d))&&(y=r.connection):r===Pe.PREVIOUS_STATEMENT&&(y=g.nextConnection),y&&t?t.connect(y):console.warn("Can't connect to non-existent input: "+d)}}else console.warn("Can't move non-existent block: "+this.blockId)}};c($e.EVENT,te.BLOCK_MOVE,s$);var l$=class extends Ur{constructor(e,t,r){super(e?e.workspace.id:void 0),this.type=te.BUBBLE_OPEN,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=r)}toJson(){const e=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new l$),t.isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}},u$;(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(u$||(u$={})),c($e.EVENT,te.BUBBLE_OPEN,l$);var ls=class extends Ws{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=o.getGroup$$module$build$src$core$events$utils(),this.recordUndo=re())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new ls),t.commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){const r=e.getEventWorkspace_();if(t){if(!e.json)throw Error("Encountered a comment event without proper json");Do(e.json,r)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=r.getCommentById(e.commentId))?t.dispose():console.warn("Can't delete non-existent comment: "+e.commentId)}}},c$=class extends ls{constructor(e,t,r){super(e),this.type=te.COMMENT_CHANGE,e&&(this.oldContents_=typeof t>"u"?"":t,this.newContents_=typeof r>"u"?"":r)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new c$),t.oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var r=e?this.newContents_:this.oldContents_;if(r===void 0)throw Error(e?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");t.setText(r)}else console.warn("Can't change non-existent comment: "+this.commentId)}};c($e.EVENT,te.COMMENT_CHANGE,c$);var a$=class extends ls{constructor(e,t){super(e),this.newCollapsed=t,this.type=te.COMMENT_COLLAPSE}toJson(){const e=super.toJson();if(this.newCollapsed===void 0)throw Error("The new collapse value undefined. Either call recordNew, or call fromJson");return e.newCollapsed=this.newCollapsed,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new a$),t.newCollapsed=e.newCollapsed,t}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(t=t.getCommentById(this.commentId))?t.setCollapsed(e?!!this.newCollapsed:!this.newCollapsed):console.warn("Can't collapse or uncollapse non-existent comment: "+this.commentId)}};c($e.EVENT,te.COMMENT_COLLAPSE,a$);var d$=class extends ls{constructor(e){super(e),this.type=te.COMMENT_CREATE,e&&(this.xml=Ns(e),this.json=_s(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Xn(this.xml),e.json=this.json,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new d$),t.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}run(e){ls.CommentCreateDeleteHelper(this,e)}};c($e.EVENT,te.COMMENT_CREATE,d$);var h$=class extends ls{constructor(e){super(e),this.type=te.COMMENT_DELETE,e&&(this.xml=Ns(e),this.json=_s(e,{addCoordinates:!0}))}run(e){ls.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.json)throw Error("The comment JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Xn(this.xml),e.json=this.json,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new h$),t.xml=o.textToDom$$module$build$src$core$utils$xml(e.xml),t.json=e.json,t}};c($e.EVENT,te.COMMENT_DELETE,h$);var p$=class extends Ur{constructor(e,t){super(e?e.workspace.id:void 0),this.type=te.COMMENT_DRAG,e&&(this.commentId=e.id,this.isStart=t)}toJson(){const e=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.commentId===void 0)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.isStart=this.isStart,e.commentId=this.commentId,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new p$),t.isStart=e.isStart,t.commentId=e.commentId,t}};c($e.EVENT,te.COMMENT_DRAG,p$);var f$=class extends ls{constructor(e){super(e),this.type=te.COMMENT_MOVE,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setReason(e){this.reason=e}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new f$),r=e.oldCoordinate.split(","),t.oldCoordinate_=new be(Number(r[0]),Number(r[1])),r=e.newCoordinate.split(","),t.newCoordinate_=new be(Number(r[0]),Number(r[1])),t}isNull(){return be.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newCoordinate_:this.oldCoordinate_,!e)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");t.moveTo(e)}else console.warn("Can't move non-existent comment: "+this.commentId)}};c($e.EVENT,te.COMMENT_MOVE,f$);var g$=class extends ls{constructor(e){super(e),this.type=te.COMMENT_RESIZE,e&&(this.oldSize=e.getSize())}recordCurrentSizeAsNewSize(){if(this.newSize)throw Error("Tried to record the new size of a comment on the same event twice.");var e=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(e=e.getCommentById(this.commentId),!e)throw Error("The comment associated with the comment resize event could not be found");this.newSize=e.getSize()}toJson(){const e=super.toJson();if(!this.oldSize)throw Error("The old comment size is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newSize)throw Error("The new comment size is undefined. Either call recordCurrentSizeAsNewSize, or call fromJson");return e.oldWidth=Math.round(this.oldSize.width),e.oldHeight=Math.round(this.oldSize.height),e.newWidth=Math.round(this.newSize.width),e.newHeight=Math.round(this.newSize.height),e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new g$),t.oldSize=new Ee(e.oldWidth,e.oldHeight),t.newSize=new Ee(e.newWidth,e.newHeight),t}isNull(){return Ee.equals(this.oldSize,this.newSize)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(e=e?this.newSize:this.oldSize,!e)throw Error("Either oldSize or newSize is undefined. Either pass a comment to the constructor and call recordCurrentSizeAsNewSize, or call fromJson");t.setSize(e)}else console.warn("Can't resize non-existent comment: "+this.commentId)}};c($e.EVENT,te.COMMENT_RESIZE,g$);var m$=class extends Ur{constructor(e,t,r){super(r),this.type=te.TOOLBOX_ITEM_SELECT,this.oldItem=e??void 0,this.newItem=t??void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,r){return t=super.fromJson(e,t,r??new m$),t.oldItem=e.oldItem,t.newItem=e.newItem,t}};c($e.EVENT,te.TOOLBOX_ITEM_SELECT,m$);var zT=class extends Ws{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=te.FINISHED_LOADING,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};c($e.EVENT,te.FINISHED_LOADING,zT);var XT,KT,YT,JT,qT,QT,ZT,eE,tE,nE,rE,iE,oE,sE,lE,uE,cE,aE,dE,hE,pE,fE,gE,mE,$E,Me;o.BLOCK_CHANGE$$module$build$src$core$events$events=te.BLOCK_CHANGE,o.BLOCK_CREATE$$module$build$src$core$events$events=te.BLOCK_CREATE,o.BLOCK_DELETE$$module$build$src$core$events$events=te.BLOCK_DELETE,XT=te.BLOCK_DRAG,o.BLOCK_MOVE$$module$build$src$core$events$events=te.BLOCK_MOVE,KT=te.BLOCK_FIELD_INTERMEDIATE_CHANGE,YT=te.BUBBLE_OPEN,JT=te.BLOCK_CHANGE,qT=te.CLICK,QT=te.COMMENT_CHANGE,ZT=te.COMMENT_CREATE,eE=te.COMMENT_DELETE,tE=te.COMMENT_MOVE,nE=te.COMMENT_RESIZE,rE=te.COMMENT_DRAG,iE=te.BLOCK_CREATE,oE=te.BLOCK_DELETE,sE=te.FINISHED_LOADING,lE=te.MARKER_MOVE,uE=te.BLOCK_MOVE,cE=te.SELECTED,aE=te.THEME_CHANGE,dE=te.TOOLBOX_ITEM_SELECT,hE=te.TRASHCAN_OPEN,pE=te.UI,fE=te.VAR_CREATE,gE=te.VAR_DELETE,mE=te.VAR_RENAME,$E=te.VIEWPORT_CHANGE,Me={},Me.Abstract=Ws,Me.BLOCK_CHANGE=o.BLOCK_CHANGE$$module$build$src$core$events$events,Me.BLOCK_CREATE=o.BLOCK_CREATE$$module$build$src$core$events$events,Me.BLOCK_DELETE=o.BLOCK_DELETE$$module$build$src$core$events$events,Me.BLOCK_DRAG=XT,Me.BLOCK_FIELD_INTERMEDIATE_CHANGE=KT,Me.BLOCK_MOVE=o.BLOCK_MOVE$$module$build$src$core$events$events,Me.BUBBLE_OPEN=YT,Me.BUMP_EVENTS=ip,Me.BlockBase=Vr,Me.BlockChange=ts,Me.BlockCreate=Rp,Me.BlockDelete=Bm,Me.BlockDrag=i$,Me.BlockFieldIntermediateChange=o$,Me.BlockMove=s$,Me.BubbleOpen=l$,Me.BubbleType=u$,Me.CHANGE=JT,Me.CLICK=qT,Me.COMMENT_CHANGE=QT,Me.COMMENT_CREATE=ZT,Me.COMMENT_DELETE=eE,Me.COMMENT_DRAG=rE,Me.COMMENT_MOVE=tE,Me.COMMENT_RESIZE=nE,Me.CREATE=iE,Me.Click=Xa,Me.ClickTarget=cc,Me.CommentBase=ls,Me.CommentChange=c$,Me.CommentCollapse=a$,Me.CommentCreate=d$,Me.CommentDelete=h$,Me.CommentDrag=p$,Me.CommentMove=f$,Me.CommentResize=g$,Me.DELETE=oE,Me.FINISHED_LOADING=sE,Me.FinishedLoading=zT,Me.MARKER_MOVE=lE,Me.MOVE=uE,Me.MarkerMove=Fm,Me.SELECTED=cE,Me.Selected=Xm,Me.THEME_CHANGE=aE,Me.TOOLBOX_ITEM_SELECT=dE,Me.TRASHCAN_OPEN=hE,Me.ThemeChange=Cm,Me.ToolboxItemSelect=m$,Me.TrashcanOpen=Ym,Me.UI=pE,Me.UiBase=Ur,Me.VAR_CREATE=fE,Me.VAR_DELETE=gE,Me.VAR_RENAME=mE,Me.VIEWPORT_CHANGE=$E,Me.VarBase=vc,Me.VarCreate=Hi,Me.VarDelete=Wm,Me.VarRename=jm,Me.ViewportChange=wm,Me.clearPendingUndo=Ne,Me.disable=o.disable$$module$build$src$core$events$utils,Me.disableOrphans=J,Me.enable=o.enable$$module$build$src$core$events$utils,Me.filter=ke,Me.fire=pe,Me.fromJson=F,Me.get=C,Me.getDescendantIds=X,Me.getGroup=o.getGroup$$module$build$src$core$events$utils,Me.getRecordUndo=re,Me.isEnabled=Le,Me.setGroup=o.setGroup$$module$build$src$core$events$utils,Me.setRecordUndo=o.setRecordUndo$$module$build$src$core$events$utils;var Io={};Io.BottomRow=DT,Io.ConstantProvider=LT,Io.Drawer=AT,Io.MarkerSvg=PT,Io.PathObject=BT,Io.RenderInfo=xT,Io.Renderer=t$,Io.RightConnectionShape=NT,Io.StatementInput=gg,Io.TopRow=MT,Ga();var xn={};xn.registerCleanup=tc,xn.registerCollapse=Jl,xn.registerCollapseExpandBlock=Tn,xn.registerComment=Us,xn.registerCommentCreate=Hs,xn.registerCommentDelete=Br,xn.registerCommentDuplicate=ar,xn.registerCommentOptions=Qh,xn.registerDefaultOptions=Ga,xn.registerDelete=sc,xn.registerDeleteAll=cn,xn.registerDisable=oc,xn.registerDuplicate=Fs,xn.registerExpand=rc,xn.registerHelp=lc,xn.registerInline=qh,xn.registerRedo=Yl,xn.registerUndo=xt;var $g={};$g.CommentView=Ze,$g.RenderedWorkspaceComment=ot,$g.WorkspaceComment=un;var Gp={};Gp.Bubble=Tt,Gp.MiniWorkspaceBubble=ul,Gp.TextBubble=uT,Gp.TextInputBubble=rT;var _E=class extends ig{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},TE=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(e){this.steps_+=St(e.xPos,this.info_.startY);for(let t=0,r;r=e.elements[t];t++)G.isLeftSquareCorner(r)?this.steps_+=this.highlightConstants_.START_POINT:G.isLeftRoundedCorner(r)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):G.isPreviousConnection(r)?this.steps_+=this.notchPaths_.pathLeft:G.isHat(r)?this.steps_+=this.startPaths_.path(this.RTL_):G.isSpacer(r)&&r.width!==0&&(this.steps_+=Ae("H",r.xPos+r.width-this.highlightOffset));this.steps_+=Ae("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+Ae("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const r=e.height-t.connectionHeight;this.steps_+=en(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ae("v",r)}else this.steps_+=en(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const r=e.height-2*this.insideCornerPaths_.height;this.steps_+=en(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Ae("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+ei(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=en(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+ei(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof xm&&e.followsStatement&&(this.steps_+=Ae("H",t)),this.RTL_&&(this.steps_+=Ae("H",t),e.height>this.highlightOffset&&(this.steps_+=Ae("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=Ae("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];G.isLeftSquareCorner(t)?this.steps_+=en(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):G.isLeftRoundedCorner(t)&&(this.steps_+=en(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=en(this.info_.startX,e):(this.steps_+=en(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=Ae("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,G.isLeftRoundedCorner(e.elements[0])?this.steps_+=Ae("V",this.outsideCornerPaths_.height):this.steps_+=Ae("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,r=e.xPos+e.connectionWidth;var u=e.centerline-e.height/2;const d=e.width-e.connectionWidth,g=u+t;this.RTL_?(u=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=en(r-t,g)+Ae("v",u)+this.puzzleTabPaths_.pathDown(this.RTL_)+Ae("v",e)+Ae("h",d)):this.inlineSteps_+=en(e.xPos+e.width+t,g)+Ae("v",e.height)+Ae("h",-d)+en(r,u+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},EE=class extends og{constructor(e,t){super(e,t),this.highlighter_=new TE(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+`
`+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=Ae("H",e.xPos+e.width)+Ae("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let r=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),e.connectionModel.setOffsetInBlock(r,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(t!=null&&t.connectionModel){let r=e.xPos+e.statementEdge+t.notchOffset;r=this.info_.RTL?-1*r:r+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(r,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let r=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(r*=-1),t.connectionModel.setOffsetInBlock(r,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,r=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-r:r)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},bE=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=St(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,r=(1-Math.SQRT1_2)*(e+t)-t,u=St(r,r)+kt("a","0 0,0",e,We(-r-t,e-r)),d=kt("a","0 0,0",e+t,We(e+t,e+t)),g=St(r,-r)+kt("a","0 0,0",e+t,We(e-r,r+t));return{width:e+t,height:e,pathTop(y){return y?u:""},pathBottom(y){return y?d:g}}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,r=(1-Math.SQRT1_2)*(e-t)+t,u=St(r,r)+kt("a","0 0,1",e-t,We(e-r,-r+t)),d=St(t,e)+kt("a","0 0,1",e-t,We(e,-e+t)),g=-r,y=St(r,g)+kt("a","0 0,1",e-t,We(-r+t,-g-e));return{height:e,topLeft(B){return B?u:d},bottomLeft(){return y}}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,r=St(-2,-t+3.4)+ei(-.45*e,-2.1),u=Ae("v",2.5)+St(.97*-e,2.5)+Zt("q",[We(.05*-e,10),We(.3*e,9.5)])+St(.67*e,-1.9)+Ae("v",2.5),d=Ae("v",-1.5)+St(-.92*e,-.5)+Zt("q",[We(-.19*e,-5.5),We(0,-11)])+St(.92*e,1),g=St(-5,t-.7)+ei(.46*e,-2.1);return{width:e,height:t,pathUp(y){return y?r:d},pathDown(y){return y?u:g}}}makeNotch(){return{pathLeft:Ae("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:ei(5.1,2.6)+St(-10.2,6.8)+ei(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=St(25,-8.7)+Zt("c",[We(29.7,-6.2),We(57.2,-.5),We(75,8.7)]),r=Zt("c",[We(17.8,-9.2),We(45.3,-14.9),We(75,-8.7)])+en(100.5,e+.5);return{path(u){return u?t:r}}}},yE=class extends Nm{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},vE=class extends Np{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},SE=class extends Pp{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof mi||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new yE(this.constants_,e)),t.hasInlineInput=!0):e instanceof mi?(t.elements.push(new vE(this.constants_,e)),t.hasStatement=!0):e instanceof o.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new rg(this.constants_,e)),t.hasExternalInput=!0):(e instanceof is||e instanceof pl)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||t.align!==null||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let r=0,u;u=this.rows[r];r++)u.hasExternalInput&&(e=!0);for(let r=0,u;u=this.rows[r];r++){var t=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new gi(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let d=0;d<t.length-1;d++){u.elements.push(t[d]);const g=this.getInRowSpacing_(t[d],t[d+1]);u.elements.push(new gi(this.constants_,g))}u.elements.push(t[t.length-1]),u.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&u.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),u.elements.push(new gi(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&G.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&G.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&G.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!G.isInput(e)&&(!t||G.isStatementInput(t)))return G.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:G.isIcon(e)?2*this.constants_.LARGE_PADDING+1:G.isHat(e)?this.constants_.NO_PADDING:G.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:G.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:G.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(G.isInput(e)&&!t){if(G.isExternalInput(e))return this.constants_.NO_PADDING;if(G.isInlineInput(e))return this.constants_.LARGE_PADDING;if(G.isStatementInput(e))return this.constants_.NO_PADDING}if(!G.isInput(e)&&t&&G.isInput(t)){if(G.isField(e)&&e.isEditable){if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(G.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(G.isIcon(e)&&t&&!G.isInput(t))return this.constants_.LARGE_PADDING;if(G.isInlineInput(e)&&t&&G.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(G.isLeftSquareCorner(e)&&t){if(G.isHat(t))return this.constants_.NO_PADDING;if(G.isPreviousConnection(t))return t.notchOffset;if(G.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(G.isLeftRoundedCorner(e)&&t){if(G.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(G.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return G.isField(e)&&t&&G.isField(t)&&e.isEditable===t.isEditable||t&&G.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return G.isTopRow(e)&&G.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:G.isTopRow(e)||G.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(G.isSpacer(t))return e.yPos+t.height/2;if(G.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,G.isNextConnection(t)?e+t.height/2:e-t.height/2;if(G.isTopRow(e))return G.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let r=e.yPos;return G.isField(t)||G.isIcon(t)?(r+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=G.isInlineInput(t)?r+t.height/2:r+e.height/2,r}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,r=null;for(let u=this.rows.length-1,d;d=this.rows[u];u--)t.set(d,e),G.isInputRow(d)&&(d.hasStatement&&this.alignStatementRow_(d),r&&r.hasStatement&&d.width<r.width?t.set(d,r.width):e=d.hasStatement?d.width:Math.max(e,d.width),r=d);e=0;for(let u=0,d;d=this.rows[u];u++)d.hasStatement?e=this.getDesiredRowWidth_(d):G.isSpacer(d)?d.width=Math.max(e,t.get(d)):(r=d.width,e=Math.max(e,t.get(d))-r,0<e&&this.addAlignmentPadding_(d,e),e=d.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let u=0,d;d=this.rows[u];u++){d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var r=t-this.topRow.ascenderHeight;d===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,t+=r),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},IE=class extends sg{constructor(e,t,r){super(e,t,r),this.constants=r,this.colourDark="#000000",this.svgPathDark=le(K.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=le(K.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Zr("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},CE=class extends lg{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new _E}makeRenderInfo_(e){return new SE(this,e)}makeDrawer_(e,t){return new EE(e,t)}makePathObject(e,t){return new IE(e,t,this.getConstants())}makeHighlightConstants_(){return new bE(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Di("geras",CE);var us={};us.ConstantProvider=_E,us.Drawer=EE,us.HighlightConstantProvider=bE,us.Highlighter=TE,us.InlineInput=yE,us.PathObject=IE,us.RenderInfo=SE,us.Renderer=CE,us.StatementInput=vE;var wE=class extends Pp{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const u=this.rows[t];var r=u.elements;if(u.elements=[],u.startsWithElemSpacer()&&u.elements.push(new gi(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let d=0;d<r.length-1;d++){u.elements.push(r[d]);const g=this.getInRowSpacing_(r[d],r[d+1]);u.elements.push(new gi(this.constants_,g))}u.elements.push(r[r.length-1]),u.endsWithElemSpacer()&&(r=this.getInRowSpacing_(r[r.length-1],null),e&&u.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),u.elements.push(new gi(this.constants_,r)))}}}getInRowSpacing_(e,t){if(!e)return t&&G.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&G.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&G.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!G.isInput(e)&&!t)return G.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:G.isIcon(e)?2*this.constants_.LARGE_PADDING+1:G.isHat(e)?this.constants_.NO_PADDING:G.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:G.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:G.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(G.isInput(e)&&!t){if(G.isExternalInput(e))return this.constants_.NO_PADDING;if(G.isInlineInput(e))return this.constants_.LARGE_PADDING;if(G.isStatementInput(e))return this.constants_.NO_PADDING}if(!G.isInput(e)&&t&&G.isInput(t)){if(G.isField(e)&&e.isEditable){if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(G.isInlineInput(t)||G.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(G.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(G.isIcon(e)&&t&&!G.isInput(t))return this.constants_.LARGE_PADDING;if(G.isInlineInput(e)&&t&&G.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(G.isLeftSquareCorner(e)&&t){if(G.isHat(t))return this.constants_.NO_PADDING;if(G.isPreviousConnection(t)||G.isNextConnection(t))return t.notchOffset}return G.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:G.isField(e)&&t&&G.isField(t)&&e.isEditable===t.isEditable||t&&G.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return G.isTopRow(e)&&G.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:G.isTopRow(e)||G.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(G.isSpacer(t))return e.yPos+t.height/2;if(G.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,G.isNextConnection(t)?e+t.height/2:e-t.height/2;if(G.isTopRow(e))return G.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let r=e.yPos;return r=G.isField(t)&&e.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):r+e.height/2}finalize_(){let e=0,t=0;for(var r=0;r<this.rows.length;r++){const d=this.rows[r];d.yPos=t,d.xPos=this.startX,t+=d.height,e=Math.max(e,d.widthWithConnectedBlocks);var u=t-this.topRow.ascenderHeight;d===this.bottomRow&&u<this.constants_.MIN_BLOCK_HEIGHT&&(u=this.constants_.MIN_BLOCK_HEIGHT-u,this.bottomRow.height+=u,t+=u),this.recordElemPositions_(d)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,r.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},kE=class extends lg{constructor(e){super(e)}makeRenderInfo_(e){return new wE(this,e)}};Di("thrasos",kE);var $$={};$$.RenderInfo=wE,$$.Renderer=kE;var SS={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},IS={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},CS=new Ac("zelos",SS,IS),wS={Classic:qf,Zelos:CS},_$=class{constructor(e,t,r){this.id_=e.toolboxitemid||H(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},Co=class extends _${constructor(e,t,r){super(e,t,r),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const r=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(r)}}parseCategoryDef_(e){this.name_="name"in e?Xt(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),No(this.htmlDiv_,Sr.TREEITEM),_n(this.htmlDiv_,Yt.SELECTED,!1),_n(this.htmlDiv_,Yt.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),No(this.iconDom_,Sr.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&_n(this.htmlDiv_,Yt.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&Be(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&Be(e,t),t=`${Co.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&Be(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&Be(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&Be(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=Co.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle(t);if(e)return this.parseColour(e)}return""}getColourfromStyle(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour(e){if(e=Xt(e),e==null||e==="")return"";var t=Number(e);return isNaN(t)?(t=Rs(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):da(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&_(e,t),(t=this.cssConfig_.openicon)&&Be(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&_(e,t),(t=this.cssConfig_.closedicon)&&Be(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const r=this.parseColour(Co.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||r,t&&Be(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&S(this.rowDiv_,t);_n(this.htmlDiv_,Yt.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_=typeof e=="string"?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:$u(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){j(this.htmlDiv_)}};Co.registrationName="category",Co.nestedPadding=19,Co.borderWidth=8,Co.defaultBackgroundColour="#57e",Pn(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),c($e.TOOLBOX_ITEM,Co.registrationName,Co);var Wp=class extends _${constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&Be(e,t),this.htmlDiv=e}getDiv(){return this.htmlDiv}dispose(){j(this.htmlDiv)}};Wp.registrationName="sep",Pn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),c($e.TOOLBOX_ITEM,Wp.registrationName,Wp);var vd=class extends Co{constructor(e,t,r){super(e,t,r),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let r=0;r<t.length;r++){const u=t[r];!E($e.TOOLBOX_ITEM,u.kind)||u.kind.toLowerCase()===Wp.registrationName&&e?(this.flyoutItems_.push(u),e=!0):(this.createToolboxItem(u),e=!1)}}}}createToolboxItem(e){let t=e.kind;t.toUpperCase()==="CATEGORY"&&Tu(e)&&(t=vd.registrationName),e=new(v($e.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),No(this.subcategoriesDiv_,Sr.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),_n(this.htmlDiv_,Yt.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&Be(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var r=this.cssConfig_.contents;for(r&&Be(t,r),r=0;r<e.length;r++){const u=e[r];u.init();const d=u.getDiv();if(t.appendChild(d),u.getClickTarget){let g;(g=u.getClickTarget())==null||g.setAttribute("id",u.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let t;(t=this.parentToolbox_.getFlyout())==null||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}_n(this.htmlDiv_,Yt.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let r=0;r<t.length;r++)t[r].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};vd.registrationName="collapsibleCategory",c($e.TOOLBOX_ITEM,vd.registrationName,vd);var OE=class extends cg{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),we(this.flyout.createDom("svg"),t),this.setVisible(!0),this.flyout.init(e),this.render(this.toolboxDef_),e=e.getThemeManager(),e.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:At.ComponentWeight.TOOLBOX_WEIGHT,capabilities:[At.Capability.AUTOHIDEABLE,At.Capability.DELETE_AREA,At.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,No(this.contentsDiv_,Sr.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),Be(e,"blocklyToolboxDiv"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return Be(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=Ge(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=Ge(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(kn(e)||e.target===this.HtmlDiv)Se().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t),t.isSelectable()&&(this.setSelectedItem(t),t.onClick(e))),Se().hideChaff(!0)}Qt()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext();break;case"ArrowUp":t=this.selectPrevious();break;case"ArrowLeft":t=this.selectParent();break;case"ArrowRight":t=this.selectChild();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new Gi({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?w($e.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):w($e.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let t=0;t<this.contents_.length;t++){const r=this.contents_[t];r&&r.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let r=0;r<e.length;r++)this.createToolboxItem(e[r],t);this.contentsDiv_.appendChild(t)}createToolboxItem(e,t){var r=e.kind;r.toUpperCase()==="CATEGORY"&&Tu(e)&&(r=vd.registrationName),(r=v($e.TOOLBOX_ITEM,r.toLowerCase()))&&(e=new r(e,this),e.init(),this.addToolboxItem_(e),(r=e.getDiv())&&t.appendChild(r),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&Be(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&S(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,r=t+e.height,u=e.left;return e=u+e.width,this.toolboxPosition===Ke.TOP?new ft(-1e7,r,-1e7,1e7):this.toolboxPosition===Ke.BOTTOM?new ft(t,1e7,-1e7,1e7):this.toolboxPosition===Ke.LEFT?new ft(-1e7,1e7,-1e7,e):new ft(-1e7,1e7,u,1e7)}wouldDelete(e){return e instanceof zi?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(cr(e)&&e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Ke.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Ke.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Ke.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===Ke.TOP?e.scrollY+t.height:e.scrollY),Qe(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.flyout.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!np(e)||(this.shouldDeselectItem_(t,e)&&t!==null&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&e!==null&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent(t,e))}shouldDeselectItem_(e,t){return e!==null&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return t!==null&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),_n(this.contentsDiv_,Yt.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),_n(this.contentsDiv_,Yt.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e],e.isSelectable()&&this.setSelectedItem(e))}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout.show(t.getContents()),this.flyout.scrollToStart()):this.flyout.hide()}fireSelectEvent(e,t){const r=e&&e.getName();let u=t&&t.getName();e===t&&(u=null),e=new(C(te.TOOLBOX_ITEM_SELECT))(r,u,this.workspace_.id),pe(e)}selectParent(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext():e.toggleExpanded(),!0}selectNext(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)it(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),j(this.HtmlDiv))}};Pn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),c($e.TOOLBOX,Er,OE);var kS="11.2.1",OS=Pe.INPUT_VALUE,RS=Pe.OUTPUT_VALUE,LS=Pe.NEXT_STATEMENT,AS=Pe.PREVIOUS_STATEMENT,DS=Ke.TOP,NS=Ke.BOTTOM,MS=Ke.LEFT,xS=Ke.RIGHT;_d.prototype.newBlock=function(e,t){return new uu(this,e,t)},ji.prototype.newBlock=function(e,t){return new zi(this,e,t)},_d.prototype.newComment=function(e){return new un(this,e)},ji.prototype.newComment=function(e){return new ot(this,e)},ji.newTrashcan=function(e){return new IT(e)},ul.prototype.newWorkspaceSvg=function(e){return new ji(e)},o.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=Jn(e),e=e[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],o.Names$$module$build$src$core$names.NameType.PROCEDURE)};var se={};return se.ASTNode=he,se.BasicCursor=Fp,se.Block=uu,se.BlockSvg=zi,se.Blocks=Qn,se.COLLAPSED_FIELD_NAME=Zs,se.COLLAPSED_INPUT_NAME=Ir,se.COLLAPSE_CHARS=$T,se.CodeGenerator=o.CodeGenerator$$module$build$src$core$generator,se.CollapsibleToolboxCategory=vd,se.ComponentManager=At,se.Connection=ct,se.ConnectionChecker=_T,se.ConnectionDB=pd,se.ConnectionType=Pe,se.ContextMenu=q,se.ContextMenuItems=xn,se.ContextMenuRegistry=U,se.Css=Ep,se.Cursor=Km,se.DELETE_VARIABLE_ID=Gm,se.DeleteArea=cg,se.DragTarget=ST,se.DropDownDiv=Wn,se.Events=Me,se.Extensions=vo,se.Field=f,se.FieldCheckbox=xc,se.FieldDropdown=Gr,se.FieldImage=Mc,se.FieldLabel=Dc,se.FieldLabelSerializable=WT,se.FieldNumber=r$,se.FieldTextInput=fg,se.FieldVariable=Hp,se.Flyout=mg,se.FlyoutButton=Wi,se.FlyoutMetricsManager=VT,se.Generator=o.CodeGenerator$$module$build$src$core$generator,se.Gesture=ll,se.Grid=km,se.HorizontalFlyout=GT,se.INPUT_VALUE=OS,se.Input=md,se.InsertionMarkerManager=So,se.InsertionMarkerPreviewer=FT,se.Marker=bT,se.MarkerManager=ol,se.Menu=Tc,se.MenuItem=qo,se.MetricsManager=e$,se.Msg=o.Msg$$module$build$src$core$msg,se.NEXT_STATEMENT=LS,se.Names=o.Names$$module$build$src$core$names,se.OPPOSITE_TYPE=Nc,se.OUTPUT_VALUE=RS,se.Options=Gi,se.PREVIOUS_STATEMENT=AS,se.PROCEDURE_CATEGORY_NAME=ng,se.Procedures=kr,se.RENAME_VARIABLE_ID=Vm,se.RenderedConnection=Wr,se.Scrollbar=Vt,se.ScrollbarPair=Zm,se.ShortcutItems=ss,se.ShortcutRegistry=mt,se.TOOLBOX_AT_BOTTOM=NS,se.TOOLBOX_AT_LEFT=MS,se.TOOLBOX_AT_RIGHT=xS,se.TOOLBOX_AT_TOP=DS,se.TabNavigateCursor=yT,se.Theme=Ac,se.ThemeManager=mT,se.Themes=wS,se.Toolbox=OE,se.ToolboxCategory=Co,se.ToolboxItem=_$,se.ToolboxSeparator=Wp,se.Tooltip=wr,se.Touch=Ko,se.Trashcan=IT,se.UnattachedFieldError=$,se.VARIABLE_CATEGORY_NAME=Sc,se.VARIABLE_DYNAMIC_CATEGORY_NAME=Hm,se.VERSION=kS,se.VariableMap=zm,se.VariableModel=tu,se.Variables=rn,se.VariablesDynamic=$d,se.VerticalFlyout=n$,se.WidgetDiv=De,se.Workspace=_d,se.WorkspaceAudio=TT,se.WorkspaceDragger=Z_,se.WorkspaceSvg=ji,se.Xml=Jt,se.ZoomControls=jf,se.blockAnimations=Ap,se.blockRendering=gt,se.browserEvents=go,se.bubbles=Gp,se.bumpObjects=ug,se.clipboard=Up,se.comments=$g,se.common=an,se.config=o.config$$module$build$src$core$config,se.constants=Qo,se.defineBlocksWithJsonArray=yt,se.dialog=Zo,se.dragging=Vp,se.fieldRegistry=Qf,se.geras=us,se.getMainWorkspace=Se,se.getSelected=Oe,se.hasBubble=Po,se.hideChaff=rp,se.icons=su,se.inject=Xl,se.inputs=du,se.isCopyable=Gl,se.isDeletable=cr,se.isDraggable=_r,se.isIcon=La,se.isObservable=Yn,se.isPaster=Zh,se.isRenderedElement=ep,se.isSelectable=tp,se.isSerializable=Mo,se.isVariableBackedParameterModel=yu,se.layers=Xe,se.procedures=kr,se.registry=li,se.renderManagement=tl,se.serialization=yS,se.setLocale=yc,se.setParentContainer=qe,se.svgResize=Qe,se.thrasos=$$,se.uiPosition=Yo,se.utils=on,se.zelos=Io,se.__namespace__=o,se})}(Ag)),Ag.exports}var AL=U_();const DL=T_(AL),{ASTNode:iD,BasicCursor:oD,Block:sD,BlockSvg:lD,Blocks:uD,COLLAPSED_FIELD_NAME:cD,COLLAPSED_INPUT_NAME:aD,COLLAPSE_CHARS:dD,CodeGenerator:hD,CollapsibleToolboxCategory:pD,ComponentManager:fD,Connection:gD,ConnectionChecker:mD,ConnectionDB:$D,ConnectionType:_D,ContextMenu:TD,ContextMenuItems:ED,ContextMenuRegistry:bD,Css:yD,Cursor:vD,DELETE_VARIABLE_ID:SD,DeleteArea:ID,DragTarget:CD,DropDownDiv:wD,Events:kD,Extensions:OD,Field:RD,FieldCheckbox:LD,FieldDropdown:AD,FieldImage:DD,FieldLabel:ND,FieldLabelSerializable:MD,FieldNumber:xD,FieldTextInput:PD,FieldVariable:BD,Flyout:FD,FlyoutButton:UD,FlyoutMetricsManager:HD,Generator:VD,Gesture:GD,Grid:WD,HorizontalFlyout:jD,INPUT_VALUE:zD,Input:XD,InsertionMarkerManager:KD,InsertionMarkerPreviewer:YD,Marker:JD,MarkerManager:qD,Menu:QD,MenuItem:ZD,MetricsManager:eN,Msg:tN,NEXT_STATEMENT:nN,Names:rN,OPPOSITE_TYPE:iN,OUTPUT_VALUE:oN,Options:sN,PREVIOUS_STATEMENT:lN,PROCEDURE_CATEGORY_NAME:uN,Procedures:cN,RENAME_VARIABLE_ID:aN,RenderedConnection:dN,Scrollbar:hN,ScrollbarPair:pN,ShortcutItems:fN,ShortcutRegistry:gN,TOOLBOX_AT_BOTTOM:mN,TOOLBOX_AT_LEFT:$N,TOOLBOX_AT_RIGHT:_N,TOOLBOX_AT_TOP:TN,TabNavigateCursor:EN,Theme:bN,ThemeManager:yN,Themes:vN,Toolbox:SN,ToolboxCategory:IN,ToolboxItem:CN,ToolboxSeparator:wN,Tooltip:kN,Touch:ON,Trashcan:RN,UnattachedFieldError:LN,VARIABLE_CATEGORY_NAME:AN,VARIABLE_DYNAMIC_CATEGORY_NAME:DN,VERSION:NN,VariableMap:MN,VariableModel:xN,Variables:PN,VariablesDynamic:BN,VerticalFlyout:FN,WidgetDiv:UN,Workspace:HN,WorkspaceAudio:VN,WorkspaceDragger:GN,WorkspaceSvg:WN,Xml:Zp,ZoomControls:jN,blockAnimations:zN,blockRendering:XN,browserEvents:KN,bubbles:YN,bumpObjects:JN,clipboard:qN,comments:QN,common:ZN,config:eM,constants:tM,defineBlocksWithJsonArray:nM,dialog:rM,dragging:iM,fieldRegistry:oM,geras:sM,getMainWorkspace:lM,getSelected:uM,hasBubble:cM,hideChaff:aM,icons:dM,inject:NL,inputs:hM,isCopyable:pM,isDeletable:fM,isDraggable:gM,isIcon:mM,isObservable:$M,isPaster:_M,isRenderedElement:TM,isSelectable:EM,isSerializable:bM,isVariableBackedParameterModel:yM,layers:vM,procedures:SM,registry:IM,renderManagement:CM,serialization:mv,setLocale:wM,setParentContainer:kM,svgResize:OM,thrasos:RM,uiPosition:LM,utils:ML,zelos:AM}=DL;function xL(n,l){var o=null,c=null,h=function(){for(var T=[],E=0;E<arguments.length;E++)T[E]=arguments[E];c=function(){o=null,n.apply(void 0,T)},o!=null&&clearTimeout(o),o=window.setTimeout(c,l)},m=function(){o!=null&&(clearTimeout(o),c&&c())};return[h,m]}var zg=function(){return zg=Object.assign||function(n){for(var l,o=1,c=arguments.length;o<c;o++){l=arguments[o];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(n[h]=l[h])}return n},zg.apply(this,arguments)};function PL(n,l,o){try{return l.getAllBlocks(!1).length>0?void 0:(Zp.domToWorkspace(ML.xml.textToDom(n),l),!0)}catch(c){return o&&o(c),!1}}function BL(n,l,o){try{return mv.workspaces.load(n,l),!0}catch(c){return o&&o(c),!1}}var FL=function(n){var l=n.ref,o=n.initialXml,c=n.initialJson,h=n.toolboxConfiguration,m=n.workspaceConfiguration,T=n.onWorkspaceChange,E=n.onImportXmlError,v=n.onImportError,I=n.onInject,M=n.onDispose;v=v??E;var w=ze.useState(null),k=w[0],H=w[1],P=ze.useState(o||null),O=P[0],z=P[1],ee=ze.useState(c||null),oe=ee[0],ne=ee[1],ue=ze.useState(!1),ge=ue[0],ce=ue[1],re=ze.useState(!1),pe=re[0],Fe=re[1],L=ze.useRef(m);ze.useEffect(function(){L.current=m},[m]);var ve=ze.useRef(h);ze.useEffect(function(){ve.current=h,h&&k&&!(m!=null&&m.readOnly)&&k.updateToolbox(h)},[h,k,m]);var ke=ze.useRef(I),Ne=ze.useRef(M);ze.useEffect(function(){ke.current=I},[I]),ze.useEffect(function(){Ne.current=M},[M]);var Le=ze.useCallback(function(Ve){T&&T(Ve)},[T]);return ze.useEffect(function(){if(l.current){var Ve=NL(l.current,zg(zg({},L.current),{toolbox:ve.current}));H(Ve),ce(!1),Fe(!1),ke.current&&ke.current(Ve);var X=Ne.current;return function(){Ve.dispose(),X&&X(Ve)}}},[l]),ze.useEffect(function(){k&&!pe&&Le(k)},[Le,pe,k]),ze.useEffect(function(){if(k!=null){var Ve=function(){Le(k)};return k.addChangeListener(Ve),function(){k.removeChangeListener(Ve)}}},[k,Le]),ze.useEffect(function(){if(k!=null){var Ve=xL(function(){var C=Zp.domToText(Zp.workspaceToDom(k));if(C!==O){var J=mv.workspaces.save(k);ne(J),z(C)}},200),X=Ve[0],F=Ve[1];return k.addChangeListener(X),function(){k.removeChangeListener(X),F()}}},[k,O]),ze.useEffect(function(){if(O&&k&&!ge){var Ve=PL(O,k,v);Ve||z(null),ce(!0)}else if(oe&&k&&!ge){var Ve=BL(oe,k,v);Ve||ne(null);var X=Zp.domToText(Zp.workspaceToDom(k));z(X),ce(!0)}},[oe,O,k,ge,v]),{workspace:k,xml:O,json:oe}},UL={initialXml:Xi.string,initialJson:Xi.object,toolboxConfiguration:Xi.object,workspaceConfiguration:Xi.object,className:Xi.string,onWorkspaceChange:Xi.func,onImportXmlError:Xi.func,onImportError:Xi.func,onXmlChange:Xi.func,onJsonChange:Xi.func,onInject:Xi.func,onDispose:Xi.func};function $v(n){var l=n.initialXml,o=n.initialJson,c=n.toolboxConfiguration,h=n.workspaceConfiguration,m=n.className,T=n.onWorkspaceChange,E=n.onXmlChange,v=n.onJsonChange,I=n.onImportXmlError,M=n.onImportError,w=n.onInject,k=n.onDispose,H=ze.useRef(null),P=FL({ref:H,initialXml:l,initialJson:o,toolboxConfiguration:c,workspaceConfiguration:h,onWorkspaceChange:T,onImportXmlError:I,onImportError:M,onInject:w,onDispose:k}),O=P.xml,z=P.json,ee=ze.useRef(E);ze.useEffect(function(){ee.current=E},[E]);var oe=ze.useRef(v);return ze.useEffect(function(){oe.current=v},[v]),ze.useEffect(function(){ee.current&&O&&ee.current(O),oe.current&&z&&oe.current(z)},[O,z]),N.jsx("div",{className:m,ref:H})}$v.propTypes=UL;var Dg={exports:{}},Ng={exports:{}},HL=Ng.exports,Hb;function VL(){return Hb||(Hb=1,function(n,l){(function(o,c){n.exports=c()})(HL,function(){var o=o||{Msg:Object.create(null)};return o.Msg.ADD_COMMENT="Add Comment",o.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",o.Msg.CHANGE_VALUE_TITLE="Change value:",o.Msg.CLEAN_UP="Clean up Blocks",o.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",o.Msg.COLLAPSE_ALL="Collapse Blocks",o.Msg.COLLAPSE_BLOCK="Collapse Block",o.Msg.COLOUR_BLEND_COLOUR1="colour 1",o.Msg.COLOUR_BLEND_COLOUR2="colour 2",o.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",o.Msg.COLOUR_BLEND_RATIO="ratio",o.Msg.COLOUR_BLEND_TITLE="blend",o.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",o.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",o.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",o.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",o.Msg.COLOUR_RANDOM_TITLE="random colour",o.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",o.Msg.COLOUR_RGB_BLUE="blue",o.Msg.COLOUR_RGB_GREEN="green",o.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",o.Msg.COLOUR_RGB_RED="red",o.Msg.COLOUR_RGB_TITLE="colour with",o.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",o.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",o.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",o.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",o.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",o.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",o.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",o.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",o.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",o.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",o.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",o.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",o.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",o.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",o.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",o.Msg.CONTROLS_IF_MSG_ELSE="else",o.Msg.CONTROLS_IF_MSG_ELSEIF="else if",o.Msg.CONTROLS_IF_MSG_IF="if",o.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",o.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",o.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",o.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",o.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",o.Msg.CONTROLS_REPEAT_INPUT_DO="do",o.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",o.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",o.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",o.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",o.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",o.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",o.Msg.DELETE_BLOCK="Delete Block",o.Msg.DELETE_VARIABLE="Delete the '%1' variable",o.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",o.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",o.Msg.DIALOG_CANCEL="Cancel",o.Msg.DIALOG_OK="OK",o.Msg.DISABLE_BLOCK="Disable Block",o.Msg.DUPLICATE_BLOCK="Duplicate",o.Msg.DUPLICATE_COMMENT="Duplicate Comment",o.Msg.ENABLE_BLOCK="Enable Block",o.Msg.EXPAND_ALL="Expand Blocks",o.Msg.EXPAND_BLOCK="Expand Block",o.Msg.EXTERNAL_INPUTS="External Inputs",o.Msg.HELP="Help",o.Msg.INLINE_INPUTS="Inline Inputs",o.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",o.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",o.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",o.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",o.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",o.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",o.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",o.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",o.Msg.LISTS_GET_INDEX_FIRST="first",o.Msg.LISTS_GET_INDEX_FROM_END="# from end",o.Msg.LISTS_GET_INDEX_FROM_START="#",o.Msg.LISTS_GET_INDEX_GET="get",o.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",o.Msg.LISTS_GET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",o.Msg.LISTS_GET_INDEX_LAST="last",o.Msg.LISTS_GET_INDEX_RANDOM="random",o.Msg.LISTS_GET_INDEX_REMOVE="remove",o.Msg.LISTS_GET_INDEX_TAIL="",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",o.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",o.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",o.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",o.Msg.LISTS_GET_SUBLIST_END_LAST="to last",o.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",o.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",o.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",o.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",o.Msg.LISTS_GET_SUBLIST_TAIL="",o.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",o.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",o.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",o.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",o.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#finding-items-in-a-list",o.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",o.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",o.Msg.LISTS_INLIST="in list",o.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",o.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",o.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",o.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",o.Msg.LISTS_LENGTH_TITLE="length of %1",o.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",o.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",o.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",o.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",o.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",o.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",o.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",o.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",o.Msg.LISTS_SET_INDEX_INPUT_TO="as",o.Msg.LISTS_SET_INDEX_INSERT="insert at",o.Msg.LISTS_SET_INDEX_SET="set",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",o.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",o.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",o.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",o.Msg.LISTS_SORT_ORDER_DESCENDING="descending",o.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",o.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",o.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",o.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",o.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",o.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",o.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",o.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",o.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",o.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",o.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",o.Msg.LOGIC_BOOLEAN_FALSE="false",o.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",o.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",o.Msg.LOGIC_BOOLEAN_TRUE="true",o.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",o.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",o.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",o.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",o.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",o.Msg.LOGIC_NEGATE_TITLE="not %1",o.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",o.Msg.LOGIC_NULL="null",o.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",o.Msg.LOGIC_NULL_TOOLTIP="Returns null.",o.Msg.LOGIC_OPERATION_AND="and",o.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",o.Msg.LOGIC_OPERATION_OR="or",o.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",o.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",o.Msg.LOGIC_TERNARY_CONDITION="test",o.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",o.Msg.LOGIC_TERNARY_IF_FALSE="if false",o.Msg.LOGIC_TERNARY_IF_TRUE="if true",o.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",o.Msg.MATH_ADDITION_SYMBOL="+",o.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",o.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",o.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",o.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",o.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",o.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",o.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",o.Msg.MATH_CHANGE_TITLE="change %1 by %2",o.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",o.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",o.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants:  (3.141), e (2.718),  (1.618), sqrt(2) (1.414), sqrt() (0.707), or  (infinity).",o.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",o.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",o.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",o.Msg.MATH_DIVISION_SYMBOL="",o.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",o.Msg.MATH_IS_EVEN="is even",o.Msg.MATH_IS_NEGATIVE="is negative",o.Msg.MATH_IS_ODD="is odd",o.Msg.MATH_IS_POSITIVE="is positive",o.Msg.MATH_IS_PRIME="is prime",o.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",o.Msg.MATH_IS_WHOLE="is whole",o.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",o.Msg.MATH_MODULO_TITLE="remainder of %1  %2",o.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",o.Msg.MATH_MULTIPLICATION_SYMBOL="",o.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",o.Msg.MATH_NUMBER_TOOLTIP="A number.",o.Msg.MATH_ONLIST_HELPURL="",o.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",o.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",o.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",o.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",o.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",o.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",o.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",o.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",o.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",o.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",o.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",o.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",o.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",o.Msg.MATH_POWER_SYMBOL="^",o.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",o.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",o.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",o.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",o.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",o.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",o.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",o.Msg.MATH_ROUND_OPERATOR_ROUND="round",o.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",o.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",o.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",o.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",o.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",o.Msg.MATH_SINGLE_OP_ROOT="square root",o.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",o.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",o.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",o.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",o.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",o.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",o.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",o.Msg.MATH_SUBTRACTION_SYMBOL="-",o.Msg.MATH_TRIG_ACOS="acos",o.Msg.MATH_TRIG_ASIN="asin",o.Msg.MATH_TRIG_ATAN="atan",o.Msg.MATH_TRIG_COS="cos",o.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",o.Msg.MATH_TRIG_SIN="sin",o.Msg.MATH_TRIG_TAN="tan",o.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",o.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",o.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",o.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",o.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",o.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",o.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",o.Msg.NEW_NUMBER_VARIABLE="Create number variable...",o.Msg.NEW_STRING_VARIABLE="Create string variable...",o.Msg.NEW_VARIABLE="Create variable...",o.Msg.NEW_VARIABLE_TITLE="New variable name:",o.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",o.Msg.ORDINAL_NUMBER_SUFFIX="",o.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",o.Msg.PROCEDURES_BEFORE_PARAMS="with:",o.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",o.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",o.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",o.Msg.PROCEDURES_CALL_DISABLED_DEF_WARNING="Can't run the user-defined function '%1' because the definition block is disabled.",o.Msg.PROCEDURES_CREATE_DO="Create '%1'",o.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",o.Msg.PROCEDURES_DEFNORETURN_DO="",o.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",o.Msg.PROCEDURES_DEFNORETURN_TITLE="to",o.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",o.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",o.Msg.PROCEDURES_DEFRETURN_RETURN="return",o.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",o.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",o.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",o.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",o.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",o.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",o.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",o.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",o.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",o.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",o.Msg.REDO="Redo",o.Msg.REMOVE_COMMENT="Remove Comment",o.Msg.RENAME_VARIABLE="Rename variable...",o.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",o.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_APPEND_TITLE="to %1 append text %2",o.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",o.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",o.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",o.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",o.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",o.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",o.Msg.TEXT_CHARAT_FIRST="get first letter",o.Msg.TEXT_CHARAT_FROM_END="get letter # from end",o.Msg.TEXT_CHARAT_FROM_START="get letter #",o.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",o.Msg.TEXT_CHARAT_LAST="get last letter",o.Msg.TEXT_CHARAT_RANDOM="get random letter",o.Msg.TEXT_CHARAT_TAIL="",o.Msg.TEXT_CHARAT_TITLE="in text %1 %2",o.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",o.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",o.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",o.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",o.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",o.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",o.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",o.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",o.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",o.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",o.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",o.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",o.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",o.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",o.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",o.Msg.TEXT_GET_SUBSTRING_TAIL="",o.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",o.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",o.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",o.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",o.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",o.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",o.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",o.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",o.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",o.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",o.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",o.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",o.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",o.Msg.TEXT_LENGTH_TITLE="length of %1",o.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",o.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",o.Msg.TEXT_PRINT_TITLE="print %1",o.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",o.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",o.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",o.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",o.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",o.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",o.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",o.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",o.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",o.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",o.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",o.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",o.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",o.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",o.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",o.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",o.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",o.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",o.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",o.Msg.TODAY="Today",o.Msg.UNDO="Undo",o.Msg.UNNAMED_KEY="unnamed",o.Msg.VARIABLES_DEFAULT_NAME="item",o.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",o.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",o.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",o.Msg.VARIABLES_SET="set %1 to %2",o.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",o.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",o.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",o.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",o.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",o.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",o.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",o.Msg.CONTROLS_FOREACH_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_FOR_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=o.Msg.CONTROLS_IF_MSG_ELSEIF,o.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=o.Msg.CONTROLS_IF_MSG_ELSE,o.Msg.CONTROLS_IF_IF_TITLE_IF=o.Msg.CONTROLS_IF_MSG_IF,o.Msg.CONTROLS_IF_MSG_THEN=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=o.Msg.CONTROLS_REPEAT_INPUT_DO,o.Msg.LISTS_CREATE_WITH_ITEM_TITLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=o.Msg.LISTS_INLIST,o.Msg.MATH_CHANGE_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.PROCEDURES_DEFRETURN_COMMENT=o.Msg.PROCEDURES_DEFNORETURN_COMMENT,o.Msg.PROCEDURES_DEFRETURN_DO=o.Msg.PROCEDURES_DEFNORETURN_DO,o.Msg.PROCEDURES_DEFRETURN_PROCEDURE=o.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,o.Msg.PROCEDURES_DEFRETURN_TITLE=o.Msg.PROCEDURES_DEFNORETURN_TITLE,o.Msg.TEXT_APPEND_VARIABLE=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=o.Msg.VARIABLES_DEFAULT_NAME,o.Msg.COLOUR_HUE="20",o.Msg.LISTS_HUE="260",o.Msg.LOGIC_HUE="210",o.Msg.LOOPS_HUE="120",o.Msg.MATH_HUE="230",o.Msg.PROCEDURES_HUE="290",o.Msg.TEXTS_HUE="160",o.Msg.VARIABLES_DYNAMIC_HUE="310",o.Msg.VARIABLES_HUE="330",o.Msg})}(Ng)),Ng.exports}var Mg={exports:{}},GL=Mg.exports,Vb;function WL(){return Vb||(Vb=1,function(n,l){(function(o,c){n.exports=c(U_())})(GL,function(o){var c=o.__namespace__,h=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),m={customContextMenu:function(_){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(W={text:c.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:T(this)},j=this.getField("VAR").getText(),j={text:c.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",j),enabled:!0,callback:E(this)},_.unshift(W),_.unshift(j));else{if(this.type==="variables_get_dynamic")var S="variables_set_dynamic",W=c.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else S="variables_get_dynamic",W=c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var j=this.getField("VAR");S={type:S,fields:{VAR:j.saveState(!0)}},_.push({enabled:0<this.workspace.remainingCapacity(),text:W.replace("%1",j.getText()),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,S)})}},onchange:function(_){_=this.getFieldValue("VAR"),_=c.getVariable$$module$build$src$core$variables(this.workspace,_),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(_.type):this.getInput("VALUE").connection.setCheck(_.type)}},T=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();c.renameVariable$$module$build$src$core$variables(S,W)}},E=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();S.deleteVariableById(W.getId()),S.refreshToolboxSelection()}};c.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",m),c.defineBlocks$$module$build$src$core$common(h);var v={blocks:h},I=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),M={customContextMenu:function(_){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(W={text:c.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:w(this)},j=this.getField("VAR").getText(),j={text:c.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",j),enabled:!0,callback:k(this)},_.unshift(W),_.unshift(j));else{if(this.type==="variables_get")var S="variables_set",W=c.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else S="variables_get",W=c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var j=this.getField("VAR");S={type:S,fields:{VAR:j.saveState(!0)}},_.push({enabled:0<this.workspace.remainingCapacity(),text:W.replace("%1",j.getText()),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,S)})}}},w=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();c.renameVariable$$module$build$src$core$variables(S,W)}},k=function(_){return function(){const S=_.workspace,W=_.getField("VAR").getVariable();S.deleteVariableById(W.getId()),S.refreshToolboxSelection()}};c.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",M),c.defineBlocks$$module$build$src$core$common(I);var H={blocks:I},P=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),O={init:function(){this.WHERE_OPTIONS_1=[[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);const _=S=>{const W=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+S]});return W.setValidator(function(j){const we=this.getValue();j=j==="FROM_START"||j==="FROM_END",j!==(we==="FROM_START"||we==="FROM_END")&&this.getSourceBlock().updateAt_(S,j)}),W};this.appendDummyInput("WHERE1_INPUT").appendField(_(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(_(2),"WHERE2"),this.appendDummyInput("AT2"),c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");var S=this.getInput("AT1")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at1",`${S}`),S=this.getInput("AT2")instanceof c.ValueInput$$module$build$src$core$inputs$value_input,_.setAttribute("at2",`${S}`),_},domToMutation:function(_){const S=_.getAttribute("at1")==="true";_=_.getAttribute("at2")==="true",this.updateAt_(1,S),this.updateAt_(2,_)},updateAt_:function(_,S){this.removeInput("AT"+_),this.removeInput("ORDINAL"+_,!0),S?(this.appendValueInput("AT"+_).setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+_).appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+_),_===2&&c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL)),_===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT"))}};P.text_getSubstring=O,P.text_changeCase={init:function(){const _=[[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},P.text_trim={init:function(){const _=[[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[c.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(c.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},P.text_print={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var z={updateType_:function(_){this.outputConnection.setCheck(_==="NUMBER"?"Number":"String")},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("type",this.getFieldValue("TYPE")),_},domToMutation:function(_){this.updateType_(_.getAttribute("type"))}};P.text_prompt_ext=Object.assign({},z,{init:function(){var _=[[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(S=>{this.updateType_(S)}),this.appendValueInput("TEXT").appendField(_,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),P.text_prompt=Object.assign({},z,{init:function(){this.mixin(ee);var _=[[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(c.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(S=>{this.updateType_(S)}),this.appendDummyInput().appendField(_,"TYPE").appendField(this.newQuote_(!0)).appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:c.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}}),P.text_count={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},P.text_replace={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},P.text_reverse={init:function(){this.jsonInit({message0:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:c.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var ee={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(_){for(let S=0,W;W=this.inputList[S];S++)for(let j=0,we;we=W.fieldRow[j];j++)if(_===we.name){W.insertFieldAt(j,this.newQuote_(!0)),W.insertFieldAt(j+2,this.newQuote_(!1));return}console.warn('field named "'+_+'" not found in '+this.toDevString())},newQuote_:function(_){return _=this.RTL?!_:_,c.fromJson$$module$build$src$core$field_registry({type:"field_image",src:_?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:_?"":""})}},oe=function(){this.mixin(ee),this.quoteField_("TEXT")},ne={itemCount_:0,mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("items",`${this.itemCount_}`),_},domToMutation:function(_){this.itemCount_=parseInt(_.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(_){this.itemCount_=_.itemCount,this.updateShape_()},decompose:function(_){const S=_.newBlock("text_create_join_container");S.initSvg();let W=S.getInput("STACK").connection;for(let j=0;j<this.itemCount_;j++){const we=_.newBlock("text_create_join_item");we.initSvg(),W.connect(we.previousConnection),W=we.nextConnection}return S},compose:function(_){var S=_.getInputTargetBlock("STACK");for(_=[];S;)S.isInsertionMarker()||_.push(S.valueConnection_),S=S.getNextBlock();for(S=0;S<this.itemCount_;S++){const W=this.getInput("ADD"+S).connection.targetConnection;W&&!_.includes(W)&&W.disconnect()}for(this.itemCount_=_.length,this.updateShape_(),S=0;S<this.itemCount_;S++){let W;(W=_[S])==null||W.reconnect(this,"ADD"+S)}},saveConnections:function(_){_=_.getInputTargetBlock("STACK");let S=0;for(;_;){if(_.isInsertionMarker()){_=_.getNextBlock();continue}const W=this.getInput("ADD"+S);_.valueConnection_=W&&W.connection.targetConnection,_=_.getNextBlock(),S++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var _=0;_<this.itemCount_;_++)if(!this.getInput("ADD"+_)){const S=this.appendValueInput("ADD"+_).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT);_===0&&S.appendField(c.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(_=this.itemCount_;this.getInput("ADD"+_);_++)this.removeInput("ADD"+_)}},ue=function(){this.mixin(ee),this.itemCount_=2,this.updateShape_(),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};c.register$$module$build$src$core$extensions("text_append_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var ge=function(){this.setTooltip(()=>c.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},ce={isAt_:!1,mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("at",`${this.isAt_}`),_},domToMutation:function(_){_=_.getAttribute("at")!=="false",this.updateAt_(_)},updateAt_:function(_){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),_&&(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=_}},re=function(){this.getField("WHERE").setValidator(function(_){_=_==="FROM_START"||_==="FROM_END";const S=this.getSourceBlock();_!==S.isAt_&&S.updateAt_(_)}),this.updateAt_(!0),this.setTooltip(()=>{var _=this.getFieldValue("WHERE");let S=c.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(_==="FROM_START"||_==="FROM_END")&&(_=_==="FROM_START"?c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(S+="  "+_.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),S})};c.register$$module$build$src$core$extensions("text_indexOf_tooltip",ge),c.register$$module$build$src$core$extensions("text_quotes",oe),c.registerMixin$$module$build$src$core$extensions("quote_image_mixin",ee),c.registerMutator$$module$build$src$core$extensions("text_join_mutator",ne,ue),c.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",ce,re),c.defineBlocks$$module$build$src$core$common(P);var pe={blocks:P},Fe={},L={setStatements_:function(_){this.hasStatements_!==_&&(_?(this.appendStatementInput("STACK").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=_)},updateParams_:function(){let _="";this.arguments_.length&&(_=c.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),c.disable$$module$build$src$core$events$utils();try{this.setFieldValue(_,"PARAMS")}finally{c.enable$$module$build$src$core$events$utils()}},mutationToDom:function(_){const S=c.createElement$$module$build$src$core$utils$xml("mutation");_&&S.setAttribute("name",this.getFieldValue("NAME"));for(let W=0;W<this.argumentVarModels_.length;W++){const j=c.createElement$$module$build$src$core$utils$xml("arg"),we=this.argumentVarModels_[W];j.setAttribute("name",we.name),j.setAttribute("varid",we.getId()),_&&this.paramIds_&&j.setAttribute("paramId",this.paramIds_[W]),S.appendChild(j)}return this.hasStatements_||S.setAttribute("statements","false"),S},domToMutation:function(_){this.arguments_=[],this.argumentVarModels_=[];for(let W=0,j;j=_.childNodes[W];W++)if(j.nodeName.toLowerCase()==="arg"){var S=j;const we=S.getAttribute("name");S=S.getAttribute("varid")||S.getAttribute("varId"),this.arguments_.push(we),S=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,S,we,""),S!==null?this.argumentVarModels_.push(S):console.log(`Failed to create a variable named "${we}", ignoring.`)}this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(_.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const _=Object.create(null);if(this.argumentVarModels_.length){_.params=[];for(let S=0;S<this.argumentVarModels_.length;S++)_.params.push({name:this.argumentVarModels_[S].name,id:this.argumentVarModels_[S].getId()})}return this.hasStatements_||(_.hasStatements=!1),_},loadExtraState:function(_){if(this.arguments_=[],this.argumentVarModels_=[],_.params)for(let W=0;W<_.params.length;W++){var S=_.params[W];S=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,S.id,S.name,""),this.arguments_.push(S.name),this.argumentVarModels_.push(S)}this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(_.hasStatements!==!1)},decompose:function(_){const S=c.createElement$$module$build$src$core$utils$xml("block");S.setAttribute("type","procedures_mutatorcontainer");var W=c.createElement$$module$build$src$core$utils$xml("statement");W.setAttribute("name","STACK"),S.appendChild(W);for(let we=0;we<this.arguments_.length;we++){const _t=c.createElement$$module$build$src$core$utils$xml("block");_t.setAttribute("type","procedures_mutatorarg");var j=c.createElement$$module$build$src$core$utils$xml("field");j.setAttribute("name","NAME");const Bn=c.createTextNode$$module$build$src$core$utils$xml(this.arguments_[we]);j.appendChild(Bn),_t.appendChild(j),j=c.createElement$$module$build$src$core$utils$xml("next"),_t.appendChild(j),W.appendChild(_t),W=j}return _=c.domToBlock$$module$build$src$core$xml(S,_),this.type==="procedures_defreturn"?_.setFieldValue(this.hasStatements_,"STATEMENTS"):_.removeInput("STATEMENT_INPUT"),c.mutateCallers$$module$build$src$core$procedures(this),_},compose:function(_){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let S=_.getInputTargetBlock("STACK");for(;S&&!S.isInsertionMarker();){var W=S.getFieldValue("NAME");this.arguments_.push(W),W=this.workspace.getVariable(W,""),this.argumentVarModels_.push(W),this.paramIds_.push(S.id),S=S.nextConnection&&S.nextConnection.targetBlock()}if(this.updateParams_(),c.mutateCallers$$module$build$src$core$procedures(this),_=_.getFieldValue("STATEMENTS"),_!==null&&(_=_==="TRUE",this.hasStatements_!==_))if(_){this.setStatements_(!0);var j;(j=this.statementConnection_)==null||j.reconnect(this,"STACK"),this.statementConnection_=null}else j=this.getInput("STACK").connection,(this.statementConnection_=j.targetConnection)&&(j=j.targetBlock(),j.unplug(),j.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(_,S){var W=this.workspace.getVariableById(_);if(W.type===""){W=W.name,S=this.workspace.getVariableById(S);var j=!1;for(let we=0;we<this.argumentVarModels_.length;we++)this.argumentVarModels_[we].getId()===_&&(this.arguments_[we]=S.name,this.argumentVarModels_[we]=S,j=!0);j&&(this.displayRenamedVar_(W,S.name),c.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(_){const S=_.name;let W=!1,j;for(let we=0;we<this.argumentVarModels_.length;we++)this.argumentVarModels_[we].getId()===_.getId()&&(j=this.arguments_[we],this.arguments_[we]=S,W=!0);W&&(this.displayRenamedVar_(j,S),c.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(_,S){this.updateParams_();var W=this.getIcon(c.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(W&&W.bubbleIsVisible()){W=W.getWorkspace().getAllBlocks(!1);for(let j=0,we;we=W[j];j++)we.type==="procedures_mutatorarg"&&c.Names$$module$build$src$core$names.equals(_,we.getFieldValue("NAME"))&&we.setFieldValue(S,"NAME")}},customContextMenu:function(_){if(!this.isInFlyout){var S=this.getFieldValue("NAME"),W={type:this.callType_,extraState:{name:S,params:this.arguments_}};if(_.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",S),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,W)}),!this.isCollapsed())for(S=0;S<this.argumentVarModels_.length;S++){W=this.argumentVarModels_[S];const j={type:"variables_get",fields:{VAR:{name:W.name,id:W.getId(),type:W.type}}};_.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",W.name),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,j)})}}}};Fe.procedures_defnoreturn=Object.assign({},L,{init:function(){var _=c.findLegalName$$module$build$src$core$procedures("",this);_=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:_}),_.setValidator(c.rename$$module$build$src$core$procedures),_.setSpellcheck(!1),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(_,"NAME").appendField("","PARAMS"),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Fe.procedures_defreturn=Object.assign({},L,{init:function(){var _=c.findLegalName$$module$build$src$core$procedures("",this);_=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:_}),_.setValidator(c.rename$$module$build$src$core$procedures),_.setSpellcheck(!1),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(_,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT).appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var ve={init:function(){this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(c.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};Fe.procedures_mutatorcontainer=ve;var ke={init:function(){const _=c.fromJson$$module$build$src$core$field_registry({type:"field_input",text:c.DEFAULT_ARG$$module$build$src$core$procedures});_.setValidator(this.validator_),_.oldShowEditorFn_=_.showEditor_,_.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(_,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,_.onFinishEditing_=this.deleteIntermediateVars_,_.createdVariables_=[],_.onFinishEditing_("x")},validator_:function(_){var S=this.getSourceBlock();const W=S.workspace.getRootWorkspace();if(_=_.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!_)return null;const j=(S.workspace.targetWorkspace||S.workspace).getAllBlocks(!1),we=_.toLowerCase();for(let _t=0;_t<j.length;_t++){if(j[_t].id===this.getSourceBlock().id)continue;const Bn=j[_t].getFieldValue("NAME");if(Bn&&Bn.toLowerCase()===we)return null}return S.isInFlyout||((S=W.getVariable(_,""))&&S.name!==_&&W.renameVariableById(S.getId(),_),S||(S=W.createVariable(_,""))&&this.createdVariables_&&this.createdVariables_.push(S)),_},deleteIntermediateVars_:function(_){const S=this.getSourceBlock().workspace.getRootWorkspace();if(S)for(let W=0;W<this.createdVariables_.length;W++){const j=this.createdVariables_[W];j.name!==_&&S.deleteVariableById(j.getId())}}};Fe.procedures_mutatorarg=ke;var Ne="DISABLED_PROCEDURE_DEFINITION",Le={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(_,S){c.Names$$module$build$src$core$names.equals(_,this.getProcedureCall())&&(this.setFieldValue(S,"NAME"),this.setTooltip((this.outputConnection?c.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:c.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",S)))},setProcedureParameters_:function(_,S){var W=c.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((W=(W=W&&W.getIcon(c.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&W.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),_.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=S;else{if(S.length!==_.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let we=0;we<this.arguments_.length;we++){var j=this.getInput("ARG"+we);j&&(j=j.connection.targetConnection,this.quarkConnections_[this.quarkIds_[we]]=j,W&&j&&!S.includes(this.quarkIds_[we])&&(j.disconnect(),j.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(_),this.argumentVarModels_=[],_=0;_<this.arguments_.length;_++)W=c.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[_],""),this.argumentVarModels_.push(W);if(this.updateShape_(),this.quarkIds_=S){for(S=0;S<this.arguments_.length;S++)if(_=this.quarkIds_[S],_ in this.quarkConnections_){let we;(we=this.quarkConnections_[_])!=null&&we.reconnect(this,"ARG"+S)||delete this.quarkConnections_[_]}}}},updateShape_:function(){for(var _=0;_<this.arguments_.length;_++){var S=this.getField("ARGNAME"+_);if(S){c.disable$$module$build$src$core$events$utils();try{S.setValue(this.arguments_[_])}finally{c.enable$$module$build$src$core$events$utils()}}else S=c.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[_]}),this.appendValueInput("ARG"+_).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT).appendField(S,"ARGNAME"+_)}for(_=this.arguments_.length;this.getInput("ARG"+_);_++)this.removeInput("ARG"+_);(_=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||_.appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"):this.getField("WITH")&&_.removeField("WITH"))},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");_.setAttribute("name",this.getProcedureCall());for(let S=0;S<this.arguments_.length;S++){const W=c.createElement$$module$build$src$core$utils$xml("arg");W.setAttribute("name",this.arguments_[S]),_.appendChild(W)}return _},domToMutation:function(_){var S=_.getAttribute("name");this.renameProcedure(this.getProcedureCall(),S),S=[];const W=[];for(let j=0,we;we=_.childNodes[j];j++)we.nodeName.toLowerCase()==="arg"&&(S.push(we.getAttribute("name")),W.push(we.getAttribute("paramId")));this.setProcedureParameters_(S,W)},saveExtraState:function(){const _=Object.create(null);return _.name=this.getProcedureCall(),this.arguments_.length&&(_.params=this.arguments_),_},loadExtraState:function(_){if(this.renameProcedure(this.getProcedureCall(),_.name),_=_.params){const S=[];S.length=_.length,S.fill(null),this.setProcedureParameters_(_,S)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(_){if(this.workspace&&!this.workspace.isFlyout&&_.recordUndo)if(_.type===c.BLOCK_CREATE$$module$build$src$core$events$events&&_.ids.includes(this.id)){var S=this.getProcedureCall(),W=c.getDefinition$$module$build$src$core$procedures(S,this.workspace);if(!W||W.type===this.defType_&&JSON.stringify(W.getVars())===JSON.stringify(this.arguments_)||(W=null),W)W.isEnabled()||(this.setDisabledReason(!0,Ne),this.setWarningText(c.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",S)));else{c.setGroup$$module$build$src$core$events$utils(_.group),_=c.createElement$$module$build$src$core$utils$xml("xml"),S=c.createElement$$module$build$src$core$utils$xml("block"),S.setAttribute("type",this.defType_),W=this.getRelativeToSurfaceXY();var j=W.y+2*c.config$$module$build$src$core$config.snapRadius;S.setAttribute("x",`${W.x+c.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),S.setAttribute("y",`${j}`),W=this.mutationToDom(),S.appendChild(W),W=c.createElement$$module$build$src$core$utils$xml("field"),W.setAttribute("name","NAME"),j=this.getProcedureCall();const we=c.findLegalName$$module$build$src$core$procedures(j,this);j!==we&&this.renameProcedure(j,we),W.appendChild(c.createTextNode$$module$build$src$core$utils$xml(j)),S.appendChild(W),_.appendChild(S),c.domToWorkspace$$module$build$src$core$xml(_,this.workspace),c.setGroup$$module$build$src$core$events$utils(!1)}}else _.type===c.BLOCK_DELETE$$module$build$src$core$events$events?(S=this.getProcedureCall(),c.getDefinition$$module$build$src$core$procedures(S,this.workspace)||(c.setGroup$$module$build$src$core$events$utils(_.group),this.dispose(!0),c.setGroup$$module$build$src$core$events$utils(!1))):_.type===c.BLOCK_CHANGE$$module$build$src$core$events$events&&_.element==="disabled"&&(S=this.getProcedureCall(),(j=c.getDefinition$$module$build$src$core$procedures(S,this.workspace))&&j.id===_.blockId&&((W=c.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),c.setGroup$$module$build$src$core$events$utils(_.group),_=j.isEnabled(),this.setDisabledReason(!_,Ne),this.setWarningText(_?null:c.Msg$$module$build$src$core$msg.PROCEDURES_CALL_DISABLED_DEF_WARNING.replace("%1",S)),c.setGroup$$module$build$src$core$events$utils(W)))},customContextMenu:function(_){if(this.workspace.isMovable()){var S=this.getProcedureCall(),W=this.workspace;_.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const j=c.getDefinition$$module$build$src$core$procedures(S,W);j&&(W.centerOnBlock(j.id),c.setSelected$$module$build$src$core$common(j))}})}}};Fe.procedures_callnoreturn=Object.assign({},Le,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defnoreturn"}),Fe.procedures_callreturn=Object.assign({},Le,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},defType_:"procedures_defreturn"});var Ve="UNPARENTED_IFRETURN",X={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("value",String(Number(this.hasReturnValue_))),_},domToMutation:function(_){this.hasReturnValue_=_.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(_){if(!(this.workspace.isDragging&&this.workspace.isDragging()||_.type!==c.BLOCK_MOVE$$module$build$src$core$events$events&&_.type!==c.BLOCK_CREATE$$module$build$src$core$events$events)){_=!1;var S=this;do{if(this.FUNCTION_TYPES.includes(S.type)){_=!0;break}S=S.getSurroundParent()}while(S);if(_?(S.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):S.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(c.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(c.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),!this.isInFlyout)try{c.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!_,Ve)}finally{c.setRecordUndo$$module$build$src$core$events$utils(!0)}}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Fe.procedures_ifreturn=X,c.defineBlocks$$module$build$src$core$common(Fe);var F={blocks:Fe},C=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["","PI"],["e","E"],["","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt()","SQRT1_2"],["","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),J={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};c.register$$module$build$src$core$extensions("math_op_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("OP",J));var Y={mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation"),S=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return _.setAttribute("divisor_input",String(S)),_},domToMutation:function(_){_=_.getAttribute("divisor_input")==="true",this.updateShape_(_)},updateShape_:function(_){const S=this.getInput("DIVISOR");_?S||this.appendValueInput("DIVISOR").setCheck("Number"):S&&this.removeInput("DIVISOR")}},R=function(){this.getField("PROPERTY").setValidator(function(_){_=_==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(_)})};c.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",Y,R),c.register$$module$build$src$core$extensions("math_change_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var Q={updateType_:function(_){_==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("op",this.getFieldValue("OP")),_},domToMutation:function(_){if(_=_.getAttribute("op"),_===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(_)}},Re=function(){this.getField("OP").setValidator((function(_){this.updateType_(_)}).bind(this))};c.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",Q,Re),c.defineBlocks$$module$build$src$core$common(C);var Se={blocks:C},Ue=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Oe={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};c.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",Oe));var Ie={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};c.register$$module$build$src$core$extensions("controls_flow_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",Ie));var qe={customContextMenu:function(_){if(!this.isInFlyout){var S=this.getField("VAR"),W=S.getVariable().name;this.isCollapsed()||W===null||(S={type:"variables_get",fields:{VAR:S.saveState(!0)}},_.push({enabled:!0,text:c.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",W),callback:c.callbackFactory$$module$build$src$core$contextmenu(this,S)}))}}};c.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",qe),c.register$$module$build$src$core$extensions("controls_for_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),c.register$$module$build$src$core$extensions("controls_forEach_tooltip",c.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Qe=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),$t="CONTROL_FLOW_NOT_IN_LOOP",Ct={getSurroundLoop:function(){let _=this;do{if(Qe.has(_.type))return _;_=_.getSurroundParent()}while(_);return null},onchange:function(_){const S=this.workspace;if(S.isDragging&&!S.isDragging()&&(_.type===c.BLOCK_MOVE$$module$build$src$core$events$events||_.type===c.BLOCK_CREATE$$module$build$src$core$events$events)&&(_=!!this.getSurroundLoop(),this.setWarningText(_?null:c.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout))try{c.setRecordUndo$$module$build$src$core$events$utils(!1),this.setDisabledReason(!_,$t)}finally{c.setRecordUndo$$module$build$src$core$events$utils(!0)}}};c.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",Ct),c.defineBlocks$$module$build$src$core$common(Ue);var yt={blocks:Ue,loopTypes:Qe},rr=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["","NEQ"],["<","LT"],["","LTE"],[">","GT"],["","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Zi={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};c.register$$module$build$src$core$extensions("logic_op_tooltip",c.buildTooltipForDropdown$$module$build$src$core$extensions("OP",Zi));var wn={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const _=c.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&_.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&_.setAttribute("else","1"),_},domToMutation:function(_){this.elseifCount_=parseInt(_.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(_.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const _=Object.create(null);return this.elseifCount_&&(_.elseIfCount=this.elseifCount_),this.elseCount_&&(_.hasElse=!0),_},loadExtraState:function(_){this.elseifCount_=_.elseIfCount||0,this.elseCount_=_.hasElse?1:0,this.updateShape_()},decompose:function(_){const S=_.newBlock("controls_if_if");S.initSvg();let W=S.nextConnection;for(let j=1;j<=this.elseifCount_;j++){const we=_.newBlock("controls_if_elseif");we.initSvg(),W.connect(we.previousConnection),W=we.nextConnection}return this.elseCount_&&(_=_.newBlock("controls_if_else"),_.initSvg(),W.connect(_.previousConnection)),S},compose:function(_){_=_.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const S=[null],W=[null];let j=null;for(;_;){if(!_.isInsertionMarker())switch(_.type){case"controls_if_elseif":this.elseifCount_++,S.push(_.valueConnection_),W.push(_.statementConnection_);break;case"controls_if_else":this.elseCount_++,j=_.statementConnection_;break;default:throw TypeError("Unknown block type: "+_.type)}_=_.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(S,W,j)},saveConnections:function(_){_=_.nextConnection.targetBlock();let S=1;for(;_;){if(!_.isInsertionMarker())switch(_.type){case"controls_if_elseif":var W=this.getInput("IF"+S);const j=this.getInput("DO"+S);_.valueConnection_=W&&W.connection.targetConnection,_.statementConnection_=j&&j.connection.targetConnection,S++;break;case"controls_if_else":W=this.getInput("ELSE"),_.statementConnection_=W&&W.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+_.type)}_=_.getNextBlock()}},rebuildShape_:function(){const _=[null],S=[null];let W=null;this.getInput("ELSE")&&(W=this.getInput("ELSE").connection.targetConnection);for(let j=1;this.getInput("IF"+j);j++){const we=this.getInput("IF"+j),_t=this.getInput("DO"+j);_.push(we.connection.targetConnection),S.push(_t.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(_,S,W)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var _=1;this.getInput("IF"+_);_++)this.removeInput("IF"+_),this.removeInput("DO"+_);for(_=1;_<=this.elseifCount_;_++)this.appendValueInput("IF"+_).setCheck("Boolean").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+_).appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(c.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(_,S,W){for(let j=1;j<=this.elseifCount_;j++){let we;(we=_[j])==null||we.reconnect(this,"IF"+j);let _t;(_t=S[j])==null||_t.reconnect(this,"DO"+j)}W==null||W.reconnect(this,"ELSE")}};c.registerMutator$$module$build$src$core$extensions("controls_if_mutator",wn,null,["controls_if_elseif","controls_if_else"]);var Qt=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return c.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};c.register$$module$build$src$core$extensions("controls_if_tooltip",Qt);var Kr={onchange:function(_){this.prevBlocks_||(this.prevBlocks_=[null,null]);var S=this.getInputTargetBlock("A");const W=this.getInputTargetBlock("B");S&&W&&!this.workspace.connectionChecker.doTypeChecks(S.outputConnection,W.outputConnection)&&(c.setGroup$$module$build$src$core$events$utils(_.group),_=this.prevBlocks_[0],_!==S&&(S.unplug(),!_||_.isDisposed()||_.isShadow()||this.getInput("A").connection.connect(_.outputConnection)),S=this.prevBlocks_[1],S!==W&&(W.unplug(),!S||S.isDisposed()||S.isShadow()||this.getInput("B").connection.connect(S.outputConnection)),this.bumpNeighbours(),c.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},pr=function(){this.mixin(Kr)};c.register$$module$build$src$core$extensions("logic_compare",pr);var eo={prevParentConnection_:null,onchange:function(_){const S=this.getInputTargetBlock("THEN"),W=this.getInputTargetBlock("ELSE"),j=this.outputConnection.targetConnection;if((S||W)&&j)for(let we=0;2>we;we++){const _t=we===1?S:W;_t&&!_t.workspace.connectionChecker.doTypeChecks(_t.outputConnection,j)&&(c.setGroup$$module$build$src$core$events$utils(_.group),j===this.prevParentConnection_?(this.unplug(),j.getSourceBlock().bumpNeighbours()):(_t.unplug(),_t.bumpNeighbours()),c.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=j}};c.registerMixin$$module$build$src$core$extensions("logic_ternary",eo),c.defineBlocks$$module$build$src$core$common(rr);var Ge={blocks:rr},st=c.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),it={init:function(){this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new c.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("items",String(this.itemCount_)),_},domToMutation:function(_){if(_=_.getAttribute("items"),!_)throw new TypeError("element did not have items");this.itemCount_=parseInt(_,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(_){this.itemCount_=_.itemCount,this.updateShape_()},decompose:function(_){const S=_.newBlock("lists_create_with_container");S.initSvg();let W=S.getInput("STACK").connection;for(let j=0;j<this.itemCount_;j++){const we=_.newBlock("lists_create_with_item");if(we.initSvg(),!we.previousConnection)throw Error("itemBlock has no previousConnection");W.connect(we.previousConnection),W=we.nextConnection}return S},compose:function(_){var S=_.getInputTargetBlock("STACK");for(_=[];S;)S.isInsertionMarker()||_.push(S.valueConnection_),S=S.getNextBlock();for(S=0;S<this.itemCount_;S++){const W=this.getInput("ADD"+S).connection.targetConnection;W&&!_.includes(W)&&W.disconnect()}for(this.itemCount_=_.length,this.updateShape_(),S=0;S<this.itemCount_;S++){let W;(W=_[S])==null||W.reconnect(this,"ADD"+S)}},saveConnections:function(_){_=_.getInputTargetBlock("STACK");let S=0;for(;_;){if(_.isInsertionMarker()){_=_.getNextBlock();continue}const W=this.getInput("ADD"+S);let j;_.valueConnection_=(j=W)==null?void 0:j.connection.targetConnection,_=_.getNextBlock(),S++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var _=0;_<this.itemCount_;_++)if(!this.getInput("ADD"+_)){const S=this.appendValueInput("ADD"+_).setAlign(c.Align$$module$build$src$core$inputs$align.RIGHT);_===0&&S.appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(_=this.itemCount_;this.getInput("ADD"+_);_++)this.removeInput("ADD"+_)}};st.lists_create_with=it;var Yr={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};st.lists_create_with_container=Yr;var kn={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};st.lists_create_with_item=kn;var $n={init:function(){var _=[[c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),!_)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(_,"END"),this.setInputsInline(!0),this.setTooltip(()=>c.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};st.lists_indexOf=$n;var Lr={init:function(){var _=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),_.setValidator(function(S){S=S==="REMOVE",this.getSourceBlock().updateStatement_(S)}),this.appendValueInput("VALUE").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(_,"MODE").appendField("","SPACE"),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),_.setValidator(function(S){const W=this.getValue();S=S==="FROM_START"||S==="FROM_END",S!==(W==="FROM_START"||W==="FROM_END")&&this.getSourceBlock().updateAt_(S)}),this.appendDummyInput().appendField(_,"WHERE"),this.appendDummyInput("AT"),c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const S=this.getFieldValue("MODE"),W=this.getFieldValue("WHERE");let j="";switch(S+" "+W){case"GET FROM_START":case"GET FROM_END":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":j=c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(W==="FROM_START"||W==="FROM_END")&&(j+="  "+(W==="FROM_START"?c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),j})},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");_.setAttribute("statement",String(!this.outputConnection));const S=this.getInput("AT")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at",String(S)),_},domToMutation:function(_){const S=_.getAttribute("statement")==="true";this.updateStatement_(S),_=_.getAttribute("at")!=="false",this.updateAt_(_)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(_){_.isStatement?this.updateStatement_(!0):typeof _=="string"&&this.domToMutation(c.textToDom$$module$build$src$core$utils$xml(_))},updateStatement_:function(_){_!==!this.outputConnection&&(this.unplug(!0,!0),_?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(_){this.removeInput("AT"),this.removeInput("ORDINAL",!0),_?(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};st.lists_getIndex=Lr;var jt={init:function(){var _=[[c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[c.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:_}),this.appendDummyInput().appendField(_,"MODE").appendField("","SPACE"),_=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS}),_.setValidator(function(S){const W=this.getValue();S=S==="FROM_START"||S==="FROM_END",S!==(W==="FROM_START"||W==="FROM_END")&&this.getSourceBlock().updateAt_(S)}),this.appendDummyInput().appendField(_,"WHERE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const S=this.getFieldValue("MODE"),W=this.getFieldValue("WHERE");let j="";switch(S+" "+W){case"SET FROM_START":case"SET FROM_END":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":j=c.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(W==="FROM_START"||W==="FROM_END")&&(j+="  "+c.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),j})},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation"),S=this.getInput("AT")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at",String(S)),_},domToMutation:function(_){_=_.getAttribute("at")!=="false",this.updateAt_(_)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(_){this.removeInput("AT"),this.removeInput("ORDINAL",!0),_?(this.appendValueInput("AT").setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO")}};st.lists_setIndex=jt;var Pn={init:function(){this.WHERE_OPTIONS_1=[[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);const _=S=>{const W=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+S]});return W.setValidator(function(j){const we=this.getValue();j=j==="FROM_START"||j==="FROM_END",j!==(we==="FROM_START"||we==="FROM_END")&&this.getSourceBlock().updateAt_(S,j)}),W};this.appendDummyInput("WHERE1_INPUT").appendField(_(1),"WHERE1"),this.appendDummyInput("AT1"),this.appendDummyInput("WHERE2_INPUT").appendField(_(2),"WHERE2"),this.appendDummyInput("AT2"),c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");var S=this.getInput("AT1")instanceof c.ValueInput$$module$build$src$core$inputs$value_input;return _.setAttribute("at1",String(S)),S=this.getInput("AT2")instanceof c.ValueInput$$module$build$src$core$inputs$value_input,_.setAttribute("at2",String(S)),_},domToMutation:function(_){const S=_.getAttribute("at1")==="true";_=_.getAttribute("at2")==="true",this.updateAt_(1,S),this.updateAt_(2,_)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(_,S){this.removeInput("AT"+_),this.removeInput("ORDINAL"+_,!0),S?(this.appendValueInput("AT"+_).setCheck("Number"),c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+_).appendField(c.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+_),_===1&&(this.moveInputBefore("AT1","WHERE2_INPUT"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","WHERE2_INPUT")),c.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};st.lists_getSublist=Pn,st.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},st.lists_split={init:function(){const _=c.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[c.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!_)throw Error("field_dropdown not found");_.setValidator(S=>{this.updateType_(S)}),this.setHelpUrl(c.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(_,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(c.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const S=this.getFieldValue("MODE");if(S==="SPLIT")return c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(S==="JOIN")return c.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+S)})},updateType_:function(_){if(this.getFieldValue("MODE")!==_){const S=this.getInput("INPUT").connection;S.setShadowDom(null);const W=S.targetBlock();W&&(S.disconnect(),W.isShadow()?W.dispose(!1):this.bumpNeighbours())}_==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const _=c.createElement$$module$build$src$core$utils$xml("mutation");return _.setAttribute("mode",this.getFieldValue("MODE")),_},domToMutation:function(_){this.updateType_(_.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},c.defineBlocks$$module$build$src$core$common(st);var Oo={blocks:st},le=Object.assign({},st,rr,Ue,C,Fe,P,I,h),Be={blocks:le,lists:Oo,logic:Ge,loops:yt,math:Se,procedures:F,texts:pe,variables:H,variablesDynamic:v};return Be.__namespace__=c,Be})}(Mg)),Mg.exports}var jL=Dg.exports,Gb;function zL(){return Gb||(Gb=1,function(n,l){(function(o,c){n.exports=c(U_(),VL(),WL())})(jL,function(o,c,h){return o.setLocale(c),o})}(Dg)),Dg.exports}zL();const XL=`<xml id="toolbox" style="display: none">
  <block type="controls_if"></block>
  <block type="controls_whileUntil"></block>
</xml>`;function KL(){const[n,l]=ze.useState();return N.jsxs(Wc,{title:"Playing around with react",date:"2025-01-22",children:[N.jsx("p",{children:"Today I started playing around with react. It's pretty cool!  I made a chessboard:"}),N.jsx(RL,{id:"BasicBoard"}),N.jsx("p",{children:"Also, a blockly coding interface:"}),N.jsx($v,{className:"width-100",style:{height:400},toolboxConfiguration:XL,initialXml:n,onXmlChange:l})]})}function l_({children:n}){const[l,o]=ze.useState(!1);return N.jsxs("div",{children:[N.jsx("button",{onClick:()=>o(!l),children:l?"Show Less":"Show More"}),l&&n]})}var Or=function(){return Or=Object.assign||function(l){for(var o,c=1,h=arguments.length;c<h;c++){o=arguments[c];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(l[m]=o[m])}return l},Or.apply(this,arguments)};function Xg(n,l,o){if(o||arguments.length===2)for(var c=0,h=l.length,m;c<h;c++)(m||!(c in l))&&(m||(m=Array.prototype.slice.call(l,0,c)),m[c]=l[c]);return n.concat(m||Array.prototype.slice.call(l))}var qt="-ms-",of="-moz-",It="-webkit-",_v="comm",Tm="rule",H_="decl",YL="@import",Tv="@keyframes",JL="@layer",Ev=Math.abs,V_=String.fromCharCode,u_=Object.assign;function qL(n,l){return jn(n,0)^45?(((l<<2^jn(n,0))<<2^jn(n,1))<<2^jn(n,2))<<2^jn(n,3):0}function bv(n){return n.trim()}function gl(n,l){return(n=l.exec(n))?n[0]:n}function nt(n,l,o){return n.replace(l,o)}function xg(n,l,o){return n.indexOf(l,o)}function jn(n,l){return n.charCodeAt(l)|0}function Pd(n,l,o){return n.slice(l,o)}function hs(n){return n.length}function yv(n){return n.length}function ef(n,l){return l.push(n),n}function QL(n,l){return n.map(l).join("")}function Wb(n,l){return n.filter(function(o){return!gl(o,l)})}var Em=1,Bd=1,vv=0,qi=0,Cn=0,zd="";function bm(n,l,o,c,h,m,T,E){return{value:n,root:l,parent:o,type:c,props:h,children:m,line:Em,column:Bd,length:T,return:"",siblings:E}}function hu(n,l){return u_(bm("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},l)}function Ld(n){for(;n.root;)n=hu(n.root,{children:[n]});ef(n,n.siblings)}function ZL(){return Cn}function eA(){return Cn=qi>0?jn(zd,--qi):0,Bd--,Cn===10&&(Bd=1,Em--),Cn}function wo(){return Cn=qi<vv?jn(zd,qi++):0,Bd++,Cn===10&&(Bd=1,Em++),Cn}function Bc(){return jn(zd,qi)}function Pg(){return qi}function ym(n,l){return Pd(zd,n,l)}function c_(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function tA(n){return Em=Bd=1,vv=hs(zd=n),qi=0,[]}function nA(n){return zd="",n}function V$(n){return bv(ym(qi-1,a_(n===91?n+2:n===40?n+1:n)))}function rA(n){for(;(Cn=Bc())&&Cn<33;)wo();return c_(n)>2||c_(Cn)>3?"":" "}function iA(n,l){for(;--l&&wo()&&!(Cn<48||Cn>102||Cn>57&&Cn<65||Cn>70&&Cn<97););return ym(n,Pg()+(l<6&&Bc()==32&&wo()==32))}function a_(n){for(;wo();)switch(Cn){case n:return qi;case 34:case 39:n!==34&&n!==39&&a_(Cn);break;case 40:n===41&&a_(n);break;case 92:wo();break}return qi}function oA(n,l){for(;wo()&&n+Cn!==57;)if(n+Cn===84&&Bc()===47)break;return"/*"+ym(l,qi-1)+"*"+V_(n===47?n:wo())}function sA(n){for(;!c_(Bc());)wo();return ym(n,qi)}function lA(n){return nA(Bg("",null,null,null,[""],n=tA(n),0,[0],n))}function Bg(n,l,o,c,h,m,T,E,v){for(var I=0,M=0,w=T,k=0,H=0,P=0,O=1,z=1,ee=1,oe=0,ne="",ue=h,ge=m,ce=c,re=ne;z;)switch(P=oe,oe=wo()){case 40:if(P!=108&&jn(re,w-1)==58){xg(re+=nt(V$(oe),"&","&\f"),"&\f",Ev(I?E[I-1]:0))!=-1&&(ee=-1);break}case 34:case 39:case 91:re+=V$(oe);break;case 9:case 10:case 13:case 32:re+=rA(P);break;case 92:re+=iA(Pg()-1,7);continue;case 47:switch(Bc()){case 42:case 47:ef(uA(oA(wo(),Pg()),l,o,v),v);break;default:re+="/"}break;case 123*O:E[I++]=hs(re)*ee;case 125*O:case 59:case 0:switch(oe){case 0:case 125:z=0;case 59+M:ee==-1&&(re=nt(re,/\f/g,"")),H>0&&hs(re)-w&&ef(H>32?zb(re+";",c,o,w-1,v):zb(nt(re," ","")+";",c,o,w-2,v),v);break;case 59:re+=";";default:if(ef(ce=jb(re,l,o,I,M,h,E,ne,ue=[],ge=[],w,m),m),oe===123)if(M===0)Bg(re,l,ce,ce,ue,m,w,E,ge);else switch(k===99&&jn(re,3)===110?100:k){case 100:case 108:case 109:case 115:Bg(n,ce,ce,c&&ef(jb(n,ce,ce,0,0,h,E,ne,h,ue=[],w,ge),ge),h,ge,w,E,c?ue:ge);break;default:Bg(re,ce,ce,ce,[""],ge,0,E,ge)}}I=M=H=0,O=ee=1,ne=re="",w=T;break;case 58:w=1+hs(re),H=P;default:if(O<1){if(oe==123)--O;else if(oe==125&&O++==0&&eA()==125)continue}switch(re+=V_(oe),oe*O){case 38:ee=M>0?1:(re+="\f",-1);break;case 44:E[I++]=(hs(re)-1)*ee,ee=1;break;case 64:Bc()===45&&(re+=V$(wo())),k=Bc(),M=w=hs(ne=re+=sA(Pg())),oe++;break;case 45:P===45&&hs(re)==2&&(O=0)}}return m}function jb(n,l,o,c,h,m,T,E,v,I,M,w){for(var k=h-1,H=h===0?m:[""],P=yv(H),O=0,z=0,ee=0;O<c;++O)for(var oe=0,ne=Pd(n,k+1,k=Ev(z=T[O])),ue=n;oe<P;++oe)(ue=bv(z>0?H[oe]+" "+ne:nt(ne,/&\f/g,H[oe])))&&(v[ee++]=ue);return bm(n,l,o,h===0?Tm:E,v,I,M,w)}function uA(n,l,o,c){return bm(n,l,o,_v,V_(ZL()),Pd(n,2,-2),0,c)}function zb(n,l,o,c,h){return bm(n,l,o,H_,Pd(n,0,c),Pd(n,c+1,-1),c,h)}function Sv(n,l,o){switch(qL(n,l)){case 5103:return It+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+n+n;case 4789:return of+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return It+n+of+n+qt+n+n;case 5936:switch(jn(n,l+11)){case 114:return It+n+qt+nt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return It+n+qt+nt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return It+n+qt+nt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return It+n+qt+n+n;case 6165:return It+n+qt+"flex-"+n+n;case 5187:return It+n+nt(n,/(\w+).+(:[^]+)/,It+"box-$1$2"+qt+"flex-$1$2")+n;case 5443:return It+n+qt+"flex-item-"+nt(n,/flex-|-self/g,"")+(gl(n,/flex-|baseline/)?"":qt+"grid-row-"+nt(n,/flex-|-self/g,""))+n;case 4675:return It+n+qt+"flex-line-pack"+nt(n,/align-content|flex-|-self/g,"")+n;case 5548:return It+n+qt+nt(n,"shrink","negative")+n;case 5292:return It+n+qt+nt(n,"basis","preferred-size")+n;case 6060:return It+"box-"+nt(n,"-grow","")+It+n+qt+nt(n,"grow","positive")+n;case 4554:return It+nt(n,/([^-])(transform)/g,"$1"+It+"$2")+n;case 6187:return nt(nt(nt(n,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),n,"")+n;case 5495:case 3959:return nt(n,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return nt(nt(n,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+n+n;case 4200:if(!gl(n,/flex-|baseline/))return qt+"grid-column-align"+Pd(n,l)+n;break;case 2592:case 3360:return qt+nt(n,"template-","")+n;case 4384:case 3616:return o&&o.some(function(c,h){return l=h,gl(c.props,/grid-\w+-end/)})?~xg(n+(o=o[l].value),"span",0)?n:qt+nt(n,"-start","")+n+qt+"grid-row-span:"+(~xg(o,"span",0)?gl(o,/\d+/):+gl(o,/\d+/)-+gl(n,/\d+/))+";":qt+nt(n,"-start","")+n;case 4896:case 4128:return o&&o.some(function(c){return gl(c.props,/grid-\w+-start/)})?n:qt+nt(nt(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return nt(n,/(.+)-inline(.+)/,It+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hs(n)-1-l>6)switch(jn(n,l+1)){case 109:if(jn(n,l+4)!==45)break;case 102:return nt(n,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+of+(jn(n,l+3)==108?"$3":"$2-$3"))+n;case 115:return~xg(n,"stretch",0)?Sv(nt(n,"stretch","fill-available"),l,o)+n:n}break;case 5152:case 5920:return nt(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(c,h,m,T,E,v,I){return qt+h+":"+m+I+(T?qt+h+"-span:"+(E?v:+v-+m)+I:"")+n});case 4949:if(jn(n,l+6)===121)return nt(n,":",":"+It)+n;break;case 6444:switch(jn(n,jn(n,14)===45?18:11)){case 120:return nt(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+It+(jn(n,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+qt+"$2box$3")+n;case 100:return nt(n,":",":"+qt)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return nt(n,"scroll-","scroll-snap-")+n}return n}function Kg(n,l){for(var o="",c=0;c<n.length;c++)o+=l(n[c],c,n,l)||"";return o}function cA(n,l,o,c){switch(n.type){case JL:if(n.children.length)break;case YL:case H_:return n.return=n.return||n.value;case _v:return"";case Tv:return n.return=n.value+"{"+Kg(n.children,c)+"}";case Tm:if(!hs(n.value=n.props.join(",")))return""}return hs(o=Kg(n.children,c))?n.return=n.value+"{"+o+"}":""}function aA(n){var l=yv(n);return function(o,c,h,m){for(var T="",E=0;E<l;E++)T+=n[E](o,c,h,m)||"";return T}}function dA(n){return function(l){l.root||(l=l.return)&&n(l)}}function hA(n,l,o,c){if(n.length>-1&&!n.return)switch(n.type){case H_:n.return=Sv(n.value,n.length,o);return;case Tv:return Kg([hu(n,{value:nt(n.value,"@","@"+It)})],c);case Tm:if(n.length)return QL(o=n.props,function(h){switch(gl(h,c=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ld(hu(n,{props:[nt(h,/:(read-\w+)/,":"+of+"$1")]})),Ld(hu(n,{props:[h]})),u_(n,{props:Wb(o,c)});break;case"::placeholder":Ld(hu(n,{props:[nt(h,/:(plac\w+)/,":"+It+"input-$1")]})),Ld(hu(n,{props:[nt(h,/:(plac\w+)/,":"+of+"$1")]})),Ld(hu(n,{props:[nt(h,/:(plac\w+)/,qt+"input-$1")]})),Ld(hu(n,{props:[h]})),u_(n,{props:Wb(o,c)});break}return""})}}var pA={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$i={},Fd=typeof process<"u"&&$i!==void 0&&($i.REACT_APP_SC_ATTR||$i.SC_ATTR)||"data-styled",Iv="active",Cv="data-styled-version",vm="6.1.14",G_=`/*!sc*/
`,Yg=typeof window<"u"&&"HTMLElement"in window,fA=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&$i!==void 0&&$i.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&$i.REACT_APP_SC_DISABLE_SPEEDY!==""?$i.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&$i.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&$i!==void 0&&$i.SC_DISABLE_SPEEDY!==void 0&&$i.SC_DISABLE_SPEEDY!==""&&$i.SC_DISABLE_SPEEDY!=="false"&&$i.SC_DISABLE_SPEEDY),Sm=Object.freeze([]),Ud=Object.freeze({});function wv(n,l,o){return o===void 0&&(o=Ud),n.theme!==o.theme&&n.theme||l||o.theme}var kv=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),gA=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mA=/(^-|-$)/g;function Xb(n){return n.replace(gA,"-").replace(mA,"")}var $A=/(a)(d)/gi,Sg=52,Kb=function(n){return String.fromCharCode(n+(n>25?39:97))};function d_(n){var l,o="";for(l=Math.abs(n);l>Sg;l=l/Sg|0)o=Kb(l%Sg)+o;return(Kb(l%Sg)+o).replace($A,"$1-$2")}var G$,Ov=5381,Ad=function(n,l){for(var o=l.length;o;)n=33*n^l.charCodeAt(--o);return n},Rv=function(n){return Ad(Ov,n)};function _A(n){return d_(Rv(n)>>>0)}function Lv(n){return n.displayName||n.name||"Component"}function W$(n){return typeof n=="string"&&!0}var Av=typeof Symbol=="function"&&Symbol.for,Dv=Av?Symbol.for("react.memo"):60115,TA=Av?Symbol.for("react.forward_ref"):60112,EA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Nv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},yA=((G$={})[TA]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},G$[Dv]=Nv,G$);function Yb(n){return("type"in(l=n)&&l.type.$$typeof)===Dv?Nv:"$$typeof"in n?yA[n.$$typeof]:EA;var l}var vA=Object.defineProperty,SA=Object.getOwnPropertyNames,Jb=Object.getOwnPropertySymbols,IA=Object.getOwnPropertyDescriptor,CA=Object.getPrototypeOf,qb=Object.prototype;function W_(n,l,o){if(typeof l!="string"){if(qb){var c=CA(l);c&&c!==qb&&W_(n,c,o)}var h=SA(l);Jb&&(h=h.concat(Jb(l)));for(var m=Yb(n),T=Yb(l),E=0;E<h.length;++E){var v=h[E];if(!(v in bA||o&&o[v]||T&&v in T||m&&v in m)){var I=IA(l,v);try{vA(n,v,I)}catch{}}}}return n}function Hd(n){return typeof n=="function"}function j_(n){return typeof n=="object"&&"styledComponentId"in n}function Pc(n,l){return n&&l?"".concat(n," ").concat(l):n||l||""}function Qb(n,l){if(n.length===0)return"";for(var o=n[0],c=1;c<n.length;c++)o+=n[c];return o}function pf(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function h_(n,l,o){if(o===void 0&&(o=!1),!o&&!pf(n)&&!Array.isArray(n))return l;if(Array.isArray(l))for(var c=0;c<l.length;c++)n[c]=h_(n[c],l[c]);else if(pf(l))for(var c in l)n[c]=h_(n[c],l[c]);return n}function z_(n,l){Object.defineProperty(n,"toString",{value:l})}function Tf(n){for(var l=[],o=1;o<arguments.length;o++)l[o-1]=arguments[o];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(l.length>0?" Args: ".concat(l.join(", ")):""))}var wA=function(){function n(l){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=l}return n.prototype.indexOfGroup=function(l){for(var o=0,c=0;c<l;c++)o+=this.groupSizes[c];return o},n.prototype.insertRules=function(l,o){if(l>=this.groupSizes.length){for(var c=this.groupSizes,h=c.length,m=h;l>=m;)if((m<<=1)<0)throw Tf(16,"".concat(l));this.groupSizes=new Uint32Array(m),this.groupSizes.set(c),this.length=m;for(var T=h;T<m;T++)this.groupSizes[T]=0}for(var E=this.indexOfGroup(l+1),v=(T=0,o.length);T<v;T++)this.tag.insertRule(E,o[T])&&(this.groupSizes[l]++,E++)},n.prototype.clearGroup=function(l){if(l<this.length){var o=this.groupSizes[l],c=this.indexOfGroup(l),h=c+o;this.groupSizes[l]=0;for(var m=c;m<h;m++)this.tag.deleteRule(c)}},n.prototype.getGroup=function(l){var o="";if(l>=this.length||this.groupSizes[l]===0)return o;for(var c=this.groupSizes[l],h=this.indexOfGroup(l),m=h+c,T=h;T<m;T++)o+="".concat(this.tag.getRule(T)).concat(G_);return o},n}(),Fg=new Map,Jg=new Map,Ug=1,Ig=function(n){if(Fg.has(n))return Fg.get(n);for(;Jg.has(Ug);)Ug++;var l=Ug++;return Fg.set(n,l),Jg.set(l,n),l},kA=function(n,l){Ug=l+1,Fg.set(n,l),Jg.set(l,n)},OA="style[".concat(Fd,"][").concat(Cv,'="').concat(vm,'"]'),RA=new RegExp("^".concat(Fd,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),LA=function(n,l,o){for(var c,h=o.split(","),m=0,T=h.length;m<T;m++)(c=h[m])&&n.registerName(l,c)},AA=function(n,l){for(var o,c=((o=l.textContent)!==null&&o!==void 0?o:"").split(G_),h=[],m=0,T=c.length;m<T;m++){var E=c[m].trim();if(E){var v=E.match(RA);if(v){var I=0|parseInt(v[1],10),M=v[2];I!==0&&(kA(M,I),LA(n,M,v[3]),n.getTag().insertRules(I,h)),h.length=0}else h.push(E)}}},Zb=function(n){for(var l=document.querySelectorAll(OA),o=0,c=l.length;o<c;o++){var h=l[o];h&&h.getAttribute(Fd)!==Iv&&(AA(n,h),h.parentNode&&h.parentNode.removeChild(h))}};function DA(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Mv=function(n){var l=document.head,o=n||l,c=document.createElement("style"),h=function(E){var v=Array.from(E.querySelectorAll("style[".concat(Fd,"]")));return v[v.length-1]}(o),m=h!==void 0?h.nextSibling:null;c.setAttribute(Fd,Iv),c.setAttribute(Cv,vm);var T=DA();return T&&c.setAttribute("nonce",T),o.insertBefore(c,m),c},NA=function(){function n(l){this.element=Mv(l),this.element.appendChild(document.createTextNode("")),this.sheet=function(o){if(o.sheet)return o.sheet;for(var c=document.styleSheets,h=0,m=c.length;h<m;h++){var T=c[h];if(T.ownerNode===o)return T}throw Tf(17)}(this.element),this.length=0}return n.prototype.insertRule=function(l,o){try{return this.sheet.insertRule(o,l),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(l){this.sheet.deleteRule(l),this.length--},n.prototype.getRule=function(l){var o=this.sheet.cssRules[l];return o&&o.cssText?o.cssText:""},n}(),MA=function(){function n(l){this.element=Mv(l),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(l,o){if(l<=this.length&&l>=0){var c=document.createTextNode(o);return this.element.insertBefore(c,this.nodes[l]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(l){this.element.removeChild(this.nodes[l]),this.length--},n.prototype.getRule=function(l){return l<this.length?this.nodes[l].textContent:""},n}(),xA=function(){function n(l){this.rules=[],this.length=0}return n.prototype.insertRule=function(l,o){return l<=this.length&&(this.rules.splice(l,0,o),this.length++,!0)},n.prototype.deleteRule=function(l){this.rules.splice(l,1),this.length--},n.prototype.getRule=function(l){return l<this.length?this.rules[l]:""},n}(),ey=Yg,PA={isServer:!Yg,useCSSOMInjection:!fA},xv=function(){function n(l,o,c){l===void 0&&(l=Ud),o===void 0&&(o={});var h=this;this.options=Or(Or({},PA),l),this.gs=o,this.names=new Map(c),this.server=!!l.isServer,!this.server&&Yg&&ey&&(ey=!1,Zb(this)),z_(this,function(){return function(m){for(var T=m.getTag(),E=T.length,v="",I=function(w){var k=function(ee){return Jg.get(ee)}(w);if(k===void 0)return"continue";var H=m.names.get(k),P=T.getGroup(w);if(H===void 0||!H.size||P.length===0)return"continue";var O="".concat(Fd,".g").concat(w,'[id="').concat(k,'"]'),z="";H!==void 0&&H.forEach(function(ee){ee.length>0&&(z+="".concat(ee,","))}),v+="".concat(P).concat(O,'{content:"').concat(z,'"}').concat(G_)},M=0;M<E;M++)I(M);return v}(h)})}return n.registerId=function(l){return Ig(l)},n.prototype.rehydrate=function(){!this.server&&Yg&&Zb(this)},n.prototype.reconstructWithOptions=function(l,o){return o===void 0&&(o=!0),new n(Or(Or({},this.options),l),this.gs,o&&this.names||void 0)},n.prototype.allocateGSInstance=function(l){return this.gs[l]=(this.gs[l]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(l=function(o){var c=o.useCSSOMInjection,h=o.target;return o.isServer?new xA(h):c?new NA(h):new MA(h)}(this.options),new wA(l)));var l},n.prototype.hasNameForId=function(l,o){return this.names.has(l)&&this.names.get(l).has(o)},n.prototype.registerName=function(l,o){if(Ig(l),this.names.has(l))this.names.get(l).add(o);else{var c=new Set;c.add(o),this.names.set(l,c)}},n.prototype.insertRules=function(l,o,c){this.registerName(l,o),this.getTag().insertRules(Ig(l),c)},n.prototype.clearNames=function(l){this.names.has(l)&&this.names.get(l).clear()},n.prototype.clearRules=function(l){this.getTag().clearGroup(Ig(l)),this.clearNames(l)},n.prototype.clearTag=function(){this.tag=void 0},n}(),BA=/&/g,FA=/^\s*\/\/.*$/gm;function Pv(n,l){return n.map(function(o){return o.type==="rule"&&(o.value="".concat(l," ").concat(o.value),o.value=o.value.replaceAll(",",",".concat(l," ")),o.props=o.props.map(function(c){return"".concat(l," ").concat(c)})),Array.isArray(o.children)&&o.type!=="@keyframes"&&(o.children=Pv(o.children,l)),o})}function UA(n){var l,o,c,h=Ud,m=h.options,T=m===void 0?Ud:m,E=h.plugins,v=E===void 0?Sm:E,I=function(k,H,P){return P.startsWith(o)&&P.endsWith(o)&&P.replaceAll(o,"").length>0?".".concat(l):k},M=v.slice();M.push(function(k){k.type===Tm&&k.value.includes("&")&&(k.props[0]=k.props[0].replace(BA,o).replace(c,I))}),T.prefix&&M.push(hA),M.push(cA);var w=function(k,H,P,O){H===void 0&&(H=""),P===void 0&&(P=""),O===void 0&&(O="&"),l=O,o=H,c=new RegExp("\\".concat(o,"\\b"),"g");var z=k.replace(FA,""),ee=lA(P||H?"".concat(P," ").concat(H," { ").concat(z," }"):z);T.namespace&&(ee=Pv(ee,T.namespace));var oe=[];return Kg(ee,aA(M.concat(dA(function(ne){return oe.push(ne)})))),oe};return w.hash=v.length?v.reduce(function(k,H){return H.name||Tf(15),Ad(k,H.name)},Ov).toString():"",w}var HA=new xv,p_=UA(),Bv=ze.createContext({shouldForwardProp:void 0,styleSheet:HA,stylis:p_});Bv.Consumer;ze.createContext(void 0);function ty(){return me.useContext(Bv)}var VA=function(){function n(l,o){var c=this;this.inject=function(h,m){m===void 0&&(m=p_);var T=c.name+m.hash;h.hasNameForId(c.id,T)||h.insertRules(c.id,T,m(c.rules,T,"@keyframes"))},this.name=l,this.id="sc-keyframes-".concat(l),this.rules=o,z_(this,function(){throw Tf(12,String(c.name))})}return n.prototype.getName=function(l){return l===void 0&&(l=p_),this.name+l.hash},n}(),GA=function(n){return n>="A"&&n<="Z"};function ny(n){for(var l="",o=0;o<n.length;o++){var c=n[o];if(o===1&&c==="-"&&n[0]==="-")return n;GA(c)?l+="-"+c.toLowerCase():l+=c}return l.startsWith("ms-")?"-"+l:l}var Fv=function(n){return n==null||n===!1||n===""},Uv=function(n){var l,o,c=[];for(var h in n){var m=n[h];n.hasOwnProperty(h)&&!Fv(m)&&(Array.isArray(m)&&m.isCss||Hd(m)?c.push("".concat(ny(h),":"),m,";"):pf(m)?c.push.apply(c,Xg(Xg(["".concat(h," {")],Uv(m),!1),["}"],!1)):c.push("".concat(ny(h),": ").concat((l=h,(o=m)==null||typeof o=="boolean"||o===""?"":typeof o!="number"||o===0||l in pA||l.startsWith("--")?String(o).trim():"".concat(o,"px")),";")))}return c};function Fc(n,l,o,c){if(Fv(n))return[];if(j_(n))return[".".concat(n.styledComponentId)];if(Hd(n)){if(!Hd(m=n)||m.prototype&&m.prototype.isReactComponent||!l)return[n];var h=n(l);return Fc(h,l,o,c)}var m;return n instanceof VA?o?(n.inject(o,c),[n.getName(c)]):[n]:pf(n)?Uv(n):Array.isArray(n)?Array.prototype.concat.apply(Sm,n.map(function(T){return Fc(T,l,o,c)})):[n.toString()]}function WA(n){for(var l=0;l<n.length;l+=1){var o=n[l];if(Hd(o)&&!j_(o))return!1}return!0}var jA=Rv(vm),zA=function(){function n(l,o,c){this.rules=l,this.staticRulesId="",this.isStatic=(c===void 0||c.isStatic)&&WA(l),this.componentId=o,this.baseHash=Ad(jA,o),this.baseStyle=c,xv.registerId(o)}return n.prototype.generateAndInjectStyles=function(l,o,c){var h=this.baseStyle?this.baseStyle.generateAndInjectStyles(l,o,c):"";if(this.isStatic&&!c.hash)if(this.staticRulesId&&o.hasNameForId(this.componentId,this.staticRulesId))h=Pc(h,this.staticRulesId);else{var m=Qb(Fc(this.rules,l,o,c)),T=d_(Ad(this.baseHash,m)>>>0);if(!o.hasNameForId(this.componentId,T)){var E=c(m,".".concat(T),void 0,this.componentId);o.insertRules(this.componentId,T,E)}h=Pc(h,T),this.staticRulesId=T}else{for(var v=Ad(this.baseHash,c.hash),I="",M=0;M<this.rules.length;M++){var w=this.rules[M];if(typeof w=="string")I+=w;else if(w){var k=Qb(Fc(w,l,o,c));v=Ad(v,k+M),I+=k}}if(I){var H=d_(v>>>0);o.hasNameForId(this.componentId,H)||o.insertRules(this.componentId,H,c(I,".".concat(H),void 0,this.componentId)),h=Pc(h,H)}}return h},n}(),X_=ze.createContext(void 0);X_.Consumer;var j$={};function XA(n,l,o){var c=j_(n),h=n,m=!W$(n),T=l.attrs,E=T===void 0?Sm:T,v=l.componentId,I=v===void 0?function(ue,ge){var ce=typeof ue!="string"?"sc":Xb(ue);j$[ce]=(j$[ce]||0)+1;var re="".concat(ce,"-").concat(_A(vm+ce+j$[ce]));return ge?"".concat(ge,"-").concat(re):re}(l.displayName,l.parentComponentId):v,M=l.displayName,w=M===void 0?function(ue){return W$(ue)?"styled.".concat(ue):"Styled(".concat(Lv(ue),")")}(n):M,k=l.displayName&&l.componentId?"".concat(Xb(l.displayName),"-").concat(l.componentId):l.componentId||I,H=c&&h.attrs?h.attrs.concat(E).filter(Boolean):E,P=l.shouldForwardProp;if(c&&h.shouldForwardProp){var O=h.shouldForwardProp;if(l.shouldForwardProp){var z=l.shouldForwardProp;P=function(ue,ge){return O(ue,ge)&&z(ue,ge)}}else P=O}var ee=new zA(o,k,c?h.componentStyle:void 0);function oe(ue,ge){return function(ce,re,pe){var Fe=ce.attrs,L=ce.componentStyle,ve=ce.defaultProps,ke=ce.foldedComponentIds,Ne=ce.styledComponentId,Le=ce.target,Ve=ze.useContext(X_),X=ty(),F=ce.shouldForwardProp||X.shouldForwardProp,C=wv(re,Ve,ve)||Ud,J=function(Ue,Oe,Ie){for(var qe,Qe=Or(Or({},Oe),{className:void 0,theme:Ie}),$t=0;$t<Ue.length;$t+=1){var Ct=Hd(qe=Ue[$t])?qe(Qe):qe;for(var yt in Ct)Qe[yt]=yt==="className"?Pc(Qe[yt],Ct[yt]):yt==="style"?Or(Or({},Qe[yt]),Ct[yt]):Ct[yt]}return Oe.className&&(Qe.className=Pc(Qe.className,Oe.className)),Qe}(Fe,re,C),Y=J.as||Le,R={};for(var Q in J)J[Q]===void 0||Q[0]==="$"||Q==="as"||Q==="theme"&&J.theme===C||(Q==="forwardedAs"?R.as=J.forwardedAs:F&&!F(Q,Y)||(R[Q]=J[Q]));var Re=function(Ue,Oe){var Ie=ty(),qe=Ue.generateAndInjectStyles(Oe,Ie.styleSheet,Ie.stylis);return qe}(L,J),Se=Pc(ke,Ne);return Re&&(Se+=" "+Re),J.className&&(Se+=" "+J.className),R[W$(Y)&&!kv.has(Y)?"class":"className"]=Se,pe&&(R.ref=pe),me.createElement(Y,R)}(ne,ue,ge)}oe.displayName=w;var ne=ze.forwardRef(oe);return ne.attrs=H,ne.componentStyle=ee,ne.displayName=w,ne.shouldForwardProp=P,ne.foldedComponentIds=c?Pc(h.foldedComponentIds,h.styledComponentId):"",ne.styledComponentId=k,ne.target=c?h.target:n,Object.defineProperty(ne,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(ue){this._foldedDefaultProps=c?function(ge){for(var ce=[],re=1;re<arguments.length;re++)ce[re-1]=arguments[re];for(var pe=0,Fe=ce;pe<Fe.length;pe++)h_(ge,Fe[pe],!0);return ge}({},h.defaultProps,ue):ue}}),z_(ne,function(){return".".concat(ne.styledComponentId)}),m&&W_(ne,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),ne}function ry(n,l){for(var o=[n[0]],c=0,h=l.length;c<h;c+=1)o.push(l[c],n[c+1]);return o}var iy=function(n){return Object.assign(n,{isCss:!0})};function KA(n){for(var l=[],o=1;o<arguments.length;o++)l[o-1]=arguments[o];if(Hd(n)||pf(n))return iy(Fc(ry(Sm,Xg([n],l,!0))));var c=n;return l.length===0&&c.length===1&&typeof c[0]=="string"?Fc(c):iy(Fc(ry(c,l)))}function f_(n,l,o){if(o===void 0&&(o=Ud),!l)throw Tf(1,l);var c=function(h){for(var m=[],T=1;T<arguments.length;T++)m[T-1]=arguments[T];return n(l,o,KA.apply(void 0,Xg([h],m,!1)))};return c.attrs=function(h){return f_(n,l,Or(Or({},o),{attrs:Array.prototype.concat(o.attrs,h).filter(Boolean)}))},c.withConfig=function(h){return f_(n,l,Or(Or({},o),h))},c}var Hv=function(n){return f_(XA,n)},Im=Hv;kv.forEach(function(n){Im[n]=Hv(n)});function YA(n){var l=ze.forwardRef(function(o,c){var h=wv(o,ze.useContext(X_),n.defaultProps);return ze.createElement(n,Or({},o,{theme:h,ref:c}))});return l.displayName="WithTheme(".concat(Lv(n),")"),W_(l,n)}function JA(n,l){if(n==null)return{};var o,c,h=hk(n,l);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(n);for(c=0;c<m.length;c++)o=m[c],l.includes(o)||{}.propertyIsEnumerable.call(n,o)&&(h[o]=n[o])}return h}function g_(n,l){(l==null||l>n.length)&&(l=n.length);for(var o=0,c=Array(l);o<l;o++)c[o]=n[o];return c}function qA(n){if(Array.isArray(n))return g_(n)}function QA(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ZA(n,l){if(n){if(typeof n=="string")return g_(n,l);var o={}.toString.call(n).slice(8,-1);return o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set"?Array.from(n):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?g_(n,l):void 0}}function e0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m_(n){return qA(n)||QA(n)||ZA(n)||e0()}function gs(n){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},gs(n)}function t0(n,l){if(gs(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var c=o.call(n,l||"default");if(gs(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(n)}function Vv(n){var l=t0(n,"string");return gs(l)=="symbol"?l:l+""}function ml(n,l,o){return(l=Vv(l))in n?Object.defineProperty(n,l,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[l]=o,n}function oy(n,l){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);l&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),o.push.apply(o,c)}return o}function Dd(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{};l%2?oy(Object(o),!0).forEach(function(c){ml(n,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):oy(Object(o)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(o,c))})}return n}function n0(n){var l=n.length;if(l===0||l===1)return n;if(l===2)return[n[0],n[1],"".concat(n[0],".").concat(n[1]),"".concat(n[1],".").concat(n[0])];if(l===3)return[n[0],n[1],n[2],"".concat(n[0],".").concat(n[1]),"".concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[0]),"".concat(n[1],".").concat(n[2]),"".concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[1],".").concat(n[0])];if(l>=4)return[n[0],n[1],n[2],n[3],"".concat(n[0],".").concat(n[1]),"".concat(n[0],".").concat(n[2]),"".concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[0]),"".concat(n[1],".").concat(n[2]),"".concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[1]),"".concat(n[2],".").concat(n[3]),"".concat(n[3],".").concat(n[0]),"".concat(n[3],".").concat(n[1]),"".concat(n[3],".").concat(n[2]),"".concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[1],".").concat(n[3]),"".concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[2],".").concat(n[3]),"".concat(n[0],".").concat(n[3],".").concat(n[1]),"".concat(n[0],".").concat(n[3],".").concat(n[2]),"".concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[1],".").concat(n[2],".").concat(n[3]),"".concat(n[1],".").concat(n[3],".").concat(n[0]),"".concat(n[1],".").concat(n[3],".").concat(n[2]),"".concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[0],".").concat(n[3]),"".concat(n[2],".").concat(n[1],".").concat(n[0]),"".concat(n[2],".").concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[3],".").concat(n[0]),"".concat(n[2],".").concat(n[3],".").concat(n[1]),"".concat(n[3],".").concat(n[0],".").concat(n[1]),"".concat(n[3],".").concat(n[0],".").concat(n[2]),"".concat(n[3],".").concat(n[1],".").concat(n[0]),"".concat(n[3],".").concat(n[1],".").concat(n[2]),"".concat(n[3],".").concat(n[2],".").concat(n[0]),"".concat(n[3],".").concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[1],".").concat(n[2],".").concat(n[3]),"".concat(n[0],".").concat(n[1],".").concat(n[3],".").concat(n[2]),"".concat(n[0],".").concat(n[2],".").concat(n[1],".").concat(n[3]),"".concat(n[0],".").concat(n[2],".").concat(n[3],".").concat(n[1]),"".concat(n[0],".").concat(n[3],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[3],".").concat(n[2],".").concat(n[1]),"".concat(n[1],".").concat(n[0],".").concat(n[2],".").concat(n[3]),"".concat(n[1],".").concat(n[0],".").concat(n[3],".").concat(n[2]),"".concat(n[1],".").concat(n[2],".").concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[2],".").concat(n[3],".").concat(n[0]),"".concat(n[1],".").concat(n[3],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[3],".").concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[0],".").concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[0],".").concat(n[3],".").concat(n[1]),"".concat(n[2],".").concat(n[1],".").concat(n[0],".").concat(n[3]),"".concat(n[2],".").concat(n[1],".").concat(n[3],".").concat(n[0]),"".concat(n[2],".").concat(n[3],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[3],".").concat(n[1],".").concat(n[0]),"".concat(n[3],".").concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[3],".").concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[3],".").concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[3],".").concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[3],".").concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[3],".").concat(n[2],".").concat(n[1],".").concat(n[0])]}var z$={};function r0(n){if(n.length===0||n.length===1)return n;var l=n.join(".");return z$[l]||(z$[l]=n0(n)),z$[l]}function i0(n){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,c=n.filter(function(m){return m!=="token"}),h=r0(c);return h.reduce(function(m,T){return Dd(Dd({},m),o[T])},l)}function sy(n){return n.join(" ")}function o0(n,l){var o=0;return function(c){return o+=1,c.map(function(h,m){return Gv({node:h,stylesheet:n,useInlineStyles:l,key:"code-segment-".concat(o,"-").concat(m)})})}}function Gv(n){var l=n.node,o=n.stylesheet,c=n.style,h=c===void 0?{}:c,m=n.useInlineStyles,T=n.key,E=l.properties,v=l.type,I=l.tagName,M=l.value;if(v==="text")return M;if(I){var w=o0(o,m),k;if(!m)k=Dd(Dd({},E),{},{className:sy(E.className)});else{var H=Object.keys(o).reduce(function(ee,oe){return oe.split(".").forEach(function(ne){ee.includes(ne)||ee.push(ne)}),ee},[]),P=E.className&&E.className.includes("token")?["token"]:[],O=E.className&&P.concat(E.className.filter(function(ee){return!H.includes(ee)}));k=Dd(Dd({},E),{},{className:sy(O)||void 0,style:i0(E.className,Object.assign({},E.style,h),o)})}var z=w(l.children);return ze.createElement(I,lf({key:T},k),z)}}const s0=function(n,l){var o=n.listLanguages();return o.indexOf(l)!==-1};var l0=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function ly(n,l){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(n);l&&(c=c.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),o.push.apply(o,c)}return o}function pu(n){for(var l=1;l<arguments.length;l++){var o=arguments[l]!=null?arguments[l]:{};l%2?ly(Object(o),!0).forEach(function(c){ml(n,c,o[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):ly(Object(o)).forEach(function(c){Object.defineProperty(n,c,Object.getOwnPropertyDescriptor(o,c))})}return n}var u0=/\n/g;function c0(n){return n.match(u0)}function a0(n){var l=n.lines,o=n.startingLineNumber,c=n.style;return l.map(function(h,m){var T=m+o;return ze.createElement("span",{key:"line-".concat(m),className:"react-syntax-highlighter-line-number",style:typeof c=="function"?c(T):c},"".concat(T,`
`))})}function d0(n){var l=n.codeString,o=n.codeStyle,c=n.containerStyle,h=c===void 0?{float:"left",paddingRight:"10px"}:c,m=n.numberStyle,T=m===void 0?{}:m,E=n.startingLineNumber;return ze.createElement("code",{style:Object.assign({},o,h)},a0({lines:l.replace(/\n$/,"").split(`
`),style:T,startingLineNumber:E}))}function h0(n){return"".concat(n.toString().length,".25em")}function Wv(n,l){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(n),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:l},children:[{type:"text",value:n}]}}function jv(n,l,o){var c={display:"inline-block",minWidth:h0(o),paddingRight:"1em",textAlign:"right",userSelect:"none"},h=typeof n=="function"?n(l):n,m=pu(pu({},c),h);return m}function Hg(n){var l=n.children,o=n.lineNumber,c=n.lineNumberStyle,h=n.largestLineNumber,m=n.showInlineLineNumbers,T=n.lineProps,E=T===void 0?{}:T,v=n.className,I=v===void 0?[]:v,M=n.showLineNumbers,w=n.wrapLongLines,k=n.wrapLines,H=k===void 0?!1:k,P=H?pu({},typeof E=="function"?E(o):E):{};if(P.className=P.className?[].concat(m_(P.className.trim().split(/\s+/)),m_(I)):I,o&&m){var O=jv(c,o,h);l.unshift(Wv(o,O))}return w&M&&(P.style=pu({display:"flex"},P.style)),{type:"element",tagName:"span",properties:P,children:l}}function zv(n){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],c=0;c<n.length;c++){var h=n[c];if(h.type==="text")o.push(Hg({children:[h],className:m_(new Set(l))}));else if(h.children){var m=l.concat(h.properties.className);zv(h.children,m).forEach(function(T){return o.push(T)})}}return o}function p0(n,l,o,c,h,m,T,E,v){var I,M=zv(n.value),w=[],k=-1,H=0;function P(ge,ce){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return Hg({children:ge,lineNumber:ce,lineNumberStyle:E,largestLineNumber:T,showInlineLineNumbers:h,lineProps:o,className:re,showLineNumbers:c,wrapLongLines:v,wrapLines:l})}function O(ge,ce){if(c&&ce&&h){var re=jv(E,ce,T);ge.unshift(Wv(ce,re))}return ge}function z(ge,ce){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return l||re.length>0?P(ge,ce,re):O(ge,ce)}for(var ee=function(){var ce=M[H],re=ce.children[0].value,pe=c0(re);if(pe){var Fe=re.split(`
`);Fe.forEach(function(L,ve){var ke=c&&w.length+m,Ne={type:"text",value:"".concat(L,`
`)};if(ve===0){var Le=M.slice(k+1,H).concat(Hg({children:[Ne],className:ce.properties.className})),Ve=z(Le,ke);w.push(Ve)}else if(ve===Fe.length-1){var X=M[H+1]&&M[H+1].children&&M[H+1].children[0],F={type:"text",value:"".concat(L)};if(X){var C=Hg({children:[F],className:ce.properties.className});M.splice(H+1,0,C)}else{var J=[F],Y=z(J,ke,ce.properties.className);w.push(Y)}}else{var R=[Ne],Q=z(R,ke,ce.properties.className);w.push(Q)}}),k=H}H++};H<M.length;)ee();if(k!==M.length-1){var oe=M.slice(k+1,M.length);if(oe&&oe.length){var ne=c&&w.length+m,ue=z(oe,ne);w.push(ue)}}return l?w:(I=[]).concat.apply(I,w)}function f0(n){var l=n.rows,o=n.stylesheet,c=n.useInlineStyles;return l.map(function(h,m){return Gv({node:h,stylesheet:o,useInlineStyles:c,key:"code-segement".concat(m)})})}function Xv(n){return n&&typeof n.highlightAuto<"u"}function g0(n){var l=n.astGenerator,o=n.language,c=n.code,h=n.defaultCodeValue;if(Xv(l)){var m=s0(l,o);return o==="text"?{value:h,language:"text"}:m?l.highlight(o,c):l.highlightAuto(c)}try{return o&&o!=="text"?{value:l.highlight(c,o)}:{value:h}}catch{return{value:h}}}function m0(n,l){return function(c){var h=c.language,m=c.children,T=c.style,E=T===void 0?l:T,v=c.customStyle,I=v===void 0?{}:v,M=c.codeTagProps,w=M===void 0?{className:h?"language-".concat(h):void 0,style:pu(pu({},E['code[class*="language-"]']),E['code[class*="language-'.concat(h,'"]')])}:M,k=c.useInlineStyles,H=k===void 0?!0:k,P=c.showLineNumbers,O=P===void 0?!1:P,z=c.showInlineLineNumbers,ee=z===void 0?!0:z,oe=c.startingLineNumber,ne=oe===void 0?1:oe,ue=c.lineNumberContainerStyle,ge=c.lineNumberStyle,ce=ge===void 0?{}:ge,re=c.wrapLines,pe=c.wrapLongLines,Fe=pe===void 0?!1:pe,L=c.lineProps,ve=L===void 0?{}:L,ke=c.renderer,Ne=c.PreTag,Le=Ne===void 0?"pre":Ne,Ve=c.CodeTag,X=Ve===void 0?"code":Ve,F=c.code,C=F===void 0?(Array.isArray(m)?m[0]:m)||"":F,J=c.astGenerator,Y=JA(c,l0);J=J||n;var R=O?ze.createElement(d0,{containerStyle:ue,codeStyle:w.style||{},numberStyle:ce,startingLineNumber:ne,codeString:C}):null,Q=E.hljs||E['pre[class*="language-"]']||{backgroundColor:"#fff"},Re=Xv(J)?"hljs":"prismjs",Se=H?Object.assign({},Y,{style:Object.assign({},Q,I)}):Object.assign({},Y,{className:Y.className?"".concat(Re," ").concat(Y.className):Re,style:Object.assign({},I)});if(Fe?w.style=pu({whiteSpace:"pre-wrap"},w.style):w.style=pu({whiteSpace:"pre"},w.style),!J)return ze.createElement(Le,Se,R,ze.createElement(X,w,C));(re===void 0&&ke||Fe)&&(re=!0),ke=ke||f0;var Ue=[{type:"text",value:C}],Oe=g0({astGenerator:J,language:h,code:C,defaultCodeValue:Ue});Oe.language===null&&(Oe.value=Ue);var Ie=Oe.value.length;Ie===1&&Oe.value[0].type==="text"&&(Ie=Oe.value[0].value.split(`
`).length);var qe=Ie+ne,Qe=p0(Oe,re,ve,O,ee,ne,qe,ce,Fe);return ze.createElement(Le,Se,ze.createElement(X,w,!ee&&R,ke({rows:Qe,stylesheet:E,useInlineStyles:H})))}}const $0="modulepreload",_0=function(n){return"/demo-blog/"+n},uy={},A=function(l,o,c){let h=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const T=document.querySelector("meta[property=csp-nonce]"),E=(T==null?void 0:T.nonce)||(T==null?void 0:T.getAttribute("nonce"));h=Promise.allSettled(o.map(v=>{if(v=_0(v),v in uy)return;uy[v]=!0;const I=v.endsWith(".css"),M=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${M}`))return;const w=document.createElement("link");if(w.rel=I?"stylesheet":$0,I||(w.as="script"),w.crossOrigin="",w.href=v,E&&w.setAttribute("nonce",E),document.head.appendChild(w),I)return new Promise((k,H)=>{w.addEventListener("load",k),w.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${v}`)))})}))}function m(T){const E=new Event("vite:preloadError",{cancelable:!0});if(E.payload=T,window.dispatchEvent(E),!E.defaultPrevented)throw T}return h.then(T=>{for(const E of T||[])E.status==="rejected"&&m(E.reason);return l().catch(m)})};function cy(n,l,o,c,h,m,T){try{var E=n[m](T),v=E.value}catch(I){return void o(I)}E.done?l(v):Promise.resolve(v).then(c,h)}function Kv(n){return function(){var l=this,o=arguments;return new Promise(function(c,h){var m=n.apply(l,o);function T(v){cy(m,c,h,T,E,"next",v)}function E(v){cy(m,c,h,T,E,"throw",v)}T(void 0)})}}function T0(n,l){if(!(n instanceof l))throw new TypeError("Cannot call a class as a function")}function ay(n,l){for(var o=0;o<l.length;o++){var c=l[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,Vv(c.key),c)}}function E0(n,l,o){return ay(n.prototype,l),ay(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function b0(n,l){if(l&&(gs(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pk(n)}function qg(n){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(l){return l.__proto__||Object.getPrototypeOf(l)},qg(n)}function y0(n,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(l&&l.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),l&&e_(n,l)}function $_(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */$_=function(){return l};var n,l={},o=Object.prototype,c=o.hasOwnProperty,h=Object.defineProperty||function(X,F,C){X[F]=C.value},m=typeof Symbol=="function"?Symbol:{},T=m.iterator||"@@iterator",E=m.asyncIterator||"@@asyncIterator",v=m.toStringTag||"@@toStringTag";function I(X,F,C){return Object.defineProperty(X,F,{value:C,enumerable:!0,configurable:!0,writable:!0}),X[F]}try{I({},"")}catch{I=function(C,J,Y){return C[J]=Y}}function M(X,F,C,J){var Y=F&&F.prototype instanceof ee?F:ee,R=Object.create(Y.prototype),Q=new Le(J||[]);return h(R,"_invoke",{value:L(X,C,Q)}),R}function w(X,F,C){try{return{type:"normal",arg:X.call(F,C)}}catch(J){return{type:"throw",arg:J}}}l.wrap=M;var k="suspendedStart",H="suspendedYield",P="executing",O="completed",z={};function ee(){}function oe(){}function ne(){}var ue={};I(ue,T,function(){return this});var ge=Object.getPrototypeOf,ce=ge&&ge(ge(Ve([])));ce&&ce!==o&&c.call(ce,T)&&(ue=ce);var re=ne.prototype=ee.prototype=Object.create(ue);function pe(X){["next","throw","return"].forEach(function(F){I(X,F,function(C){return this._invoke(F,C)})})}function Fe(X,F){function C(Y,R,Q,Re){var Se=w(X[Y],X,R);if(Se.type!=="throw"){var Ue=Se.arg,Oe=Ue.value;return Oe&&gs(Oe)=="object"&&c.call(Oe,"__await")?F.resolve(Oe.__await).then(function(Ie){C("next",Ie,Q,Re)},function(Ie){C("throw",Ie,Q,Re)}):F.resolve(Oe).then(function(Ie){Ue.value=Ie,Q(Ue)},function(Ie){return C("throw",Ie,Q,Re)})}Re(Se.arg)}var J;h(this,"_invoke",{value:function(R,Q){function Re(){return new F(function(Se,Ue){C(R,Q,Se,Ue)})}return J=J?J.then(Re,Re):Re()}})}function L(X,F,C){var J=k;return function(Y,R){if(J===P)throw Error("Generator is already running");if(J===O){if(Y==="throw")throw R;return{value:n,done:!0}}for(C.method=Y,C.arg=R;;){var Q=C.delegate;if(Q){var Re=ve(Q,C);if(Re){if(Re===z)continue;return Re}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(J===k)throw J=O,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);J=P;var Se=w(X,F,C);if(Se.type==="normal"){if(J=C.done?O:H,Se.arg===z)continue;return{value:Se.arg,done:C.done}}Se.type==="throw"&&(J=O,C.method="throw",C.arg=Se.arg)}}}function ve(X,F){var C=F.method,J=X.iterator[C];if(J===n)return F.delegate=null,C==="throw"&&X.iterator.return&&(F.method="return",F.arg=n,ve(X,F),F.method==="throw")||C!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+C+"' method")),z;var Y=w(J,X.iterator,F.arg);if(Y.type==="throw")return F.method="throw",F.arg=Y.arg,F.delegate=null,z;var R=Y.arg;return R?R.done?(F[X.resultName]=R.value,F.next=X.nextLoc,F.method!=="return"&&(F.method="next",F.arg=n),F.delegate=null,z):R:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,z)}function ke(X){var F={tryLoc:X[0]};1 in X&&(F.catchLoc=X[1]),2 in X&&(F.finallyLoc=X[2],F.afterLoc=X[3]),this.tryEntries.push(F)}function Ne(X){var F=X.completion||{};F.type="normal",delete F.arg,X.completion=F}function Le(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(ke,this),this.reset(!0)}function Ve(X){if(X||X===""){var F=X[T];if(F)return F.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var C=-1,J=function Y(){for(;++C<X.length;)if(c.call(X,C))return Y.value=X[C],Y.done=!1,Y;return Y.value=n,Y.done=!0,Y};return J.next=J}}throw new TypeError(gs(X)+" is not iterable")}return oe.prototype=ne,h(re,"constructor",{value:ne,configurable:!0}),h(ne,"constructor",{value:oe,configurable:!0}),oe.displayName=I(ne,v,"GeneratorFunction"),l.isGeneratorFunction=function(X){var F=typeof X=="function"&&X.constructor;return!!F&&(F===oe||(F.displayName||F.name)==="GeneratorFunction")},l.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,ne):(X.__proto__=ne,I(X,v,"GeneratorFunction")),X.prototype=Object.create(re),X},l.awrap=function(X){return{__await:X}},pe(Fe.prototype),I(Fe.prototype,E,function(){return this}),l.AsyncIterator=Fe,l.async=function(X,F,C,J,Y){Y===void 0&&(Y=Promise);var R=new Fe(M(X,F,C,J),Y);return l.isGeneratorFunction(F)?R:R.next().then(function(Q){return Q.done?Q.value:R.next()})},pe(re),I(re,v,"Generator"),I(re,T,function(){return this}),I(re,"toString",function(){return"[object Generator]"}),l.keys=function(X){var F=Object(X),C=[];for(var J in F)C.push(J);return C.reverse(),function Y(){for(;C.length;){var R=C.pop();if(R in F)return Y.value=R,Y.done=!1,Y}return Y.done=!0,Y}},l.values=Ve,Le.prototype={constructor:Le,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Ne),!F)for(var C in this)C.charAt(0)==="t"&&c.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=n)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var C=this;function J(Ue,Oe){return Q.type="throw",Q.arg=F,C.next=Ue,Oe&&(C.method="next",C.arg=n),!!Oe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var R=this.tryEntries[Y],Q=R.completion;if(R.tryLoc==="root")return J("end");if(R.tryLoc<=this.prev){var Re=c.call(R,"catchLoc"),Se=c.call(R,"finallyLoc");if(Re&&Se){if(this.prev<R.catchLoc)return J(R.catchLoc,!0);if(this.prev<R.finallyLoc)return J(R.finallyLoc)}else if(Re){if(this.prev<R.catchLoc)return J(R.catchLoc,!0)}else{if(!Se)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return J(R.finallyLoc)}}}},abrupt:function(F,C){for(var J=this.tryEntries.length-1;J>=0;--J){var Y=this.tryEntries[J];if(Y.tryLoc<=this.prev&&c.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var R=Y;break}}R&&(F==="break"||F==="continue")&&R.tryLoc<=C&&C<=R.finallyLoc&&(R=null);var Q=R?R.completion:{};return Q.type=F,Q.arg=C,R?(this.method="next",this.next=R.finallyLoc,z):this.complete(Q)},complete:function(F,C){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&C&&(this.next=C),z},finish:function(F){for(var C=this.tryEntries.length-1;C>=0;--C){var J=this.tryEntries[C];if(J.finallyLoc===F)return this.complete(J.completion,J.afterLoc),Ne(J),z}},catch:function(F){for(var C=this.tryEntries.length-1;C>=0;--C){var J=this.tryEntries[C];if(J.tryLoc===F){var Y=J.completion;if(Y.type==="throw"){var R=Y.arg;Ne(J)}return R}}throw Error("illegal catch attempt")},delegateYield:function(F,C,J){return this.delegate={iterator:Ve(F),resultName:C,nextLoc:J},this.method==="next"&&(this.arg=n),z}},l}function v0(n,l,o){return l=qg(l),b0(n,Yv()?Reflect.construct(l,o||[],qg(n).constructor):l.apply(n,o))}function Yv(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yv=function(){return!!n})()}const S0=function(n){var l,o=n.loader,c=n.isLanguageRegistered,h=n.registerLanguage,m=n.languageLoaders,T=n.noAsyncLoadingLanguages,E=function(v){function I(){return T0(this,I),v0(this,I,arguments)}return y0(I,v),E0(I,[{key:"componentDidUpdate",value:function(){!I.isRegistered(this.props.language)&&m&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var w=this;I.astGeneratorPromise||I.loadAstGenerator(),I.astGenerator||I.astGeneratorPromise.then(function(){w.forceUpdate()}),!I.isRegistered(this.props.language)&&m&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var w=this,k=this.props.language;k!=="text"&&I.loadLanguage(k).then(function(){return w.forceUpdate()}).catch(function(){})}},{key:"normalizeLanguage",value:function(w){return I.isSupportedLanguage(w)?w:"text"}},{key:"render",value:function(){return ze.createElement(I.highlightInstance,lf({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:I.astGenerator}))}}],[{key:"preload",value:function(){return I.loadAstGenerator()}},{key:"loadLanguage",value:function(){var M=Kv($_().mark(function k(H){var P;return $_().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(P=m[H],typeof P!="function"){z.next=5;break}return z.abrupt("return",P(I.registerLanguage));case 5:throw new Error("Language ".concat(H," not supported"));case 6:case"end":return z.stop()}},k)}));function w(k){return M.apply(this,arguments)}return w}()},{key:"isSupportedLanguage",value:function(w){return I.isRegistered(w)||typeof m[w]=="function"}},{key:"loadAstGenerator",value:function(){return I.astGeneratorPromise=o().then(function(w){I.astGenerator=w,h&&I.languages.forEach(function(k,H){return h(w,H,k)})}),I.astGeneratorPromise}}])}(ze.PureComponent);return l=E,ml(E,"astGenerator",null),ml(E,"highlightInstance",m0(null,{})),ml(E,"astGeneratorPromise",null),ml(E,"languages",new Map),ml(E,"supportedLanguages",n.supportedLanguages||Object.keys(m||{})),ml(E,"isRegistered",function(v){if(T)return!0;if(!h)throw new Error("Current syntax highlighter doesn't support registration of languages");return l.astGenerator?c(l.astGenerator,v):l.languages.has(v)}),ml(E,"registerLanguage",function(v,I){if(!h)throw new Error("Current syntax highlighter doesn't support registration of languages");if(l.astGenerator)return h(l.astGenerator,v,I);l.languages.set(v,I)}),E};function __(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */__=function(){return l};var n,l={},o=Object.prototype,c=o.hasOwnProperty,h=Object.defineProperty||function(X,F,C){X[F]=C.value},m=typeof Symbol=="function"?Symbol:{},T=m.iterator||"@@iterator",E=m.asyncIterator||"@@asyncIterator",v=m.toStringTag||"@@toStringTag";function I(X,F,C){return Object.defineProperty(X,F,{value:C,enumerable:!0,configurable:!0,writable:!0}),X[F]}try{I({},"")}catch{I=function(C,J,Y){return C[J]=Y}}function M(X,F,C,J){var Y=F&&F.prototype instanceof ee?F:ee,R=Object.create(Y.prototype),Q=new Le(J||[]);return h(R,"_invoke",{value:L(X,C,Q)}),R}function w(X,F,C){try{return{type:"normal",arg:X.call(F,C)}}catch(J){return{type:"throw",arg:J}}}l.wrap=M;var k="suspendedStart",H="suspendedYield",P="executing",O="completed",z={};function ee(){}function oe(){}function ne(){}var ue={};I(ue,T,function(){return this});var ge=Object.getPrototypeOf,ce=ge&&ge(ge(Ve([])));ce&&ce!==o&&c.call(ce,T)&&(ue=ce);var re=ne.prototype=ee.prototype=Object.create(ue);function pe(X){["next","throw","return"].forEach(function(F){I(X,F,function(C){return this._invoke(F,C)})})}function Fe(X,F){function C(Y,R,Q,Re){var Se=w(X[Y],X,R);if(Se.type!=="throw"){var Ue=Se.arg,Oe=Ue.value;return Oe&&gs(Oe)=="object"&&c.call(Oe,"__await")?F.resolve(Oe.__await).then(function(Ie){C("next",Ie,Q,Re)},function(Ie){C("throw",Ie,Q,Re)}):F.resolve(Oe).then(function(Ie){Ue.value=Ie,Q(Ue)},function(Ie){return C("throw",Ie,Q,Re)})}Re(Se.arg)}var J;h(this,"_invoke",{value:function(R,Q){function Re(){return new F(function(Se,Ue){C(R,Q,Se,Ue)})}return J=J?J.then(Re,Re):Re()}})}function L(X,F,C){var J=k;return function(Y,R){if(J===P)throw Error("Generator is already running");if(J===O){if(Y==="throw")throw R;return{value:n,done:!0}}for(C.method=Y,C.arg=R;;){var Q=C.delegate;if(Q){var Re=ve(Q,C);if(Re){if(Re===z)continue;return Re}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(J===k)throw J=O,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);J=P;var Se=w(X,F,C);if(Se.type==="normal"){if(J=C.done?O:H,Se.arg===z)continue;return{value:Se.arg,done:C.done}}Se.type==="throw"&&(J=O,C.method="throw",C.arg=Se.arg)}}}function ve(X,F){var C=F.method,J=X.iterator[C];if(J===n)return F.delegate=null,C==="throw"&&X.iterator.return&&(F.method="return",F.arg=n,ve(X,F),F.method==="throw")||C!=="return"&&(F.method="throw",F.arg=new TypeError("The iterator does not provide a '"+C+"' method")),z;var Y=w(J,X.iterator,F.arg);if(Y.type==="throw")return F.method="throw",F.arg=Y.arg,F.delegate=null,z;var R=Y.arg;return R?R.done?(F[X.resultName]=R.value,F.next=X.nextLoc,F.method!=="return"&&(F.method="next",F.arg=n),F.delegate=null,z):R:(F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,z)}function ke(X){var F={tryLoc:X[0]};1 in X&&(F.catchLoc=X[1]),2 in X&&(F.finallyLoc=X[2],F.afterLoc=X[3]),this.tryEntries.push(F)}function Ne(X){var F=X.completion||{};F.type="normal",delete F.arg,X.completion=F}function Le(X){this.tryEntries=[{tryLoc:"root"}],X.forEach(ke,this),this.reset(!0)}function Ve(X){if(X||X===""){var F=X[T];if(F)return F.call(X);if(typeof X.next=="function")return X;if(!isNaN(X.length)){var C=-1,J=function Y(){for(;++C<X.length;)if(c.call(X,C))return Y.value=X[C],Y.done=!1,Y;return Y.value=n,Y.done=!0,Y};return J.next=J}}throw new TypeError(gs(X)+" is not iterable")}return oe.prototype=ne,h(re,"constructor",{value:ne,configurable:!0}),h(ne,"constructor",{value:oe,configurable:!0}),oe.displayName=I(ne,v,"GeneratorFunction"),l.isGeneratorFunction=function(X){var F=typeof X=="function"&&X.constructor;return!!F&&(F===oe||(F.displayName||F.name)==="GeneratorFunction")},l.mark=function(X){return Object.setPrototypeOf?Object.setPrototypeOf(X,ne):(X.__proto__=ne,I(X,v,"GeneratorFunction")),X.prototype=Object.create(re),X},l.awrap=function(X){return{__await:X}},pe(Fe.prototype),I(Fe.prototype,E,function(){return this}),l.AsyncIterator=Fe,l.async=function(X,F,C,J,Y){Y===void 0&&(Y=Promise);var R=new Fe(M(X,F,C,J),Y);return l.isGeneratorFunction(F)?R:R.next().then(function(Q){return Q.done?Q.value:R.next()})},pe(re),I(re,v,"Generator"),I(re,T,function(){return this}),I(re,"toString",function(){return"[object Generator]"}),l.keys=function(X){var F=Object(X),C=[];for(var J in F)C.push(J);return C.reverse(),function Y(){for(;C.length;){var R=C.pop();if(R in F)return Y.value=R,Y.done=!1,Y}return Y.done=!0,Y}},l.values=Ve,Le.prototype={constructor:Le,reset:function(F){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(Ne),!F)for(var C in this)C.charAt(0)==="t"&&c.call(this,C)&&!isNaN(+C.slice(1))&&(this[C]=n)},stop:function(){this.done=!0;var F=this.tryEntries[0].completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(F){if(this.done)throw F;var C=this;function J(Ue,Oe){return Q.type="throw",Q.arg=F,C.next=Ue,Oe&&(C.method="next",C.arg=n),!!Oe}for(var Y=this.tryEntries.length-1;Y>=0;--Y){var R=this.tryEntries[Y],Q=R.completion;if(R.tryLoc==="root")return J("end");if(R.tryLoc<=this.prev){var Re=c.call(R,"catchLoc"),Se=c.call(R,"finallyLoc");if(Re&&Se){if(this.prev<R.catchLoc)return J(R.catchLoc,!0);if(this.prev<R.finallyLoc)return J(R.finallyLoc)}else if(Re){if(this.prev<R.catchLoc)return J(R.catchLoc,!0)}else{if(!Se)throw Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return J(R.finallyLoc)}}}},abrupt:function(F,C){for(var J=this.tryEntries.length-1;J>=0;--J){var Y=this.tryEntries[J];if(Y.tryLoc<=this.prev&&c.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var R=Y;break}}R&&(F==="break"||F==="continue")&&R.tryLoc<=C&&C<=R.finallyLoc&&(R=null);var Q=R?R.completion:{};return Q.type=F,Q.arg=C,R?(this.method="next",this.next=R.finallyLoc,z):this.complete(Q)},complete:function(F,C){if(F.type==="throw")throw F.arg;return F.type==="break"||F.type==="continue"?this.next=F.arg:F.type==="return"?(this.rval=this.arg=F.arg,this.method="return",this.next="end"):F.type==="normal"&&C&&(this.next=C),z},finish:function(F){for(var C=this.tryEntries.length-1;C>=0;--C){var J=this.tryEntries[C];if(J.finallyLoc===F)return this.complete(J.completion,J.afterLoc),Ne(J),z}},catch:function(F){for(var C=this.tryEntries.length-1;C>=0;--C){var J=this.tryEntries[C];if(J.tryLoc===F){var Y=J.completion;if(Y.type==="throw"){var R=Y.arg;Ne(J)}return R}}throw Error("illegal catch attempt")},delegateYield:function(F,C,J){return this.delegate={iterator:Ve(F),resultName:C,nextLoc:J},this.method==="next"&&(this.arg=n),z}},l}const D=function(n,l){return function(){var o=Kv(__().mark(function c(h){var m;return __().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,l();case 2:m=E.sent,h(n,m.default||m);case 4:case"end":return E.stop()}},c)}));return function(c){return o.apply(this,arguments)}}()},I0={abap:D("abap",function(){return A(()=>import("./abap-BF2zxER2.js").then(n=>n.a),[])}),abnf:D("abnf",function(){return A(()=>import("./abnf-DWfrqVLS.js").then(n=>n.a),[])}),actionscript:D("actionscript",function(){return A(()=>import("./actionscript-BJ906mnm.js").then(n=>n.a),[])}),ada:D("ada",function(){return A(()=>import("./ada-GrvgBh-A.js").then(n=>n.a),[])}),agda:D("agda",function(){return A(()=>import("./agda-7wR7Cujs.js").then(n=>n.a),[])}),al:D("al",function(){return A(()=>import("./al-DWHXOi9E.js").then(n=>n.a),[])}),antlr4:D("antlr4",function(){return A(()=>import("./antlr4-BHt5EC1y.js").then(n=>n.a),[])}),apacheconf:D("apacheconf",function(){return A(()=>import("./apacheconf-RlSN8K1A.js").then(n=>n.a),[])}),apex:D("apex",function(){return A(()=>import("./apex-DklXjLla.js").then(n=>n.a),__vite__mapDeps([0,1]))}),apl:D("apl",function(){return A(()=>import("./apl-dYr3_JY1.js").then(n=>n.a),[])}),applescript:D("applescript",function(){return A(()=>import("./applescript-i3Pp5DqQ.js").then(n=>n.a),[])}),aql:D("aql",function(){return A(()=>import("./aql-PL1RIx2q.js").then(n=>n.a),[])}),arduino:D("arduino",function(){return A(()=>import("./arduino-BZAb2px0.js").then(n=>n.a),__vite__mapDeps([2,3,4]))}),arff:D("arff",function(){return A(()=>import("./arff-CLIjr9OO.js").then(n=>n.a),[])}),asciidoc:D("asciidoc",function(){return A(()=>import("./asciidoc-CBgAWbcD.js").then(n=>n.a),[])}),asm6502:D("asm6502",function(){return A(()=>import("./asm6502-DMT-ygMk.js").then(n=>n.a),[])}),asmatmel:D("asmatmel",function(){return A(()=>import("./asmatmel-C4O3RBuB.js").then(n=>n.a),[])}),aspnet:D("aspnet",function(){return A(()=>import("./aspnet-OH6oTUBb.js").then(n=>n.a),__vite__mapDeps([5,6]))}),autohotkey:D("autohotkey",function(){return A(()=>import("./autohotkey-ChxUuqeG.js").then(n=>n.a),[])}),autoit:D("autoit",function(){return A(()=>import("./autoit-BwvMPTxw.js").then(n=>n.a),[])}),avisynth:D("avisynth",function(){return A(()=>import("./avisynth-JzQlCESy.js").then(n=>n.a),[])}),avroIdl:D("avroIdl",function(){return A(()=>import("./avro-idl-B3_21s3v.js").then(n=>n.a),[])}),bash:D("bash",function(){return A(()=>import("./bash-Di3j9rGj.js").then(n=>n.b),__vite__mapDeps([7,8]))}),basic:D("basic",function(){return A(()=>import("./basic-DEDeC-qL.js").then(n=>n.b),__vite__mapDeps([9,10]))}),batch:D("batch",function(){return A(()=>import("./batch-_vzLhezN.js").then(n=>n.b),[])}),bbcode:D("bbcode",function(){return A(()=>import("./bbcode-Zp6mAhk6.js").then(n=>n.b),[])}),bicep:D("bicep",function(){return A(()=>import("./bicep-EtO3DQ2W.js").then(n=>n.b),[])}),birb:D("birb",function(){return A(()=>import("./birb-K65rcX7j.js").then(n=>n.b),[])}),bison:D("bison",function(){return A(()=>import("./bison-LL5HgOvM.js").then(n=>n.b),__vite__mapDeps([11,4]))}),bnf:D("bnf",function(){return A(()=>import("./bnf-jb2V_E0n.js").then(n=>n.b),[])}),brainfuck:D("brainfuck",function(){return A(()=>import("./brainfuck-DpdD9B1w.js").then(n=>n.b),[])}),brightscript:D("brightscript",function(){return A(()=>import("./brightscript-BYJWYoxe.js").then(n=>n.b),[])}),bro:D("bro",function(){return A(()=>import("./bro-_nPQiGjy.js").then(n=>n.b),[])}),bsl:D("bsl",function(){return A(()=>import("./bsl-HvV4Bafz.js").then(n=>n.b),[])}),c:D("c",function(){return A(()=>import("./c-Bda8LCSz.js").then(n=>n.c),__vite__mapDeps([12,4]))}),cfscript:D("cfscript",function(){return A(()=>import("./cfscript-sbHw0GgM.js").then(n=>n.c),[])}),chaiscript:D("chaiscript",function(){return A(()=>import("./chaiscript-qq_GTG7t.js").then(n=>n.c),__vite__mapDeps([13,3,4]))}),cil:D("cil",function(){return A(()=>import("./cil-Diyc99a7.js").then(n=>n.c),[])}),clike:D("clike",function(){return A(()=>import("./clike-C5bRDEoJ.js").then(n=>n.c),__vite__mapDeps([14,15]))}),clojure:D("clojure",function(){return A(()=>import("./clojure-mkZWqHRc.js").then(n=>n.c),[])}),cmake:D("cmake",function(){return A(()=>import("./cmake-DTGSnVJF.js").then(n=>n.c),[])}),cobol:D("cobol",function(){return A(()=>import("./cobol-IpNfvC4M.js").then(n=>n.c),[])}),coffeescript:D("coffeescript",function(){return A(()=>import("./coffeescript-CF3b61Sv.js").then(n=>n.c),[])}),concurnas:D("concurnas",function(){return A(()=>import("./concurnas-BYPzFMq7.js").then(n=>n.c),[])}),coq:D("coq",function(){return A(()=>import("./coq-sTqclkTB.js").then(n=>n.c),[])}),cpp:D("cpp",function(){return A(()=>import("./cpp-CrY2NHJU.js").then(n=>n.c),__vite__mapDeps([16,3,4]))}),crystal:D("crystal",function(){return A(()=>import("./crystal-DHkHuG1a.js").then(n=>n.c),__vite__mapDeps([17,18]))}),csharp:D("csharp",function(){return A(()=>import("./csharp-BB8NoAQN.js").then(n=>n.c),__vite__mapDeps([19,6]))}),cshtml:D("cshtml",function(){return A(()=>import("./cshtml-D4HELg4Q.js").then(n=>n.c),__vite__mapDeps([20,6]))}),csp:D("csp",function(){return A(()=>import("./csp-B_vFKP1C.js").then(n=>n.c),[])}),cssExtras:D("cssExtras",function(){return A(()=>import("./css-extras-MVIQAOk_.js").then(n=>n.c),[])}),css:D("css",function(){return A(()=>import("./css-D3W2BVTk.js").then(n=>n.c),__vite__mapDeps([21,22]))}),csv:D("csv",function(){return A(()=>import("./csv-CRfyBdKr.js").then(n=>n.c),[])}),cypher:D("cypher",function(){return A(()=>import("./cypher-Bs-cT1zF.js").then(n=>n.c),[])}),d:D("d",function(){return A(()=>import("./d-DnjOgen7.js").then(n=>n.d),[])}),dart:D("dart",function(){return A(()=>import("./dart-Dw8fLefm.js").then(n=>n.d),[])}),dataweave:D("dataweave",function(){return A(()=>import("./dataweave-BdHRKqGW.js").then(n=>n.d),[])}),dax:D("dax",function(){return A(()=>import("./dax-DzVonHES.js").then(n=>n.d),[])}),dhall:D("dhall",function(){return A(()=>import("./dhall-BPqeUf6d.js").then(n=>n.d),[])}),diff:D("diff",function(){return A(()=>import("./diff-B3UwZ0aH.js").then(n=>n.d),[])}),django:D("django",function(){return A(()=>import("./django-BxHwQDYO.js").then(n=>n.d),__vite__mapDeps([23,24]))}),dnsZoneFile:D("dnsZoneFile",function(){return A(()=>import("./dns-zone-file-Cr4PBdgh.js").then(n=>n.d),[])}),docker:D("docker",function(){return A(()=>import("./docker-BJGIyWq8.js").then(n=>n.d),[])}),dot:D("dot",function(){return A(()=>import("./dot-Co9wGN5S.js").then(n=>n.d),[])}),ebnf:D("ebnf",function(){return A(()=>import("./ebnf-CMRIl9bM.js").then(n=>n.e),[])}),editorconfig:D("editorconfig",function(){return A(()=>import("./editorconfig-D7pK6aZS.js").then(n=>n.e),[])}),eiffel:D("eiffel",function(){return A(()=>import("./eiffel-C7u5wijU.js").then(n=>n.e),[])}),ejs:D("ejs",function(){return A(()=>import("./ejs-D5bAXa5L.js").then(n=>n.e),__vite__mapDeps([25,24]))}),elixir:D("elixir",function(){return A(()=>import("./elixir-BYBYGa5I.js").then(n=>n.e),[])}),elm:D("elm",function(){return A(()=>import("./elm-DJthOUWe.js").then(n=>n.e),[])}),erb:D("erb",function(){return A(()=>import("./erb-D2XAsGSH.js").then(n=>n.e),__vite__mapDeps([26,18,24]))}),erlang:D("erlang",function(){return A(()=>import("./erlang-BA6niAtK.js").then(n=>n.e),[])}),etlua:D("etlua",function(){return A(()=>import("./etlua-D2jJ3csN.js").then(n=>n.e),__vite__mapDeps([27,28,24]))}),excelFormula:D("excelFormula",function(){return A(()=>import("./excel-formula-14CAZX1k.js").then(n=>n.e),[])}),factor:D("factor",function(){return A(()=>import("./factor-CgSD4orM.js").then(n=>n.f),[])}),falselang:D("falselang",function(){return A(()=>import("./false-20wiG_jX.js").then(n=>n._),[])}),firestoreSecurityRules:D("firestoreSecurityRules",function(){return A(()=>import("./firestore-security-rules-CGzRwbnZ.js").then(n=>n.f),[])}),flow:D("flow",function(){return A(()=>import("./flow-DlJMNSh9.js").then(n=>n.f),[])}),fortran:D("fortran",function(){return A(()=>import("./fortran-C9BU0lMW.js").then(n=>n.f),[])}),fsharp:D("fsharp",function(){return A(()=>import("./fsharp-dFMs4W5q.js").then(n=>n.f),[])}),ftl:D("ftl",function(){return A(()=>import("./ftl-B88ftCxL.js").then(n=>n.f),__vite__mapDeps([29,24]))}),gap:D("gap",function(){return A(()=>import("./gap-qH4zP7nw.js").then(n=>n.g),[])}),gcode:D("gcode",function(){return A(()=>import("./gcode-BGZYU_-x.js").then(n=>n.g),[])}),gdscript:D("gdscript",function(){return A(()=>import("./gdscript-D58EROYH.js").then(n=>n.g),[])}),gedcom:D("gedcom",function(){return A(()=>import("./gedcom-C5DuPr75.js").then(n=>n.g),[])}),gherkin:D("gherkin",function(){return A(()=>import("./gherkin-Bes54MjA.js").then(n=>n.g),[])}),git:D("git",function(){return A(()=>import("./git-B9tLvbBm.js").then(n=>n.g),[])}),glsl:D("glsl",function(){return A(()=>import("./glsl-DrA_l47U.js").then(n=>n.g),__vite__mapDeps([30,4]))}),gml:D("gml",function(){return A(()=>import("./gml-DRvmkM9j.js").then(n=>n.g),[])}),gn:D("gn",function(){return A(()=>import("./gn-Cx_6f209.js").then(n=>n.g),[])}),goModule:D("goModule",function(){return A(()=>import("./go-module-BrIhz80x.js").then(n=>n.g),[])}),go:D("go",function(){return A(()=>import("./go-CffEdDDY.js").then(n=>n.g),[])}),graphql:D("graphql",function(){return A(()=>import("./graphql-CdTQ_MnR.js").then(n=>n.g),[])}),groovy:D("groovy",function(){return A(()=>import("./groovy-DCZbVpdU.js").then(n=>n.g),[])}),haml:D("haml",function(){return A(()=>import("./haml-bnl41UBV.js").then(n=>n.h),__vite__mapDeps([31,18]))}),handlebars:D("handlebars",function(){return A(()=>import("./handlebars-BSK9ZQue.js").then(n=>n.h),__vite__mapDeps([32,24]))}),haskell:D("haskell",function(){return A(()=>import("./haskell-BOl56y3_.js").then(n=>n.h),__vite__mapDeps([33,34]))}),haxe:D("haxe",function(){return A(()=>import("./haxe-CY7_TIm7.js").then(n=>n.h),[])}),hcl:D("hcl",function(){return A(()=>import("./hcl-2Y7tzoe4.js").then(n=>n.h),[])}),hlsl:D("hlsl",function(){return A(()=>import("./hlsl-BakH9EY9.js").then(n=>n.h),__vite__mapDeps([35,4]))}),hoon:D("hoon",function(){return A(()=>import("./hoon-pMswbRx3.js").then(n=>n.h),[])}),hpkp:D("hpkp",function(){return A(()=>import("./hpkp-CeDof83b.js").then(n=>n.h),[])}),hsts:D("hsts",function(){return A(()=>import("./hsts-99k-UYrY.js").then(n=>n.h),[])}),http:D("http",function(){return A(()=>import("./http-BJG0Ecxz.js").then(n=>n.h),[])}),ichigojam:D("ichigojam",function(){return A(()=>import("./ichigojam-T5MCKkyK.js").then(n=>n.i),[])}),icon:D("icon",function(){return A(()=>import("./icon-BICY-v1X.js").then(n=>n.i),[])}),icuMessageFormat:D("icuMessageFormat",function(){return A(()=>import("./icu-message-format-jMs7SqfN.js").then(n=>n.i),[])}),idris:D("idris",function(){return A(()=>import("./idris-DZdSl2Ez.js").then(n=>n.i),__vite__mapDeps([36,34]))}),iecst:D("iecst",function(){return A(()=>import("./iecst-DBEs9cLm.js").then(n=>n.i),[])}),ignore:D("ignore",function(){return A(()=>import("./ignore-dKLlVK0i.js").then(n=>n.i),[])}),inform7:D("inform7",function(){return A(()=>import("./inform7-CE1Wfwne.js").then(n=>n.i),[])}),ini:D("ini",function(){return A(()=>import("./ini-BKp7hx89.js").then(n=>n.i),[])}),io:D("io",function(){return A(()=>import("./io-DHJq2m2o.js").then(n=>n.i),[])}),j:D("j",function(){return A(()=>import("./j-C8dfEpa5.js").then(n=>n.j),[])}),java:D("java",function(){return A(()=>import("./java-Cb2aAmKq.js").then(n=>n.j),__vite__mapDeps([37,38]))}),javadoc:D("javadoc",function(){return A(()=>import("./javadoc-DOvEPGeh.js").then(n=>n.j),__vite__mapDeps([39,38,40]))}),javadoclike:D("javadoclike",function(){return A(()=>import("./javadoclike-CgA6owBo.js").then(n=>n.j),__vite__mapDeps([41,40]))}),javascript:D("javascript",function(){return A(()=>import("./javascript-aHlDw0ek.js").then(n=>n.j),__vite__mapDeps([42,43]))}),javastacktrace:D("javastacktrace",function(){return A(()=>import("./javastacktrace-DMxUDO7D.js").then(n=>n.j),[])}),jexl:D("jexl",function(){return A(()=>import("./jexl-DkXC58Rm.js").then(n=>n.j),[])}),jolie:D("jolie",function(){return A(()=>import("./jolie-DD-M5T1y.js").then(n=>n.j),[])}),jq:D("jq",function(){return A(()=>import("./jq-vsz4pwVA.js").then(n=>n.j),[])}),jsExtras:D("jsExtras",function(){return A(()=>import("./js-extras-zVTBlnbA.js").then(n=>n.j),[])}),jsTemplates:D("jsTemplates",function(){return A(()=>import("./js-templates-CqkzXUm5.js").then(n=>n.j),[])}),jsdoc:D("jsdoc",function(){return A(()=>import("./jsdoc-2_ggKAkb.js").then(n=>n.j),__vite__mapDeps([44,40,45]))}),json:D("json",function(){return A(()=>import("./json-BifMIUpV.js").then(n=>n.j),__vite__mapDeps([46,47]))}),json5:D("json5",function(){return A(()=>import("./json5-B69z_FAd.js").then(n=>n.j),__vite__mapDeps([48,47]))}),jsonp:D("jsonp",function(){return A(()=>import("./jsonp-BR7Q6n4z.js").then(n=>n.j),__vite__mapDeps([49,47]))}),jsstacktrace:D("jsstacktrace",function(){return A(()=>import("./jsstacktrace-DPlC6JiA.js").then(n=>n.j),[])}),jsx:D("jsx",function(){return A(()=>import("./jsx-BjlucYoA.js").then(n=>n.j),__vite__mapDeps([50,51]))}),julia:D("julia",function(){return A(()=>import("./julia-Crw4GdnX.js").then(n=>n.j),[])}),keepalived:D("keepalived",function(){return A(()=>import("./keepalived-Cb9mS0O9.js").then(n=>n.k),[])}),keyman:D("keyman",function(){return A(()=>import("./keyman-D5f5lUhy.js").then(n=>n.k),[])}),kotlin:D("kotlin",function(){return A(()=>import("./kotlin-HbnUJuoh.js").then(n=>n.k),[])}),kumir:D("kumir",function(){return A(()=>import("./kumir-CEnn-mTM.js").then(n=>n.k),[])}),kusto:D("kusto",function(){return A(()=>import("./kusto-C-NoS7nm.js").then(n=>n.k),[])}),latex:D("latex",function(){return A(()=>import("./latex-Dx5lGsod.js").then(n=>n.l),[])}),latte:D("latte",function(){return A(()=>import("./latte-WbvEmGL1.js").then(n=>n.l),__vite__mapDeps([52,24,53]))}),less:D("less",function(){return A(()=>import("./less-eSxqm41c.js").then(n=>n.l),[])}),lilypond:D("lilypond",function(){return A(()=>import("./lilypond-DbStNEjV.js").then(n=>n.l),__vite__mapDeps([54,55]))}),liquid:D("liquid",function(){return A(()=>import("./liquid-cmXy_I2Y.js").then(n=>n.l),__vite__mapDeps([56,24]))}),lisp:D("lisp",function(){return A(()=>import("./lisp-CAox2eGd.js").then(n=>n.l),[])}),livescript:D("livescript",function(){return A(()=>import("./livescript-CtRdRvo1.js").then(n=>n.l),[])}),llvm:D("llvm",function(){return A(()=>import("./llvm-DsAOwsw8.js").then(n=>n.l),[])}),log:D("log",function(){return A(()=>import("./log-nEg8Gdu6.js").then(n=>n.l),[])}),lolcode:D("lolcode",function(){return A(()=>import("./lolcode-BSrzYbaW.js").then(n=>n.l),[])}),lua:D("lua",function(){return A(()=>import("./lua-kh782c5P.js").then(n=>n.l),__vite__mapDeps([57,28]))}),magma:D("magma",function(){return A(()=>import("./magma-BBzpu57p.js").then(n=>n.m),[])}),makefile:D("makefile",function(){return A(()=>import("./makefile-Ddc0iFWv.js").then(n=>n.m),[])}),markdown:D("markdown",function(){return A(()=>import("./markdown-DNmflRlu.js").then(n=>n.m),[])}),markupTemplating:D("markupTemplating",function(){return A(()=>import("./markup-templating-e6oYMTsg.js").then(n=>n.m),__vite__mapDeps([58,24]))}),markup:D("markup",function(){return A(()=>import("./markup-rDWlxVzE.js").then(n=>n.m),__vite__mapDeps([59,60]))}),matlab:D("matlab",function(){return A(()=>import("./matlab-B1FMGYmN.js").then(n=>n.m),[])}),maxscript:D("maxscript",function(){return A(()=>import("./maxscript-C2K6_AEg.js").then(n=>n.m),[])}),mel:D("mel",function(){return A(()=>import("./mel-Ia9m3O_w.js").then(n=>n.m),[])}),mermaid:D("mermaid",function(){return A(()=>import("./mermaid-BPJKHll4.js").then(n=>n.m),[])}),mizar:D("mizar",function(){return A(()=>import("./mizar--gpmJwqM.js").then(n=>n.m),[])}),mongodb:D("mongodb",function(){return A(()=>import("./mongodb-D-OomxgS.js").then(n=>n.m),[])}),monkey:D("monkey",function(){return A(()=>import("./monkey-DmH13CDP.js").then(n=>n.m),[])}),moonscript:D("moonscript",function(){return A(()=>import("./moonscript-DNhn0vyc.js").then(n=>n.m),[])}),n1ql:D("n1ql",function(){return A(()=>import("./n1ql-CptF68ki.js").then(n=>n.n),[])}),n4js:D("n4js",function(){return A(()=>import("./n4js-DNrOedK6.js").then(n=>n.n),[])}),nand2tetrisHdl:D("nand2tetrisHdl",function(){return A(()=>import("./nand2tetris-hdl-B9h17c_B.js").then(n=>n.n),[])}),naniscript:D("naniscript",function(){return A(()=>import("./naniscript-CshoNF8d.js").then(n=>n.n),[])}),nasm:D("nasm",function(){return A(()=>import("./nasm-5i6fdxSV.js").then(n=>n.n),[])}),neon:D("neon",function(){return A(()=>import("./neon-C21XOHnJ.js").then(n=>n.n),[])}),nevod:D("nevod",function(){return A(()=>import("./nevod-DzHkmC1I.js").then(n=>n.n),[])}),nginx:D("nginx",function(){return A(()=>import("./nginx-uZQV61w5.js").then(n=>n.n),[])}),nim:D("nim",function(){return A(()=>import("./nim-BhCjGBOC.js").then(n=>n.n),[])}),nix:D("nix",function(){return A(()=>import("./nix-DQDa1sji.js").then(n=>n.n),[])}),nsis:D("nsis",function(){return A(()=>import("./nsis-Aak_qbLB.js").then(n=>n.n),[])}),objectivec:D("objectivec",function(){return A(()=>import("./objectivec-4eXpOmj7.js").then(n=>n.o),__vite__mapDeps([61,4]))}),ocaml:D("ocaml",function(){return A(()=>import("./ocaml-Dht1il9p.js").then(n=>n.o),[])}),opencl:D("opencl",function(){return A(()=>import("./opencl-Gw-SagW5.js").then(n=>n.o),__vite__mapDeps([62,4]))}),openqasm:D("openqasm",function(){return A(()=>import("./openqasm-C2i5Py8D.js").then(n=>n.o),[])}),oz:D("oz",function(){return A(()=>import("./oz-Dhz8QK_j.js").then(n=>n.o),[])}),parigp:D("parigp",function(){return A(()=>import("./parigp-BNQWdvHy.js").then(n=>n.p),[])}),parser:D("parser",function(){return A(()=>import("./parser-hE2tTHua.js").then(n=>n.p),[])}),pascal:D("pascal",function(){return A(()=>import("./pascal-U6IggUGj.js").then(n=>n.p),[])}),pascaligo:D("pascaligo",function(){return A(()=>import("./pascaligo-CCLxgxei.js").then(n=>n.p),[])}),pcaxis:D("pcaxis",function(){return A(()=>import("./pcaxis-DCy4XJAz.js").then(n=>n.p),[])}),peoplecode:D("peoplecode",function(){return A(()=>import("./peoplecode-CqHhH0LA.js").then(n=>n.p),[])}),perl:D("perl",function(){return A(()=>import("./perl-BtKJ5DGK.js").then(n=>n.p),[])}),phpExtras:D("phpExtras",function(){return A(()=>import("./php-extras-CDz1xDKN.js").then(n=>n.p),__vite__mapDeps([63,53,24]))}),php:D("php",function(){return A(()=>import("./php-CveM7V1j.js").then(n=>n.p),__vite__mapDeps([64,53,24]))}),phpdoc:D("phpdoc",function(){return A(()=>import("./phpdoc-BAa_UkZe.js").then(n=>n.p),__vite__mapDeps([65,53,24,40]))}),plsql:D("plsql",function(){return A(()=>import("./plsql-G99VdEo1.js").then(n=>n.p),__vite__mapDeps([66,1]))}),powerquery:D("powerquery",function(){return A(()=>import("./powerquery-DZFabMyw.js").then(n=>n.p),[])}),powershell:D("powershell",function(){return A(()=>import("./powershell-CJeXtLIB.js").then(n=>n.p),[])}),processing:D("processing",function(){return A(()=>import("./processing-CwgKk8Mr.js").then(n=>n.p),[])}),prolog:D("prolog",function(){return A(()=>import("./prolog-s1Rioy0F.js").then(n=>n.p),[])}),promql:D("promql",function(){return A(()=>import("./promql-ClncUg_Z.js").then(n=>n.p),[])}),properties:D("properties",function(){return A(()=>import("./properties-DC0Q5EhC.js").then(n=>n.p),[])}),protobuf:D("protobuf",function(){return A(()=>import("./protobuf-BTQf75Sd.js").then(n=>n.p),[])}),psl:D("psl",function(){return A(()=>import("./psl-DLOjPDGD.js").then(n=>n.p),[])}),pug:D("pug",function(){return A(()=>import("./pug-BHAMRYo2.js").then(n=>n.p),[])}),puppet:D("puppet",function(){return A(()=>import("./puppet-DEOr1gO4.js").then(n=>n.p),[])}),pure:D("pure",function(){return A(()=>import("./pure-DIKg15IR.js").then(n=>n.p),[])}),purebasic:D("purebasic",function(){return A(()=>import("./purebasic-2SjS5mB9.js").then(n=>n.p),[])}),purescript:D("purescript",function(){return A(()=>import("./purescript-DtVWqwLr.js").then(n=>n.p),__vite__mapDeps([67,34]))}),python:D("python",function(){return A(()=>import("./python-DqdHYX5o.js").then(n=>n.p),[])}),q:D("q",function(){return A(()=>import("./q-BhYNUuRF.js").then(n=>n.q),[])}),qml:D("qml",function(){return A(()=>import("./qml-5-MPjXfY.js").then(n=>n.q),[])}),qore:D("qore",function(){return A(()=>import("./qore-DmRvr7tF.js").then(n=>n.q),[])}),qsharp:D("qsharp",function(){return A(()=>import("./qsharp-Bp1ldIfz.js").then(n=>n.q),[])}),r:D("r",function(){return A(()=>import("./r-CfD1mLxw.js").then(n=>n.r),[])}),racket:D("racket",function(){return A(()=>import("./racket-Cw5uFthc.js").then(n=>n.r),__vite__mapDeps([68,55]))}),reason:D("reason",function(){return A(()=>import("./reason-Cstdiv2J.js").then(n=>n.r),[])}),regex:D("regex",function(){return A(()=>import("./regex-C08eVM07.js").then(n=>n.r),[])}),rego:D("rego",function(){return A(()=>import("./rego-DzBtvGAv.js").then(n=>n.r),[])}),renpy:D("renpy",function(){return A(()=>import("./renpy-Cjn_ss8O.js").then(n=>n.r),[])}),rest:D("rest",function(){return A(()=>import("./rest-Caxukqt1.js").then(n=>n.r),[])}),rip:D("rip",function(){return A(()=>import("./rip-jAoqeIxq.js").then(n=>n.r),[])}),roboconf:D("roboconf",function(){return A(()=>import("./roboconf-BE3blhYN.js").then(n=>n.r),[])}),robotframework:D("robotframework",function(){return A(()=>import("./robotframework-UxAKKcs6.js").then(n=>n.r),[])}),ruby:D("ruby",function(){return A(()=>import("./ruby-ylutRSFt.js").then(n=>n.r),__vite__mapDeps([69,18]))}),rust:D("rust",function(){return A(()=>import("./rust-dpLBGJOP.js").then(n=>n.r),[])}),sas:D("sas",function(){return A(()=>import("./sas-CecMKdyR.js").then(n=>n.s),[])}),sass:D("sass",function(){return A(()=>import("./sass-Bh3pQCsi.js").then(n=>n.s),[])}),scala:D("scala",function(){return A(()=>import("./scala-SahayJYt.js").then(n=>n.s),__vite__mapDeps([70,38]))}),scheme:D("scheme",function(){return A(()=>import("./scheme--JzlL52-.js").then(n=>n.s),__vite__mapDeps([71,55]))}),scss:D("scss",function(){return A(()=>import("./scss-mnYY27OQ.js").then(n=>n.s),[])}),shellSession:D("shellSession",function(){return A(()=>import("./shell-session-dXUEtq60.js").then(n=>n.s),__vite__mapDeps([72,8]))}),smali:D("smali",function(){return A(()=>import("./smali-sizAKZvz.js").then(n=>n.s),[])}),smalltalk:D("smalltalk",function(){return A(()=>import("./smalltalk-BjNIDxxL.js").then(n=>n.s),[])}),smarty:D("smarty",function(){return A(()=>import("./smarty-Cjy_flFS.js").then(n=>n.s),__vite__mapDeps([73,24]))}),sml:D("sml",function(){return A(()=>import("./sml-v61fZFrt.js").then(n=>n.s),[])}),solidity:D("solidity",function(){return A(()=>import("./solidity-D_rLTZ3O.js").then(n=>n.s),[])}),solutionFile:D("solutionFile",function(){return A(()=>import("./solution-file-BmK9p65v.js").then(n=>n.s),[])}),soy:D("soy",function(){return A(()=>import("./soy-BOpNhSuZ.js").then(n=>n.s),__vite__mapDeps([74,24]))}),sparql:D("sparql",function(){return A(()=>import("./sparql-3paWA0Lq.js").then(n=>n.s),__vite__mapDeps([75,76]))}),splunkSpl:D("splunkSpl",function(){return A(()=>import("./splunk-spl-DSdqqbc5.js").then(n=>n.s),[])}),sqf:D("sqf",function(){return A(()=>import("./sqf-DVVPXR_u.js").then(n=>n.s),[])}),sql:D("sql",function(){return A(()=>import("./sql-wcRbA4LZ.js").then(n=>n.s),__vite__mapDeps([77,1]))}),squirrel:D("squirrel",function(){return A(()=>import("./squirrel-R9SHtYhH.js").then(n=>n.s),[])}),stan:D("stan",function(){return A(()=>import("./stan-jl2hOAV1.js").then(n=>n.s),[])}),stylus:D("stylus",function(){return A(()=>import("./stylus-Bna8fqHJ.js").then(n=>n.s),[])}),swift:D("swift",function(){return A(()=>import("./swift-BC1goe91.js").then(n=>n.s),[])}),systemd:D("systemd",function(){return A(()=>import("./systemd-CTl_itXh.js").then(n=>n.s),[])}),t4Cs:D("t4Cs",function(){return A(()=>import("./t4-cs-C5mS7E82.js").then(n=>n.t),__vite__mapDeps([78,79,6]))}),t4Templating:D("t4Templating",function(){return A(()=>import("./t4-templating-orLIBLve.js").then(n=>n.t),__vite__mapDeps([80,79]))}),t4Vb:D("t4Vb",function(){return A(()=>import("./t4-vb-_-rcs3gZ.js").then(n=>n.t),__vite__mapDeps([81,79,82,10]))}),tap:D("tap",function(){return A(()=>import("./tap-_35mzlA4.js").then(n=>n.t),__vite__mapDeps([83,84]))}),tcl:D("tcl",function(){return A(()=>import("./tcl-B0V7urXA.js").then(n=>n.t),[])}),textile:D("textile",function(){return A(()=>import("./textile-DVvoR82I.js").then(n=>n.t),[])}),toml:D("toml",function(){return A(()=>import("./toml-C49DUh8G.js").then(n=>n.t),[])}),tremor:D("tremor",function(){return A(()=>import("./tremor-Bed6wmho.js").then(n=>n.t),[])}),tsx:D("tsx",function(){return A(()=>import("./tsx-BDOl6gPz.js").then(n=>n.t),__vite__mapDeps([85,51,45]))}),tt2:D("tt2",function(){return A(()=>import("./tt2-DPiAW0d5.js").then(n=>n.t),__vite__mapDeps([86,24]))}),turtle:D("turtle",function(){return A(()=>import("./turtle-L0hjfXqO.js").then(n=>n.t),__vite__mapDeps([87,76]))}),twig:D("twig",function(){return A(()=>import("./twig-D_GxnbWV.js").then(n=>n.t),__vite__mapDeps([88,24]))}),typescript:D("typescript",function(){return A(()=>import("./typescript-T0LSKpS5.js").then(n=>n.t),__vite__mapDeps([89,45]))}),typoscript:D("typoscript",function(){return A(()=>import("./typoscript-DAnm4Moh.js").then(n=>n.t),[])}),unrealscript:D("unrealscript",function(){return A(()=>import("./unrealscript-BQDZOsEl.js").then(n=>n.u),[])}),uorazor:D("uorazor",function(){return A(()=>import("./uorazor-DNwRbQi3.js").then(n=>n.u),[])}),uri:D("uri",function(){return A(()=>import("./uri-CrqeTUAX.js").then(n=>n.u),[])}),v:D("v",function(){return A(()=>import("./v-CUoQds70.js").then(n=>n.v),[])}),vala:D("vala",function(){return A(()=>import("./vala-CpKH-xJr.js").then(n=>n.v),[])}),vbnet:D("vbnet",function(){return A(()=>import("./vbnet-BsA2DUsi.js").then(n=>n.v),__vite__mapDeps([90,82,10]))}),velocity:D("velocity",function(){return A(()=>import("./velocity-CG06w4i1.js").then(n=>n.v),[])}),verilog:D("verilog",function(){return A(()=>import("./verilog-CF5lueeM.js").then(n=>n.v),[])}),vhdl:D("vhdl",function(){return A(()=>import("./vhdl-Cvueoj_3.js").then(n=>n.v),[])}),vim:D("vim",function(){return A(()=>import("./vim-CPIXyBFg.js").then(n=>n.v),[])}),visualBasic:D("visualBasic",function(){return A(()=>import("./visual-basic-rv5kBo4F.js").then(n=>n.v),[])}),warpscript:D("warpscript",function(){return A(()=>import("./warpscript-DqF8Vi08.js").then(n=>n.w),[])}),wasm:D("wasm",function(){return A(()=>import("./wasm-Dptzzhov.js").then(n=>n.w),[])}),webIdl:D("webIdl",function(){return A(()=>import("./web-idl-DVgW0hAv.js").then(n=>n.w),[])}),wiki:D("wiki",function(){return A(()=>import("./wiki-B6GNAYHq.js").then(n=>n.w),[])}),wolfram:D("wolfram",function(){return A(()=>import("./wolfram-CzzVwamo.js").then(n=>n.w),[])}),wren:D("wren",function(){return A(()=>import("./wren-Dux90-2m.js").then(n=>n.w),[])}),xeora:D("xeora",function(){return A(()=>import("./xeora-CelmuQhM.js").then(n=>n.x),[])}),xmlDoc:D("xmlDoc",function(){return A(()=>import("./xml-doc-DNjqi5bX.js").then(n=>n.x),[])}),xojo:D("xojo",function(){return A(()=>import("./xojo-XVWHvxNY.js").then(n=>n.x),[])}),xquery:D("xquery",function(){return A(()=>import("./xquery-CIV19I-K.js").then(n=>n.x),[])}),yaml:D("yaml",function(){return A(()=>import("./yaml-BLIZDLgz.js").then(n=>n.y),__vite__mapDeps([91,84]))}),yang:D("yang",function(){return A(()=>import("./yang-36W1FNy-.js").then(n=>n.y),[])}),zig:D("zig",function(){return A(()=>import("./zig-ByoYMDH7.js").then(n=>n.z),[])})},C0=S0({loader:function(){return A(()=>import("./core-Dicg7Vd2.js").then(l=>l.c),__vite__mapDeps([92,60,22,15,43])).then(function(l){return l.default||l})},isLanguageRegistered:function(l,o){return l.registered(o)},languageLoaders:I0,registerLanguage:function(l,o,c){return l.register(c)}}),w0="light";function k0(n){return{mode:w0,...n==null?void 0:n.theme}}function dt(n){var l=n;return function(o){var c=k0(o);let h=c.mode;return l[h]}}const O0=n=>{const l={theme:n};return{lineNumberColor:dt({light:"#383a42",dark:"#abb2bf"})(l),lineNumberBgColor:dt({light:"#fafafa",dark:"#282c34"})(l),backgroundColor:dt({light:"#fafafa",dark:"#282c34"})(l),textColor:dt({light:"#383a42",dark:"#abb2bf"})(l),substringColor:dt({light:"#e45649",dark:"#e06c75"})(l),keywordColor:dt({light:"#a626a4",dark:"#c678dd"})(l),attributeColor:dt({light:"#50a14f",dark:"#98c379"})(l),selectorAttributeColor:dt({light:"#e45649",dark:"#e06c75"})(l),docTagColor:dt({light:"#a626a4",dark:"#c678dd"})(l),nameColor:dt({light:"#e45649",dark:"#e06c75"})(l),builtInColor:dt({light:"#c18401",dark:"#e6c07b"})(l),literalColor:dt({light:"#0184bb",dark:"#56b6c2"})(l),bulletColor:dt({light:"#4078f2",dark:"#61aeee"})(l),codeColor:dt({light:"#383a42",dark:"#abb2bf"})(l),additionColor:dt({light:"#50a14f",dark:"#98c379"})(l),regexpColor:dt({light:"#50a14f",dark:"#98c379"})(l),symbolColor:dt({light:"#4078f2",dark:"#61aeee"})(l),variableColor:dt({light:"#986801",dark:"#d19a66"})(l),templateVariableColor:dt({light:"#986801",dark:"#d19a66"})(l),linkColor:dt({light:"#4078f2",dark:"#61aeee"})(l),selectorClassColor:dt({light:"#986801",dark:"#d19a66"})(l),typeColor:dt({light:"#986801",dark:"#d19a66"})(l),stringColor:dt({light:"#50a14f",dark:"#98c379"})(l),selectorIdColor:dt({light:"#4078f2",dark:"#61aeee"})(l),quoteColor:dt({light:"#a0a1a7",dark:"#5c6370"})(l),templateTagColor:dt({light:"#383a42",dark:"#abb2bf"})(l),deletionColor:dt({light:"#e45649",dark:"#e06c75"})(l),titleColor:dt({light:"#4078f2",dark:"#61aeee"})(l),sectionColor:dt({light:"#e45649",dark:"#e06c75"})(l),commentColor:dt({light:"#a0a1a7",dark:"#5c6370"})(l),metaKeywordColor:dt({light:"#383a42",dark:"#abb2bf"})(l),metaColor:dt({light:"#4078f2",dark:"#61aeee"})(l),functionColor:dt({light:"#383a42",dark:"#abb2bf"})(l),numberColor:dt({light:"#986801",dark:"#d19a66"})(l)}},Qg="inherit",K_="inherit",R0={fontSize:K_,fontFamily:Qg,lineHeight:20/12,padding:8},L0=n=>({fontSize:K_,lineHeight:20/14,color:n.lineNumberColor,backgroundColor:n.lineNumberBgColor,flexShrink:0,padding:8,textAlign:"right",userSelect:"none"}),Jv=n=>({key:{color:n.keywordColor,fontWeight:"bolder"},keyword:{color:n.keywordColor,fontWeight:"bolder"},"attr-name":{color:n.attributeColor},selector:{color:n.selectorTagColor},comment:{color:n.commentColor,fontFamily:Qg,fontStyle:"italic"},"block-comment":{color:n.commentColor,fontFamily:Qg,fontStyle:"italic"},"function-name":{color:n.sectionColor},"class-name":{color:n.sectionColor},doctype:{color:n.docTagColor},substr:{color:n.substringColor},namespace:{color:n.nameColor},builtin:{color:n.builtInColor},entity:{color:n.literalColor},bullet:{color:n.bulletColor},code:{color:n.codeColor},addition:{color:n.additionColor},regex:{color:n.regexpColor},symbol:{color:n.symbolColor},variable:{color:n.variableColor},url:{color:n.linkColor},"selector-attr":{color:n.selectorAttributeColor},"selector-pseudo":{color:n.selectorPseudoColor},type:{color:n.typeColor},string:{color:n.stringColor},quote:{color:n.quoteColor},tag:{color:n.templateTagColor},deletion:{color:n.deletionColor},title:{color:n.titleColor},section:{color:n.sectionColor},"meta-keyword":{color:n.metaKeywordColor},meta:{color:n.metaColor},italic:{fontStyle:"italic"},bold:{fontWeight:"bolder"},function:{color:n.functionColor},number:{color:n.numberColor}}),qv=n=>({fontSize:K_,fontFamily:Qg,background:n.backgroundColor,color:n.textColor,borderRadius:3,display:"flex",lineHeight:20/14,overflowX:"auto",whiteSpace:"pre"}),A0=n=>({'pre[class*="language-"]':qv(n),...Jv(n)}),D0=n=>({'pre[class*="language-"]':{...qv(n),padding:"2px 4px",display:"inline",whiteSpace:"pre-wrap"},...Jv(n)});function Qv(n={mode:"light"}){const l={...O0(n),...n};return{lineNumberContainerStyle:L0(l),codeBlockStyle:A0(l),inlineCodeStyle:D0(l),codeContainerStyle:R0}}const N0=Object.freeze([{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#","cs"],value:"csharp"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"XML",alias:["xml"],value:"xml"},{name:"HTML",alias:["html","htm"],value:"markup"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","sh","ksh","zsh"],value:"bash"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"],value:"delphi"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts","tsx"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"ObjectPascal",alias:["objectpascal"],value:"delphi"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"],value:"vbnet"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql","gql"],value:"graphql"}]),M0=n=>{if(!n)return"";const l=N0.find(o=>o.name===n||o.alias.includes(n));return l?l.value:n||"text"};class Y_ extends me.PureComponent{constructor(){super(...arguments),this._isMounted=!1}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}getLineOpacity(l){if(!this.props.highlight)return 1;const o=this.props.highlight.split(",").map(c=>{if(c.indexOf("-")>0){const[h,m]=c.split("-").map(Number).sort();return Array(m+1).fill(void 0).map((T,E)=>E).slice(h,m+1)}return Number(c)}).reduce((c,h)=>c.concat(h),[]);return o.length===0||o.includes(l)?1:.3}render(){const{inlineCodeStyle:l}=Qv(this.props.theme),c={language:M0(this.props.language),PreTag:this.props.preTag,style:this.props.codeStyle||l,showLineNumbers:this.props.showLineNumbers,startingLineNumber:this.props.startingLineNumber,codeTagProps:this.props.codeTagProps,wrapLongLines:this.props.wrapLongLines};return ze.createElement(C0,Object.assign({},c,{wrapLines:!!this.props.highlight,customStyle:this.props.customStyle,lineProps:h=>({style:{opacity:this.getLineOpacity(h),...this.props.lineNumberContainerStyle}})}),this.props.text)}}Y_.defaultProps={theme:{},showLineNumbers:!1,wrapLongLines:!1,startingLineNumber:1,lineNumberContainerStyle:{},codeTagProps:{},preTag:"span",highlight:"",customStyle:{}};const Zv="text";class J_ extends me.PureComponent{constructor(){super(...arguments),this._isMounted=!1,this.handleCopy=l=>{const o=l.nativeEvent.clipboardData;if(o){l.preventDefault();const c=window.getSelection();if(c===null)return;const h=c.toString(),m=`<!doctype html><html><head></head><body><pre>${h}</pre></body></html>`;o.clearData(),o.setData("text/html",m),o.setData("text/plain",h)}}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){var l,o,c,h;const{lineNumberContainerStyle:m,codeBlockStyle:T,codeContainerStyle:E}=Qv(this.props.theme),v={language:this.props.language||Zv,codeStyle:{...T,...(l=this.props)===null||l===void 0?void 0:l.codeBlockStyle},customStyle:(o=this.props)===null||o===void 0?void 0:o.customStyle,showLineNumbers:this.props.showLineNumbers,startingLineNumber:this.props.startingLineNumber,codeTagProps:{style:{...E,...(c=this.props)===null||c===void 0?void 0:c.codeContainerStyle}},lineNumberContainerStyle:{...m,...(h=this.props)===null||h===void 0?void 0:h.lineNumberContainerStyle},text:this.props.text.toString(),highlight:this.props.highlight,wrapLongLines:this.props.wrapLongLines};return ze.createElement(Y_,Object.assign({},v))}}J_.displayName="CodeBlock";J_.defaultProps={text:"",showLineNumbers:!0,wrapLongLines:!1,startingLineNumber:1,language:Zv,theme:{},highlight:"",lineNumberContainerStyle:{},customStyle:{},codeBlockStyle:{}};const q_=({size:n,color:l,...o})=>ze.createElement("svg",Object.assign({},o,{viewBox:"0 0 384 512",width:n,height:n,fill:l}),ze.createElement("path",{d:"M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"}));q_.displayName="ClipboardListIcon";q_.defaultProps={size:"16pt",color:"currentcolor"};const Q_=({size:n,color:l,...o})=>ze.createElement("svg",Object.assign({},o,{viewBox:"0 0 384 512",width:n,height:n,fill:l}),ze.createElement("path",{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}));Q_.displayName="ClipboardCheckIcon";Q_.defaultProps={size:"16pt",color:"currentcolor"};function x0({size:n,color:l,copied:o,...c}){return o?ze.createElement(Q_,Object.assign({},{color:l,size:n},c)):ze.createElement(q_,Object.assign({},{color:l,size:n},c))}const P0=()=>!!(typeof window<"u"&&window.document&&window.document.createElement),B0=()=>{const[n,l]=me.useState(!1);return me.useEffect(()=>{l(P0())},[]),{isBrowser:n,isServer:!n}},F0=()=>Math.random().toString(32).slice(2,10),dy=n=>{const l=document.createElement("div");return l.setAttribute("id",n),l},U0=(n=F0())=>{const l=`zeit-ui-${n}`,{isBrowser:o}=B0(),[c,h]=me.useState(o?dy(l):null);return me.useEffect(()=>{const m=document.querySelector(`#${l}`),T=m||dy(l);m||document.body.appendChild(T),h(T)},[]),c},hy={},H0=(n,l)=>{const c=`[Zeit UI]${` [${l}]`}: ${n}`;typeof console>"u"||hy[c]||(hy[c]=!0,console.warn(c))},V0={onError:()=>H0("Failed to copy.","use-clipboard")},G0=(n=V0)=>{const l=U0("clipboard"),o=(h,m)=>{if(!h||!m)return;const T=window.getSelection();if(!T)return;h.style.whiteSpace="pre",h.textContent=m;const E=window.document.createRange();T.removeAllRanges(),E.selectNode(h),T.addRange(E);try{window.document.execCommand("copy")}catch{n.onError&&n.onError()}T.removeAllRanges(),h&&(h.textContent="")};return{copy:me.useCallback(h=>{o(l,h)},[l])}},W0=Im.button`
  position: absolute;
  top: 0.5em;
  right: 0.75em;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  background: ${n=>n.theme.backgroundColor};
  margin-top: 0.15rem;
  border-radius: 0.25rem;
  max-height: 2rem;
  max-width: 2rem;
  padding: 0.25rem;
  &:hover {
    opacity: ${n=>n.copied?1:.5};
  }
  &:focus {
    outline: none;
    opacity: 1;
  }
  .icon {
    width: 1rem;
    height: 1rem;
  }
`,j0=Im.div`
  position: relative;
  background: ${n=>n.theme.backgroundColor};
  border-radius: 0.25rem;
  padding: ${n=>n.codeBlock?"0.25rem 0.5rem 0.25rem 0.25rem":"0.25rem"};
`;function z0({theme:n,text:l,codeBlock:o=!1,customStyle:c={},onCopy:h,copied:m,...T}){const[E,v]=me.useState(!!m),{copy:I}=G0(),M=w=>{I(l),h?h(w):v(!E)};return ze.createElement(j0,Object.assign({},{codeBlock:o},{style:c,theme:n}),o?ze.createElement(J_,Object.assign({text:l,theme:n},T)):ze.createElement(Y_,Object.assign({text:l,theme:n},T)),ze.createElement(W0,Object.assign({"aria-label":"Copy Code",type:"button",onClick:M},{theme:n,copied:E}),ze.createElement(x0,{color:E?n==null?void 0:n.stringColor:n==null?void 0:n.textColor,copied:E,className:"icon",size:"16pt"})))}var Vd=YA(z0);Im.div`
    position: relative;
    width: ${({width:n})=>n||"auto"};
    max-width: 100%;
    padding: 8pt;
    padding-right: calc(2 * 16pt);
    color: ${({style:n})=>n.color};
    background-color: ${({style:n})=>n.bgColor};
    border: 1px solid ${({style:n})=>n.border};
    border-radius: 5px;
  pre {
    margin: 0;
    padding: 0;
    border: none;
    background-color: transparent;
    color: ${({style:n})=>n.color};
    font-size: 0.8125rem;
  }
  pre::before {
    content: '$ ';
    user-select: none;
  }
  pre :global(*) {
    margin: 0;
    padding: 0;
    font-size: inherit;
    color: inherit;
  }
  .copy {
    position: absolute;
    right: 0;
    top: -2px;
    transform: translateY(50%);
    background-color: ${({style:n})=>n.bgColor};
    display: inline-flex;
    justify-content: center;
    align-items: center;
    width: calc(2 * 16pt);
    color: inherit;
    transition: opacity 0.2s ease 0s;
    border-radius: 5px;
    cursor: pointer;
    user-select: none;
  }
  .copy:hover {
    opacity: 0.7;
  }
`;function X0(){return N.jsxs(Wc,{title:"Moving back to state and props",date:"2025-01-22",children:[N.jsx("p",{children:"State and props, yay!  Here's a component that shows more if you click the button:"}),N.jsxs(l_,{children:[N.jsx("p",{children:"Check it out, here's the code for the component you just interacted with!!!"}),N.jsx(Vd,{text:`function ShowMore({children}) {
  const [show, setShow] = React.useState(false);

  return (
    <div>
      <button onClick={() => setShow(!show)}>
        {show ? 'Show Less' : 'Show More'}
      </button>
      {show && children}
    </div>
  ); 
}`,language:"jsx",showLineNumbers:!1,wrapLines:!0}),N.jsx("p",{children:"Cool syntax highlighting, right??"}),N.jsx("p",{children:"And here's how you would render it:"}),N.jsx(Vd,{text:`<ShowMore>
  <p>Content to show</p>
</ShowMore>`,language:"jsx",showLineNumbers:!1,wrapLines:!0})]})]})}function K0(){return N.jsx(Wc,{title:"Day Off",date:"2025-01-24",children:N.jsx("p",{children:"Today I took a day off to relax and unwind. It was a much-needed break!"})})}function Y0(){return N.jsxs(Wc,{title:"Demoing React Component that fetches data",date:"2025-01-27",children:[N.jsx("p",{children:"Today, I introduced the idea of fetching JSON into a React component.  Here's the code we wrote."}),N.jsx(Vd,{text:`function WeatherFetcher() {
  const [weather, setWeather] = React.useState(null);

  React.useEffect(() => {
    fetch('https://api.weather.gov/gridpoints/TOP/31,80/forecast')
      .then(response => response.json())
      .then(json => {
        console.log(json)
        setWeather(json)
      })
  }, []);

  return <>
    <h2>Weather Forecast</h2>
    <p>{
      weather === null
        ? 'Loading...'
        :
        weather.properties.periods.map((period, i) => <div>
          <img src={period.icon} alt={period.shortForecast} />
          <b>{period.name}</b>: {period.temperature}F
        </div>)
    }</p>
  </>
}
        `}),N.jsx("p",{children:"And here's what it does!"}),N.jsx(J0,{})]})}function J0(){const[n,l]=ze.useState(null);return ze.useEffect(()=>{fetch("https://api.weather.gov/gridpoints/TOP/31,80/forecast").then(o=>o.json()).then(o=>{console.log(o),l(o)})},[]),N.jsxs(N.Fragment,{children:[N.jsx("h2",{children:"Weather Forecast"}),N.jsx("p",{children:n===null?"Loading...":n.properties.periods.map((o,c)=>N.jsxs("div",{children:[N.jsx("img",{src:o.icon,alt:o.shortForecast}),N.jsx("b",{children:o.name}),": ",o.temperature,"F"]}))})]})}function q0(){return N.jsxs(Wc,{title:"Another component that fetches JSON",date:"2025-01-28",children:[N.jsx("p",{children:"Here's the code for a SpellBook component"}),N.jsx(Vd,{text:`function SpellBook() {
  const [spells, setSpells] = React.useState([])

  React.useEffect(() => {
    fetch("https://www.dnd5eapi.co/api/spells")
      .then((response) => {
        return response.json();
      })
      .then((data) => {
        setSpells(data.results)
      })
  }, [])

  return <>
    <p>Click below to see a list of DnD spells</p>
    <ShowMore>
    {
      spells.map((spell) => <div>{ spell.name }</div>)
    }
    </ShowMore>
  </>
}
        `}),N.jsx("p",{children:"And here's what it does when rendered!"}),N.jsx(Q0,{})]})}function Q0(){const[n,l]=ze.useState([]);return ze.useEffect(()=>{fetch("https://www.dnd5eapi.co/api/spells").then(o=>o.json()).then(o=>{l(o.results)})},[]),N.jsxs(N.Fragment,{children:[N.jsx("p",{children:"Click below to see a list of all DnD spells"}),N.jsx(l_,{children:n.map(o=>N.jsx("div",{children:o.name}))}),N.jsx("p",{children:"Click below to see a list of level-1 DnD spells"}),N.jsx(l_,{children:n.filter(o=>o.level==1).map(o=>N.jsx("div",{children:o.name}))})]})}function Z0(){const[n,l]=ze.useState(0);return N.jsxs(Wc,{title:"React explorations",date:"2025-01-28",children:[N.jsx("p",{children:"Demo of when state is in the parent component, but rendered/changed in the child components."}),N.jsx("p",{children:"For a fun time, press this button (and note that the number at the end of the blog post increments).  The point being, we can have one component that changes the state, and another (rendered far away) that renders that state."}),N.jsx(py,{count:n,setCount:l}),N.jsx("p",{children:"But now... deeper dive into the .map function"}),N.jsx(Vd,{text:`
        const arr = [1, 2, 3, 4, 5]
        arr.map((num) => num*2)
        // returns [2, 4, 6, 8, 10]
        
        let x = arr.map((num) => num*2)
                   .map((num) => num+1)

        // x is now [3, 5, 7, 9, 11]

        //These two are "equivalent" (in effect, not computation)
        let y = arr.map((num) => ("" + num))
                   .map((num) => parseInt(num))

        let y = arr      

        // y is now [1, 2, 3, 4, 5]

        let squares = arr.map((num) => <svg>
           <rect width={num*10} height={num*10} />
        </svg>)

      `,language:"javascript",showLineNumbers:!0,theme:"dracula",wrapLines:!0}),N.jsx("br",{}),N.jsx("br",{}),N.jsx("br",{}),N.jsx("p",{children:"Here's an interactive demonstration of how a humble list of numbers can be .mapped into a list of jsx elements, e.g. squares"}),N.jsx(py,{count:n,setCount:l}),N.jsx(eD,{max:n}),N.jsx("p",{children:"And... check it out!  The count variable controlled by the buttons up above is also being rendered here at the end of the blog post!"}),N.jsx("h1",{children:N.jsx(tD,{count:n})})]})}function eD({max:n}){const l=[];for(let c=1;c<=n;c++)l.push(c);const o=l.map(c=>N.jsx("div",{style:{width:c*10,height:c*10,border:"1px solid black",backgroundColor:"red"}}));return N.jsx(N.Fragment,{children:N.jsxs(Lw,{direction:"row",spacing:2,children:[N.jsx(Vd,{text:`
          ${JSON.stringify(l)}.map(
            (num) =>
              <div style={{
                width: num * 10,
                height: num * 10,
                border: "1px solid black",
                backgroundColor: "red"
              }} />
      `}),o]})})}function py({count:n,setCount:l}){return N.jsx(N.Fragment,{children:N.jsx("button",{onClick:()=>l(n+1),children:"Click me"})})}function tD({count:n}){return N.jsx(N.Fragment,{children:N.jsx("p",{children:n})})}function nD(){return N.jsx(_b,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:N.jsxs(_b,{display:"flex",flexDirection:"column",alignItems:"center",p:2,children:[N.jsx("h1",{children:"My Blog"}),N.jsx(Z0,{}),N.jsx(q0,{}),N.jsx(Y0,{}),N.jsx(K0,{}),N.jsx(X0,{}),N.jsx(KL,{}),N.jsx(Pk,{})]})})}KS.createRoot(document.getElementById("root")).render(N.jsx(me.StrictMode,{children:N.jsx(nD,{})}));export{NE as c,T_ as g};
